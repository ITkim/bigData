koreanair.Language=$('meta[http-equiv\x3d"Content-Language"]').attr("content");if(Granite.I18n&&!Granite.I18n.initialized())Granite.I18n.init({locale:koreanair.Language});koreanair.isKoreanSite=function(){return koreanair.region==="korea"};koreanair.WCM_MODES={DISABLED:"disabled",EDIT:"edit",PREVIEW:"preview",DESIGN:"design"};
if(typeof CQ==="undefined"||typeof CQ.WCM==="undefined")koreanair.WCM_MODE=koreanair.WCM_MODES.DISABLED;else if(CQ.WCM.isEditMode())koreanair.WCM_MODE=koreanair.WCM_MODES.EDIT;else if(CQ.WCM.isDesignMode())koreanair.WCM_MODE=koreanair.WCM_MODES.DESIGN;else if(CQ.WCM.isPreviewMode())koreanair.WCM_MODE=koreanair.WCM_MODES.PREVIEW;Hammer.defaults.stop_browser_behavior.touchAction="pan-y";$("html").addClass("desktop");
$(document).on("ready",function(){if(ixBand.ua.MSIE==true&&ixBand.ua.IE_VERSION==10&&ixBand.ua.DOC_MODE==10)$("html").addClass("ie10");if(location.host.toUpperCase().indexOf(Granite.I18n.get("common.control-server"))>=0&&location.href.indexOf("stg-intro.html")<0){var urlBase="";var locationPath=[];if(location.href)if(koreanair.isMobile)locationPath=location.href.replace("content/koreanair-mobile/","").replace("mobile/","").substr(0,location.href.length-5).split("/");else locationPath=location.href.replace("content/koreanair/",
"").substr(0,location.href.length-5).split("/");if(koreanair.isMobile)urlBase="/mobile/"+locationPath[3]+"/"+koreanair.Lang.replace("-","_")+"/stg-intro.html";else urlBase="/"+locationPath[3]+"/"+koreanair.Lang.replace("-","_")+"/stg-intro.html";var cValue=koreanair.Cookie.get("stg-intro");koreanair.ServiceApi.stgchk.post({dataType:"html",success:function(){if(cValue==null||cValue==""||cValue=="F"||sessionStorage.getItem("stg-intro")==null){sessionStorage.setItem("stg-intro",cValue);location.href=
urlBase}},error:function(jqXHR,textStatus){sessionStorage.setItem("stg-intro",cValue);location.href=urlBase}}).fail(_.bind(function(xhr,status,errorThrown){sessionStorage.setItem("stg-intro",cValue);location.href=urlBase},this))}});
(function(koreanair){var aop={beforeBehavior:function(classDef,functionName,before){var functionDef=classDef[functionName];classDef[functionName]=function(){before.apply(this,arguments);return functionDef.apply(this,arguments)}},afterBehavior:function(classDef,functionName,after){var functionDef=classDef[functionName];classDef[functionName]=function(){var latest=functionDef.apply(this,arguments);after.apply(this,arguments);return latest}},bothBehavior:function(classDef,functionName,beforeFunction,
afterFunction){if(beforeFunction)this.beforeBehavior(classDef,functionName,beforeFunction);if(afterFunction)this.afterBehavior(classDef,functionName,afterFunction)},wrapFunctions:function(classDef,beforeFunction,afterFunction){var x;for(x in classDef)if(typeof classDef[x]==="function"&&!_.contains(["on","off","once","trigger","stopListening","listenTo","listenToOnce","bind","unbind"],x))if(classDef.hasOwnProperty(x))this.bothBehavior(classDef,x,beforeFunction?beforeFunction(x):undefined,afterFunction?
afterFunction(x):undefined)},echo:function(text){return function(x){return function(){}}}};koreanair.aop=aop})(koreanair);
(function(_,Backbone){Backbone.deepInheritableProperties=["options","attributes","events","defaults","computeds","bindings","relations","routes"];var inherits=function(protoProps,staticProps){var parent=this;var child;if(protoProps&&_.has(protoProps,"constructor"))child=protoProps.constructor;else child=function(){return parent.apply(this,arguments)};_.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};Surrogate.prototype=parent.prototype;child.prototype=new Surrogate;
_.each(Backbone.deepInheritableProperties,function(key){protoProps[key]=_.extend({},child.prototype[key],protoProps[key])});if(protoProps)_.extend(child.prototype,protoProps);child.__super__=parent.prototype;return child};Backbone.Model.inherits=Backbone.Collection.inherits=Backbone.Router.inherits=Backbone.View.inherits=Backbone.History.inherits=inherits;Backbone.Epoxy.Model.inherits=Backbone.Epoxy.View.inherits=inherits})(_,Backbone);
(function(koreanair,_){var uiSource="ui";var codeRegex=/^-?(\d+|default)$/;var keyRegex=/^([^\s]*)?-(\d+|default)$/;var sourceCleanUpRegex=/^error-?/;function isDefined(value){return!_.isNull(value)&&!_.isUndefined(value)}function buildKey(source,code){var key=["error"];if(isDefined(source))key.push(source);if(isDefined(code))key.push(code);else key.push("default");return key.join("-")}function getMessage(source,code,defaultMessage){var message=null,keys=[],key=buildKey(source,code);if(koreanair.isMobile&&
(code==="66002"||code==="9200"||code==="9201"||code==="9207"||code==="A-9100"))keys.push("m_"+key);keys.push(key);keys.push(buildKey(source));keys.push(buildKey());_.each(keys,function(key){var msg;try{msg=Granite.I18n.get(key);if(msg==key)return true}catch(e){return true}message=msg;return false});if(!isDefined(message))message=defaultMessage;return _.isString(message)&&message!==""?message:key}function KoreanAirError(source,code,message){var err=_.find(arguments,function(arg){return arg instanceof
Error});var src=null,errCode=null,defaultMessage=null,isBlocking=false;var key,keyMatch;if(err){if(err instanceof KoreanAirError){_.extend(this,arguments[0]);return}key=_.find(arguments,function(arg){return typeof arg==="string"})||err.message}else key=arguments[0];if(arguments.length<3&&codeRegex.test(key)){src=uiSource;errCode=key;if(err&&err.message!==key)defaultMessage=err.message;else if(_.isString(arguments[1]))defaultMessage=arguments[1]}else if(codeRegex.test(code)){src=source;errCode=code;
defaultMessage=message}else if(typeof source==="object"&&_.has(source,"code")){src=source.source;errCode=source.code;defaultMessage=source.message;this.uuid=source.uuid;isBlocking=source.isBlocking}else if(keyRegex.test(key)){keyMatch=keyRegex.exec(key);src=keyMatch[1].replace(sourceCleanUpRegex,"")||uiSource;errCode=keyMatch[2];if(err&&err.message!==key)defaultMessage=err.message;else if(_.isString(arguments[1]))defaultMessage=arguments[1]}else{src=uiSource;errCode=null;if(err&&err.message)defaultMessage=
err.message;else if(_.isString(arguments[0]))defaultMessage=arguments[0]}if(_.isString(errCode)&&errCode.toLowerCase()==="default")errCode=null;this.source=isDefined(src)?src:null;this.code=isDefined(errCode)?errCode:null;this.key=buildKey(this.source,this.code);this.number=this.code;this.isBlocking=!!isBlocking;this.message=getMessage(this.source,this.code,defaultMessage);if(_.isString(defaultMessage))this.defaultMessage=defaultMessage;this.stack=err?err.stack:(new Error).stack}KoreanAirError.prototype=
new Error;KoreanAirError.prototype.constructor=KoreanAirError;KoreanAirError.name="KoreanAirError";koreanair.Error=KoreanAirError})(koreanair,_);
(function(_,Backbone,koreanair){koreanair.Model=Backbone.Epoxy.Model.extend({constructor:function(attributes,options){var args=_.toArray(arguments);var computedKeys=_.keys(this.computeds);var computeds=_.pick(args[0],computedKeys);args[0]=_.omit(args[0],computedKeys);Backbone.Epoxy.Model.prototype.constructor.apply(this,args);this.set(computeds,{})},getDeepCopy:function(attribute){return _.cloneDeep(this.get(attribute))},toJSON:function(options){var json={};_.each(this.attributes,function(value,key){if(value&&
_.isFunction(value.toJSON))json[key]=value.toJSON(options);else json[key]=value});if(options&&options.computed)_.each(this.c(),function(computed,key){var value=computed.value;if(value&&_.isFunction(value.toJSON))json[key]=value.toJSON(options);else json[key]=value});return json},clear:function(options){var relations=this.relations;_.each(relations,function(relation,relationKey){var property=this.get(relationKey);property.clear(options)},this);var attrs=_.reduce(this.attributes,function(memo,modelVal,
key){if(!_.has(relations,key))memo[key]=void 0;return memo},{},this);return this.set(attrs,_.extend({},options,{unset:true}))}})})(_,Backbone,koreanair);
(function(_,Backbone,koreanair){koreanair.Collection=Backbone.Collection.extend({clear:function(options){return this.reset([],options)},filterAsCollection:function(filterFun){var newSelf=new this.constructor;newSelf.add(this.filter(filterFun));return newSelf}})})(_,Backbone,koreanair);
(function(){var STORAGE_KEY="KE_STRG";koreanair.Router=Backbone.Router.extend({goTo:function(route,params){if(params)params=$.param(params);params=params?"?"+params:"";this.navigate(route+params,{trigger:true})},getParams:function(coerce){var doCoercision=arguments.length>0?coerce:true;return $.deparam(location.hash.substr(location.hash.indexOf("?")+1),doCoercision)},getSessionStorage:function(paramStrgKey){return koreanair.clientStorageManager?koreanair.clientStorageManager.session.getItem(STORAGE_KEY+
paramStrgKey):sessionStorage.getItem(STORAGE_KEY+paramStrgKey)},setSessionStorage:function(value){var strgTempKey=(new Date).getTime()+"-"+Math.round(Math.random()*1E3);if(koreanair.clientStorageManager)koreanair.clientStorageManager.session.setItem(STORAGE_KEY+strgTempKey,value);else sessionStorage.setItem(STORAGE_KEY+strgTempKey,value);return strgTempKey},clearSessionStorage:function(paramStrgKey){if(paramStrgKey)if(koreanair.clientStorageManager)koreanair.clientStorageManager.session.removeItem(STORAGE_KEY+
paramStrgKey);else sessionStorage.removeItem(STORAGE_KEY+paramStrgKey);else{var reg=new RegExp("^"+STORAGE_KEY+"\\d{13}-\\d","i");for(var key in sessionStorage)if(reg.test(key))if(koreanair.clientStorageManager)koreanair.clientStorageManager.session.removeItem(key);else sessionStorage.removeItem(key)}},transitionToNewStep:function(newStep){var fx=$.Deferred();newStep.$el.fadeIn(function(){fx.resolve()});if(this.currentStep){var oldStep=this.currentStep;this.currentStep.$el.fadeOut(function(){oldStep.stopListening()})}this.currentStep=
newStep;return fx.promise()}})})();
(function(_,Backbone,koreanair){var valuePattern=/(value|checked)\s*:\s*([^\s]+)/;function setSource(source,attrs,defaultValue){var length=attrs?attrs.length:0,attr,model;if(length===0)return;attr=attrs[0];model=source.get(attr);if(length===1){if(!model)source.set(attr,defaultValue);return source}else if(!model||model===defaultValue){model=new koreanair.Model;source.set(attr,model)}return setSource(model,_.last(attrs,length-1))}function defaultSources(sources,bindings){if(_.isEmpty(bindings))return sources;
sources=sources||{};_.each(bindings,function(value,key){var matches=valuePattern.exec(value),attrs,attr,model,length,defaultValue;if(!matches)return true;defaultValue=matches[1]==="checked"?false:"";attrs=matches[2].split("_");attr=attrs[0];length=attrs.length;model=sources[attr];if(!model){if(length===1){sources[attr]=defaultValue;return true}model=new koreanair.Model;sources[attr]=model}setSource(model,_.last(attrs,length-1),defaultValue)});return sources}var _randomIdCount=0;koreanair.View=Backbone.Epoxy.View.extend({renderFormElements:function(){koreanair.CustomForms.render(this.$el)},
applyBindings:function(){this.bindingSources=defaultSources(this.bindingSources,this.bindings);Backbone.Epoxy.View.prototype.applyBindings.apply(this,arguments)},randomId:function(){return"KE"+(new Date).getTime()+"-"+_randomIdCount++}})})(_,Backbone,koreanair);
(function(I18n){var companionsSearch=null;function getPassengerType(dob,isDomestic,baseDate){if(!dob)return koreanair.Booking.PASSENGER_TYPE_CODES.ADULT;var date=baseDate?moment(baseDate):moment();var age=date.diff(moment(dob),"years");if(age<2)return koreanair.Booking.PASSENGER_TYPE_CODES.INFANT;if(age<12||isDomestic&&age<13)return koreanair.Booking.PASSENGER_TYPE_CODES.CHILD;return koreanair.Booking.PASSENGER_TYPE_CODES.ADULT}var Skypass=koreanair.Model.inherits({relations:{},defaults:{passengers:{user:null,
family:null,companions:null}},computeds:{},authenticated:function(){if(koreanair.isMobile)return this.get("passengers").user?true:false;else return koreanair.Login.authenticated.state()==="resolved"},getFamilyMemberMiles:function(){var result={};_.each(this.get("passengers").family,function(familyMember,id){if(familyMember.skypassMiles>0)result[id]=familyMember.skypassMiles});return result},_parseMiles:function(miles){return parseInt(miles)||0},getTotalFamilyMemberMiles:function(){var self=this;var mileage=
[];var poolingFamily=_.filter(this.get("passengers").family,function(family){return family.familyPooling=="P"&&(family.skypassMemberStatusCode&&family.skypassMemberStatusCode.toUpperCase()!="SLEEPING")});if(poolingFamily!=null&&poolingFamily.length>4){_.each(poolingFamily,function(family){mileage.push(self._parseMiles(family.skypassMiles))});return _.reduce(_.last(_.sortBy(mileage),4),function(memo,mile){return memo+mile},0)}else return _.reduce(poolingFamily,function(memo,family){return memo+self._parseMiles(family.skypassMiles)},
0)},getUserMiles:function(){if(this.getUserStatusCode()&&this.getUserStatusCode().toUpperCase()!="SLEEPING")return this._parseMiles(this.get("passengers").user.skypassMiles);else return 0},getTotalMiles:function(){return this.getTotalFamilyMemberMiles()+this.getUserMiles()},getUserSkypass:function(){return this.get("passengers").user.skypassNumber},getUserOldSkypass:function(){return this.get("passengers").user.legacySkypassNumber},getUserPermanetCode:function(){return this.get("passengers").user.permanentDiscountPtc},
getUserStatusCode:function(){return this.get("passengers").user.skypassMemberStatusCode},getUserName:function(){return this.get("passengers").user.firstName},getUserID:function(){return this.get("passengers").user.userId},getUserData:function(){return JSON.stringify(this.get("passengers").user)},getUserMemberLevel:function(){var rt="";$.ajax({url:"/api/skypass/profile/memberOverviewLevelInfo",async:false,method:"POST",success:function(data){rt=JSON.stringify(data)}});return rt},getUserBySkypassNumber:function(skypassNumber){var userAndFamily=
this.get("passengers").family.concat(this.get("passengers").user);return(new Backbone.Collection(userAndFamily)).findWhere({"skypassNumber":skypassNumber}).toJSON()},getCompanions:function(){if(companionsSearch)return companionsSearch;companionsSearch=koreanair.ServiceApi.skypassCompanions.get({success:_.bind(function(skypassCompanionData){_.merge(this.get("passengers"),skypassCompanionData)},this),error:function(err){if(err.responseJSON.message=="EXT0002|External System Exception|External System connection error")return this.companionData=
{"companions":[],"family":[],"user":{}}}});return companionsSearch},filterCompanions:function(passengerType,isDomestic,baseDate,companions){var passengers=companions||this.get("passengers");var companions=[passengers.user].concat(passengers.family).concat(passengers.companions);var type=(passengerType||"").toLowerCase();if(!passengerType)return companions;var infantCount=0;return _.filter(companions,_.bind(function(passenger){if(!passenger)return false;if(!passenger.skypassNumber)return false;if(!passenger.dateOfBirth)return true;
if(!passenger.type)passenger.type=getPassengerType(passenger.dateOfBirth,isDomestic,baseDate);if(type===koreanair.Booking.PASSENGER_TYPE_CODES.CHILD.toLowerCase())if(passenger.type.toLowerCase()===koreanair.Booking.PASSENGER_TYPE_CODES.INFANT.toLowerCase()){infantCount++;passenger.infantNo=infantCount}return type===koreanair.Booking.PASSENGER_TYPE_CODES.CHILD.toLowerCase()?passenger.type.toLowerCase()===type||passenger.type.toLowerCase()===koreanair.Booking.PASSENGER_TYPE_CODES.INFANT.toLowerCase():
passenger.type.toLowerCase()===type},this))},checkAvailableMiles:function(itinerary){var txt=this.getInsufficientMilesMessage(itinerary);if(txt){if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:txt,buttonStyle:1,confirmButtonLable:I18n.get("confirm-label")});else koreanair.Modal.alert(txt,{ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});return true}else return false},getInsufficientMilesMessage:function(itinerary){var deferred=$.Deferred();console.log("skypass 마일리지 체크@@@@");
var total=0;if(itinerary.get("isReissue"))_.each(itinerary.get("fareDetails").toJSON(),function(list){total+=list.totalCollectMiles});else _.each(itinerary.get("fareDetails").toJSON(),function(list){total+=list.awardTotal});if(!itinerary.get("isSTA")&&itinerary.get("travellers").length===1&&this.familyPlanTravellerCheck(itinerary)&&this.getUserMiles()<total){var ownMiles=0,familyCode=[];if(itinerary.get("isReissue")){ownMiles=this.getUserMiles();var familyMemberList=_.uniq(itinerary.get("familyMemberMiles"),
"familyCode");_.each(familyMemberList,function(family){familyCode.push(family.familyCode)});_.each(this.get("passengers").family,_.bind(function(family){_.each(familyCode,_.bind(function(code){if(family.familyCode===code&&family.familyPooling==="P"&&family.skypassMemberStatusCode.toUpperCase()!="SLEEPING")ownMiles+=this._parseMiles(family.skypassMiles)},this))},this));console.log("재발행 합산 가족 코드 리스트\x3e\x3e",familyCode)}else ownMiles=this.getTotalMiles();console.log("합산 CASE..");console.log("가족\x3e\x3e"+
ownMiles,"공제 마일리지\x3e\x3e",total);if(ownMiles<total)return itinerary.get("isReissue")?I18n.get("insufficient-miles-reissue-label"):I18n.get("insufficient-miles-family-label")+I18n.get("insufficient-miles-flights-label")}else{console.log("양도 CASE..");console.log("본인\x3e\x3e"+this.getUserMiles(),"공제 마일리지\x3e\x3e",total);if(this.getUserMiles()<total)if(itinerary.get("isSTA"))return I18n.get("insufficient-miles-STA-label");else return I18n.get("insufficient-miles-user-label")+I18n.get("insufficient-miles-flights-label")}return undefined},
familyPlanTravellerCheck:function(itinerary){return itinerary.get("travellers").some(_.bind(function(traveller){return traveller.get("frequentFlyerNumber")==this.getUserSkypass()||this.getUserOldSkypass()&&traveller.get("frequentFlyerNumber")==this.getUserOldSkypass()||traveller.get("membershipNumber")==this.getUserSkypass()},this))},familyPlanCheck:function(itinerary){var total=0;console.log("itinerary",itinerary);if(itinerary.get("isReissue")||itinerary.get("isUpgrade"))_.each(itinerary.get("fareDetails").toJSON(),
function(list){total+=list.totalCollectMiles});else _.each(itinerary.get("fareDetails").toJSON(),function(list){total+=list.awardTotal});if(itinerary.get("travellers").length===1&&this.familyPlanTravellerCheck(itinerary)&&this.getUserMiles()<total)return true;else return false},isAvailablePaymentFamilyPlan:function(itinerary){if(itinerary.get("award"))if(this.familyPlanCheck(itinerary))if(itinerary.get("familyMemberMiles"))return true;else return false;else return true;else return true},isSkypassActive:function(){if(this.getUserStatusCode()&&
this.getUserStatusCode().toUpperCase()=="SLEEPING")return false;return true},skypassStatusCheck:function(){if(this.isSkypassActive())return true;else{koreanair.utils.legalPopups.skypassDormancyPopup();return false}},isDormancyFamily:function(familyList){return _.some(familyList,_.bind(function(family){return family.skypassMemberStatusCode.toUpperCase()=="SLEEPING"}),this)}});Skypass.getPassengerType=getPassengerType;koreanair.BookingModel.Skypass=Skypass})(Granite.I18n);
(function(koreanair){koreanair.Colors={keWhite:"#FFFFFF",keBlack:"#000000",keLtBlue:"#7ED0E0",keDkBlue:"#002269",keBlue:"#00328C",keRed:"#D42A1D",keIBlue1:"#1F8CAA",keIGray1:"#EAEAE9",keIGray2:"#A1A1A1",keIGray3:"#858485",keIGray4:"#878383",keIGray5:"#6B6969",keIGray6:"#434343",keIGray7:"#241C1E",keIAlert:"#D80A0A"}})(koreanair);
(function(moment,numeral,_,Handlebars,koreanair){Handlebars.registerHelper("tripTime",function(trip,options){if(window.moment){var format=options.hash.format||"h:mma";var departure=moment.withZone(trip.departure);var arrival=moment.withZone(trip.arrival);trip=departure.format(format)+" - "+arrival.format(format)}return trip});Handlebars.registerHelper("consoleLog",function(options){console.log(options)});Handlebars.registerHelper("lowercase",function(options){return options.toLowerCase()});Handlebars.registerHelper("jsConstant",
function(options){var fun=eval;return fun(options)});Handlebars.registerHelper("linkCompare",function(link,domestic,options){var fun=eval;if(koreanair.Lang==="ko"&&!domestic)return"/content/koreanair/korea/ko/booking/checkedBaggage.html";else return fun(link)});Handlebars.registerHelper("calculateStops",function(trip){return trip.flights.length-1});Handlebars.registerHelper("ifEven",function(conditional,options){if(conditional%2===0)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("ifOdd",
function(conditional,options){if(conditional%2!==0)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("calculateLayover",function(bound,currentIndex,options){var arrivalMoment=moment(bound.flights[currentIndex-1].arrival),departureMoment=moment(bound.flights[currentIndex].departure);var layoverTime=arrivalMoment.timeDiff(departureMoment),hours=layoverTime.hours,minutes=layoverTime.minutes,source="flight-duration-label {0} {1}",params=[hours,minutes];return new Handlebars.SafeString(Granite.I18n.get(source,
params))});Handlebars.registerHelper("loggedIn",function(options){if(koreanair.skypass.authenticated())return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("notLoggedIn",function(options){if(!koreanair.skypass.authenticated())return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("ifNotWindows",function(options){if(!navigator||!navigator.appVersion)return"";if(navigator.appVersion.indexOf("Win")===-1)return options.fn(this);else return options.inverse(this)});
Handlebars.registerHelper("undefToZero",function(possibleNumber,options){if(possibleNumber===undefined)return 0;return possibleNumber});Handlebars.registerHelper("undefToZeroWithComma",function(possibleNumber,options){if(possibleNumber===undefined)return 0;return possibleNumber.toString().indexOf(".")>-1?numeral(possibleNumber).format("0,0.00"):numeral(possibleNumber).format("0,0")});Handlebars.registerHelper("reservationSearch",function(conditional,options){options=arguments[arguments.length-1];
var GetURLParameter=function(sParam){var sPageURL=window.location.hash.substring(1);var sURLVariables=sPageURL.split("?");for(var i=0;i<sURLVariables.length;i++){var sParameterName=sURLVariables[i].split("\x3d");if(sParameterName[0]===sParam)return sParameterName[1]}};var isOnHoldPurchase=function(){var path=window.location.pathname,pathSplit=path.split("/");var lastSplit=pathSplit[pathSplit.length-1];if(lastSplit==="on-hold-purchase.html")return true};var searchType=GetURLParameter("reservationCode");
if(searchType&&searchType.length===6&&!isOnHoldPurchase)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("flightDurationCompund",function(departure,arrival,options){var duration;if(window.moment){var departureMoment=moment.withZone(departure);var arrivalMoment=moment.withZone(arrival);duration=departureMoment.timeDiff(arrivalMoment)}var hours=duration.hours;var minutes=duration.minutes;var source="flight-duration-label {0} {1}";var params=[hours,minutes];return new Handlebars.SafeString(Granite.I18n.get(source,
params))});Handlebars.registerHelper("tripTimeSingle",function(timeValue,options){if(window.moment){var format=options.hash.format||"h:mma";var time=moment.withZone(timeValue);timeValue=time.format(format)}return timeValue});Handlebars.registerHelper("cardCompany",function(timeValue,options){if(window.moment){var format=options.hash.format||"h:mma";var time=moment.withZone(timeValue);timeValue=time.format(format)}return timeValue});var formatDate=function(date,options,format){var formatted=date,_date;
if(koreanair.Lang==="ru")if(format==="MMM Do")format="Do MMM";else if(format==="MMMM Do")format="Do MMMM";if(koreanair.Lang==="fr")format=format.replace(", "," ");if(window.moment){if(options.hash&&options.hash.withZone)_date=moment.withZone(date);else _date=moment(date);formatted=_date?_date.format(format):""}return formatted};Handlebars.registerHelper("dateFormatLocal",function(date,options){var formatString=koreanair.DateFormat.date;var format=_.isEmpty(formatString)?"MMM Do, YYYY":formatString;
return formatDate(date,options,format)});Handlebars.registerHelper("flightDateFormatLocal",function(date,options){var format=options.hash.format||"MMM DD, YYYY";var daySuffix=koreanair.DateFormat.daySuffix;if(koreanair.Lang==="ru"||koreanair.Lang==="fr")format=format.replace("MMMM Do","Do MMMM");if(!_.isEmpty(daySuffix));return formatDate(date,options,format)});Handlebars.registerHelper("effectiveDateFormat",function(str,options){var _monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep",
"Oct","Nov","Dec"];var _ptrn=/^([12][0-9]{3})(0[1-9]|1[0-2])([0-2][1-9]|3[01])$/;var _result=_ptrn.exec(str);if(!!_result&&_result.length==4){var _aDate=_result.splice(1,3);var _rDate=new Date(_aDate.join("-"));if(!!_rDate)return _rDate.getDate()+_monthsShort[_rDate.getMonth()]+_rDate.getYear().toString().slice(1,3);else return""}else return""});Handlebars.registerHelper("tripTimeLocalized",function(trip,options){var format=koreanair.DateFormat.time;if(window.moment){var departure=formatDate(trip.departure,
options,format);var arrival=formatDate(trip.arrival,options,format);trip=departure+" - "+arrival}return trip});Handlebars.registerHelper("reFundTripTimeLocalized",function(trip,options){var format=koreanair.DateFormat.time;if(window.moment){var departure=formatDate(trip.departure,options,format);var arrival=formatDate(trip.arrival,options,format);trip=departure+" - "+arrival}return trip});Handlebars.registerHelper("timeFormatLocal",function(time,options){if(_.isUndefined(time))return"-";var formatString=
koreanair.DateFormat.time;var format=_.isEmpty(formatString)?"h:mma":formatString;return formatDate(time,options,format)});Handlebars.registerHelper("datetimeFormatLocal",function(datetime,options){if(_.isUndefined(datetime))return"-";var formatString=options.hash.format||koreanair.DateFormat.time;var format=_.isEmpty(formatString)?"h:mma":formatString;var fmtDatetime=datetime.substr(0,4)+"-"+datetime.substr(4,2)+"-"+datetime.substr(6,2)+"T"+datetime.substr(8,2)+":"+datetime.substr(10,2)+":00.000+09:00";
return formatDate(fmtDatetime,options,format)});Handlebars.registerHelper("dateFormat",function(date,options){if(_.isUndefined(date))return"";var format=options.hash.format||"MMM DD, YYYY h:mm:ssa";return formatDate(date,options,format)});Handlebars.registerHelper("dateStringChange",function(sourceString,sourceFormat,targetFormat){var sourceDate=moment(sourceString,sourceFormat).toDate();return moment(sourceDate).format(targetFormat)});Handlebars.registerHelper("mobileIs",function(condition,options){if(Boolean(koreanair.isMobile)===
condition)return options.fn(this)});Handlebars.registerHelper("barCodeUrl",function(encodedData,barCodeType,options){encodedData=encodeURIComponent(encodedData||"no data supplied");barCodeType=encodeURIComponent(barCodeType||"");var height=options.hash.height?"\x26height\x3d"+options.hash.height:"";var width=options.hash.width?"\x26width\x3d"+options.hash.width:"";var alt=options.hash.alt||Granite.I18n.get("barcode-image-sample");return new Handlebars.SafeString('\x3cimg class\x3d"barcode barcode-img barcode-'+
barCodeType+'"'+' src\x3d"/api/checkin/boarding/barcode?encodedData\x3d'+encodedData+"\x26codeType\x3d"+barCodeType+width+height+'" alt\x3d"'+alt+'"\x3e')});Handlebars.registerHelper("passengerNumber",function(number,options){if(window.moment){var f=options.hash.format||"D";var adjustedNumber=number+1;number=numeral(adjustedNumber).format(f)}return number});Handlebars.registerHelper("detectedPassengerName",function(firstName,lastName,options){var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;
var isKorean=allKorean.test(firstName+lastName);if(isKorean)return lastName+""+firstName;return lastName+"/"+firstName});Handlebars.registerHelper("detectedPassengerNameKRWithSpan",function(firstName,lastName,options){var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(firstName+lastName);if(isKorean)return new Handlebars.SafeString('\x3cspan lang\x3d"ko"\x3e'+lastName+firstName+"\x3c/span\x3e");return lastName+
"/"+firstName});Handlebars.registerHelper("koEnNameMile",function(firstName,lastName,options){var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(firstName+lastName);if(isKorean)return new Handlebars.SafeString('\x3cspan lang\x3d"ko"\x3e'+Granite.I18n.get("logo-mall-user-name",[lastName+firstName])+"\x3c/span\x3e");return Granite.I18n.get("logo-mall-user-name",[lastName+"/"+firstName])});Handlebars.registerHelper("refundPassengerName",
function(firstName,lastName,options){var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(firstName+lastName);if(isKorean)return new Handlebars.SafeString('\x3cspan lang\x3d"ko"\x3e'+lastName+firstName+"\x3c/span\x3e");return lastName+"/"+firstName});Handlebars.registerHelper("passengerName",function(traveller,isUppercase){var result="";if(!!traveller){var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;
var isKorean=allKorean.test(traveller.firstName+traveller.lastName);if(isKorean){result=traveller.lastName+traveller.firstName;return result}else result=traveller.lastName+"/"+traveller.firstName}return isUppercase?result.toUpperCase():result});Handlebars.registerHelper("fullNameFamily",function(family){var result="";var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(family.lastName+family.firstName);if(isKorean)result=
family.lastName+family.firstName;else result=family.lastName+"/"+family.firstName;return result});Handlebars.registerHelper("fullNameUser",function(user){var result="";var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(user.lastName+user.firstName);if(isKorean)result=user.lastName+user.firstName;else result=user.lastName+"/"+user.firstName;return result});Handlebars.registerHelper("fullPassengerName",function(traveller,
_options){var result="",titleStr="",isKorean=false,_enSplitter=" ";var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var options=_options&&_options.hash?_.pick(_options.hash,"isInternational","isInfant","withTitle","withLang"):_options||{};if(options.isInfant){if(options.withTitle)titleStr='\x26nbsp;\x3cspan aria-hidden\x3d"true"\x3e-\x3c/span\x3e\x26nbsp;'+Granite.I18n.get("infant-label");if(options.isInternational){isKorean=false;if(traveller.infanLastName)result=
(traveller.infanLastName+_enSplitter+traveller.infantFirstName).toUpperCase();else if(traveller.passengerLastName)result=(traveller.passengerLastName+_enSplitter+traveller.passengerFirstName).toUpperCase();else result=(traveller.lastName+_enSplitter+traveller.firstName).toUpperCase()}else if(traveller.infantKoreaLastName){isKorean=true;result=traveller.infantKoreaLastName+traveller.infantKoreaFirstName}else if(traveller.infantLastName)result=(traveller.infantLastName+_enSplitter+traveller.infantFirstName).toUpperCase();
else if(traveller.passengerKoreaLastName){isKorean=true;result=traveller.passengerKoreaLastName+traveller.passengerKoreaFirstName}else if(traveller.passengerLastName){isKorean=allKorean.test(traveller.passengerLastName+traveller.passengerFirstName);if(isKorean)result=traveller.passengerLastName+traveller.passengerFirstName;else result=(traveller.passengerLastName+_enSplitter+traveller.passengerFirstName).toUpperCase()}else{isKorean=allKorean.test(traveller.firstName+traveller.lastName);if(isKorean)result=
traveller.lastName+traveller.firstName;else result=((traveller.lastName||"")+_enSplitter+(traveller.firstName||"")).toUpperCase()}}else{if(options.withTitle)if(traveller.title)titleStr="\x26nbsp;"+traveller.title;else if(traveller.passengerTitleCode)titleStr="\x26nbsp;"+traveller.passengerTitleCode;else if(traveller.otherDetails&&traveller.otherDetails instanceof Array&&traveller.otherDetails.length>0&&traveller.otherDetails[0].title)titleStr="\x26nbsp;"+traveller.otherDetails[0].title;if(options.isInternational){isKorean=
false;if(traveller.latinLastName)result=(traveller.latinLastName+_enSplitter+traveller.latinFirstName).toUpperCase();else if(traveller.passengerLastName){result=traveller.passengerLastName+_enSplitter+traveller.passengerFirstName;isKorean=allKorean.test(result);if(isKorean)result.toUpperCase()}else result=((traveller.lastName||"")+_enSplitter+(traveller.firstName||"")).toUpperCase()}else if(traveller.koreanLastName){isKorean=allKorean.test(traveller.koreanLastName+traveller.koreanFirstName);if(isKorean)result=
traveller.koreanLastName+traveller.koreanFirstName;else result=(traveller.koreanLastName+_enSplitter+traveller.koreanFirstName).toUpperCase()}else if(traveller.latinLastName)result=(traveller.latinLastName+_enSplitter+traveller.latinFirstName).toUpperCase();else if(traveller.passengerKoreaLastName){isKorean=true;result=traveller.passengerKoreaLastName+traveller.passengerKoreaFirstName}else if(traveller.passengerLastName){isKorean=allKorean.test(traveller.passengerLastName+traveller.passengerFirstName);
if(isKorean)result=traveller.passengerLastName+traveller.passengerFirstName;else result=(traveller.passengerLastName+_enSplitter+traveller.passengerFirstName).toUpperCase()}else{isKorean=allKorean.test(traveller.firstName+traveller.lastName);if(isKorean)result=traveller.lastName+traveller.firstName;else result=((traveller.lastName||"")+_enSplitter+(traveller.firstName||"")).toUpperCase()}}if(options.withLang)if(isKorean)result='\x3cspan lang\x3d"ko"\x3e'+result+"\x3c/span\x3e";return result+titleStr});
Handlebars.registerHelper("fullNameForBookingGate",function(family){var result="";var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(family.lastName+family.firstName);if(isKorean)result=family.lastName+family.firstName;else{result=family.lastName+" "+family.firstName;if(result)result=result.toUpperCase()}return result});Handlebars.registerHelper("fullKoreanNameForBookingGate",function(traveller){var result="";
var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(traveller.koreanLastName+traveller.koreanFirstName);if(isKorean)result=traveller.koreanLastName+traveller.koreanFirstName;else{result=traveller.koreanLastName+" "+traveller.koreanFirstName;if(result)result=result.toUpperCase()}return result});Handlebars.registerHelper("chkPassengerName",function(traveller,options){var pNm;if(koreanair.Language==="ko-kr")pNm=traveller.lastName+
" "+traveller.firstName;else pNm=traveller.lastName+"/"+traveller.firstName;if(/.*[ㄱ-ㅎㅏ-ㅣ가-힣]+.*/g.test(pNm))pNm='\x3cspan lang\x3d"ko"\x3e'+pNm+"\x3c/span\x3e";return pNm});Handlebars.registerHelper("passengerTypeName",function(traveller,options){if(traveller.koreanLastName)return traveller.koreanLastName+" "+traveller.koreanFirstName;else return traveller.lastName+"/"+traveller.firstName});Handlebars.registerHelper("passengerNameExplicit",function(traveller,options){var firstName=traveller.latinFirstName||
traveller.koreanFirstName,lastName=traveller.latinLastName||traveller.koreanLastName;var result="";var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;if(koreanair.Language==="ko-kr"){firstName=traveller.koreanFirstName||traveller.latinFirstName;lastName=traveller.koreanLastName||traveller.latinLastName;var isKorean=allKorean.test(lastName+firstName);if(isKorean)result=lastName+firstName;else result=lastName+" "+firstName}else{var isKorean=
allKorean.test(lastName+firstName);if(isKorean)result=lastName+firstName;else result=lastName+"/"+firstName}return result});Handlebars.registerHelper("passengerNameSpan",function(traveller,options){var sep=koreanair.Language==="ko-kr"?" ":"\x26#x2F";return new Handlebars.SafeString(['\x3cspan class\x3d"name last"\x3e',traveller.lastName,sep,'\x3c/span\x3e \x3cspan class\x3d"name first"\x3e',traveller.firstName,"\x3c/span\x3e"].join(""))});Handlebars.registerHelper("infantName",function(travellers,
traveller,isUppercase){travellers=travellers||[];var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var infant=travellers.filter(function(possibleInfant){return possibleInfant.accompanyAdultNumber===traveller.travellerNumber});infant=_.first(infant);var isKorean=allKorean.test(infant.lastName+infant.firstName);if(isKorean)var infNm=infant.lastName+infant.firstName;else var infNm=infant.lastName+" "+infant.firstName;if(isUppercase)infNm=infNm.toUpperCase();
if(isKorean)infNm='\x3cspan lang\x3d"ko"\x3e'+infNm+"\x3c/span\x3e";return infNm});Handlebars.registerHelper("flightDurationIndex",function(index,array){if(!array)return;var hours=array[index-1].hours;var minutes=array[index-1].minutes;var source="flight-duration-label {0} {1}";var params=[hours,minutes];return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("last",function(index,array,options){if(index===array.length-1)return options.fn(this);else return options.inverse(this)});
Handlebars.registerHelper("lastIndex",function(index,array,options){if(index===array.length-1)return options;else return""});Handlebars.registerHelper("dashes",function(options){if(options)return options;else{var unassignedTerminalValText=Granite.I18n.get("UWA-tablecontnet-blank");var labelHTML='\x3cspan aria-hidden\x3d"true"\x3e---\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+unassignedTerminalValText+"\x3c/span\x3e";return new Handlebars.SafeString(labelHTML)}});Handlebars.registerHelper("boardingPassDashes",
function(options){if(options)return options;else{var unassignedTerminalValText=Granite.I18n.get("UWA-tablecontnet-blank");var labelHTML='\x3cspan aria-hidden\x3d"true"\x3e—\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+unassignedTerminalValText+"\x3c/span\x3e";return new Handlebars.SafeString(labelHTML)}});Handlebars.registerHelper("dashes2",function(label,options){if(options)return options;else{var labeltxt=Granite.I18n.get("UWA-tablecontnet-blank");var labelHTML='\x3cspan class\x3d"blank"\x3e\x3cspan class\x3d"offscreen"\x3e'+
labeltxt+"\x3c/span\x3e\x3c/span\x3e";return new Handlebars.SafeString(labelHTML)}});Handlebars.registerHelper("dashes2Masking",function(type,actions,options){if(type=="mEmail"||type=="mPhone")if(options){if(type=="mPhone")options=(options+"").replace(/[^0-9]/g,"");if(actions.COMMON_SEC.login||!actions.COMMON_SEC.available)if(type=="mEmail")options=options.replace(options.substr(0,options.indexOf("@")),"******");else if(type=="mPhone"){var maskCnt=4;if(options.length<5)maskCnt=options.length-1;options=
options.replace(options.substr(0,options.length-maskCnt),"******")}return options}else return options;else if(options){if(actions.COMMON_SEC.login||!actions.COMMON_SEC.available)if(type=="email"){options=options.replace(options.substr(0,options.indexOf("@")),'\x3cspan aria-hidden\x3d"true"\x3e******\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e 6 stars \x3c/span\x3e');options=new Handlebars.SafeString(options)}else if(type=="phone"){var maskCnt=4;if(options.length<5)maskCnt=options.length-1;options=
options.replace(options.substr(0,options.length-maskCnt),"******")}return options}else{var labeltxt=Granite.I18n.get("UWA-tablecontnet-blank");var labelHTML='\x3cspan class\x3d"blank"\x3e\x3cspan class\x3d"offscreen"\x3e'+labeltxt+"\x3c/span\x3e\x3c/span\x3e";return new Handlebars.SafeString(labelHTML)}});Handlebars.registerHelper("terminalDashes",function(options){var unassignedTerminalVal="—";var unassignedTerminalValText=Granite.I18n.get("UWA-tablecontnet-blank");var unassignedHTML=new Handlebars.SafeString('\x3cspan aria-hidden\x3d"true"\x3e'+
unassignedTerminalVal+'\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+unassignedTerminalValText+"\x3c/span\x3e");return options?options:unassignedHTML});Handlebars.registerHelper("terminalDashesMobile",function(options){var unassignedHTML=new Handlebars.SafeString("—");return options?options:unassignedHTML});Handlebars.registerHelper("terminalDashesWCAG2",function(options){var unassignedTerminalVal=Granite.I18n.get("UWA-tablecontnet-blank");var unassignedHTML=new Handlebars.SafeString('\x3cspan class\x3d"offscreen"\x3e'+
unassignedTerminalVal+"\x3c/span\x3e");return options?options:unassignedHTML});Handlebars.registerHelper("contains",function(collection,testValue,options){var result=_.contains(collection,testValue);return result?options.fn(this):options.inverse(this)});Handlebars.registerHelper("leftNoWindows",function(collection,testValue,options){var result=_.contains(_.first(collection).characteristics,testValue);return result?options.fn(this):options.inverse(this)});Handlebars.registerHelper("rightNoWindows",
function(collection,testValue,options){var result=_.contains(_.last(collection).characteristics,testValue);return result?options.fn(this):options.inverse(this)});Handlebars.registerHelper("options",function(options){var optionItems=_.map(options,function(option){var optionHTML='\x3coption value\x3d"'+option.toUpperCase()+'"'+"\x3e"+Handlebars.Utils.escapeExpression(option)+"\x3c/option\x3e";return optionHTML});return new Handlebars.SafeString(optionItems)});Handlebars.registerHelper("generic-options",
function(valueFunction,option){var values=valueFunction,asSelect;if(typeof valueFunction==="function")values=valueFunction();values=_.sortBy(values,function(entry){return entry.text});asSelect=_.map(values,function(entry){return'\x3coption value\x3d"'+entry.value+'"'+"\x3e"+entry.text+"\x3c/option\x3e"});return new Handlebars.SafeString(asSelect.join(""))});Handlebars.registerHelper("generic-options-nation",function(valueFunction,option){var values=valueFunction,asSelect;if(typeof valueFunction===
"function")values=valueFunction();values=_.sortBy(values,function(entry){return entry.text});var kr,tmp=[];$.each(values,function(idx,itm){if(itm.value=="KR")kr=itm;else tmp.push(itm)});values=tmp;asSelect=_.map(values,function(entry){return'\x3coption value\x3d"'+entry.value+'"'+"\x3e"+entry.text+"\x3c/option\x3e"});return new Handlebars.SafeString('\x3coption value\x3d"'+kr.value+'"'+"\x3e"+kr.text+"\x3c/option\x3e"+asSelect.join(""))});function optionsBuilder(prefix,valueFunction){return function(suffix){var optionItems=
_.map(valueFunction(),function(option){var optionHTML='\x3coption value\x3d"'+option.toUpperCase()+'"'+"\x3e"+Granite.I18n.get(""+prefix+option+"-"+suffix)+"\x3c/option\x3e";return optionHTML});return new Handlebars.SafeString(optionItems.join(""))}}Handlebars.registerHelper("country-options",optionsBuilder("country-",function(){return _.map(koreanair.countries(),function(i){return i.value})}));Handlebars.registerHelper("nationality-options",optionsBuilder("nationality-",function(){return _.map(koreanair.nationalities(),
function(i){return i.value})}));Handlebars.registerHelper("airline-code-options",optionsBuilder("",function(){return koreanair.airlineCodes()}));Handlebars.registerHelper("airline-code-options-mobilezone",function(){return new Handlebars.SafeString('\x3coption value\x3d"KE"\x3e'+Granite.I18n.get("KE-airline-name")+"\x3c/option\x3e")});Handlebars.registerHelper("compare",function(lvalue,operator,rvalue,options){var operators,result;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");
if(options===undefined){options=rvalue;rvalue=operator;operator="\x3d\x3d\x3d"}operators={"\x3d\x3d":function(l,r){return l==r},"\x3d\x3d\x3d":function(l,r){return l===r},"!\x3d":function(l,r){return l!=r},"!\x3d\x3d":function(l,r){return l!==r},"\x3c":function(l,r){return l<r},"\x3e":function(l,r){return l>r},"\x3c\x3d":function(l,r){return l<=r},"\x3e\x3d":function(l,r){return l>=r},"typeof":function(l,r){return typeof l==r}};if(!operators[operator])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+
operator);result=operators[operator](lvalue,rvalue);if(result)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("first",function(index,array,options){if(index===0)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("firstDefined",function(){var args=Array.prototype.slice.call(arguments,0);args.pop();return _.find(args,function(item){return!_.isEmpty(item)})});Handlebars.registerHelper("firstParent",function(arr,obj,options){if(_.indexOf(arr,
obj)===0)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("noFlights",function(flight,options){var bounds=koreanair.router.itinerary.get("bounds").toJSON();var boundIndex=flight.isReturn?1:0;var seatingClass=bounds[boundIndex].cabinClass;seatingClass=seatingClass.charAt(0).toUpperCase()+seatingClass.slice(1);var noFlightsMessage=seatingClass+" "+Granite.I18n.get("flights-unavailable-message");if(flight.remainingSeatsByCabinClass&&flight.remainingSeatsByCabinClass.length){var numberRemainingSeats=
flight.remainingSeatsByCabinClass[seatingClass.toUpperCase()];return numberRemainingSeats+" "+Granite.I18n.get("available-label")}else return noFlightsMessage});Handlebars.registerHelper("offsetDateSpan",function(flight,options){var departure=moment.withZone(flight.departure);var arrival=moment.withZone(flight.arrival);var dateFormat=koreanair.Booking.INPUT.DATE_FORMAT_SLASH;var offsetDays=arrival.dayOffset(departure);var departureFormatted=departure.format(dateFormat);var arrivalFormatted=arrival.format(" - "+
dateFormat);var offset=offsetDays>0?departureFormatted+arrivalFormatted:departureFormatted;return offset});Handlebars.registerHelper("calcDateOffset",function(flight,options){var offset="";var format=options.hash.format||"+0,0";var departure=moment.withZone(flight.departure);var arrival=moment.withZone(flight.arrival);var offsetDays=arrival.dayOffset(departure);if(offsetDays>0)if(!_.isUndefined(options.hash.page)&&options.hash.page==="EBCS")offset=", "+numeral(offsetDays).format(format)+""+Granite.I18n.get("days-label");
else offset="("+numeral(offsetDays).format(format)+" "+Granite.I18n.get("days-label")+")";return offset});Handlebars.registerHelper("calcDateOffsetDelay",function(flight,options){var format=options.hash.format||"+0,0";var departure=moment.withZone(flight.departure);var changeDep=moment.withZone(flight.changeDeparture);var offsetDays=changeDep.dayOffset(departure);var offset=offsetDays>0?"("+numeral(offsetDays).format(format)+" "+Granite.I18n.get("days-label")+")":"";return offset});Handlebars.registerHelper("dateOffset",
function(trip,options){var format=options.hash.format||"+0,0";var offsetDays=trip.travelDayOffset;var offset=offsetDays>0?"("+numeral(offsetDays).format(format)+" "+Granite.I18n.get("days-label")+")":"";return offset});Handlebars.registerHelper("dateOffsetNumber",function(trip,options){var format=options.hash.format||"+0,0";var offsetDays=trip.travelDayOffset;var offset=offsetDays>0?"("+numeral(offsetDays).format(format)+")":"";return offset});Handlebars.registerHelper("flightDuration",function(duration,
options){if(!duration)return;var hours=duration.hours;var minutes=duration.minutes;var source="flight-duration-label {0} {1}";var params=[hours,minutes];return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("timeFormat",function(time,options){if(window.moment){var f=options.hash.timeformat||"h:mma";if(options.hash.withZone)time=moment.withZone(time);else time=time?time.format(f):"";time=time.format(f)}return time});Handlebars.registerHelper("numberFormat",function(number,
options){if(window.numeral){var f=options.hash.format||"0,0[.]00";number=numeral(number).format(f)}return number});Handlebars.registerHelper("hiddenStopTimeFormat",function(number){var hours=Number(number.substring(0,2));var minutes=Number(number.substring(2));var duration=String(hours)+":"+String(minutes);return duration});Handlebars.registerHelper("passengerTypeLabel",function(passengerCode){var labelKey=_.invert(koreanair.Booking.IBE_PASSENGER_TYPE_CODES)[passengerCode];if(!labelKey)labelKey=koreanair.Booking.IBE_PASSENGER_TYPE_CODES[passengerCode];
if(labelKey)return new Handlebars.SafeString(Granite.I18n.get(labelKey.toLowerCase()+"-label"))});Handlebars.registerHelper("cabinClassLabel",function(cabinClass){if(cabinClass)return new Handlebars.SafeString(Granite.I18n.get(cabinClass.toLowerCase()+"-label"))});Handlebars.registerHelper("plusOne",function(number){return number+1});Handlebars.registerHelper("currency",function(number,options){if(window.numeral&&window.numeral.currency)return numeral(number).currency(options.hash.currencyType);return number});
Handlebars.registerHelper("fareDifference",function(number,options){if(!number&&number!==0)return;var symbol=number>=0?"+":"-";var absoluteValue=Math.abs(number);if(options.hash.numberOfPassengers)number=number/options.hash.numberOfPassengers;var priceDifference='\x3cspan class\x3d"price-amount"\x3e'+symbol+" "+numeral(absoluteValue).currency()+"\x3c/span\x3e";return new Handlebars.SafeString(priceDifference)});Handlebars.registerHelper("fareDifferenceDay2",function(number,options){if(!number&&number!==
0)return;var symbol=number>=0?"+":"-";var absoluteValue=Math.abs(number);if(options.hash.numberOfPassengers)number=number/options.hash.numberOfPassengers;var priceDifference=symbol+" "+numeral(absoluteValue).currency();return new Handlebars.SafeString(priceDifference)});Handlebars.registerHelper("currencySupCents",function(number,options){if(window.numeral&&window.numeral.currency){var currencyAmount=numeral(number).currency(options.hash.currencyType);return new Handlebars.SafeString(currencyAmount)}return number});
Handlebars.registerHelper("currencySupCentsWithOutSymbol",function(number,options){if(window.numeral&&window.numeral.currency){var currencyAmount=numeral(number).currency(options.hash.currencyType);return new Handlebars.SafeString(currencyAmount)}return number});Handlebars.registerHelper("i18nTCE",function(type,number,tceCurrency,options){var currencyAmount="";if(window.numeral&&window.numeral.currency)currencyAmount="\x3cspan\x3e"+numeral(number).currency(tceCurrency)+"\x3c/span\x3e";var i18nKey=
"refund-rule-list-1{0}";if(type==2)i18nKey="refund-rule-list-2{0}";return new Handlebars.SafeString(Granite.I18n.get(i18nKey,currencyAmount))});Handlebars.registerHelper("replaceHyphen",function(str){var strVal=str;if(typeof str==="function")strVal=str();if(strVal=="-")return'\x3cspan aria-hidden\x3d"true"\x3e-\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("UWA-tablecontnet-blank")+"\x3c/span\x3e";else return strVal});Handlebars.registerHelper("inc",function(value,options){return parseInt(value)+
1});Handlebars.registerHelper("currencySupCentsAbsolute",function(number,options){if(window.numeral&&window.numeral.currency){var regex=new RegExp("(.*?)\\"+numeral.languageData().delimiters.decimal+"(\\d{2})\\b(.*)");var formatted=numeral(Math.abs(number)).currency();var prefix,cents,suffix,currencyValue;var matches=regex.exec(formatted);if(!matches)return formatted;prefix=matches[1];cents=matches[2];suffix=matches[3];currencyValue=prefix;if(cents)currencyValue+="\x3csup\x3e"+cents+"\x3c/sup\x3e";
currencyValue+=suffix;return new Handlebars.SafeString(currencyValue)}return number});Handlebars.registerHelper("randomInt",function(){return Math.floor(Math.random()*1E13)});Handlebars.registerHelper("miles",function(miles,options){if(window.numeral){if(options.hash.numberOfPassengers)miles=miles/options.hash.numberOfPassengers;miles=numeral(miles).format()}var i18nKey="{0} i18n-miles-label";if(options.hash.shorthand)i18nKey="{0} i18n-miles-shorthand-label";if(options.hash.noLabel)return miles;miles=
"\x3cspan\x3e"+miles+"\x3c/span\x3e";return new Handlebars.SafeString(Granite.I18n.get(i18nKey,miles))});Handlebars.registerHelper("milesText",function(miles,options){if(window.numeral){if(options.hash.numberOfPassengers)miles=miles/options.hash.numberOfPassengers;miles=numeral(miles).format()}var i18nKey="{0} i18n-miles-label";if(options.hash.shorthand)i18nKey="{0} i18n-miles-shorthand-label";if(options.hash.noLabel)return miles;return new Handlebars.SafeString(Granite.I18n.get(i18nKey,miles))});
Handlebars.registerHelper("i18nConcat",function(){var args=[].slice.call(arguments),lowerKey;args.pop();args=_.compact(args);lowerKey=args.join("-").toLowerCase();return new Handlebars.SafeString(Granite.I18n.get(lowerKey))});Handlebars.registerHelper("i18nSynthesis",function(){var args=[].slice.call(arguments);args.pop();args=_.compact(args);return new Handlebars.SafeString(Granite.I18n.get(args.join("-")))});Handlebars.registerHelper("include",function(templateName,options){var context,partial;
partial=Handlebars.templates[templateName];if(typeof partial==="string"){partial=Handlebars.compile(partial);Handlebars.partials[templateName]=partial}if(typeof partial!=="function"){console.error("No template",templateName);return""}context=this;return new Handlebars.SafeString(partial(context,options))});Handlebars.registerHelper("includeParentSelect",function(templateName,options){var context,partial;partial=Handlebars.templates[templateName];if(typeof partial==="string"){partial=Handlebars.compile(partial);
Handlebars.partials[templateName]=partial}if(typeof partial!=="function"){console.error("No template",templateName);return""}context=$.extend({},this,options.hash);return new Handlebars.SafeString(partial(context,options))});var i18nFromSrc=function(source){var params=Array.prototype.slice.call(arguments,1),options=params.pop();var i18nFunction=options.hash.locale?_.partial(Granite.I18n.localeGet,options.hash.locale):Granite.I18n.get;return new Handlebars.SafeString(i18nFunction(source,params))};
Handlebars.registerHelper("i18n",function(source){return i18nFromSrc.apply(null,arguments)});Handlebars.registerHelper("i18nExCode",function(source){var string=i18nFromSrc.apply(null,arguments)["string"].split("(")[0].split("/");if(string.length>1)string=string[0]+"/\x3cbr\x3e"+string[1];return string});Handlebars.registerHelper("airportName",function(airportCode,options){var args=[].slice.call(arguments,0);args.pop();args[0]=airportCode+"-city-label {0}";if(airportCode=="FRA"&&options&&options.hash&&
options.hash.airlineCode&&options.hash.airlineCode=="9B")args[0]=airportCode+"-train-city-label";args.push(airportCode);args.push(options);return i18nFromSrc.apply(null,args)});Handlebars.registerHelper("airlineName",function(airlineCode,options){var args=[].slice.call(arguments,0);args[0]=airlineCode+"-airline-name";return i18nFromSrc.apply(null,args)});Handlebars.registerHelper("operatedBy",function(flight,options){var i18n=Granite.I18n.get.bind(Granite.I18n);var otherAirlineCode=flight.otherAirlineCode?
flight.otherAirlineCode:flight.otherAirLineCode?flight.otherAirLineCode:flight.operatedBy,operatedByText=i18n("operated-by"),skyteamPartner=flight.skyteamPartner?"**":"",otherAirlineName=flight.otherAirlineName,airlineCode=flight.airlineCode;var airlineName=function(name){if(!name)return;var searchFor=name+"-airline-name",translated=i18n(searchFor);return translated===searchFor?name.replace("DBA/",""):translated};if(otherAirlineCode)return operatedByText+" "+airlineName(otherAirlineCode)+skyteamPartner;
if(otherAirlineName)return operatedByText+" "+airlineName(otherAirlineName);if(airlineCode!=="KE");});Handlebars.registerHelper("isNotOperatedbyUndefined",function(flight,options){if(flight.otherAirlineName&&flight.otherAirlineName.replace("DBA/","").trim().replace(" ","")=="UNDEFINED")return options.inverse(this);else return options.fn(this)});Handlebars.registerHelper("flightOperatedBy",function(flight,options){var i18n=Granite.I18n.get.bind(Granite.I18n);var otherAirlineCode=flight.otherAirlineCode?
flight.otherAirlineCode:flight.otherAirLineCode?flight.otherAirLineCode:flight.operatedBy,skyteamPartner=flight.skyteamPartner?" **":"",otherAirlineName=flight.otherAirlineName,airlineCode=flight.airlineCode;var airlineName=function(name){if(!name)return;var searchFor=name+"-airline-name",translated=i18n(searchFor);return translated===searchFor?name.replace("DBA/",""):translated};if(flight.airlineCode=="9B"){if(otherAirlineCode)return i18n("operated-by-train",airlineName(otherAirlineCode))+skyteamPartner;
if(otherAirlineName)if(otherAirlineName.replace("DBA/","").trim().replace(" ","")=="UNDEFINED")return i18n("operated-by-undefined");else return i18n("operated-by-train",airlineName(otherAirlineName))}else{if(otherAirlineCode)return i18n("m_operated-by",airlineName(otherAirlineCode))+skyteamPartner;if(otherAirlineName)if(otherAirlineName.replace("DBA/","").trim().replace(" ","")=="UNDEFINED")return i18n("operated-by-undefined");else return i18n("m_operated-by",airlineName(otherAirlineName));if(airlineCode!==
"KE")return i18n("m_operated-by",airlineName(airlineCode))+skyteamPartner}});Handlebars.registerHelper("flightOperatedCodeBy",function(flight,options){if(flight.otherAirlineCode)if(flight.otherAirlineCode=="2A")return"train-code";else if(flight.otherAirlineCode=="9W")return"other"+flight.otherAirlineCode;else return flight.otherAirlineCode;else if(flight.airlineCode!="KE")if(flight.airlineCode=="2A")return"train-code";else if(flight.airlineCode=="9W")return"other"+flight.airlineCode;else return flight.airlineCode});
Handlebars.registerHelper("getOperationAirlineName",function(flight,options){var i18n=Granite.I18n.get.bind(Granite.I18n);var otherAirlineCode=flight.otherAirlineCode?flight.otherAirlineCode:flight.otherAirLineCode?flight.otherAirLineCode:flight.operatedBy,skyteamPartner=flight.skyteamPartner?"**":"",otherAirlineName=flight.otherAirlineName,airlineCode=flight.airlineCode;var airlineName=function(name){if(!name)return;var searchFor=name+"-airline-name",translated=i18n(searchFor);return translated===
searchFor?name.replace("DBA/",""):translated};if(otherAirlineCode)return airlineName(otherAirlineCode)+skyteamPartner;if(otherAirlineName)return airlineName(otherAirlineName);if(airlineCode!=="KE")return airlineName(airlineCode)+skyteamPartner;return airlineName("KE")});Handlebars.registerHelper("isFlightOperatedByOther",function(flight,options){var otherAirlineCode=flight.otherAirlineCode?flight.otherAirlineCode:flight.otherAirLineCode?flight.otherAirLineCode:flight.operatedBy,skyteamPartner=flight.skyteamPartner?
"**":"",otherAirlineName=flight.otherAirlineName,airlineCode=flight.airlineCode;if(otherAirlineCode||otherAirlineName||airlineCode!=="KE")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("baggageLabel",function(airlineCode,options){var args=[].slice.call(arguments,0);args[0]=airlineCode+"-baggage-label";return i18nFromSrc.apply(null,args)});Handlebars.registerHelper("i18nPlural",function(source){var params=Array.prototype.slice.call(arguments,1);params.pop();if(params&&
params[0]&&params[0]===1)source=source+"-singular";return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("airlineClass",function(airlineCode,options){if(_.isUndefined(airlineCode))return;var isKoreanAir=airlineCode.indexOf("KE")>=0;var airlineClass="";if(!isKoreanAir)airlineClass="partner";return airlineClass});Handlebars.registerHelper("airlineMessage",function(airlineCode,options){if(_.isUndefined(airlineCode))return;var isKoreanAir=airlineCode.indexOf("KE")>=
0;var airlineMessage="";if(!isKoreanAir)airlineMessage=new Handlebars.SafeString(Granite.I18n.get("non-korean-airline-label"));return airlineMessage});var extract3LTCode=RegExp("[ (]+[A-Z]{3}[)]");Handlebars.registerHelper("cityName",function(airportCode,options){var cityLabel=airportCode+"-city-label {0}";if(airportCode=="FRA"&&options&&options.hash&&options.hash.airlineCode&&options.hash.airlineCode=="9B")cityLabel=airportCode+"-train-city-label";var cityNameCode=Granite.I18n.get(cityLabel);if(extract3LTCode.test(cityNameCode))cityNameCode=
cityNameCode.split(extract3LTCode).join("");return new Handlebars.SafeString(cityNameCode)});Handlebars.registerHelper("cityNameAndCode",function(airportCode,options){var cityLabel=airportCode+"-city-label {0}";if(airportCode=="FRA"&&options&&options.hash&&options.hash.airlineCode&&options.hash.airlineCode=="9B")cityLabel=airportCode+"-train-city-label";return new Handlebars.SafeString(Granite.I18n.get(cityLabel))});Handlebars.registerHelper("cityNameAndCodeLoading",function(airportCode,options){var cityLabel=
airportCode+"-city-label {0}";var city=Granite.I18n.get(cityLabel).replace("("," (");return new Handlebars.SafeString(city)});Handlebars.registerHelper("passengerClass",function(classCode){if(!classCode)return"-";var labelString=classCode.toLowerCase()+"-label";return new Handlebars.SafeString(Granite.I18n.get(labelString))});Handlebars.registerHelper("ticketDetailPassengerClass",function(classCode){if(!classCode)return new Handlebars.SafeString("");var labelString=classCode.toLowerCase()+"-label";
return new Handlebars.SafeString(Granite.I18n.get(labelString))});Handlebars.registerHelper("cabinAndBookingClass",function(flightObj){if(!flightObj||!flightObj.cabinClass||!flightObj.bookingClass)return;var labelString=flightObj.cabinClass.toLowerCase()+"-label";return new Handlebars.SafeString(Granite.I18n.get(labelString)+"("+flightObj.bookingClass+")")});Handlebars.registerHelper("i18nLabel",function(value,option){if(!value)return;var labelString=value+"-label";if(option.hash&&option.hash.lower)labelString=
labelString.toLowerCase();return new Handlebars.SafeString(Granite.I18n.get(labelString))});Handlebars.registerHelper("i18nLabelCapitalize",function(value,option){if(!value)return;var labelString=value+"-label";if(option.hash&&option.hash.lower)labelString=labelString.toLowerCase();var splitString=Granite.I18n.get(labelString).split(" ");var resultString="";_.each(splitString,function(str){resultString+=$.capitalize(str)+" "});return new Handlebars.SafeString(resultString)});Handlebars.registerHelper("i18nAirlineLabel",
function(value,option){if(!value)return;var labelString=value+"-airline-name";if(option.hash&&option.hash.lower)labelString=labelString.toLowerCase();return new Handlebars.SafeString(Granite.I18n.get(labelString))});Handlebars.registerHelper("couponStatus",function(coupons){var labelString=coupons.couponStatus+"-coupon-label";return new Handlebars.SafeString(Granite.I18n.get(labelString))});Handlebars.registerHelper("html",function(html,options){if(html===undefined||html===null)return;return new Handlebars.SafeString(html)});
Handlebars.registerHelper("json",function(object){return new Handlebars.SafeString(JSON.stringify(object))});Handlebars.registerHelper("addUpPassengerTypes",function(totalAdults,totalChildren,totalInfants){var numbers=totalAdults+totalChildren+totalInfants;return numbers});Handlebars.registerHelper("checkOr",function(param1,param2,options){if(param1||param2)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("shouldShowAdditionalCharges",function(options){if((koreanair.router.itinerary.isOpenJaw()||
koreanair.router.itinerary.isRoundTrip())&&!koreanair.router.itinerary.get("isDomestic")&&!koreanair.router.itinerary.get("award"))return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("checkForDifferentCabinClasses",function(flights,options){var justTheUniqueCabinClasses=_.uniq(_.pluck(flights,"cabinClass"));if(justTheUniqueCabinClasses.length>1)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("setBookingClassToSummary",function(bound,
options){var bookingClassArr=[];_.each(bound.flights,function(flight,index){var cabinClass=flight.airlineCode=="KE"?Granite.I18n.get(flight.cabinClass.toLowerCase()+"-label"):'\x3cspan aria-hidden\x3d"true" style\x3d"display: inline-block"\x3e-\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("UWA-tablecontnet-blank")+"\x26nbsp;\x3c/span\x3e";var bookingClass=flight.bookingClass;bookingClassArr.push([cabinClass,[bookingClass]])});var resultArray=[],old="",current="";_.each(bookingClassArr,
function(array,index){current=array;if(old[0]==current[0]){old[1].push(current[1][0]);resultArray[resultArray.length-1]=old;old=old}else{resultArray.push(array);old=current}});_.each(resultArray,function(array,index){resultArray[index]=array[0]+"("+array[1].join()+")"});return resultArray.join(", ")});Handlebars.registerHelper("setSTAClassToSummary",function(bound,options){var bookingClassArr=[];var airlines={"AF":["","O","X"],"AM":["","O","X"],"AR":["","Z","X"],"AZ":["","Z","U"],"CZ":["F","O","X"],
"DL":["R","O","N"],"GA":["","O","X"],"MU":["A","O","X"],"KE":["A","O","X"],"OK":["","Z","E"],"SU":["","O","X"],"UX":["","O","X"],"RO":["","O","X"],"VN":["","O","X"],"CI":["","O","X"],"KL":["","O","X"],"KQ":["","O","X"],"ME":["","O","X"],"SV":["A","O","X"],"MF":["","O","X"]},labels=["first","prestige","economy"];_.each(bound.flights,function(flight){var cabinClass="";var bookingClass=flight.bookingClass;_.each(airlines,function(arr,key){if(key===flight.airlineCode)cabinClass=Granite.I18n.get(labels[_.indexOf(arr,
bookingClass)]+"-label")});bookingClassArr.push([cabinClass,[bookingClass]])});var resultArray=[],old="",current="";_.each(bookingClassArr,function(array){current=array;if(old[0]==current[0]){old[1].push(current[1][0]);resultArray[resultArray.length-1]=old;old=old}else{resultArray.push(array);old=current}});_.each(resultArray,function(array,index){resultArray[index]=array[0]+"("+array[1].join()+")"});return resultArray.join(", ")});Handlebars.registerHelper("setSTAClassToSplit",function(flight,options){var bookingClassArr=
[];var airlines={"AF":["","O","X"],"AM":["","O","X"],"AR":["","Z","X"],"AZ":["","Z","U"],"CZ":["F","O","X"],"DL":["R","O","N"],"GA":["","O","X"],"MU":["A","O","X"],"KE":["A","O","X"],"OK":["","Z","E"],"SU":["","O","X"],"UX":["","O","X"],"RO":["","O","X"],"VN":["","O","X"],"CI":["","O","X"],"KL":["","O","X"],"KQ":["","O","X"],"ME":["","O","X"],"SV":["A","O","X"],"MF":["","O","X"]},labels=["first","prestige","economy"];var cabinClass="";var bookingClass=flight.bookingClass;_.each(airlines,function(arr,
key){if(key===flight.airlineCode)if(flight.airlineCode==="KE"&&_.indexOf(arr,bookingClass)<0)cabinClass=Granite.I18n.get(flight.cabinClass.toLowerCase()+"-label");else cabinClass=Granite.I18n.get(labels[_.indexOf(arr,bookingClass)]+"-label")});bookingClassArr.push([cabinClass,[bookingClass]]);var resultArray=[],old="",current="";_.each(bookingClassArr,function(array){current=array;if(old[0]==current[0]){old[1].push(current[1][0]);resultArray[resultArray.length-1]=old;old=old}else{resultArray.push(array);
old=current}});_.each(resultArray,function(array,index){resultArray[index]=array[0]+"("+array[1].join()+")"});return resultArray.join(", ")});Handlebars.registerHelper("isPaymentStepComplete",function(options){if(koreanair.router&&koreanair.router.paymentStepComplete)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("isInBookingFlow",function(options){if($(".booking-flow").length>0)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("isNotPostBooking",
function(itinerary,options){if($(".booking-flow").length>0&&!itinerary.isReissue)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("showFavoriteReservationNumber",function(itinerary,options){var isOnHoldPurchase=function(){var path=window.location.pathname,pathSplit=path.split("/");var lastSplit=pathSplit[pathSplit.length-1];if(lastSplit==="on-hold-purchase.html")return true};if($(".booking-flow").length>0&&!itinerary.isReissue&&!itinerary.isChange&&!isOnHoldPurchase())return options.fn(this);
else return options.inverse(this)});Handlebars.registerHelper("bindEach",function(context,options){var out="",data,currentContext,contextKey;if(!context)return;if(options.hash&&options.hash.bindTo)contextKey=options.hash.bindTo;for(var i=0;i<context.length;i++){currentContext=context[i];if(options.data){data=Handlebars.createFrame(options.data||{});data.index=i;if(contextKey)data[contextKey]=currentContext}out+=options.fn(currentContext,{data:data})}return out});Handlebars.registerHelper("times",
function(n,block){var accum="";for(var i=1;i<=n;++i)accum+=block.fn(i);return accum});Handlebars.registerHelper("bindData",function(options){var out="",datas={},data;if(options.hash)for(var key in options.hash)if(options.hash.hasOwnProperty(key))datas[key]=options.hash[key];if(options.data){data=Handlebars.createFrame(options.data||{});Handlebars.Utils.extend(data,datas)}out+=options.fn(this,{data:data});return out});Handlebars.registerHelper("join",function(objToJoin,options){return _.compact(_.values(objToJoin)).join("/")});
Handlebars.registerHelper("ckinInfSeat",function(seats){var seatLabel=_.compact(_.values(seats)).join("/");if(seatLabel=="INF")return Granite.I18n.get("boarding-pass-infant-label");else return seatLabel});Handlebars.registerHelper("ckinInfSeatStyle",function(seats){var seatLabel=_.compact(_.values(seats)).join("/");if(koreanair.Language=="pt-br"&&seatLabel=="INF")return"font-size:11px;";else return""});Handlebars.registerHelper("sanitize",function(toSanitize,options){if(toSanitize&&toSanitize.length>=
4)return toSanitize.replace(/(.*)\d{4}$/,"$1****");var labelHTML='\x3cspan aria-hidden\x3d"true"\x3e---\x3c/span\x3e';return options.hash.dashes?new Handlebars.SafeString(labelHTML):undefined});Handlebars.registerHelper("exitRow",function(exitRow,cabin,option){var numColumns=cabin.numberOfColumns,odd=numColumns%2?"\x3ctd/\x3e":"",size=Math.floor(numColumns/2);var message=Granite.I18n.get("exit-label");var results=["left","right"].map(function(side){return'\x3ctd class\x3d"exit-row exit-'+side+'" colspan\x3d"'+
size+'"\x3e\x3ch4\x3e'+message+"\x3c/h4\x3e\x3c/td\x3e"});results.unshift('\x3ctd class\x3d"side-row-num"\x3e\x3c/td\x3e\x3ctd class\x3d"window-col exit-cell-left"\x3e\x3c/td\x3e');results.push('\x3ctd class\x3d"window-col exit-cell-right"\x3e\x3c/td\x3e\x3ctd class\x3d"side-row-num"\x3e\x3c/td\x3e');return new Handlebars.SafeString(results.join(""))});Handlebars.registerHelper("checkGender",function(gender,value,options){var out="disabled";if(gender===value)out='checked\x3d"checked"';return out});
Handlebars.registerHelper("legalContent",function(content,options){if(!content)return;var asHtml=$(content),defaultColor=options.hash.textOption||"dark";asHtml.find("a").addClass("legal-content").removeClass("light").removeClass("dark");return new Handlebars.SafeString(asHtml.html())});Handlebars.registerHelper("legalContentBaggage",function(content,options){if(!content)return;var asHtml=$(content);asHtml.find("a").addClass("baggage-restrictions").removeClass("light").removeClass("dark");return new Handlebars.SafeString(asHtml.html())});
Handlebars.registerHelper("checkInStatusesOnItinerary",function(flightCheckInStatii,itinerary,options){var flightIdToName,result;if(!flightCheckInStatii||flightCheckInStatii.length===0)return"";flightIdToName=_.reduce(_.flatten(_.pluck(itinerary.bounds,"flights")),function(memo,current){if(current.flightId)memo[current.flightId]=current;return memo},{});result=_.filter(flightCheckInStatii,function(flightCheckInStatus){return flightIdToName[flightCheckInStatus.flightId]!==undefined});result=_.map(result,
_.bind(function(checkinStatus){var existing=Handlebars.createFrame(options.data||{});Handlebars.Utils.extend(existing,{flight:flightIdToName[checkinStatus.flightId]});return options.fn(checkinStatus,{data:existing})},this));return result.join("")});Handlebars.registerHelper("dateCompare",function(hey,options){var args=[].slice.call(arguments,0);if(args[0]&&args[1])if(moment.withZone(args[0]).date()!==moment.withZone(args[1]).date())return args[2].fn(this);else return false;else return false});Handlebars.registerHelper("checkIfBrazil",
function(flightNumber,options){if(flightNumber==="KE061"||flightNumber==="KE062")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("checkDuplicateFlight",function(flights,currentIndex,options){if(currentIndex===0)return options.fn(this);else if(flights[currentIndex].flightNumber===flights[currentIndex-1].flightNumber)return options.inverse(this);else return options.fn(this)});Handlebars.registerHelper("showChangeReissueCheckBoxes",function(itinerary,options){var reissueAvailable=
itinerary.award||!itinerary.award&&itinerary.actions.REISSUE.available,changeAvailable=itinerary.actions.CHANGE.available;if(reissueAvailable||changeAvailable)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("airportLabel",function(airportCode,options){var labelString=airportCode+"-airport-label ({0})";return Granite.I18n.get(labelString,airportCode)});Handlebars.registerHelper("mealDropDowns",function(sequences){var dropdowns="";for(var i=1;i<=sequences;i++){var dropdown=
"\x3cli class\x3d'mealListItem'\x3e\x3cselect class\x3d'mealSelect' data-sequence\x3d"+i+" id\x3d'sequence"+i+"' disabled\x3e\x3c/select\x3e\x3c/li\x3e";dropdowns+=dropdown}return dropdowns});Handlebars.registerHelper("totalSumCurrency",function(){var sum=0;_.forEach(arguments,function(arg){if(_.isNumber(arg))sum+=arg});if(window.numeral&&window.numeral.currency)return numeral(sum).currency();return sum});Handlebars.registerHelper("totalDifCurrency",function(){var dif=0;_.forEach(arguments,function(value,
index){if(_.isNumber(value))if(index===0)dif=value;else dif-=value});if(window.numeral&&window.numeral.currency)return numeral(dif).currency();return dif});Handlebars.registerHelper("irtDiscountRequired",function(traveller,options){var discountTypes=["YCD","DCD","DIS","DAJ"];var dT=traveller.discountType;if(_.contains(discountTypes,dT)&&!traveller.isDomestic)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("checkIfNoPayOrRefund",function(itinerary,options){var isNoPay=
itinerary.isReissue&&itinerary.mode==="0";var isNoPayAward=isNoPay&&itinerary.isAward&&itinerary.fareDetails[0].totalCollectMiles;var isRefund=itinerary.isReissue&&itinerary.mode==="refund";if(isNoPayAward||isNoPay||isRefund)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("ifInfantSeatTicket",function(seat){if(_.compact(_.values(seat))=="INF")return Granite.I18n.get("boarding-pass-present-id-label")});Handlebars.registerHelper("hasBookingClasses",function(bookingClasses,
options){if(_.compact(bookingClasses).length>0)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("notKoreanDomestic",function(itinerary,options){if(koreanair.Language==="ko-kr"&&itinerary.isDomestic)return options.inverse(this);else return options.fn(this)});Handlebars.registerHelper("profilePagePath",function(){return koreanair.Account.profilePage});Handlebars.registerHelper("nextDepartureAirportCode",function(index,flights){var nextIndex=index+1;return flights[nextIndex].departureAirportCode});
Handlebars.registerHelper("renderDataAttributesFromObject",function(object){var args=[].slice.call(arguments,0);var keys=args.slice(1,args.length-1)||_.keys(object);var result="";_.each(keys,function(key){result+=" data-"+key+"\x3d"+object[key]});return result});Handlebars.registerHelper("checkStopover",function(index,flights,options){var nextIndex=index+1;if(_.isUndefined(flights[nextIndex]))return options.fn(this);if(flights[index].flightNumber===flights[nextIndex].flightNumber)return options.fn(this);
else return options.inverse(this)});Handlebars.registerHelper("checkChangeAirport",function(index,flights,options){var nextIndex=index+1;if(_.isUndefined(flights[nextIndex]))return options.fn(this);if(flights[index].arrivalAirport===flights[nextIndex].departureAirport)return options.inverse(this);else return options.fn(this)});Handlebars.registerHelper("checkChangeTrain",function(index,flights,options){var nextIndex=index+1;if(_.isUndefined(flights[nextIndex]))return options.inverse(this);if(flights[index].airlineCode==
"9B"||flights[nextIndex].airlineCode=="9B")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("checkChangeAirportTooltip",function(index,flights,options){var nextIndex=index+1;if(_.isUndefined(flights[nextIndex]))return options.inverse(this);if(flights[index].isKO)return options.inverse(this);else if(flights[index].arrivalAirport==="ICN"&&flights[nextIndex].departureAirport==="GMP")return options.fn(this);else if(flights[index].arrivalAirport==="GMP"&&flights[nextIndex].departureAirport===
"ICN")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("calculatePreviousMiles",function(fare){if(_.isUndefined(fare))return;var previousMiles=0;if(fare.collectMiles>0)previousMiles=fare.awardAmount-fare.collectMiles;else if(fare.refundMiles>0)previousMiles=fare.awardAmount+fare.refundMiles;else previousMiles=fare.awardAmount;return previousMiles+" "+Granite.I18n.get("miles-label")});Handlebars.registerHelper("getConnectingAirports",function(flights,index){return flights[index].destinationAirportCode+
"/"+flights[index+1].departureAirportCode});var __cacheFleetLinks={};function getFleetLinkFromCache(aircraftCode,optionalCallback){if(__cacheFleetLinks.hasOwnProperty(aircraftCode))return __cacheFleetLinks[aircraftCode];if(typeof optionalCallback!=="function")return undefined;var fleetFinderPage=koreanair.Navigation.Booking.fleetFinderPage;if(koreanair.isMobile)fleetFinderPage="/content/koreanair-admin/cross-region/ko/fleet-finder-config/_jcr_content/par/urlcodemapper.mapperByCode.json/{aircraftCode}.json";
var builtHref=String(fleetFinderPage).replace("{aircraftCode}",Granite.I18n.get("nb-"+aircraftCode+"-label"));$.ajax(builtHref,{cache:true,async:true}).done(function(link){if(link&&!_.isUndefined(link.code)){if(link.urlPath)link.urlPath=link.urlPath.replace("\x3d.html","\x3d");if(koreanair.isMobile&&link.urlPath)link.urlPath="/mobile"+link.urlPath;__cacheFleetLinks[aircraftCode]=link}else link=undefined;optionalCallback(link)})}var __cacheMultiFleetLinks={};function getMultiFleetLinkFromCache(flight,
optionalCallback){var aircraftCode=flight.aircraft;var seats=0;if(flight.equipment)seats=Number(flight.equipment.numberOfseatsC)+Number(flight.equipment.numberOfseatsF)+Number(flight.equipment.numberOfseatsY);if(__cacheMultiFleetLinks.hasOwnProperty(aircraftCode))return __cacheMultiFleetLinks[aircraftCode];if(typeof optionalCallback!=="function")return undefined;var builtHref=String(koreanair.Navigation.Booking.fleetFinderPage).replace("{aircraftCode}",Granite.I18n.get("nb-"+aircraftCode+"-label"));
$.ajax(builtHref,{cache:true,async:true}).done(function(link){if(link&&!_.isUndefined(link.code)){if(link.urlPath)link.urlPath=link.urlPath.replace("\x3d.html","\x3d");if(seats>0)link.urlPath=link.urlPath+seats;__cacheMultiFleetLinks[aircraftCode]=link}else link=undefined;optionalCallback(link)})}Handlebars.registerHelper("getFleetLinks",function(flight){var markupString;if(flight.airlineCode==="KE"&&_.isUndefined(flight.operatedBy)){if(_.isUndefined(flight.aircraft))return;var builtHref=String(koreanair.Navigation.Booking.fleetFinderPage).replace("{aircraftCode}",
Granite.I18n.get("nb-"+flight.aircraft+"-label"));var className=_.uniqueId("aircraft-name-"+flight.aircraft+"-");var fleetFinderPage=koreanair.Navigation.Booking.fleetFinderPage;if(koreanair.isMobile)fleetFinderPage="/content/koreanair-admin/cross-region/ko/fleet-finder-config/_jcr_content/par/urlcodemapper.mapperByCode.json/{aircraftCode}.json";if(fleetFinderPage){var builtHref=String(fleetFinderPage).replace("{aircraftCode}",Granite.I18n.get("nb-"+flight.aircraft+"-label"));var promise=$.ajax(builtHref,
{cache:true,async:false});promise.done(function(link){if(link&&!_.isUndefined(link.code))setTimeout(function(){if(link.urlPath)link.urlPath=link.urlPath.replace("\x3d.html","\x3d");if(koreanair.isMobile&&link.urlPath)link.urlPath="/mobile"+link.urlPath;var codeList=["B777-200ER","B777-300ER","B747-400","B737-800","A380-800","A330-300"];if(codeList.indexOf(link.code)>-1){var seatCount=0;if(flight.cabinSeatList)_.each(flight.cabinSeatList,function(cabinSeat){seatCount+=cabinSeat.availSeatCount});if(seatCount>
0)$("."+className).replaceWith('\x3ca class\x3d"planeType '+className+'" href\x3d"'+link.urlPath+seatCount+'" target\x3d"_blank"\x3e'+Granite.I18n.get(flight.aircraft+"-label")+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e");else $("."+className).replaceWith('\x3ca class\x3d"planeType '+className+' needStopOver" href\x3d"'+link.urlPath+'" target\x3d"_blank"'+' data-departure\x3d"'+moment(flight.departure).format("YYYY-MM-DD")+
'" data-departure-airport\x3d"'+flight.departureAirportCode+'" data-destination-airport\x3d"'+flight.destinationAirportCode+'" data-flight-number\x3d"'+flight.flightNumber+'"\x3e'+Granite.I18n.get(flight.aircraft+"-label")+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e")}else $("."+className).replaceWith('\x3ca class\x3d"planeType '+className+'" href\x3d"'+link.urlPath+'" target\x3d"_blank"\x3e'+Granite.I18n.get(flight.aircraft+
"-label")+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e");if(koreanair.tabbable)koreanair.tabbable.popupDefault()},500)})}markupString=String('\x3cspan class\x3d"planeType '+className+'"\x3e'+Granite.I18n.get(flight.aircraft+"-label")+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}if(flight.airlineCode==="KE"&&flight.operatedBy||flight.airlineCode!=="KE"){if(_.isUndefined(flight.aircraftName))return;markupString=
String('\x3cspan class\x3d"planeType '+className+'"\x3e'+flight.aircraftName+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}});Handlebars.registerHelper("getFleetLinksForConfirmationDetail",function(flight){var markupString;if(flight.airlineCode==="KE"&&(_.isUndefined(flight.operatedBy)&&_.isUndefined(flight.otherAirlineCode))){if(_.isUndefined(flight.aircraft))return;var className=_.uniqueId("aircraft-name-"+flight.aircraft+"-");var fleetFinderPage=koreanair.Navigation.Booking.fleetFinderPage;
if(koreanair.isMobile)fleetFinderPage="/content/koreanair-admin/cross-region/ko/fleet-finder-config/_jcr_content/par/urlcodemapper.mapperByCode.json/{aircraftCode}.json";if(fleetFinderPage){var builtHref=String(fleetFinderPage).replace("{aircraftCode}",Granite.I18n.get("nb-"+flight.aircraft+"-label"));var promise=$.ajax(builtHref,{cache:true,async:false});promise.done(function(link){if(link&&!_.isUndefined(link.code))setTimeout(function(){if(!koreanair.isCheckinMobileZone){if(link.urlPath)link.urlPath=
link.urlPath.replace("\x3d.html","\x3d");if(koreanair.isMobile&&link.urlPath)link.urlPath="/mobile"+link.urlPath;var codeList=["B777-200ER","B777-300ER","B747-400","B737-800","A380-800","A330-300"];if(codeList.indexOf(link.code)>-1){var seatCount=0;if(flight.cabinSeatList)_.each(flight.cabinSeatList,function(cabinSeat){seatCount+=cabinSeat.availSeatCount});if(seatCount>0)$("."+className).replaceWith('\x3ca class\x3d"planeType '+className+'" href\x3d"'+link.urlPath+seatCount+'" target\x3d"_blank"\x3e'+
Granite.I18n.get(flight.aircraft+"-label")+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e");else $("."+className).replaceWith('\x3ca class\x3d"planeType '+className+' needStopOver" href\x3d"'+link.urlPath+'" target\x3d"_blank"'+' data-departure\x3d"'+moment(flight.departure).format("YYYY-MM-DD")+'" data-departure-airport\x3d"'+flight.departureAirportCode+'" data-destination-airport\x3d"'+flight.destinationAirportCode+'" data-flight-number\x3d"'+
flight.flightNumber+'"\x3e'+Granite.I18n.get(flight.aircraft+"-label")+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e")}else $("."+className).replaceWith('\x3ca class\x3d"planeType '+className+'" href\x3d"'+link.urlPath+'" target\x3d"_blank"\x3e'+Granite.I18n.get(flight.aircraft+"-label")+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e");if(koreanair.tabbable)koreanair.tabbable.popupDefault()}else $("."+
className).replaceWith('\x3cspan class\x3d"planeType '+className+'"\x3e'+Granite.I18n.get(link.code+"-label")+"\x3c/span\x3e")},500)})}markupString=String('\x3cspan class\x3d"planeType '+className+'"\x3e'+Granite.I18n.get(flight.aircraft+"-label")+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}if(flight.airlineCode==="KE"&&(flight.operatedBy||flight.otherAirlineCode)||flight.airlineCode!=="KE"){if(_.isUndefined(flight.aircraftName))return;markupString=String('\x3cspan class\x3d"planeType '+
className+'"\x3e'+flight.aircraftName+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}});Handlebars.registerHelper("getFleetLinksForPassenger",function(flight){var markupString;if(flight.airlineCode==="KE"&&_.isUndefined(flight.operatedBy)){var builtHref=String(koreanair.Navigation.Booking.fleetFinderPage).replace("{aircraftCode}",Granite.I18n.get("nb-"+flight.aircraft+"-label"));console.log("getFleetLinksForPassenger : "+builtHref);var className="aircraft-name-"+flight.aircraft;var promise=
$.ajax(builtHref,{cache:true,async:false});promise.done(function(link){if(link&&!_.isUndefined(link.code))setTimeout(function(){if(link.urlPath)link.urlPath=link.urlPath.replace("\x3d.html","\x3d");var codeList=["B777-200ER","B777-300ER","B747-400","B737-800","A380-800","A330-300"];if(codeList.indexOf(link.code)>-1)$("."+className).replaceWith('\x3ca class\x3d"planeType '+className+' needStopOver" href\x3d"'+link.urlPath+'" target\x3d"_blank"'+' data-departure\x3d"'+moment(flight.departure).format("YYYY-MM-DD")+
'" data-departure-airport\x3d"'+flight.departureAirportCode+'" data-destination-airport\x3d"'+flight.destinationAirportCode+'" data-flight-number\x3d"'+flight.flightNumber+'"\x3e'+Granite.I18n.get(flight.aircraft+"-label")+"\x3c/a\x3e");else $("."+className).replaceWith('\x3ca class\x3d"planeType '+className+'" href\x3d"'+link.urlPath+'" target\x3d"_blank"\x3e'+Granite.I18n.get(flight.aircraft+"-label")+"\x3c/a\x3e")},500)});markupString=String('\x3cspan class\x3d"planeType '+className+'"\x3e'+Granite.I18n.get(flight.aircraft+
"-label")+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}if(flight.airlineCode==="KE"&&flight.operatedBy||flight.airlineCode!=="KE"){if(_.isUndefined(flight.aircraftName))return;markupString=String('\x3cspan class\x3d"planeType aircraft-name-'+flight.aircraft+'"\x3e'+flight.aircraftName+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}});Handlebars.registerHelper("getMultiFleetLinks",function(flight,isSelectable,options){var markupString,flightName;if(arguments.length==
2){options=isSelectable;isSelectable=true}if(typeof isSelectable!=="boolean")isSelectable=true;if(options=="long")flightName=flight.aircraft+"-label";else flightName="nb-"+flight.aircraft+"-label";if(flight.airlineCode==="KE"&&_.isUndefined(flight.operatedBy)){var uuid=_.uniqueId("aircraft-name-"+flight.aircraft+"-");var link=getMultiFleetLinkFromCache(flight,function(link){if(link&&!_.isUndefined(link.code))setTimeout(function(){$('[data-uuid\x3d"'+uuid+'"]').html(koreanair.isCheckinMobileZone?'\x3cspan class\x3d"planeType ellipsis tooltip-need"\x3e'+
Granite.I18n.get(flightName)+"\x3c/span\x3e":'\x3ca class\x3d"planeType ellipsis tooltip-need" href\x3d"'+link.urlPath+'" target\x3d"_blank" '+(isSelectable?"":'tabindex\x3d"-1"')+"\x3e"+Granite.I18n.get(flightName)+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("wal-openWindow")+"\x3c/span\x3e\x3c/a\x3e")},300)});if(link)markupString=String('\x3cspan data-title\x3d"'+Granite.I18n.get("nb-flight-info")+'" class\x3d"airplane" \x3e'+(koreanair.isCheckinMobileZone?'\x3cspan class\x3d"planeType ellipsis tooltip-need"\x3e'+
Granite.I18n.get(flightName)+"\x3c/span\x3e":'\x3ca class\x3d"planeType ellipsis tooltip-need" href\x3d"'+link.urlPath+'" target\x3d"_blank" '+(isSelectable?"":'tabindex\x3d"-1"')+"\x3e"+Granite.I18n.get(flightName)+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("wal-openWindow")+"\x3c/span\x3e\x3c/a\x3e")+"\x3c/span\x3e");else markupString=String('\x3cspan data-title\x3d"'+Granite.I18n.get("nb-flight-info")+'" class\x3d"airplane" data-uuid\x3d"'+uuid+'"\x3e'+Granite.I18n.get(flightName)+
"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}if(flight.airlineCode==="KE"&&flight.operatedBy||flight.airlineCode!=="KE"){if(_.isUndefined(flight.aircraftName))return;markupString=String('\x3cspan data-title\x3d"'+Granite.I18n.get("nb-flight-info")+'" class\x3d"airplane aircraft-name-'+flight.aircraft+'"\x3e'+flight.aircraftName+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}});Handlebars.registerHelper("getFleetLinksForFlightSelect",function(flight,isSelectable,
options){var markupString,flightName;if(arguments.length==2){options=isSelectable;isSelectable=true}if(typeof isSelectable!=="boolean")isSelectable=true;if(options=="long")flightName=flight.aircraft+"-label";else flightName="nb-"+flight.aircraft+"-label";if(flight.airlineCode==="KE"&&_.isUndefined(flight.operatedBy)){var uuid=_.uniqueId("aircraft-name-"+flight.aircraft+"-");var link=getFleetLinkFromCache(flight.aircraft,function(link){if(link&&!_.isUndefined(link.code))setTimeout(function(){if(isSelectable){var codeList=
["B777-200ER","B777-300ER","B747-400","B737-800","A380-800","A330-300"];if(codeList.indexOf(link.code)>-1)$('[data-uuid\x3d"'+uuid+'"]').html('\x3ca class\x3d"planeType ellipsis tooltip-need needStopOver" href\x3d"'+link.urlPath+'" target\x3d"_blank" '+' data-departure\x3d"'+moment(flight.departure).format("YYYY-MM-DD")+'" data-departure-airport\x3d"'+flight.departureAirportCode+'" data-destination-airport\x3d"'+flight.destinationAirportCode+'" data-flight-number\x3d"'+flight.flightNumber+'"\x3e'+
Granite.I18n.get(flightName)+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e");else $('[data-uuid\x3d"'+uuid+'"]').html('\x3ca class\x3d"planeType ellipsis tooltip-need" href\x3d"'+link.urlPath+'" target\x3d"_blank" '+"\x3e"+Granite.I18n.get(flightName)+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e")}else $('[data-uuid\x3d"'+uuid+'"]').replaceWith(link.code)},
300)});if(link)if(isSelectable){var codeList=["B777-200ER","B777-300ER","B747-400","B737-800","A380-800","A330-300"];if(codeList.indexOf(link.code.toUpperCase())>-1)markupString=String('\x3cspan data-title\x3d"'+Granite.I18n.get("nb-flight-info")+'" class\x3d"airplane" \x3e'+'\x3ca  class\x3d"planeType ellipsis tooltip-need needStopOver" href\x3d"'+link.urlPath+'" target\x3d"_blank" tabindex\x3d"-1"'+' data-departure\x3d"'+moment(flight.departure).format("YYYY-MM-DD")+'" data-departure-airport\x3d"'+
flight.departureAirportCode+'" data-destination-airport\x3d"'+flight.destinationAirportCode+'" data-flight-number\x3d"'+flight.flightNumber+'"\x3e'+Granite.I18n.get(flightName)+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e"+"\x3c/span\x3e");else markupString=String('\x3cspan data-title\x3d"'+Granite.I18n.get("nb-flight-info")+'" class\x3d"airplane" \x3e'+'\x3ca  class\x3d"planeType ellipsis tooltip-need" href\x3d"'+link.urlPath+
'" target\x3d"_blank" tabindex\x3d"-1"'+"\x3e"+Granite.I18n.get(flightName)+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e"+"\x3c/span\x3e")}else markupString=String(link.code);else markupString=String('\x3cspan data-title\x3d"'+Granite.I18n.get("nb-flight-info")+'" class\x3d"airplane" data-uuid\x3d"'+uuid+'"\x3e'+Granite.I18n.get(flightName)+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}if(flight.airlineCode===
"KE"&&flight.operatedBy||flight.airlineCode!=="KE"){if(_.isUndefined(flight.aircraftName))return;markupString=String('\x3cspan data-title\x3d"'+Granite.I18n.get("nb-flight-info")+'" class\x3d"airplane aircraft-name-'+flight.aircraft+'"\x3e'+flight.aircraftName+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}});Handlebars.registerHelper("getFleetLinkForIntlFlightSelect",function(flight,isSelectable,options){var markupString;if(arguments.length==2){options=isSelectable;isSelectable=
true}if(typeof isSelectable!=="boolean")isSelectable=true;if(flight.airlineCode==="KE"&&_.isUndefined(flight.operatedBy)){var uuid=_.uniqueId("aircraft-name-"+flight.aircraft+"-");var link=getFleetLinkFromCache(flight.aircraft,function(link){if(link&&!_.isUndefined(link.code))setTimeout(function(){if(isSelectable){var codeList=["B777-200ER","B777-300ER","B747-400","B737-800","A380-800","A330-300"];if(codeList.indexOf(link.code)>-1)$('[data-uuid\x3d"'+uuid+'"]').replaceWith('\x3ca class\x3d"planeType ellipsis tooltip-need needStopOver" href\x3d"'+
link.urlPath+'" target\x3d"_blank"'+' data-departure\x3d"'+moment(flight.departure).format("YYYY-MM-DD")+'" data-departure-airport\x3d"'+flight.departureAirportCode+'" data-destination-airport\x3d"'+flight.destinationAirportCode+'" data-flight-number\x3d"'+flight.flightNumber+'"\x3e'+link.code+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e");else $('[data-uuid\x3d"'+uuid+'"]').replaceWith('\x3ca class\x3d"planeType ellipsis tooltip-need" href\x3d"'+
link.urlPath+'" target\x3d"_blank"'+"\x3e"+link.code+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e")}else $('[data-uuid\x3d"'+uuid+'"]').replaceWith(link.code)},300)});if(link)if(isSelectable){var codeList=["B777-200ER","B777-300ER","B747-400","B737-800","A380-800","A330-300"];if(codeList.indexOf(link.code.toUpperCase())>-1)markupString=String('\x3ca class\x3d"planeType ellipsis tooltip-need needStopOver'+(isSelectable?
"":"disabled")+'" href\x3d"'+link.urlPath+'" target\x3d"_blank"'+' data-departure\x3d"'+moment(flight.departure).format("YYYY-MM-DD")+'" data-departure-airport\x3d"'+flight.departureAirportCode+'" data-destination-airport\x3d"'+flight.destinationAirportCode+'" data-flight-number\x3d"'+flight.flightNumber+'"\x3e'+link.code+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e");else markupString=String('\x3ca class\x3d"planeType ellipsis tooltip-need '+
(isSelectable?"":"disabled")+'" href\x3d"'+link.urlPath+'" target\x3d"_blank"'+"\x3e"+link.code+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("open-new-window-airport-info-label")+"\x3c/span\x3e\x3c/a\x3e")}else markupString=String(link.code);else if(isSelectable)markupString=String('\x3cspan class\x3d"planeType ellipsis tooltip-need" data-uuid\x3d"'+uuid+'"\x3e'+Granite.I18n.get("nb-"+flight.aircraft+"-label")+"\x3c/span\x3e");else markupString=String('\x3cspan class\x3d"planeType ellipsis" data-uuid\x3d"'+
uuid+'"\x3e'+Granite.I18n.get("nb-"+flight.aircraft+"-label")+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}if(flight.airlineCode==="KE"&&flight.operatedBy||flight.airlineCode!=="KE"){if(_.isUndefined(flight.aircraftName))return;if(isSelectable){markupString=String('\x3cspan class\x3d"planeType ellipsis tooltip-need"\x3e'+flight.aircraftName+"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}else{markupString=String('\x3cspan class\x3d"planeType ellipsis"\x3e'+flight.aircraftName+
"\x3c/span\x3e");return new Handlebars.SafeString(markupString)}}});Handlebars.registerHelper("aircraftLabel",function(aircraftCode){return new Handlebars.SafeString(Granite.I18n.get(aircraftCode+"-label"))});Handlebars.registerHelper("isSiteLang",function(operator,langs,options){var siteLang=koreanair.Lang,not=operator.indexOf("!\x3d")==0,langAry=langs.split(/\s/),result=false;if(not){var notCount=0;_.each(langAry,function(lang){if(lang!==siteLang)notCount++});result=notCount==langAry.length}else result=
_.indexOf(langAry,koreanair.Lang)>-1;if(result)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("getSiteLang",function(options){var siteLang=koreanair.Lang;if(typeof siteLang!=="string"||siteLang=="")siteLang="ko";return new Handlebars.SafeString(siteLang)});Handlebars.registerHelper("getCostLowestLang",function(options){var siteLang=koreanair.Lang;if(typeof siteLang!=="string"||siteLang=="")siteLang="ko";if(siteLang!="ko")siteLang="en";return new Handlebars.SafeString(siteLang)});
Handlebars.registerHelper("isTodayBeforeDate",function(date,options){var checkTime=moment(formatDate(date,options,"YYYY-MM-DD")).valueOf(),currentTime=moment(moment().format("YYYY-MM-DD")).valueOf();if(currentTime>checkTime)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("select",function(value,options){var $el=$("\x3cselect /\x3e").html(options.fn(this));$el.find("[value\x3d"+value+"]").attr({"selected":"selected"});return $el.html()});Handlebars.registerHelper("ymLocaleString",
function(date){var _langDat=moment.localeData();var tmp=moment(date).format("YYYY")+(_langDat._yearUnitStr||"");switch(_langDat._ymOrder.toUpperCase()){case "YM":tmp=tmp+" "+moment(date).format("MMMM");break;case "MY":tmp=moment(date).format("MMMM")+" "+tmp;break}return tmp});Handlebars.registerHelper("ymLocaleFormattedString",function(date,opt){var formats={MY:{"001":"strW + ', ' + strD","011":"strW + ', ' + strD + ' ' + strM",111:"strW + ', ' + strD + ' ' + strM + ', ' + strY"},YM:{"001":"strD + ' ' + strW",
"011":"strM + ' ' + strD + ' ' + strW",111:"strY + ' ' + strM + ' ' + strD + ' ' + strW"}};var d=moment.withZone(date);var ld=moment.localeData();var strY=ld._yearUnitStr?d.format("YYYY")+ld._yearUnitStr:d.format("YYYY");var strM=d.format("MMMM");var strD=ld._dayUnitStr?d.format("D")+ld._dayUnitStr:d.format("D");var strW=d.format("dddd");var str="";switch(ld._ymOrder){case "MY":case "YM":var fm=formats[ld._ymOrder][opt];if(!fm)fm=formats[ld._ymOrder]["111"];str=eval(fm);break}if(moment.withZone().format("YYYY-MM-DD")==
date)str+=", "+Granite.I18n.get("UWA-today-schedule");return str});Handlebars.registerHelper("comma",function(miles,options){if(!miles)return 0;if(window.numeral){if(options.hash.numberOfPassengers)miles=miles/options.hash.numberOfPassengers;miles=numeral(miles).format()}return miles});Handlebars.registerHelper("math",function(lvalue,operator,rvalue,options){lvalue=parseFloat(lvalue);rvalue=parseFloat(rvalue);return{"+":lvalue+rvalue,"-":lvalue-rvalue,"*":lvalue*rvalue,"/":lvalue/rvalue,"%":lvalue%
rvalue}[operator]});Handlebars.registerHelper("extractFareDiscountRate",function(options){return numeral(options.substring(2).split("_")[0]).format()});Handlebars.registerHelper("extractAircraftName",function(flight,options){if(!flight)return;var aircraftNameString="";if(flight.airlineCode==="KE"&&_.isUndefined(flight.operatedBy))aircraftNameString=Granite.I18n.get("nb-"+flight.aircraft+"-label");if(flight.airlineCode==="KE"&&flight.operatedBy||flight.airlineCode!=="KE")if(!_.isUndefined(flight.aircraftName))aircraftNameString=
flight.aircraftName;return new Handlebars.SafeString(aircraftNameString)});Handlebars.registerHelper("exists",function(variable,options){if(typeof variable!=="undefined")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("airportStringReplace",function(airportStr,regionCode){var result=airportStr;if(koreanair.Airports)result=koreanair.Airports.airportStringReplace(airportStr,regionCode);return new Handlebars.SafeString(result)});Handlebars.registerHelper("mobileAppData",
function(options){return koreanair.mobileAppUrlAddition&&koreanair.mobileAppUrlAddition.length>0?(options.hash.head||"")+koreanair.mobileAppUrlAddition.replace("?",""):""});Handlebars.registerHelper("insertHyphen",function(num,position){var hypString=num.substr(0,position)+"-"+num.substr(position);return hypString});Handlebars.registerHelper("ContactKalYesNo",function(yesno){return Granite.I18n.get(yesno+"-contact-kal")});Handlebars.registerHelper("x",function(expression,options){var fn=function(){},
result;try{fn=Function.apply(this,["window","return "+expression+";"])}catch(e){console.warn("[warning] {{x "+expression+"}} is invalid javascript",e)}try{result=fn.bind(this)(window)}catch(e){console.warn("[warning] {{x "+expression+"}} runtime error",e)}return result});Handlebars.registerHelper("domesticTicket",function(ticketNumber,options){if(ticketNumber.substr(3,1)==="8")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("keTicket",function(ticketNumber,options){if(ticketNumber&&
ticketNumber.length>3&&ticketNumber.trim().substr(0,3)=="180")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("xif",function(expression,options){return Handlebars.helpers["x"].apply(this,[expression,options])?options.fn(this):options.inverse(this)});Handlebars.registerHelper("loop",function(count,options){var output="";for(var idx=0;idx<count;idx++)output+=options.fn(_.extend(this,{"handlebars_stepLoopIndex":idx+1}));return output});Handlebars.registerHelper("ifActions",
function(actions,options){if(actions.PURCHASE.show||actions.UPGRADE.show||actions.OKCASHBAG.show||actions.CHANGE.show||actions.REISSUE.show||actions.CANCEL.show||actions.REFUND.show||actions.VIEW_REFUND.show)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("ifCond",function(v1,operator,v2,options){switch(operator){case "\x3d\x3d":return v1==v2?options.fn(this):options.inverse(this);case "\x3d\x3d\x3d":return v1===v2?options.fn(this):options.inverse(this);case "\x3c":return v1<
v2?options.fn(this):options.inverse(this);case "\x3c\x3d":return v1<=v2?options.fn(this):options.inverse(this);case "\x3e":return v1>v2?options.fn(this):options.inverse(this);case "\x3e\x3d":return v1>=v2?options.fn(this):options.inverse(this);case "\x26\x26":return v1&&v2?options.fn(this):options.inverse(this);case "||":return v1||v2?options.fn(this):options.inverse(this);default:return options.inverse(this)}});Handlebars.registerHelper("ifMulti",function(v1,exRegions,options){var reg=_.some(exRegions,
function(exRegion){return v1==exRegion});return reg?options.fn(this):options.inverse(this)});Handlebars.registerHelper("formatTicketNumber",function(ticketNumber){if(ticketNumber)if(ticketNumber.length===13)return ticketNumber.substring(0,3)+"-"+ticketNumber.substring(3);else return ticketNumber;else{var labelHTML='\x3cspan aria-hidden\x3d"true"\x3e---\x3c/span\x3e';return new Handlebars.SafeString(labelHTML)}});Handlebars.registerHelper("m_flightDurationCompund",function(departure,arrival,options){if(!departure||
!arrival)return"-";var duration;if(window.moment){var departureMoment=moment.withZone(departure);var arrivalMoment=moment.withZone(arrival);duration=departureMoment.timeDiff(arrivalMoment)}var hours=duration.hours;var minutes=duration.minutes;var source="flight-duration-label {0} {1}";var params=[hours,minutes];return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("m_calcDateOffset",function(flight,options){if(!flight.departure||!flight.arrival)return"";var format=
options.hash.format||"+0,0";var departure=moment.withZone(flight.departure);var arrival=moment.withZone(flight.arrival);var offsetDays=arrival.dayOffset(departure);var offset=offsetDays>0?"("+numeral(offsetDays).format(format)+" "+Granite.I18n.get("days-label")+")":"";return offset});Handlebars.registerHelper("m_calcDateOffsetDelayed",function(flight,options){if(!flight.estDepartureDatetime||!flight.estArrivalDatetime)return"";var format=options.hash.format||"+0,0";var fmtDepDt=flight.estDepartureDatetime.substr(0,
4)+"-"+flight.estDepartureDatetime.substr(4,2)+"-"+flight.estDepartureDatetime.substr(6,2)+"T"+flight.estDepartureDatetime.substr(8,2)+":"+flight.estDepartureDatetime.substr(10,2)+":00.000+09:00";var fmtArrDt=flight.estArrivalDatetime.substr(0,4)+"-"+flight.estArrivalDatetime.substr(4,2)+"-"+flight.estArrivalDatetime.substr(6,2)+"T"+flight.estArrivalDatetime.substr(8,2)+":"+flight.estArrivalDatetime.substr(10,2)+":00.000+09:00";var departure=moment.withZone(fmtDepDt);var arrival=moment.withZone(fmtArrDt);
var offsetDays=arrival.dayOffset(departure);var offset=offsetDays>0?"("+numeral(offsetDays).format(format)+" "+Granite.I18n.get("days-label")+")":"";return offset});Handlebars.registerHelper("m_delayCalcDateOffset",function(flight,options){if(!flight.departureDatetime||!flight.arrivalDatetime)return"";var format=options.hash.format||"+0,0";var departure=moment.withZone(flight.departureDatetime.estimated);var arrival=moment.withZone(flight.arrivalDatetime.estimated);var offsetDays=arrival.dayOffset(departure);
var offset=offsetDays>0?"("+numeral(offsetDays).format(format)+" "+Granite.I18n.get("days-label")+")":"";return offset});Handlebars.registerHelper("m_calcDateOffsetDelayDep",function(flight,options){if(!flight.changeDeparture||!flight.arrival)return"";var format=options.hash.format||"+0,0";var departure=moment.withZone(flight.departure);var arrival=moment.withZone(flight.changeDeparture);var offsetDays=arrival.dayOffset(departure);var offset=offsetDays>0?"("+numeral(offsetDays).format(format)+" "+
Granite.I18n.get("days-label")+")":"";return offset});Handlebars.registerHelper("m_calcDateOffsetDelayArr",function(flight,options){if(!flight.changeDeparture||!flight.arrival)return"";var format=options.hash.format||"+0,0";var departure=moment.withZone(flight.changeDeparture);var arrival=moment.withZone(flight.arrival);var offsetDays=arrival.dayOffset(departure);var offset=offsetDays>0?"("+numeral(offsetDays).format(format)+" "+Granite.I18n.get("days-label")+")":"";return offset});Handlebars.registerHelper("calcDateOffsetForFlightSelect",
function(flights,index,options){var fDeparture=flights[index-1]&&flights[index-1].arrival,fArrival=flights[index].departure;if(!fDeparture||!fArrival)return"";var format=options.hash.format||"+0,0";var departure=moment.withZone(fDeparture),arrival=moment.withZone(fArrival),offsetDays=arrival.dayOffset(departure);return offsetDays>0?"("+numeral(offsetDays).format(format)+" "+Granite.I18n.get("days-label")+")":""});Handlebars.registerHelper("m_tripTimeLocalized",function(trip,options){var format=koreanair.DateFormat.time||
"HH:mm";var departure="",arrival="",result;if(window.moment){if(trip.departure)departure=formatDate(trip.departure,options,format);if(trip.arrival)arrival=formatDate(trip.arrival,options,format);result=departure+" - "+arrival}return result});Handlebars.registerHelper("m_delayTripTimeLocalized",function(trip,idx,options){var format=koreanair.DateFormat.time||"HH:mm";var departure="",arrival="",result;if(window.moment){if(trip[idx].departureDatetime.scheduled)departure=formatDate(trip[idx].departureDatetime.scheduled,
options,format);if(trip[idx].arrivalDatetime.scheduled)arrival=formatDate(trip[idx].arrivalDatetime.scheduled,options,format);result=departure+" - "+arrival}return result});Handlebars.registerHelper("skypassNumberFormat",function(skypasNumber){var output=skypasNumber;if(output!=null&&output.length==12)output=output.substring(0,4)+" "+output.substring(4,8)+" "+output.substring(8,12);return output});Handlebars.registerHelper("skypassNumberMasking",function(skypassNumber){return skypassNumber?skypassNumber.replace(skypassNumber.substr(-4),
"****"):""});Handlebars.registerHelper("setIndex",function(value){this.index=Number(value)});Handlebars.registerHelper("viewBonusSeatsNotice",function(value){var link=['\x3ca href\x3d"../skypass/view-bonus-seat.html"','target\x3d"_blank"','class\x3d"bounsSeat"','title\x3d"'+Granite.I18n.get("nb-bonus-seat-view-label")+" - "+Granite.I18n.get("wal-openWindow")+'"\x3e',"["+Granite.I18n.get("nb-bonus-seat-view-label")+"]","\x3c/a\x3e"].join(" ");return new Handlebars.SafeString(Granite.I18n.get("nb-notice-bonus-seat {0}",
[link]))});Handlebars.registerHelper("displayFareWithSymbol",function(currency,number,sign,options){if(typeof number==="undefined")return"-";if(typeof sign!=="string")sign=number<0?"-":"+";if(sign=="-")sign='\x3cspan aria-hidden\x3d"true"\x3e-\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("UWA-refund-minus")+"\x3c/span\x3e";else sign="";var currencyFormat;if(currency=="KRW"||currency=="JPY")currencyFormat="0,000";else currencyFormat="0,000.00";var absoluteValue=Math.abs(number),
displayFare;if(window.numeral&&window.numeral.currency)displayFare=sign+numeral(absoluteValue).currency(options.hash.currencyType);else displayFare=sign+numeral(absoluteValue).format(currencyFormat);return new Handlebars.SafeString(displayFare)});Handlebars.registerHelper("calculateDifferFare",function(currency,amount1,amount2,options){if(typeof amount1==="undefined")return"-";var differFare=amount1-amount2,sign=differFare<0?"-":"+";if(sign=="-")sign='\x3cspan aria-hidden\x3d"true"\x3e'+sign+'\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+
Granite.I18n.get("UWA-refund-minus")+"\x3c/span\x3e";else sign="";var currencyFormat;if(currency=="KRW"||currency=="JPY")currencyFormat="0,000";else currencyFormat="0,000.00";var absoluteValue=Math.abs(differFare),displayFare;if(window.numeral&&window.numeral.currency)displayFare=sign+numeral(absoluteValue).currency(options.hash.currencyType);else displayFare=sign+numeral(absoluteValue).format(currencyFormat);return new Handlebars.SafeString(displayFare)});Handlebars.registerHelper("getFareDiscountLabel",
function(fare){if(fare)if(fare.outboundDiscountFareCode||fare.inboundDiscountFareCode)if(fare.discountCode&&fare.discountCode!="CNN"&&fare.discountCode!="STU"){var st=[];st.push('\x3cspan  class\x3d"spec-fare"\x3e(');st.push(Granite.I18n.get(fare.discountCode+"-discount-fare-label"));st.push(")\x3c/span\x3e");return new Handlebars.SafeString(st.join(""))}return undefined});Handlebars.registerHelper("every",function(){var args=Array.prototype.slice.call(arguments),options=args.pop(),result=_.every(args,
function(arg){return arg?true:false});if(result)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("some",function(){var args=Array.prototype.slice.call(arguments),options=args.pop(),result=_.some(args,function(arg){return arg?true:false});if(result)return options.fn(this);else return options.inverse(this)});var getAirportNameFormat=function(airportName){var out="";if(airportName==null)return out;out=Granite.I18n.get(airportName.toUpperCase()+"-airport-label ({0})");
if(out.indexOf("-airport-label")>0)out=Granite.I18n.get(airportName.toUpperCase()+"-city-label {0}");var pIndex=out.indexOf("(");var pSubstr=out.substring(0,pIndex);var sIndex=pSubstr.indexOf("/");out=out.substring(sIndex+1,pSubstr.length);return out};var getAirportName=function(airportName){var out="";if(airportName==null)return out;out=Granite.I18n.get(airportName.toUpperCase()+"-airport-label ({0})");if(out.indexOf("-airport-label")>0)out=Granite.I18n.get(airportName.toUpperCase()+"-city-label {0}");
var pIndex=out.indexOf("(");var pSubstr=out.substring(0,pIndex);out=pSubstr;return out};var getAirportNameByLoading=function(airportName){var out="";if(airportName==null)return out;out=Granite.I18n.get(airportName.toUpperCase()+"-city-label {0}");var startIndex=out.indexOf("(");var endIndex=out.indexOf(" -");var pSubstr=out.substring(0,startIndex);if(endIndex>-1)pSubstr+='\x3cspan class\x3d"airport-name"\x3e'+out.substring(endIndex)+"\x3c/span\x3e";out=pSubstr;return out};Handlebars.registerHelper("airportFromToNameFormat",
function(i18nStr,fromAirportCode,toAirportCode){var out=Granite.I18n.get(i18nStr,[getAirportNameFormat(fromAirportCode),getAirportNameFormat(toAirportCode)]);return out});Handlebars.registerHelper("discountAirportFromToNameFormat",function(i18nStr,fromAirportCode,toAirportCode){var fromAirportName=getAirportNameFormat(fromAirportCode);var toAirportName=getAirportNameFormat(toAirportCode);var allowLang=["en","es","pt-br","fr","de"];if(_.contains(allowLang,koreanair.Lang.toLowerCase())){var cityName=
Granite.I18n.get("SEL-city-label {0}").split(/\(| /)[0];if(fromAirportCode.toUpperCase()=="ICN")fromAirportName=cityName;if(toAirportCode.toUpperCase()=="ICN")toAirportName=cityName}if(koreanair.Lang.toLowerCase()=="en"){var cityName=Granite.I18n.get("PUS-city-label {0}").split(/\//)[0];if(fromAirportCode.toUpperCase()=="PUS")fromAirportName=cityName;if(toAirportCode.toUpperCase()=="PUS")toAirportName=cityName}var out=Granite.I18n.get(i18nStr,[fromAirportName,toAirportName]);return out});Handlebars.registerHelper("discountAirportFrom",
function(airportName){return getAirportNameFormat(airportName)});Handlebars.registerHelper("airportNameFormat",function(airportName){return getAirportName(airportName)});Handlebars.registerHelper("airportNameByLoading",function(airportName){return new Handlebars.SafeString(getAirportNameByLoading(airportName))});Handlebars.registerHelper("fromAirportToRegionFormat",function(i18nStr,fromAirportCode){var out=Granite.I18n.get(i18nStr,[getAirportNameFormat(fromAirportCode)]);return out});Handlebars.registerHelper("toUpper",
function(text){return text?text.toUpperCase():""});Handlebars.registerHelper("displayGoalMile",function(i18nStr,clubMile,currentMile){var dispMile=clubMile-currentMile;dispMile=numeral(dispMile).format("0,0.[0]");return Granite.I18n.get(i18nStr,[dispMile])});Handlebars.registerHelper("displayGoalOtherMile",function(i18nStr,i18nStr2,clubMile5,clubMile3,baseFrequency,keFrequency,currentMile,otherMile){var dispMile=clubMile3-Number(currentMile);var dispOtherMile=clubMile5-(Number(currentMile)+Number(otherMile));
var dispResultMile=0;var dispI18n="";if(dispMile<=0||baseFrequency!=0&&baseFrequency<=keFrequency){dispResultMile=numeral(dispOtherMile).format("0,0.[0]");dispI18n=Granite.I18n.get(i18nStr,[dispResultMile])}else{dispResultMile=numeral(dispMile).format("0,0.[0]");if(i18nStr2=="")dispI18n=Granite.I18n.get(i18nStr,[dispResultMile]);else dispI18n=Granite.I18n.get(i18nStr2,[dispResultMile])}return dispI18n});Handlebars.registerHelper("displayGoalFrequency",function(i18nStr,clubFrequency,currentFrequency){var dispFrequency=
clubFrequency-currentFrequency;dispFrequency=numeral(dispFrequency).format("0,0.[0]");return Granite.I18n.get(i18nStr,[dispFrequency])});Handlebars.registerHelper("displayGoalMileAddSkyteam",function(i18nStr,clubMile,currentMile,skyteamMile){var dispMile=clubMile-(currentMile+skyteamMile);dispMile=numeral(dispMile).format("0,0");return Granite.I18n.get(i18nStr,[dispMile])});Handlebars.registerHelper("getRegionInfo",function(){if(!koreanair.Lang)koreanair.Lang=koreanair.Cookie.get("lang")||"en";if(!koreanair.region)koreanair.region=
koreanair.Cookie.get("country")=="kr"&&koreanair.Lang=="ko"?"korea":"global";koreanair.Lang=koreanair.Lang.replace("-","_");return koreanair.region+"/"+koreanair.Lang});Handlebars.registerHelper("i18nNameParam",function(value,lastName,firstName){var params=lastName.toUpperCase()+" "+firstName.toUpperCase();return new Handlebars.SafeString(Granite.I18n.get(value,params))});Handlebars.registerHelper("giftTicketCardImage",function(cardImage){var cardType=cardImage.substr(0,6),cardNo=cardImage.substr(7,
8);return Granite.I18n.get("gift-ticket-email-"+cardType+"-photo"+cardNo)});Handlebars.registerHelper("flightDelayCompund",function(flights,options){var duration,formatString=koreanair.DateFormat.time,format=_.isEmpty(formatString)?"h:mma":formatString;if(window.moment){var departureMoment=moment.withZone(flights.departure),arrivalMoment=moment.withZone(flights.arrival),delayMoment=moment.withZone(flights.changeDeparture);duration=delayMoment.diff(departureMoment,"m")}var delayFormat=options.hash.format||
"+0,0";var offsetDepDays=delayMoment.dayOffset(departureMoment),offsetArrDays=arrivalMoment.dayOffset(departureMoment),offsetDep=offsetDepDays>0?"("+numeral(offsetDepDays).format(delayFormat)+" "+Granite.I18n.get("days-label")+")":"",offsetArr=offsetArrDays>0?"("+numeral(offsetArrDays).format(delayFormat)+" "+Granite.I18n.get("days-label")+")":"";departureMoment.add(duration,"m");arrivalMoment.add(duration,"m");var source="{0} "+offsetDep+" - {1} "+offsetArr;var params=[formatDate(departureMoment,
options,format),formatDate(arrivalMoment,options,format)];return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("flightDelaySummary",function(flights,options){var duration,formatString=koreanair.DateFormat.time,format=_.isEmpty(formatString)?"h:mma":formatString;if(window.moment){var departureMoment=moment.withZone(flights.departure),arrivalMoment=moment.withZone(flights.arrival),delayMoment=moment.withZone(flights.changeDeparture);duration=delayMoment.diff(departureMoment,
"m")}var delayFormat=options.hash.format||"+0,0";var offsetArrDays=arrivalMoment.dayOffset(departureMoment),offsetArr=offsetArrDays>0?"("+numeral(offsetArrDays).format(delayFormat)+" "+Granite.I18n.get("days-label")+")":"";departureMoment.add(duration,"m");arrivalMoment.add(duration,"m");var source="{0} - {1} "+offsetArr;var params=[formatDate(departureMoment,options,format),formatDate(arrivalMoment,options,format)];return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("flightDelayDep",
function(flights,options){var duration,formatString=koreanair.DateFormat.time,format=_.isEmpty(formatString)?"h:mma":formatString;if(window.moment){var departureMoment=moment.withZone(flights.departure),delayMoment=moment.withZone(flights.changeDeparture);duration=delayMoment.diff(departureMoment,"m")}departureMoment.add(duration,"m");var source="{0}";var params=[formatDate(departureMoment,options,format)];return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("flightDelayArr",
function(flights,options){var duration,formatString=koreanair.DateFormat.time,format=_.isEmpty(formatString)?"h:mma":formatString;if(window.moment){var departureMoment=moment.withZone(flights.departure),arrivalMoment=moment.withZone(flights.arrival),delayMoment=moment.withZone(flights.changeDeparture);duration=delayMoment.diff(departureMoment,"m")}arrivalMoment.add(duration,"m");var source="{0}";var params=[formatDate(arrivalMoment,options,format)];return new Handlebars.SafeString(Granite.I18n.get(source,
params))});Handlebars.registerHelper("m_flightDelayDep",function(flights,options){var duration,format=options.hash.format||"MMM Do (ddd) HH:mm";if(window.moment){var departureMoment=moment.withZone(flights.departure),delayMoment=moment.withZone(flights.changeDeparture);duration=delayMoment.diff(departureMoment,"m")}departureMoment.add(duration,"m");var source="{0}";var params=[formatDate(departureMoment,options,format)];return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("m_flightDelayArr",
function(flights,options){var duration,format=options.hash.format||"MMM Do (ddd) HH:mm";if(window.moment){var departureMoment=moment.withZone(flights.departure),arrivalMoment=moment.withZone(flights.arrival),delayMoment=moment.withZone(flights.changeDeparture);duration=delayMoment.diff(departureMoment,"m")}arrivalMoment.add(duration,"m");var source="{0}";var params=[formatDate(arrivalMoment,options,format)];return new Handlebars.SafeString(Granite.I18n.get(source,params))});Handlebars.registerHelper("dashIfNull",
function(options){if(options)return options;else{var dashIA='\x3cspan aria-hidden\x3d"true" class\x3d"t-inline"\x3e-\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("UWA-tablecontnet-blank")+"\x3c/span\x3e";return new Handlebars.SafeString(dashIA)}});Handlebars.registerHelper("passengerNameFilter",function(traveller,options){if(!traveller)return;var firstName=traveller.firstName||"";if(""==firstName)firstName=traveller.latinFirstName||"";var lastName=traveller.lastName||"";if(""==
lastName)lastName=traveller.latinLastName||"";var titles=["MR","MS","MSTR","MISS"],splitName=firstName.split(" ");if(splitName.length>1)if(_.indexOf(titles,splitName[splitName.length-1])>=0){splitName.pop();firstName=splitName.join(" ")}var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(lastName+firstName);if(isKorean)return lastName.trim()+firstName;return lastName+" "+firstName});Handlebars.registerHelper("paxNameLangTag",
function(traveller){var testWords=traveller.firstName+traveller.lastName;if(/.*[ㄱ-ㅎㅏ-ㅣ가-힣]+.*/g.test(testWords))return new Handlebars.SafeString('lang\x3d"ko"')});Handlebars.registerHelper("langTag",function(testWords){if(/.*[ㄱ-ㅎㅏ-ㅣ가-힣]+.*/g.test(testWords))return new Handlebars.SafeString('lang\x3d"ko"')});Handlebars.registerHelper("dpnaType",function(options){var result="";if(options.dpna&&options.wheelchair){switch(options.dpna){case "PWD":case "WRO":result=Granite.I18n.get("disabled-passenger-type-"+
options.dpna);break}switch(options.wheelchair){case "NONE":case "WCHR":case "WCHS":case "WCHC":result+="\x26nbsp;/\x26nbsp;"+Granite.I18n.get("wheel-chair-service-"+options.wheelchair);break}}return result});Handlebars.registerHelper("disableASR",function(options){var flight=this;var disabled=flight.isWaitListed||flight.airlineCode!="KE"||flight.airlineCode!="KE"&&flight.otherAirlineCode&&flight.otherAirlineCode!="AA"||flight.isInfoSeg;if(disabled)return options.fn(this);else return options.inverse(this)});
Handlebars.registerHelper("disableASRWithFlight",function(flight,options){var disabled=flight.isWaitListed||flight.airlineCode!="KE"||flight.airlineCode!="KE"&&flight.otherAirlineCode&&flight.otherAirlineCode!="AA"||flight.isInfoSeg;if(disabled)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("formatExpireDate",function(date,options){if(!date||date.length!==8)return"-";return date.substr(0,4)+"-"+date.substr(4,2)+"-"+date.substr(6,2)});Handlebars.registerHelper("ticketingStatus",
function(status){var statusKor=status,statusEng=status,siteLang=koreanair.Lang;if(!status)return" - ";switch(status){case "USED":statusKor="사용완료";statusEng="Used";break;case "PARTLYUSED":case "PARTIALYUSED":case "PARTIALY USED":statusKor="부분사용";statusEng="Partialy used";break;case "UNUSED":statusKor="미사용";statusEng="Unused";break;case "EXCHANGED":statusKor="재발행";statusEng="Exchanged";break;case "REFUNDED":statusKor="환불완료";statusEng="Refunded";break;case "REFUNDREQUESTED":case "REFUND REQUESTED":case "REFUND APPLIED":case "REFUNDAPPLIED":statusKor=
"환불진행";statusEng="Refund requested";break;case "SUSPENDED":statusKor="사용불가";statusEng="Suspended";break;case "UNDEFINED":statusKor="미확인";statusEng="Undefined";break;case "ACTIONNEEDED":statusKor="환불금 계산 완료-동의 필요";statusEng="Refund amount calculated – consent required";break;case "UNDERCALCULATION":statusKor="환불금 계산 중";statusEng="Calculating refund amount";break;case "PAIDCANCEL":statusKor="결제취소";statusEng="Payment Cancelled";break;default:statusKor=status;statusEng=status;break}if(!siteLang||siteLang!==
"ko")return new Handlebars.SafeString(statusEng);else return new Handlebars.SafeString(statusKor)});Handlebars.registerHelper("checkFlightStatus",function(action,options){var show=true;if(action==="CANCELLED")show=this.isCancelled;else if(action==="DELAYED")show=this.isDelayed;if(show)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("i18nSelectTitle",function(labelSuffix){return Granite.I18n.get(koreanair.common.utils.getUniquePageID()+"-"+labelSuffix)});Handlebars.registerHelper("inKorea",
function(options){if(koreanair.Country=="kr")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("combineFlightAndSeat",function(options){var rtn="";if(options.flight)for(var i=0;i<options.flight.length;i++){var str="";if(options.seats&&options.seats[i]&&options.seats[i].seatName){str="\x3cdiv\x3e"+options.flight[i].flightNumber+" (";str=str+options.seats[i].seatName+")\x3c/div\x3e"}else{str="\x3cdiv\x3e"+options.flight[i].flightNumber+' \x3cspan aria-hidden\x3d"true"\x3e(';
str=str+' - )\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("UWA-none-seatnum")+"\x3c/span\x3e\x3c/div\x3e"}rtn=rtn+str}return new Handlebars.SafeString(rtn)});Handlebars.registerHelper("isAllDomestic",function(bounds,options){var dom=true;$(bounds).each(function(){dom=dom&&this.isDomestic});if(dom)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("lowestSeats",function(seats){if(seats>0&&seats<4)return"remaining-seats"});Handlebars.registerHelper("noRefundCollectAll",
function(fareDetail,options){});Handlebars.registerHelper("isPaymentNoticeAvailable",function(isReissue,reissueObj,options){if(!isReissue||reissueObj&&reissueObj.r99_totalCollectFare>0)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("loungeInfoEligible",function(options){var eligible=false,iti=koreanair.data.itinerary.toJSON(),cdat=koreanair.data.checkinData.toJSON();var airportCheckFunc=function(departureAirport){switch((departureAirport||"").substr(0,3).toUpperCase()){case "PUS":eligible=
!!iti.isDomestic;break;case "GMP":eligible=!!iti.isDomestic?moment(cdat.flights[0].departure).isBefore("2018-06-22","day"):moment(cdat.flights[0].departure).isBefore("2018-06-25","day");break;case "CJU":case "TAE":case "KWJ":case "KIJ":case "OKJ":case "AOJ":case "AXT":case "KMQ":case "ROR":eligible=true;break}},departureByIdFunc=function(fid){var depAp=null;$(iti.bounds).each(function(bIdx,bnd){$(bnd.flights).each(function(fIdx,fgt){if(fgt.flightId===fid)depAp=fgt.departureAirportCode})});return depAp};
_.each(iti.travellers,function(traveller){if(traveller.selected)_.each(traveller.flightCheckInStatus,function(fchkStat){if(fchkStat.status&&fchkStat.status==="CHECKED"&&(fchkStat.loungeService===true||fchkStat.loungeService==="true")){var dpAirport=departureByIdFunc(fchkStat.flightId),apEligible=airportCheckFunc(dpAirport);if(!eligible&&apEligible)eligible==true}})});if(eligible)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("reservationBaggage",function(d){var d1=
["UPTO","AND","CARRY"];for(var c in d1)d=d.replace(new RegExp(d1[c],"g"),d1[c].toLowerCase()+" ");return new Handlebars.SafeString(d)});Handlebars.registerHelper("blankToDash",function(d){return""==d||undefined==d?new Handlebars.SafeString('\x3cspan aria-hidden\x3d"true"\x3e-\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("UWA-tablecontnet-blank")+"\x3c/span\x3e"):d.replace(d.substr(-4),"****")});Handlebars.registerHelper("numberExtract",function(txt){if(txt)return(txt+"").replace(/[^0-9]/g,
"")});Handlebars.registerHelper("i18nThreeWordsCombination",function(first,second,third){return Granite.I18n.get(first+second+third)});Handlebars.registerHelper("isFromEU",function(bounds,options){var rst=false,euAirports=["FRA"];try{rst=euAirports.indexOf(bounds[0].departureAirportCode)>=0}catch(err){}if(rst)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("isFromTAO",function(bounds,options){var rst=false,chkAirports=["TAO"];try{rst=chkAirports.indexOf(bounds[0].departureAirportCode)>=
0}catch(err){}if(rst)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("returnFlightNum",function(flights,options){var flightN="";_.each(flights,function(flight){flightN+=flight.flightNumber+" "});return flightN});Handlebars.registerHelper("hasPayType",function(category,type,options){var payTypes=koreanair.router.bookingPaymentStep&&koreanair.router.bookingPaymentStep.paymentTypeDetail?koreanair.router.bookingPaymentStep.paymentTypeDetail[category]:null;if(payTypes&&
payTypes.indexOf(type)>=0)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("isNotMobileZone",function(options){if(koreanair.isCheckinMobileZone)return options.inverse(this);else return options.fn(this)});Handlebars.registerHelper("freeBaggageAirLineRegulation",function(airLineCode){var airlineName=Granite.I18n.get(airLineCode+"-airline-name");return Granite.I18n.get("FBAL-flight-label",[airlineName,airLineCode])});Handlebars.registerHelper("getFamilyPlanDisabled",
function(family){if(family.skypassMiles=="0")return"disabled";else if(family.skypassMemberStatusCode.toUpperCase()=="SLEEPING")return"disabled";return""});Handlebars.registerHelper("checkFamilySleepingStatus",function(family){var html='\x26nbsp;\x3cdiv class\x3d"dormancy-member"\x3e';html+=Granite.I18n.get("skypass-dormancy-member");html+="\x3c/div\x3e";if(family.skypassMemberStatusCode.toUpperCase()=="SLEEPING")return new Handlebars.SafeString(html)});Handlebars.registerHelper("getFamilyPlanClass",
function(family){if(family.skypassMemberStatusCode.toUpperCase()=="SLEEPING")return"dormancy-default";return"control"});Handlebars.registerHelper("loungeCouponName",function(couponCode){return Granite.I18n.get("lougeCouponName-"+couponCode)});Handlebars.registerHelper("loungeCouponLoungeOption",function(couponCode,hdCount,loungeOption){if(couponCode==="HD00001"||couponCode==="HD00002")if(hdCount=="")return Granite.I18n.get("lounge-coupon-lounge-option-pr");else{var intHdCount=parseInt(hdCount,10);
intHdCount=intHdCount+1;if(intHdCount%500==0)return Granite.I18n.get("lounge-coupon-lounge-option-all");else return Granite.I18n.get("lounge-coupon-lounge-option-pr")}else if(loungeOption=="ALL")return Granite.I18n.get("lounge-coupon-lounge-option-all");else if(loungeOption=="OWN")return Granite.I18n.get("lounge-coupon-lounge-option-own");else return loungeOption});Handlebars.registerHelper("loungeCouponCount",function(currentCouponCount){return Granite.I18n.get("lounge-coupon-avail-count-list",[currentCouponCount])});
Handlebars.registerHelper("loungeCouponCountDetail",function(currentCouponCount,totalCouponCount){return Granite.I18n.get("lounge-coupon-avail-count",[currentCouponCount,totalCouponCount])});Handlebars.registerHelper("loungeCouponBeneficiaryYn",function(beneficiaryYn){if(beneficiaryYn==="Y")return Granite.I18n.get("lounge-coupon-beneficiary-y");else return Granite.I18n.get("my-coupon-only-for-me")});Handlebars.registerHelper("loungeCouponValidString",function(dateString){if(dateString&&dateString!=
""&&dateString.length==8){var formatDateString=dateString.slice(0,4)+"-"+dateString.slice(4,6)+"-"+dateString.slice(6,8);return formatDateString}else return dateString});Handlebars.registerHelper("loungeCouponAvailYn",function(useStatus){return Granite.I18n.get("my-coupon-status-"+useStatus)});Handlebars.registerHelper("loungeCouponAvailYnCSS",function(useStatus,pcMob){if(pcMob=="pc")if(useStatus=="available")return"available";else return"";else if(useStatus=="available")return"";else return"off"});
Handlebars.registerHelper("loungeCouponHistoryBeneficiary",function(beneficiaryName){if(beneficiaryName&&beneficiaryName!="")return beneficiaryName.toUpperCase();else return Granite.I18n.get("lounge-coupon-history-himself")});Handlebars.registerHelper("loungeCouponHistoryCancelCheck",function(cancelStatus,options){if(cancelStatus=="")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("lounge-coupon-notice",function(text){var notice1=Granite.I18n.get("lounge-coupon-notice1");
var notice2=Granite.I18n.get("lounge-coupon-notice2");var notice3=Granite.I18n.get("lounge-coupon-notice3");var notice4=Granite.I18n.get("lounge-coupon-notice4");var noticeHtml="";if(notice1!="lounge-coupon-notice1")noticeHtml+="\x3cli\x3e"+notice1+"\x3c/li\x3e";if(notice2!="lounge-coupon-notice2")noticeHtml+="\x3cli\x3e"+notice2+"\x3c/li\x3e";if(notice3!="lounge-coupon-notice3")noticeHtml+="\x3cli\x3e"+notice3+"\x3c/li\x3e";if(notice4!="lounge-coupon-notice4")noticeHtml+="\x3cli\x3e"+notice4+"\x3c/li\x3e";
return noticeHtml});Handlebars.registerHelper("partnersCouponUseyn",function(useYn){if(useYn=="N")return Granite.I18n.get("my-coupon-status-available");else return Granite.I18n.get("my-coupon-status-used")});Handlebars.registerHelper("bookingCouponDiscount",function(typeCode,rate,amount,currency){var _rate={};function convertForCurrency(number,currencyType){if(window.numeral&&window.numeral.currency)return numeral(number).currency(currencyType);return number}switch(typeCode){case "R":_rate.label=
"my-coupon-discount-rate";if(!!rate)_rate.param=[rate];break;case "A":_rate.text=convertForCurrency(amount,currency);break}var result="";if(!!_rate&&!!_rate.label)if(!!_rate.param)result=Granite.I18n.get(_rate.label,_rate.param);else result=Granite.I18n.get(_rate.label);else if(!!_rate.text)result=_rate.text;return result});Handlebars.registerHelper("bookingCouponDates",function(dates){return moment(dates).format("YYYY-MM-DD HH:mm")});Handlebars.registerHelper("bookingCouponAvail",function(maxUseCount){var str=
"";switch(maxUseCount){case 9999999999:str=Granite.I18n.get("my-coupon-avail-unlimited");break;case 1:str=Granite.I18n.get("my-coupon-avail-single-use");break;default:if(!isNaN(maxUseCount))str=Granite.I18n.get("my-coupon-avail-limited",maxUseCount);break}return str});Handlebars.registerHelper("bookingCouponDevice",function(device){var str="";switch(device){case "ALL":str=Granite.I18n.get("my-coupon-usable-device-both");break;case "PCW":str=Granite.I18n.get("my-coupon-usable-device-pc");break;case "PHW":str=
Granite.I18n.get("my-coupon-usable-device-mobile");break}return str});Handlebars.registerHelper("bookingCouponUsePossible",function(couponNumber,discountTypeCode,otherUsePossible,minPassenger,maxPassenger,familyInclusive,minFamilyPaxCount){var strArr=[];if(discountTypeCode=="A"&&couponNumber.substr(1,3)=="CMS")return Granite.I18n.get("my-coupon-only-for-me");if(!!otherUsePossible&&!!familyInclusive&&(minFamilyPaxCount&&minFamilyPaxCount>0))strArr.push(Granite.I18n.get("my-coupon-man-with-me-family",
minFamilyPaxCount));else{if(!!otherUsePossible)strArr.push(Granite.I18n.get("my-coupon-man-with-me"));if(!!familyInclusive&&(minFamilyPaxCount&&minFamilyPaxCount>0))strArr.push(Granite.I18n.get("my-coupon-man-with-family",minFamilyPaxCount))}if(!!minPassenger&&!!maxPassenger){var _min=parseInt(minPassenger),_max=parseInt(maxPassenger);if(!isNaN(_max))if(_min==1&&_max==27);else if(!isNaN(_min))strArr.push(Granite.I18n.get("my-coupon-man-headcount",[_min,_max]));else;else;}else;if(strArr.length==0)strArr.push(Granite.I18n.get("my-coupon-man-unlimited"));
return strArr.join(" ")});Handlebars.registerHelper("bookingCouponCost",function(includedFareBasis,excludedFareBasis){var _cost=Granite.I18n.get("my-coupon-cost-unlimited");if(includedFareBasis&&includedFareBasis.length>0)_cost=includedFareBasis.join(", ");else if(excludedFareBasis&&excludedFareBasis.length>0)_cost=Granite.I18n.get("my-coupon-cost-exclude",[excludedFareBasis.join(", ")]);return _cost});Handlebars.registerHelper("bookingCouponTrip",function(boundRoutes){var _trip="";function getNameLabel(lebel,
code){var regionMap={"AME":"americas","CHN":"China","EUR":"europe","SEA":"Southeast Asia/India","KOR":"korea","OCN":"Oceania/Guam","MEA":"africa-middleeast","JPN":"Japan","CIS":"Russia/Mongolia/Central Asia"};switch(lebel){case "1":return Granite.I18n.get(regionMap[code]+"-region-label");break;case "4":return Granite.I18n.get(code+"-city-name");break}}function getFlightInfo(flights,flg){var result="";if(!!flights&&flights.length>0,typeof flg=="string")switch(flg.toLowerCase()){case "include":result=
flights;break;case "exclude":result=Granite.I18n.get("my-coupon-bound-route-exclude",flights);break;default:break}return result}if(boundRoutes&&boundRoutes.length>0){var lists=[];_.each(boundRoutes,function(boundRoute){var _flight=getFlightInfo(boundRoute.boundFlight,boundRoute.boundFlightFlag);if(boundRoute.departureLocation==="WWW"&&boundRoute.destinationLocation==="WWW"){var _tmp=Granite.I18n.get("my-coupon-bound-routes-unlimited");if(_flight)_tmp+="("+_flight+")";lists.push(_tmp)}else if(boundRoute.departureLocation==
"KOR"&&boundRoute.destinationLocation=="WWW"){var _tmp=Granite.I18n.get("country-KR-label")+" - "+Granite.I18n.get("my-coupon-bound-routes-nonestop");if(_flight)_tmp+="("+_flight+")";lists.push(_tmp)}else if(boundRoute.departureLocation=="WWW"&&boundRoute.destinationLocation=="KOR"){var _tmp=Granite.I18n.get("my-coupon-bound-routes-nonestop")+" - "+Granite.I18n.get("country-KR-label");if(_flight)_tmp+="("+_flight+")";lists.push(_tmp)}else{var depStr=getNameLabel(boundRoute.departureLocationLvl,boundRoute.departureLocation),
arrStr=getNameLabel(boundRoute.destinationLocationLvl,boundRoute.destinationLocation);if(boundRoute.boundFlight!=="KEXXXX")if(_flight)arrStr+="("+_flight+")";lists.push(depStr+"-"+arrStr)}});_trip=lists.join(", ")}return _trip});Handlebars.registerHelper("bookingCouponDays",function(boundDayLimit,boundDayOfWeeks){var _days=Granite.I18n.get("my-coupon-bound-dates-unlimited");if(boundDayLimit){var daysArr=[];_.each(boundDayOfWeeks,function(boundDayOfWeek){daysArr.push(moment().weekday(boundDayOfWeek).format("ddd"))});
_days=daysArr.join(", ")}return _days});Handlebars.registerHelper("relationshipFromCode",function(code){return{"00":Granite.I18n.get("pe-member-himself"),"03":Granite.I18n.get("grandparent"),51:Granite.I18n.get("maternal-grandparent"),"05":Granite.I18n.get("parent"),"07":Granite.I18n.get("parent-of-spouse"),10:Granite.I18n.get("spouse"),20:Granite.I18n.get("brother-sister"),30:Granite.I18n.get("child"),35:Granite.I18n.get("grand-child"),40:Granite.I18n.get("daughter-son-in-law"),60:Granite.I18n.get("child-of-daughter")}[code]});
Handlebars.registerHelper("upgradeClassInfo",function(bookingClass){var result;if("A"==bookingClass)result=Granite.I18n.get("FIRST-label")+"(A)";else if("Z"==bookingClass)result=Granite.I18n.get("PRESTIGE-label")+"(Z)";else result=Granite.I18n.get("ECONOMY-label")+"("+bookingClass+")";return result});Handlebars.registerHelper("isKORlang",function(options){if(koreanair.Language==="ko-kr")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("ifContainOAL",function(flights,
options){var resultValue=false;_.each(flights,function(flight){if(flight.otherAirLineCode&&flight.otherAirLineCode!="KE")resultValue=true});if(resultValue)return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("cashReceiptRequestNumberMasking",function(type,number){var txt="";if(type==1)txt=number.substr(0,4)+"-****-****-"+number.substr(12);else if(type==2)txt=number.substr(0,4)+"-"+number.substr(4,8)+"-****-"+number.substr(12);else if(type==4)if(number.length>10)txt=
number.substr(0,3)+"-****-"+number.substr(7);else txt=number.substr(0,3)+"-***-"+number.substr(6);else if(type==5)txt=number.substr(0,3)+"-"+number.substr(3,2)+"-"+number.substr(5);return txt});Handlebars.registerHelper("passengerNameWithLang",function(traveller,isUppercase){var result="";var allKorean=/[\uA960-\uA97F\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3200-\u32FF\uD780-\uD7FF\uFF00-\uFFEF]+/;var isKorean=allKorean.test(traveller.firstName+traveller.lastName);if(isKorean){result=traveller.lastName+
traveller.firstName;return'\x3cspan lang\x3d"ko"\x3e'+result+"\x3c/span\x3e"}else result=traveller.lastName+"/"+traveller.firstName;return isUppercase?result.toUpperCase():result});Handlebars.registerHelper("wrapLangSpan",function(txt){var korChars="",resultStr="";for(var cs=0;cs<txt.length;cs++){var char=txt.charAt(cs);if(char>="ㄱ"&&char<="힣")korChars+=char;else{resultStr+=(korChars?'\x3cspan lang\x3d"ko"\x3e'+korChars+"\x3c/span\x3e":"")+char;korChars=""}}return resultStr});Handlebars.registerHelper("isKORlang",
function(options){if(koreanair.Language==="ko-kr")return options.fn(this);else return options.inverse(this)});var i18nFromSrcEmpty=function(source){var params=Array.prototype.slice.call(arguments,1),options=params.pop();var i18nFunction=options.hash.locale?_.partial(Granite.I18n.localeGet,options.hash.locale):Granite.I18n.get;var result=i18nFunction(source,params);if(result==source)result="";return new Handlebars.SafeString(result)};Handlebars.registerHelper("i18nEmpty",function(source){return i18nFromSrcEmpty.apply(null,
arguments)});Handlebars.registerHelper("getRainAndFlyLink",function(labelStr){var url="/traveling/airport-transit-information.html#rail-fly";if(!koreanair.Lang)koreanair.Lang=koreanair.Cookie.get("lang")||"en";if(!koreanair.region)koreanair.region=koreanair.Cookie.get("country")=="kr"&&koreanair.Lang=="ko"?"korea":"global";koreanair.Lang=koreanair.Lang.replace("-","_");var prefix=koreanair.region+"/"+koreanair.Lang;return Granite.I18n.get(labelStr,"/"+prefix+url)});Handlebars.registerHelper("apisPrefillCountry",
function(code){var countries=koreanair.countries();return code?_.findWhere(countries,{"value":code}).text:""});Handlebars.registerHelper("apisPrefillState",function(statesData,code){return code?_.findWhere(statesData,{"value":code}).text:""});Handlebars.registerHelper("delayedFlightInfo",function(itineraryData,options){var delayed=[];_.each(itineraryData.bounds,function(bound){_.each(bound.flights,function(flight){if(flight.isDelayed===true||flight.delayed===true)delayed.push(flight.flightNumber+
" ("+moment.withZone(flight.departure).format("MMM Do")+")")})});var tmp=new Handlebars.SafeString(delayed.join(" / "));return!!tmp?tmp+" ":""});Handlebars.registerHelper("dateMax",function(bounds,value,options){var timeZ="",timeOptions="",code=bounds.outbound;koreanair.Airports.getAirportList().done(function(airportList){_.each(airportList,function(airport){if(airport.code==code){timeZ=airport.timezone;return false}});if(timeZ)timeOptions=moment.tz(moment([]),timeZ).add(361,"days").format("YYYY-MM-DD")});
if(moment(timeOptions).isBefore(moment(value).format("YYYY-MM-DD")))return options.inverse(this);else return options.fn(this)})})(moment,numeral,_,Handlebars,koreanair);
(function(moment,numeral,_,Handlebars,koreanair){var buildFacilityPlacement=function(numColumns,columnValues,columnType){if(columnValues.length===0){columnValues.push({length:numColumns,facilityType:"empty",rowType:"facility"});return}if(columnType==="C"&&numColumns===1){var hasC=_.find(columnValues,function(cv){return cv.columnLocation==="C"});if(!hasC)return}if(columnValues.length===1){columnValues[0].length=numColumns;return}var gapsToFill=numColumns-columnValues.reduce(function(memo,item){return memo+
item.length},0);var resizeGaps=function(columnValue){if(gapsToFill>0){columnValue.length+=1;gapsToFill-=1}else if(gapsToFill<0)if(columnValue.length>1){columnValue.length-=1;gapsToFill+=1}};var maxTries=0;while(gapsToFill!==0&&maxTries<10){columnValues.forEach(resizeGaps);maxTries+=1}for(var i=0;i<columnValues.length;i++){var next=columnValues[i+1],current=columnValues[i];if(next&&current)if(next.facilityType===current.facilityType){current.length+=next.length;next.length=0}}};Handlebars.registerHelper("facilityRow",
function(facilityRow,cabin,option){if(cabin.numberOfColumns===5){var gFacilities=_.groupBy(facilityRow.columns,"columnLocation");var facs=["L","LC","C","RC","R"].map(function(placement){var facilityItem=_.first(gFacilities[placement]);return facilityItem!==undefined?'\x3ctd colspan\x3d"1" rowspan\x3d"1" class\x3d"seating-column '+facilityItem.facilityType.toLowerCase()+" "+facilityItem["type"].toLowerCase()+'" data-column-location\x3d"'+placement+'"\x3e'+"\x3c/td\x3e":'\x3ctd class\x3d"seating-column aisle"\x3e\x3c/td\x3e'});
return new Handlebars.SafeString(facs.join(""))}var results=[];var facilities=_.map(facilityRow.columns,function(facility){var sizeData=cabin.columnPlacement[facility.columnLocation];return _.extend({rowType:facility.type.toLowerCase(),facilityType:facility.facilityType.toLowerCase(),columnLocation:facility.columnLocation},sizeData)});var grouper=function(entry){if(entry.columnLocation==="LC")return"C";if(entry.columnLocation==="RC")return"C";return entry.columnLocation};var grouped=facilities.reduce(function(memo,
facility){var facilityLocation=grouper(facility);memo[facilityLocation].push(facility);return memo},{"L":[],"C":[],"R":[]});buildFacilityPlacement(cabin.columnPlacement.L.length,grouped.L,"L");buildFacilityPlacement(cabin.columnPlacement.C.length,grouped.C,"C");buildFacilityPlacement(cabin.columnPlacement.R.length,grouped.R,"R");var buildFacility=function(facilityItem){if(facilityItem.length>0)results.push('\x3ctd colspan\x3d"'+facilityItem.length+'" rowspan\x3d"1" class\x3d"seating-column '+facilityItem.facilityType+
" "+facilityItem.rowType+'" data-column-location\x3d"'+facilityItem.columnLocation+'"\x3e'+"\x3c/td\x3e")};var computeLength=function(toSum){return toSum.reduce(function(memo,item){return memo+item.length},0)};grouped.L.forEach(buildFacility);if(computeLength(grouped.L)+computeLength(grouped.C)<cabin.columnPlacement.R.start)results.push('\x3ctd class\x3d"seating-column aisle"\x3e\x3c/td\x3e');grouped.C.forEach(buildFacility);if(computeLength(grouped.L)+computeLength(grouped.C)+2===cabin.columnPlacement.R.start)results.push('\x3ctd class\x3d"seating-column aisle"\x3e\x3c/td\x3e');
grouped.R.forEach(buildFacility);return new Handlebars.SafeString(results.join(""))});Handlebars.registerHelper("seats",function(seats,options){return new Handlebars.SafeString((_.uniq(_.compact(_.pluck(seats,"seatName")))||[]).join("/"))});Handlebars.registerHelper("row-summary",function(row,options){var i18nKey=row.type==="SEATS"?"":"seating-"+(row.type||"")+"-summary";i18nKey=i18nKey.toLowerCase();var result=i18nKey?Granite.I18n.get(i18nKey):"";if(row.rowIndex)result+=" "+Granite.I18n.get("row-number-label")+
" "+row.rowIndex;return new Handlebars.SafeString(result)})})(moment,numeral,_,Handlebars,koreanair);
(function(moment,_){var ZONE=/[+-]\d{1,2}:?\d{2}$/;moment.withZone=function(dateStr,format){if(moment.isMoment(dateStr))return _.has(dateStr,"_offset")?dateStr:dateStr.parseZone();if(!ZONE.test(dateStr)&&!/[zZ]$/.test(dateStr))return format?moment.utc(dateStr):moment.utc(dateStr,format);var zoneOffset=moment.parseZone(dateStr).zone();return moment(dateStr).zone(zoneOffset)};moment.getTime=function(dateStr){return(new Date(moment.withZone(dateStr).format("YYYY-MM-DD"))).getTime()};moment.fn.sameDay=
function(aMoment){var checkFormat="MM/DD";return this.format(checkFormat)===moment(aMoment).format(checkFormat)};moment.fn.timeDiff=function(endTime){var offsetTime=endTime.clone();var hours=offsetTime.diff(this,"hours");offsetTime.subtract(hours,"hours");var minutes=offsetTime.diff(this,"minutes");offsetTime.subtract(minutes,"minutes");var seconds=offsetTime.diff(this,"seconds");var offset={hours:hours,minutes:minutes,seconds:seconds};return offset};moment.fn.dayOffset=function(otherMoment){var thisMoment=
moment.utc(this.clone().format("MM/DD/YYYY"));otherMoment=moment.utc(otherMoment.clone().format("MM/DD/YYYY"));return thisMoment.diff(otherMoment,"days")};moment.fn.getStdFormattedDate=function(dateStr){var dateFormat=koreanair.Booking.INPUT.DATE_FORMAT;dateStr=moment(dateStr).format(dateFormat);return dateStr}})(moment,_);
(function($,koreanair){var orgfunction=$.ajax;$.ajax=function(){var tmpAjax,SESSION_STORAGE_HEADER="keacl__",LIMIT_COUNT=20,LIMIT_TERM=1E3;if(!!window.sessionStorage){if(arguments.length>0){var urlkey;if(typeof arguments[0]=="string")urlkey=arguments[0];else if(typeof arguments[0]=="object"&&arguments[0].url)urlkey=arguments[0].url}if(!!urlkey&&urlkey.indexOf("/api/")<0)tmpAjax=orgfunction.apply($,arguments);else if(!urlkey)tmpAjax=orgfunction.apply($,arguments);else{urlkey=SESSION_STORAGE_HEADER+
urlkey;var dat=JSON.parse(sessionStorage.getItem(urlkey));if(!dat||Date.now()-dat.t>LIMIT_TERM)dat={t:Date.now(),c:1};if(dat.c>LIMIT_COUNT&&Date.now()-dat.t<=LIMIT_TERM)tmpAjax=$.Deferred();else{dat.c++;sessionStorage.setItem(urlkey,JSON.stringify(dat));tmpAjax=orgfunction.apply($,arguments)}}}else tmpAjax=orgfunction.apply($,arguments);return tmpAjax}})(jQuery,koreanair);
(function($,koreanair){$.ajaxSetup({dataType:"json"});koreanair.ajaxPrefilterJson=function(options,originalOptions,jqXhr){if(options.path){options.url=options.url.replace(/\{(\w+)\}/g,function(match,$1){return options.path[$1]});delete options.path}if(options.params){options.url+=options.url.indexOf("?")>-1?"\x26":"?";options.url+=$.param(options.params);delete options.params}if(options.paramsList){options.url+=options.url.indexOf("?")>-1?"\x26":"?";options.url+=_.reduce(options.paramsList,function(memo,
item,index){if(index!==0)memo+="\x26";memo+=encodeURIComponent(item.name)+"\x3d"+encodeURIComponent(item.value);return memo},"");delete options.paramsList}};$.ajaxPrefilter("json",koreanair.ajaxPrefilterJson);function Request(){this.initialize.apply(this,arguments)}$.extend(Request.prototype,{initialize:function(url){this.url=url},ajax:function(settings){var options=$.extend({url:this.url},settings);return $.ajax(options)}});$.each(["get","post","put","delete"],function(i,method){Request.prototype[method]=
function(settings){var options=$.extend({type:method},settings);return this.ajax(options)}});window.koreanair=koreanair||{};window.koreanair.Request=Request;var param=$.param;function flatten(obj,flat,prefix){if(typeof obj==="object"&&$.isEmptyObject(obj))return null;var f=flat||{},hasPrefix=typeof prefix!=="undefined",prop,i;if(hasPrefix&&$.isArray(obj))for(i=0;i<obj.length;++i)flatten(obj[i],f,prefix+"["+i+"]");else if(typeof obj==="object")for(prop in obj)flatten(obj[prop],f,prefix?prefix+"."+
prop:prop);else if(hasPrefix)f[prefix]=obj;else f=obj;return f}$.param=function(obj){return param.call(this,flatten(obj))};$.fn.serialize=function(){return param.call($,this.serializeArray())};$.fn.serializeObject=function(){var serial={};$(this.serializeArray()).each(function(index,object){if(object.name.indexOf(".")>-1){var names=object.name.split("."),nested=serial[names[0]]||{},level=nested,index,total=names.length;for(index=1;index<total-1;++index){if(typeof level[names[index]]!=="object")level[names[index]]=
{};level=level[names[index]]}level[names[total-1]]=object.value;serial[names[0]]=nested}else serial[object.name]=object.value});return serial};var coerceString=function(value){var coerceTypes={"true":true,"false":false,"null":null};if(value&&!isNaN(value))return Number(value);else if(value==="undefined")return undefined;else if(coerceTypes[value]!==undefined)return coerceTypes[value];return value};$.deparam=function(params,coerce){var obj={};$.each(params.replace(/\+/g," ").split("\x26"),function(index,
pair){var param=pair.split("\x3d"),key=decodeURIComponent(param[0]),val;var keys=key.match(/\w+/g);var keysLast;if(keys!==null)keysLast=keys.length-1;if(param.length===2){try{val=decodeURIComponent(param[1])}catch(e){val=unescape(param[1])}if(coerce)val=coerceString(val);if(keys.length>1){var cur=obj;$.each(keys,function(index,key){if(index!==keysLast){if(_.isUndefined(cur[key]))cur[key]=keys[index+1]&&isNaN(keys[index+1])?{}:[];cur=cur[key]}else cur[key]=val})}else if($.isArray(obj[key]))obj[key].push(val);
else if(obj[key]!==undefined)obj[key]=[obj[key],val];else obj[key]=val}else if(key)obj[key]=coerce?undefined:""});return obj}})(jQuery,koreanair);
(function($,koreanair,Request,ServiceApi){var _urlPathName=location.pathname,_protocol=location.protocol;function getUrlRegion(){if(/\/(korea|global)\//.test(_urlPathName))return RegExp.$1;else return""}function getResponseHeader(xhr,headerName){var value=xhr.getResponseHeader(headerName);return value==="null"?null:value}function getPageId(){var paths=location.pathname.replace(/^(\/content\/koreanair)?(\/korea)?/,"").split("/");return"/"+(paths.length>3?paths.slice(2).join("/"):"index.html")}function setUidd(){return"83^51%8638461@384712"}
function ajax(url,settings){var options,success,error;if(arguments.length>1){options=settings;if(typeof url==="object"){options.url=url.path;options.version=url.version}else options.url=url}else options=arguments[0];options=$.extend({dataType:"json",cache:false,timeout:12E4},options);if(options.type==="post"&&!options.contentType)options.contentType="application/json; charset\x3dUTF-8";success=options.success||$.noop;error=options.error;if(options.showGlobalError!==true&&error)options.showGlobalError=
false;var pt=document.title.split("-"),pageTitle=_.without(pt,pt[pt.length-1]),sendTitle="";_.each(pageTitle,function(title){sendTitle+=" "+title.trim()});if(window.localStorage&&localStorage.getItem("koreanairMobileAppVersion")){options.headers=options.headers||{};options.headers.appVersion=localStorage.getItem("koreanairMobileAppVersion")}options.headers=$.extend({"pageTitle":encodeURI(sendTitle),"version":options.version||"1.0","cache":false,"timeout":2*60*1E3,"uidd":setUidd(),"page-id":getPageId()},
options.headers);if(options.type==="post")options.headers.requestTime=(new Date).getTime();if(koreanair.Language)options.headers.Locale=koreanair.Lang+"-"+koreanair.Country;if(ServiceApi.flightSessionId)options.headers.FlightSessionId=ServiceApi.flightSessionId;if(ServiceApi.region)options.headers.Region=ServiceApi.region;if(ServiceApi.origination)options.headers.Origination=ServiceApi.origination;if(koreanair.isMobile)if(koreanair.mobileAppData)options.headers.Channel=koreanair.mobileAppData.channel&&
koreanair.mobileAppData.channel.toLowerCase()==="android"?"Android":"iOS";else options.headers.Channel="mobile";if(koreanair.inflowroute){options.headers.inflowroute=koreanair.inflowroute;koreanair.inflowroute=""}options.headers.urlRegion=getUrlRegion();options.headers.Protocol=_protocol;options.error=function(xhr,textStatus,errorThrown){var errCode,errorHandler;if(xhr.readyState===0||this.statusCode&&this.statusCode[xhr.status]&&arguments[3]!==true)return;try{if(xhr&&xhr.responseJSON)if(xhr.responseJSON.code===
"016"&&xhr.responseJSON.serviceId==="COOverride")return false}catch(e){}var uuid=getResponseHeader(xhr,"UUID");if(uuid)$("#sessionId").html(uuid);var err;if(xhr)err=xhr.responseJSON||xhr.responseText||errorThrown;else err=errorThrown;if(error)error.call(this,xhr,textStatus,err);if(xhr.showGlobalError===false)return;try{$.modal.error(new koreanair.Error(err))}catch(e){koreanair.Modal.error(new koreanair.Error(err))}};options.success=function(data,textStatus,xhr){var sessionId=ServiceApi.getSession(xhr),
uuid=getResponseHeader(xhr,"UUID");if(sessionId){ServiceApi.flightSessionId=sessionId;ServiceApi.uuid=uuid;$("#sessionId").html(uuid)}ServiceApi.region=getResponseHeader(xhr,"Region");ServiceApi.origination=getResponseHeader(xhr,"Origination");if(xhr.status==200||xhr.status==204)success.apply(this,arguments);else return this.error.call(this,xhr,"error",data)};var request=$.ajax(options);if(typeof options.showGlobalError==="boolean")request.showGlobalError=options.showGlobalError;request._fail=request.fail;
request.fail=function(callback,showGlobalError){if(typeof showGlobalError==="boolean")this.showGlobalError=showGlobalError;else if(this.showGlobalError!==true)this.showGlobalError=false;this._fail(callback);return this};return request}var cache={};function ApiRequest(){this.initialize.apply(this,arguments)}$.extend(ApiRequest.prototype,Request.prototype,{initialize:function(endpoint){Request.prototype.initialize.call(this,endpoint.path);this.version=endpoint.version;this.cache=endpoint.cache||false},
ajax:function(url,settings){var options={url:this.url,version:this.version};var settingsIndex=0;var request,cached;if(arguments.length>1){options.url+=url;++settingsIndex}options=$.extend(options,arguments[settingsIndex]);if(this.cache){cached=cache[options.url];if(cached&&cached.state()!="rejected"){if(options.success)cached.done(function(){options.success.apply(this,arguments)});return cached}}request=ajax(options);if(this.cache)cache[options.url]=request;return request}});var key,endpoint;for(key in ServiceApi){endpoint=
ServiceApi[key];if(!endpoint||!endpoint.path)continue;ServiceApi[key]=new ApiRequest(endpoint)}$.each(["get","post","put","delete"],function(i,method){ServiceApi[method]=function(url,settings){var options;if(arguments.length>1){options=settings;options.url=url}else options=arguments[0];options=$.extend({type:method},options);if(arguments.length>1)return ajax(url,options);else return ajax(options)}});ServiceApi.ajax=ajax;ServiceApi.getSession=function(xhr){return getResponseHeader(xhr,"FlightSessionId")}})(jQuery,
koreanair,koreanair.Request,koreanair.ServiceApi);
(function($,koreanair,Request,CMS){function ajax(url,settings){var options,error;if(typeof url==="object"){options=url;url=undefined}options=$.extend({dataType:"json"},options);options.url=options.url||url;error=options.error;options.error=function(xhr,textStatus,errorThrown){if(error){error.call(this,xhr,textStatus,err);return}};return $.ajax(options)}function CmsRequest(){this.initialize.apply(this,arguments)}$.extend(CmsRequest.prototype,Request.prototype,{ajax:function(url,settings){var options=
{url:this.url,version:this.version};var settingsIndex=0;if(arguments.length>1){options.url+=url;++settingsIndex}options=$.extend(options,arguments[settingsIndex]);return ajax(options)}});$.each(["get","post","put","delete"],function(i,method){CMS[method]=function(url,settings){var options;if(arguments.length>1){options=settings;options.url=url}else options=arguments[0];options=$.extend({type:method},options);return ajax(options)}});CMS.ajax=ajax})(jQuery,koreanair,koreanair.Request,koreanair.CMS);
(function(_,Backbone,koreanair,ServiceApi){var mapItinerary,locator={},util={determinePath:function(options){if(!options)return"base";if(options.isChange()){if(options.isReissue())throw"Invalid state, flight is both reissue and change";return"change"}else if(options.isReissue())return"reissue";else if(options.isUpgrade())return"upgrade";else if(options.isMultiCity())return"multi";return"base"},wrap:function(method,context){var contextMethod=_.bind(method,context);contextMethod.original=method;return contextMethod},
prepend:function(options,originalFunction){return function(){var args=[].slice.call(arguments,0);if(args.length===0)args=[{}];$.extend(true,options,args[0]);args[0]=options;return originalFunction.apply(this,args)}},convertModifyBoundsToParamList:function(options){if(options.data&&options.data.modifyBound){var bound=options.data.modifyBound;delete options.data.modifyBound;options.paramsList=_.map(bound,function(item){return{name:"modifyBound",value:item}})}return options},prependStringify:function(options,
originalFunction){return function(){var args=[].slice.call(arguments,0);if(args.length===0)args=[{}];else try{args[0].data=JSON.parse(args[0].data)}catch(e){}$.extend(true,options,args[0]);args[0]=_.clone(options);args[0].data=JSON.stringify(args[0].data);return originalFunction.apply(this,args)}}};mapItinerary={toFlight:function(itinerary){if(!itinerary)return{};var bounds=_.pluck(itinerary.getUnlockedBounds().toJSON(),"boundIndex"),pnrForm=itinerary.get("originalPassengerNameRecordForm");return{data:{passengerNameRecords:pnrForm?
pnrForm.passengerNameRecords:null,recordLocator:itinerary.get("originalRecordLocator"),modifyBound:bounds,reissue:itinerary.isReissue()}}},toFlightReissue:function(itinerary){var result=this.toFlight(itinerary);delete result.data.passengerNameRecords;return result},toFareReview:function(itinerary){if(!itinerary)return{};var bounds=_.pluck(itinerary.getUnlockedBounds().toJSON(),"boundIndex"),pnrForm=itinerary.get("originalPassengerNameRecordForm");return{data:{passengerNameRecords:pnrForm?pnrForm.passengerNameRecords:
null,change:itinerary.isChange(),reissue:itinerary.isReissue(),recordLocator:itinerary.get("originalRecordLocator"),reservationNumber:itinerary.get("originalReservationNumber"),currency:itinerary.get("currency"),modifyBound:bounds,domestic:itinerary.get("isDomestic")}}},toBooking:function(itinerary){if(!itinerary)return{};return{data:{change:itinerary.isChange(),reissue:itinerary.isReissue(),recordLocator:itinerary.get("originalRecordLocator"),apisMode:itinerary.get("apisMode")===true,passengerNameRecords:itinerary.get("originalPassengerNameRecordForm")?
itinerary.get("originalPassengerNameRecordForm").passengerNameRecords:null,arrivalAirportCode:itinerary.get("bounds").at(0).get("arrivalAirport"),departureAirportCode:itinerary.get("bounds").at(0).get("departureAirport"),departureDate:itinerary.get("bounds").at(0).get("departure"),refund:itinerary.get("refund"),requestId:itinerary.get("requestId"),mode:itinerary.get("mode")}}},toBookingChange:function(itinerary){if(!itinerary)return{};return{data:{change:itinerary.isChange(),reissue:itinerary.isReissue(),
recordLocator:itinerary.get("originalRecordLocator"),apisMode:itinerary.get("apisMode")===true,passengerNameRecords:itinerary.get("travellers").getPassengerNameRecords(),arrivalAirportCode:itinerary.get("bounds").at(0).get("arrivalAirport"),departureAirportCode:itinerary.get("bounds").at(0).get("departureAirport"),departureDate:itinerary.get("bounds").at(0).get("departure"),refund:itinerary.get("refund"),requestId:itinerary.get("requestId"),mode:itinerary.get("mode")}}},toBookingReissue:function(itinerary){var toSend=
this.toBooking(itinerary);toSend.data.passengerNameRecords=itinerary.get("travellers").getPassengerNameRecords();return toSend}};util.mapItinerary=mapItinerary;locator.reservationDetails=function(option){var selection=util.determinePath(option);if(arguments&&arguments.length===2);var toReturn={change:util.wrap(ServiceApi.reservationChangeFindPNR.get,ServiceApi.reservationChangeFindPNR),reissue:util.wrap(ServiceApi.reservationReissueFindPNR.get,ServiceApi.reservationReissueFindPNR),upgrade:util.wrap(ServiceApi.reservationReissueFindPNR.get,
ServiceApi.reservationReissueFindPNR),base:util.wrap(ServiceApi.reservation.get,ServiceApi.reservation)};return toReturn[selection]};locator.fly=function(operation,itinerary){var selection=util.determinePath(operation);if(operation instanceof koreanair.BookingModel.Itinerary&&itinerary===undefined)itinerary=operation;var toReturn={change:util.prependStringify(mapItinerary.toFlight(itinerary),util.wrap(ServiceApi.findFlightsChange.post,ServiceApi.findFlightsChange)),reissue:util.prepend(util.convertModifyBoundsToParamList(mapItinerary.toFlightReissue(itinerary)),
util.wrap(ServiceApi.findFlights.get,ServiceApi.findFlights)),base:util.wrap(ServiceApi.findFlights.get,ServiceApi.findFlights),multi:util.wrap(ServiceApi.findMultiFlights.get,ServiceApi.findMultiFlights)};return toReturn[selection]};locator.fareReview=function(operation,itinerary){var selection=util.determinePath(operation);if(operation instanceof koreanair.BookingModel.Itinerary&&itinerary===undefined)itinerary=operation;var toReturn={change:util.prependStringify(mapItinerary.toFareReview(itinerary),
util.wrap(ServiceApi.fareReview.post,ServiceApi.fareReview)),reissue:util.prependStringify(mapItinerary.toFareReview(itinerary),util.wrap(ServiceApi.fareReview.post,ServiceApi.fareReview)),base:util.prependStringify(_.identity,util.wrap(ServiceApi.fareReview.post,ServiceApi.fareReview)),multi:util.prependStringify(_.identity,util.wrap(ServiceApi.fareReview.post,ServiceApi.fareReview))};return toReturn[selection]};locator.book=function(operation,itinerary){var selection=util.determinePath(operation);
if(operation instanceof koreanair.BookingModel.Itinerary&&itinerary===undefined)itinerary=operation;var toReturn={change:util.prependStringify(mapItinerary.toBookingChange(itinerary),util.wrap(ServiceApi.book.post,ServiceApi.book)),reissue:util.prependStringify(mapItinerary.toBookingReissue(itinerary),util.wrap(ServiceApi.book.post,ServiceApi.book)),base:util.prependStringify({},util.wrap(ServiceApi.book.post,ServiceApi.book)),multi:util.prependStringify({},util.wrap(ServiceApi.book.post,ServiceApi.book)),
upgrade:util.prependStringify(mapItinerary.toBookingReissue(itinerary),util.wrap(ServiceApi.book.post,ServiceApi.book))};return toReturn[selection]};locator.noneGps=function(operation,itinerary){if(operation&&operation instanceof koreanair.BookingModel.Itinerary)return util.prependStringify(mapItinerary.toBooking(operation),util.wrap(ServiceApi.noneGps.post,ServiceApi.noneGps));else return util.prependStringify({},util.wrap(ServiceApi.noneGpsBook.post,ServiceApi.noneGpsBook))};koreanair.ServiceLocator=
{noneGps:locator.noneGps,fly:locator.fly,reservation:locator.reservationDetails,fareReview:locator.fareReview,book:locator.book,util:{determinePath:util.determinePath,prepend:util.prepend,prependStringify:util.prependStringify,itinerary:{toFlight:util.mapItinerary.toFlight,toFareReview:util.mapItinerary.toFareReview,toBooking:util.mapItinerary.toBooking}}}})(_,Backbone,koreanair,koreanair.ServiceApi);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["dormancy-main"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3c!-- template : dormancy-login --\x3e\x3cdiv class\x3d"dormancy-pop"\x3e    \x3ch2 class\x3d"modal-title"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"dormancy-title",options):helperMissing.call(depth0,"i18n","dormancy-title",options)))+"\x3c/h2\x3e    \x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"dormancy-login-infotext-p-1",options):helperMissing.call(depth0,"i18n","dormancy-login-infotext-p-1",options)))+"\x3c/p\x3e    \x3cp\x3e"+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"dormancy-login-infotext-p-2",options):helperMissing.call(depth0,"i18n","dormancy-login-infotext-p-2",options)))+"\x3c/p\x3e    \x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"dormancy-login-infotext-p-3",options):helperMissing.call(depth0,"i18n","dormancy-login-infotext-p-3",options)))+'\x3c/p\x3e    \x3cdiv class\x3d"btn-area"\x3e        \x3cspan\x3e\x3cbutton class\x3d"button-page-gray"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"dormancy-after-release-btn",options):helperMissing.call(depth0,"i18n","dormancy-after-release-btn",options)))+'\x3c/button\x3e\x3c/span\x3e\x3cspan\x3e\x3cbutton class\x3d"button-page-blue "\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"dormancy-now-release-btn",options):helperMissing.call(depth0,"i18n","dormancy-now-release-btn",
options)))+'\x3c/button\x3e\x3c/span\x3e    \x3c/div\x3e    \x3cdiv class\x3d"not-today"\x3e        \x3cdiv class\x3d"checkbox-wrapper"\x3e            \x3cinput type\x3d"checkbox" class\x3d"css-checkbox" id\x3d"check2"\x3e            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e            \x3clabel for\x3d"check2"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"today-nomore-see",options):helperMissing.call(depth0,"i18n","today-nomore-see",
options)))+"\x3c/label\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!-- //template : dormancy-login --\x3e";return buffer});templates["flight-button-area"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,self=this,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",blockHelperMissing=helpers.blockHelperMissing;
function program1(depth0,data){return" min-size"}function program3(depth0,data){var stack1,helper,options;stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data},helper?helper.call(depth0,depth0&&depth0.isReissue,"\x26\x26",depth0&&depth0.isDomestic,options):helperMissing.call(depth0,"ifCond",depth0&&depth0.isReissue,"\x26\x26",depth0&&depth0.isDomestic,options));if(stack1||stack1===0)return stack1;else return""}function program4(depth0,
data){return'aria-hidden\x3d"true"'}function program6(depth0,data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.programWithDepth(25,program25,data,depth0),fn:self.programWithDepth(7,program7,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program7(depth0,data,depth1){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,depth1&&
depth1.isNetZero,{hash:{},inverse:self.programWithDepth(11,program11,data,depth1),fn:self.programWithDepth(8,program8,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program8(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-owed-label",options):helperMissing.call(depth0,
"i18n","total-owed-label",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,depth1&&depth1.isAward,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth1&&depth1.currency,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                    ";
return buffer}function program9(depth0,data){var buffer="",helper,options;buffer+='                            \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"numberFormat",0,options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,
"i18n","miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                            \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                        ';return buffer}function program11(depth0,data,depth2){var buffer="",stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,depth2&&depth2.isAward,{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,
(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),{hash:{},inverse:self.noop,fn:self.programWithDepth(17,program17,data,depth2),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),{hash:{},inverse:self.noop,fn:self.programWithDepth(21,program21,data,depth2),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+="                    ";return buffer}function program12(depth0,data){var buffer="",stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||
stack1===false?stack1:stack1.refundTotalMiles),{hash:{},inverse:self.noop,fn:self.program(15,program15,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";return buffer}function program13(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-add-miles",options):helperMissing.call(depth0,
"i18n","nb-fare-add-miles",options)))+'\x26nbsp;\x3c/span\x3e                                \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),options):helperMissing.call(depth0,"numberFormat",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),options)))+
" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+"\x3c/sub\x3e\x3c/span\x3e                            ";return buffer}function program15(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3c!--test2--\x3e                                \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"refund-miles-label",options):helperMissing.call(depth0,"i18n","refund-miles-label",options)))+'\x26nbsp;\x3c/span\x3e                                \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),options):helperMissing.call(depth0,
"numberFormat",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+"\x3c/sub\x3e\x3c/span\x3e                            ";return buffer}function program17(depth0,data,depth3){var buffer="",stack1,helper,options;buffer+="                            \x3c!--test3--\x3e                            ";
stack1=helpers["if"].call(depth0,depth3&&depth3.isAward,{hash:{},inverse:self.noop,fn:self.program(18,program18,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth3&&depth3.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-owed-label",options):helperMissing.call(depth0,"i18n","total-owed-label",options)))+'\x26nbsp;\x3c/span\x3e                            \x3cspan class\x3d"fare"\x3e'+
escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),options)))+"\x3c/span\x3e                        ";return buffer}function program18(depth0,data){var buffer="",stack1;buffer+="                                ";
stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),{hash:{},inverse:self.noop,fn:self.program(19,program19,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program19(depth0,data){return'                            \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                                '}function program21(depth0,data,depth3){var buffer="",stack1,helper,
options;buffer+="                            \x3c!--test4--\x3e                            ";stack1=helpers["if"].call(depth0,depth3&&depth3.isAward,{hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth3&&depth3.i18n,options={hash:{},data:data},helper?helper.call(depth0,"refund-amount-label",options):helperMissing.call(depth0,"i18n",
"refund-amount-label",options)))+'\x26nbsp;\x3c/span\x3e                            \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),options)))+"\x3c/span\x3e                        ";
return buffer}function program22(depth0,data){var buffer="",stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),{hash:{},inverse:self.noop,fn:self.program(23,program23,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program23(depth0,data){return'                                \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                                '}
function program25(depth0,data,depth1){var buffer="",stack1;buffer+="\x3c!-- isReissue is false --\x3e                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.programWithDepth(29,program29,data,depth1),fn:self.programWithDepth(26,program26,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program26(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,depth1&&depth1.isAward,{hash:{},inverse:self.noop,fn:self.program(27,program27,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||
depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options)))+"\x3c/span\x3e                    ";return buffer}function program27(depth0,data){var buffer="",stack1,helper,options;buffer+='                            \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=
helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.awardTotal),options):helperMissing.call(depth0,"numberFormat",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.awardTotal),options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,
"i18n","miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                            \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                        ';return buffer}function program29(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+
"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,depth2&&depth2.isAward,{hash:{},inverse:self.noop,fn:self.program(27,program27,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options):helperMissing.call(depth0,
"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options)))+"\x3c/span\x3e                    ";return buffer}function program31(depth0,data){var buffer="",stack1;buffer+="\x3c!-- fareDetail is null --\x3e                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.programWithDepth(35,program35,data,depth0),fn:self.programWithDepth(32,program32,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";
return buffer}function program32(depth0,data,depth1){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,depth1&&depth1.isDomestic,{hash:{},inverse:self.programWithDepth(33,program33,data,depth0),fn:self.programWithDepth(33,program33,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program33(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,depth1&&depth1.isAward,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||
depth1&&depth1.currency,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                    ";return buffer}function program35(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                    \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",
options)))+"\x26nbsp;\x3c/span\x3e                    ";stack1=helpers["if"].call(depth0,depth1&&depth1.isAward,{hash:{},inverse:self.noop,fn:self.program(36,program36,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                    \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth1&&depth1.currency,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                ";return buffer}
function program36(depth0,data){var buffer="",helper,options;buffer+='                        \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"numberFormat",0,options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n",
"miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                        \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                    ';return buffer}function program38(depth0,data){var buffer="",helper,options;buffer+='            \x3cdiv class\x3d"btn-area not-logged-in"\x3e                \x3cbutton class\x3d"btn-fixed-subst continue-button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-btn-continue",options):helperMissing.call(depth0,
"i18n","nb-btn-continue",options)))+'\x3c/button\x3e                \x3cbutton class\x3d"btn-fixed-mainst login-and-continue"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-btn-member-go",options):helperMissing.call(depth0,"i18n","nb-btn-member-go",options)))+"\x3c/button\x3e            \x3c/div\x3e        ";return buffer}function program40(depth0,data){var buffer="",helper,options;buffer+='            \x3cdiv class\x3d"btn-area logged-in"\x3e                \x3cbutton class\x3d"btn-fixed-mainst continue-button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-btn-member-login-continue",options):helperMissing.call(depth0,"i18n","nb-btn-member-login-continue",options)))+"\x3c/button\x3e            \x3c/div\x3e        ";return buffer}buffer+='\x3c!-- template : flight-button-area --\x3e\x3cdiv class\x3d"fixed-btn-wrap"\x3e    \x3cdiv class\x3d"limit-area';stack1=helpers["if"].call(depth0,depth0&&depth0.isMultiCity,{hash:{},inverse:self.noop,
fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e\x3c!-- min-size 탑승자,결제 페이지에서 해당 클래스 삽입 --\x3e        \x3cdiv class\x3d"total-area" ';stack1=helpers.unless.call(depth0,depth0&&depth0.fareDetail,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3e            ";stack1=helpers["if"].call(depth0,depth0&&depth0.fareDetail,{hash:{},inverse:self.program(31,program31,data),fn:self.program(6,
program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/div\x3e        ";options={hash:{},inverse:self.program(40,program40,data),fn:self.program(38,program38,data),data:data};if(helper=helpers.notLoggedIn)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.notLoggedIn;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.notLoggedIn)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.program(40,program40,data),fn:self.program(38,
program38,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/div\x3e\x3c/div\x3e\x3c!--// template : flight-button-area --\x3e";return buffer});templates["imm-changeinfo-event"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3ch2 class\x3d"modal-title shadow"\x3e\x3cspan class\x3d"offscreen"\x3e회원 정보 변경\x3c/span\x3e\x3c/h2\x3e\x3cform class\x3d"info-change-popup keForm" onSubmit\x3d"return false" method\x3d"post" autocomplete\x3d"off"\x3e    \x3ch3 class\x3d"tit-h3"\x3e최신 연락처로 변경해 주세요.\x3c/h3\x3e    \x3cp class\x3d"desc"\x3e        7월 31일까지 휴대폰 번호와 이메일 주소를 최신 정보로 변경하시고,\x3cbr/\x3e        다양한 이벤트와 혜택을 담은 대한항공 소식을 받아 보세요.        \x3cstrong class\x3d"sttext"\x3e- 최신 연락처로 변경해 주시는 분들 중 500명을 추첨해 버거세트 기프티콘을 드립니다.\x3c/strong\x3e    \x3c/p\x3e    \x3cdiv class\x3d"coca"\x3e        \x3cspan class\x3d"border-ko"\x3e\x3c/span\x3e        \x3cspan class\x3d"cocaic"\x3e협찬\x3cspan class\x3d"offscreen "\x3e\x26nbsp;코카콜라\x3c/span\x3e\x3c/span\x3e    \x3c/div\x3e    \x3cul class\x3d"change-list"\x3e        \x3cli class\x3d"phone"\x3e            \x3cstrong id\x3d"phone-label"\x3e휴대폰 번호\x3c/strong\x3e            \x3cdiv aria-labelledby\x3d"phone-label" role\x3d"group" class\x3d"group-box"\x3e                \x3cdiv class\x3d"inner-col"\x3e                    \x3cdiv class\x3d"styled-select reg-sect "\x3e                        \x3cselect name\x3d\'representCountryNumberCode\' class\x3d"ke-selectbox" title\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-primary-phone",options):helperMissing.call(depth0,"i18n","UWA-primary-phone",options)))+'"\x3e                            \x3coption value\x3d""\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-an-option",options):helperMissing.call(depth0,"i18n","select-an-option",options)))+'\x3c/option\x3e\x3c!--기본 옵션 값--\x3e                            \x3coption value\x3d"82"\x3eKorea  Republic Of (82)\x3c/option\x3e                            \x3coption value\x3d"1"\x3eUSA \x26 Canada \x26 Puerto Rico (1)\x3c/option\x3e                            \x3coption value\x3d"81"\x3eJapan (81)\x3c/option\x3e                            \x3coption value\x3d"86"\x3eChina (86)\x3c/option\x3e                            \x3coption value\x3d"93"\x3eAfghanistan (93)\x3c/option\x3e                            \x3coption value\x3d"355"\x3eAlbania (355)\x3c/option\x3e                            \x3coption value\x3d"213"\x3eAlgeria (213)\x3c/option\x3e                            \x3coption value\x3d"1684"\x3eAmerican Samoa (1684)\x3c/option\x3e                            \x3coption value\x3d"376"\x3eAndorra (376)\x3c/option\x3e                            \x3coption value\x3d"244"\x3eAngola (244)\x3c/option\x3e                            \x3coption value\x3d"1264"\x3eAnguilla (1264)\x3c/option\x3e                            \x3coption value\x3d"1268"\x3eAntigua And Barbuda (1268)\x3c/option\x3e                            \x3coption value\x3d"54"\x3eArgentina (54)\x3c/option\x3e                            \x3coption value\x3d"374"\x3eArmenia (374)\x3c/option\x3e                            \x3coption value\x3d"297"\x3eAruba (297)\x3c/option\x3e                            \x3coption value\x3d"61"\x3eAustralia (61)\x3c/option\x3e                            \x3coption value\x3d"43"\x3eAustria (43)\x3c/option\x3e                            \x3coption value\x3d"994"\x3eAzerbaijan (994)\x3c/option\x3e                            \x3coption value\x3d"1242"\x3eBahamas (1242)\x3c/option\x3e                            \x3coption value\x3d"973"\x3eBahrain (973)\x3c/option\x3e                            \x3coption value\x3d"880"\x3eBangladesh (880)\x3c/option\x3e                            \x3coption value\x3d"1246"\x3eBarbados (1246)\x3c/option\x3e                            \x3coption value\x3d"375"\x3eBelarus (375)\x3c/option\x3e                            \x3coption value\x3d"32"\x3eBelgium (32)\x3c/option\x3e                            \x3coption value\x3d"501"\x3eBelize (501)\x3c/option\x3e                            \x3coption value\x3d"229"\x3eBenin (229)\x3c/option\x3e                            \x3coption value\x3d"1441"\x3eBermuda (1441)\x3c/option\x3e                            \x3coption value\x3d"975"\x3eBhutan (975)\x3c/option\x3e                            \x3coption value\x3d"591"\x3eBolivia (591)\x3c/option\x3e                            \x3coption value\x3d"387"\x3eBosnia And Herzegovina (387)\x3c/option\x3e                            \x3coption value\x3d"267"\x3eBotswana (267)\x3c/option\x3e                            \x3coption value\x3d"47"\x3eNorway \x26 Bouvet Island (47)\x3c/option\x3e                            \x3coption value\x3d"55"\x3eBrazil (55)\x3c/option\x3e                            \x3coption value\x3d"673"\x3eBrunei Darussalam (673)\x3c/option\x3e                            \x3coption value\x3d"359"\x3eBulgaria (359)\x3c/option\x3e                            \x3coption value\x3d"226"\x3eBurkina Faso (226)\x3c/option\x3e                            \x3coption value\x3d"257"\x3eBurundi (257)\x3c/option\x3e                            \x3coption value\x3d"855"\x3eCambodia (855)\x3c/option\x3e                            \x3coption value\x3d"237"\x3eCameroon (237)\x3c/option\x3e                            \x3coption value\x3d"238"\x3eCape Verde (238)\x3c/option\x3e                            \x3coption value\x3d"1345"\x3eCayman Islands (1345)\x3c/option\x3e                            \x3coption value\x3d"236"\x3eCentral Afriican Republi (236)\x3c/option\x3e                            \x3coption value\x3d"235"\x3eChad (235)\x3c/option\x3e                            \x3coption value\x3d"56"\x3eChile (56)\x3c/option\x3e                            \x3coption value\x3d"86"\x3eChina (86)\x3c/option\x3e                            \x3coption value\x3d"672"\x3eCocos (Keeling) Islands  (672)\x3c/option\x3e                            \x3coption value\x3d"57"\x3eColombia (57)\x3c/option\x3e                            \x3coption value\x3d"269"\x3eComoros \x26 Mayotte (269)\x3c/option\x3e                            \x3coption value\x3d"243"\x3eCongo  The Democratic Re (243)\x3c/option\x3e                            \x3coption value\x3d"242"\x3eCongo (242)\x3c/option\x3e                            \x3coption value\x3d"682"\x3eCook Islands (682)\x3c/option\x3e                            \x3coption value\x3d"506"\x3eCosta Rica (506)\x3c/option\x3e                            \x3coption value\x3d"225"\x3eCote D`Ivoire (225)\x3c/option\x3e                            \x3coption value\x3d"385"\x3eCroatia (385)\x3c/option\x3e                            \x3coption value\x3d"53"\x3eCuba (53)\x3c/option\x3e                            \x3coption value\x3d"357"\x3eCyprus (357)\x3c/option\x3e                            \x3coption value\x3d"420"\x3eCzech Republic (420)\x3c/option\x3e                            \x3coption value\x3d"45"\x3eDenmark (45)\x3c/option\x3e                            \x3coption value\x3d"253"\x3eDjibouti (253)\x3c/option\x3e                            \x3coption value\x3d"1767"\x3eDominica (1767)\x3c/option\x3e                            \x3coption value\x3d"1809"\x3eDominican Republic (1809)\x3c/option\x3e                            \x3coption value\x3d"593"\x3eEcuador (593)\x3c/option\x3e                            \x3coption value\x3d"20"\x3eEgypt (20)\x3c/option\x3e                            \x3coption value\x3d"503"\x3eEl Salvador (503)\x3c/option\x3e                            \x3coption value\x3d"240"\x3eEquatorial Guinea (240)\x3c/option\x3e                            \x3coption value\x3d"291"\x3eEritrea (291)\x3c/option\x3e                            \x3coption value\x3d"372"\x3eEstonia (372)\x3c/option\x3e                            \x3coption value\x3d"251"\x3eEthiopia (251)\x3c/option\x3e                            \x3coption value\x3d"500"\x3eFalkland Islands (Malvin (500)\x3c/option\x3e                            \x3coption value\x3d"298"\x3eFaroe Islands (298)\x3c/option\x3e                            \x3coption value\x3d"679"\x3eFiji (679)\x3c/option\x3e                            \x3coption value\x3d"358"\x3eFinland \x26 Aland Islands (358)\x3c/option\x3e                            \x3coption value\x3d"33"\x3eFrance (33)\x3c/option\x3e                            \x3coption value\x3d"594"\x3eFrench Guiana (594)\x3c/option\x3e                            \x3coption value\x3d"689"\x3eFrench Polynesia (689)\x3c/option\x3e                            \x3coption value\x3d"241"\x3eGabon (241)\x3c/option\x3e                            \x3coption value\x3d"220"\x3eGambia (220)\x3c/option\x3e                            \x3coption value\x3d"995"\x3eGeorgia (995)\x3c/option\x3e                            \x3coption value\x3d"49"\x3eGermany (49)\x3c/option\x3e                            \x3coption value\x3d"233"\x3eGhana (233)\x3c/option\x3e                            \x3coption value\x3d"350"\x3eGibraltar (350)\x3c/option\x3e                            \x3coption value\x3d"30"\x3eGreece (30)\x3c/option\x3e                            \x3coption value\x3d"299"\x3eGreenland (299)\x3c/option\x3e                            \x3coption value\x3d"1473"\x3eGrenada (1473)\x3c/option\x3e                            \x3coption value\x3d"590"\x3eGuadeloupe (590)\x3c/option\x3e                            \x3coption value\x3d"1671"\x3eGuam (1671)\x3c/option\x3e                            \x3coption value\x3d"502"\x3eGuatemala (502)\x3c/option\x3e                            \x3coption value\x3d"224"\x3eGuinea (224)\x3c/option\x3e                            \x3coption value\x3d"245"\x3eGuinea-Bissau (245)\x3c/option\x3e                            \x3coption value\x3d"592"\x3eGuyana (592)\x3c/option\x3e                            \x3coption value\x3d"509"\x3eHaiti (509)\x3c/option\x3e                            \x3coption value\x3d"2"\x3eHeard Island And Mcdonald (02)\x3c/option\x3e                            \x3coption value\x3d"504"\x3eHonduras (504)\x3c/option\x3e                            \x3coption value\x3d"852"\x3eHong Kong (852)\x3c/option\x3e                            \x3coption value\x3d"36"\x3eHungary (36)\x3c/option\x3e                            \x3coption value\x3d"354"\x3eIceland (354)\x3c/option\x3e                            \x3coption value\x3d"91"\x3eIndia (91)\x3c/option\x3e                            \x3coption value\x3d"62"\x3eIndonesia (62)\x3c/option\x3e                            \x3coption value\x3d"98"\x3eIran  Islamic Republic Of (98)\x3c/option\x3e                            \x3coption value\x3d"964"\x3eIraq (964)\x3c/option\x3e                            \x3coption value\x3d"353"\x3eIreland (353)\x3c/option\x3e                            \x3coption value\x3d"972"\x3eIsrael (972)\x3c/option\x3e                            \x3coption value\x3d"39"\x3eItaly (39)\x3c/option\x3e                            \x3coption value\x3d"1876"\x3eJamaica (1876)\x3c/option\x3e                            \x3coption value\x3d"81"\x3eJapan (81)\x3c/option\x3e                            \x3coption value\x3d"962"\x3eJordan (962)\x3c/option\x3e                            \x3coption value\x3d"254"\x3eKenya (254)\x3c/option\x3e                            \x3coption value\x3d"686"\x3eKiribati (686)\x3c/option\x3e                            \x3coption value\x3d"82"\x3eKorea  Republic Of (82)\x3c/option\x3e                            \x3coption value\x3d"965"\x3eKuwait (965)\x3c/option\x3e                            \x3coption value\x3d"996"\x3eKyrgyzstan (996)\x3c/option\x3e                            \x3coption value\x3d"856"\x3eLao People\'s Democratic  (856)\x3c/option\x3e                            \x3coption value\x3d"371"\x3eLatvia (371)\x3c/option\x3e                            \x3coption value\x3d"961"\x3eLebanon (961)\x3c/option\x3e                            \x3coption value\x3d"266"\x3eLesotho (266)\x3c/option\x3e                            \x3coption value\x3d"231"\x3eLiberia (231)\x3c/option\x3e                            \x3coption value\x3d"218"\x3eLibyan Arab Jamahiriya (218)\x3c/option\x3e                            \x3coption value\x3d"423"\x3eLiechtenstein (423)\x3c/option\x3e                            \x3coption value\x3d"370"\x3eLithuania (370)\x3c/option\x3e                            \x3coption value\x3d"352"\x3eLuxembourg (352)\x3c/option\x3e                            \x3coption value\x3d"853"\x3eMacao (853)\x3c/option\x3e                            \x3coption value\x3d"389"\x3eMacedonia  The Former Yu (389)\x3c/option\x3e                            \x3coption value\x3d"261"\x3eMadagascar (261)\x3c/option\x3e                            \x3coption value\x3d"265"\x3eMalawi (265)\x3c/option\x3e                            \x3coption value\x3d"60"\x3eMalaysia (60)\x3c/option\x3e                            \x3coption value\x3d"960"\x3eMaldives (960)\x3c/option\x3e                            \x3coption value\x3d"223"\x3eMali (223)\x3c/option\x3e                            \x3coption value\x3d"356"\x3eMalta (356)\x3c/option\x3e                            \x3coption value\x3d"692"\x3eMarshall Islands (692)\x3c/option\x3e                            \x3coption value\x3d"596"\x3eMartinique (596)\x3c/option\x3e                            \x3coption value\x3d"222"\x3eMauritania (222)\x3c/option\x3e                            \x3coption value\x3d"230"\x3eMauritius (230)\x3c/option\x3e                            \x3coption value\x3d"52"\x3eMexico (52)\x3c/option\x3e                            \x3coption value\x3d"691"\x3eMicronesia  Federated St (691)\x3c/option\x3e                            \x3coption value\x3d"373"\x3eMoldova  Republic Of (373)\x3c/option\x3e                            \x3coption value\x3d"377"\x3eMonaco (377)\x3c/option\x3e                            \x3coption value\x3d"976"\x3eMongolia (976)\x3c/option\x3e                            \x3coption value\x3d"382"\x3eMontenegro (382)\x3c/option\x3e                            \x3coption value\x3d"1664"\x3eMontserrat (1664)\x3c/option\x3e                            \x3coption value\x3d"258"\x3eMozambique (258)\x3c/option\x3e                            \x3coption value\x3d"95"\x3eMyanmar (95)\x3c/option\x3e                            \x3coption value\x3d"264"\x3eNamibia (264)\x3c/option\x3e                            \x3coption value\x3d"674"\x3eNauru (674)\x3c/option\x3e                            \x3coption value\x3d"977"\x3eNepal (977)\x3c/option\x3e                            \x3coption value\x3d"31"\x3eNetherlands (31)\x3c/option\x3e                            \x3coption value\x3d"599"\x3eNetherlands Antilles (599)\x3c/option\x3e                            \x3coption value\x3d"687"\x3eNew Caledonia (687)\x3c/option\x3e                            \x3coption value\x3d"64"\x3eNew Zealand (64)\x3c/option\x3e                            \x3coption value\x3d"505"\x3eNicaragua (505)\x3c/option\x3e                            \x3coption value\x3d"227"\x3eNiger (227)\x3c/option\x3e                            \x3coption value\x3d"234"\x3eNigeria (234)\x3c/option\x3e                            \x3coption value\x3d"683"\x3eNiue (683)\x3c/option\x3e                            \x3coption value\x3d"1670"\x3eNorthern Mariana Island (1670)\x3c/option\x3e                            \x3coption value\x3d"968"\x3eOman (968)\x3c/option\x3e                            \x3coption value\x3d"92"\x3ePakistan (92)\x3c/option\x3e                            \x3coption value\x3d"680"\x3ePalau (680)\x3c/option\x3e                            \x3coption value\x3d"970"\x3ePalestinian Territory  O (970)\x3c/option\x3e                            \x3coption value\x3d"507"\x3ePanama (507)\x3c/option\x3e                            \x3coption value\x3d"675"\x3ePapua New Guinea (675)\x3c/option\x3e                            \x3coption value\x3d"595"\x3eParaguay (595)\x3c/option\x3e                            \x3coption value\x3d"51"\x3ePeru (51)\x3c/option\x3e                            \x3coption value\x3d"63"\x3ePhilippines (63)\x3c/option\x3e                            \x3coption value\x3d"48"\x3ePoland (48)\x3c/option\x3e                            \x3coption value\x3d"351"\x3ePortugal (351)\x3c/option\x3e                            \x3coption value\x3d"974"\x3eQatar (974)\x3c/option\x3e                            \x3coption value\x3d"262"\x3eReunion (262)\x3c/option\x3e                            \x3coption value\x3d"40"\x3eRomania (40)\x3c/option\x3e                            \x3coption value\x3d"7"\x3eRussian Feder \x26 Kazakhstan (7)\x3c/option\x3e                            \x3coption value\x3d"250"\x3eRwanda (250)\x3c/option\x3e                            \x3coption value\x3d"290"\x3eSaint Helena (290)\x3c/option\x3e                            \x3coption value\x3d"1869"\x3eSaint Kitts And Nevis (1869)\x3c/option\x3e                            \x3coption value\x3d"1758"\x3eSaint Lucia (1758)\x3c/option\x3e                            \x3coption value\x3d"508"\x3eSaint Pierre And Miquelo (508)\x3c/option\x3e                            \x3coption value\x3d"1784"\x3eSaint Vincent And The G (1784)\x3c/option\x3e                            \x3coption value\x3d"685"\x3eSamoa (685)\x3c/option\x3e                            \x3coption value\x3d"378"\x3eSan Marino (378)\x3c/option\x3e                            \x3coption value\x3d"239"\x3eSao Tome And Principe (239)\x3c/option\x3e                            \x3coption value\x3d"966"\x3eSaudi Arabia (966)\x3c/option\x3e                            \x3coption value\x3d"221"\x3eSenegal (221)\x3c/option\x3e                            \x3coption value\x3d"381"\x3eSerbia (381)\x3c/option\x3e                            \x3coption value\x3d"248"\x3eSeychelles (248)\x3c/option\x3e                            \x3coption value\x3d"232"\x3eSierra Leone (232)\x3c/option\x3e                            \x3coption value\x3d"65"\x3eSingapore (65)\x3c/option\x3e                            \x3coption value\x3d"421"\x3eSlovakia (421)\x3c/option\x3e                            \x3coption value\x3d"386"\x3eSlovenia (386)\x3c/option\x3e                            \x3coption value\x3d"677"\x3eSolomon Islands (677)\x3c/option\x3e                            \x3coption value\x3d"252"\x3eSomalia (252)\x3c/option\x3e                            \x3coption value\x3d"27"\x3eSouth Africa (27)\x3c/option\x3e                            \x3coption value\x3d"34"\x3eSpain (34)\x3c/option\x3e                            \x3coption value\x3d"94"\x3eSri Lanka (94)\x3c/option\x3e                            \x3coption value\x3d"249"\x3eSudan (249)\x3c/option\x3e                            \x3coption value\x3d"597"\x3eSuriname (597)\x3c/option\x3e                            \x3coption value\x3d"268"\x3eSwaziland (268)\x3c/option\x3e                            \x3coption value\x3d"46"\x3eSweden (46)\x3c/option\x3e                            \x3coption value\x3d"41"\x3eSwitzerland (41)\x3c/option\x3e                            \x3coption value\x3d"963"\x3eSyrian Arab Republic (963)\x3c/option\x3e                            \x3coption value\x3d"886"\x3eTaiwan (886)\x3c/option\x3e                            \x3coption value\x3d"992"\x3eTajikistan (992)\x3c/option\x3e                            \x3coption value\x3d"255"\x3eTanzania  United Republi (255)\x3c/option\x3e                            \x3coption value\x3d"66"\x3eThailand (66)\x3c/option\x3e                            \x3coption value\x3d"670"\x3eTimor-Leste (670)\x3c/option\x3e                            \x3coption value\x3d"228"\x3eTogo (228)\x3c/option\x3e                            \x3coption value\x3d"690"\x3eTokelau (690)\x3c/option\x3e                            \x3coption value\x3d"676"\x3eTonga (676)\x3c/option\x3e                            \x3coption value\x3d"1868"\x3eTrinidad And Tobago (1868)\x3c/option\x3e                            \x3coption value\x3d"216"\x3eTunisia (216)\x3c/option\x3e                            \x3coption value\x3d"90"\x3eTurkey (90)\x3c/option\x3e                            \x3coption value\x3d"993"\x3eTurkmenistan (993)\x3c/option\x3e                            \x3coption value\x3d"1649"\x3eTurks And Caicos Island (1649)\x3c/option\x3e                            \x3coption value\x3d"688"\x3eTuvalu (688)\x3c/option\x3e                            \x3coption value\x3d"256"\x3eUganda (256)\x3c/option\x3e                            \x3coption value\x3d"380"\x3eUkraine (380)\x3c/option\x3e                            \x3coption value\x3d"971"\x3eUnited Arab Emirates (971)\x3c/option\x3e                            \x3coption value\x3d"44"\x3eUnited Kingdom \x26 Guernsey (44)\x3c/option\x3e                            \x3coption value\x3d"598"\x3eUruguay (598)\x3c/option\x3e                            \x3coption value\x3d"1"\x3eUSA \x26 Canada \x26 Puerto Rico (1)\x3c/option\x3e                            \x3coption value\x3d"998"\x3eUzbekistan (998)\x3c/option\x3e                            \x3coption value\x3d"678"\x3eVanuatu (678)\x3c/option\x3e                            \x3coption value\x3d"379"\x3eVatican City State (379)\x3c/option\x3e                            \x3coption value\x3d"58"\x3eVenezuela (58)\x3c/option\x3e                            \x3coption value\x3d"84"\x3eViet Nam (84)\x3c/option\x3e                            \x3coption value\x3d"1284"\x3eVirgin Islands  British (1284)\x3c/option\x3e                            \x3coption value\x3d"1340"\x3eVirgin Islands  U.S. (1340)\x3c/option\x3e                            \x3coption value\x3d"681"\x3eWallis And Futuna (681)\x3c/option\x3e                            \x3coption value\x3d"212"\x3eWestern Sahara \x26 Morocco (212)\x3c/option\x3e                            \x3coption value\x3d"967"\x3eYemen (967)\x3c/option\x3e                            \x3coption value\x3d"260"\x3eZambia (260)\x3c/option\x3e                            \x3coption value\x3d"263"\x3eZimbabwe (263)\x3c/option\x3e                        \x3c/select\x3e                    \x3c/div\x3e                \x3c/div\x3e                \x3cdiv class\x3d"inner-col"\x3e                    \x3cinput type\x3d\'text\' name\x3d\'representPhoneNumber\' id\x3d\'representPhoneNumber\' title\x3d"휴대폰 뒷자리"/\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"email"\x3e            \x3clabel class\x3d\'title-label\' for\x3d\'email-address\'\x3e이메일\x3c/label\x3e            \x3cdiv class\x3d"compound-input"\x3e                \x3cspan class\x3d"formlabel" data-placeholder-id\x3d"email-address" id\x3d"placeholder-email-address"\x3e예) daehan@koreanair.com\x3c/span\x3e                \x3cinput type\x3d"text" id\x3d"email-address" name\x3d"emailAddressInput" maxlength\x3d"51" aria-describedby\x3d"placeholder-email-address" class\x3d"hiddenx"\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3c!--약관동의 필요없는경우 가릴부분--\x3e        \x3cli class\x3d"agree grid"\x3e            \x3cdiv class\x3d"agree-area all-checked "\x3e                \x3cinput type\x3d"checkbox" id\x3d"newsallagree" name\x3d"newsallagree" /\x3e                \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                \x3clabel for\x3d"newsallagree"\x3e마케팅 및 광고 활용 동의(선택사항)\x3c/label\x3e                \x3cdiv class\x3d"button_area"\x3e                    \x3cbutton class\x3d"detailview" id\x3d"mbrDetailView"\x3e상세보기\x3c/button\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"layer detail-view detail1" style\x3d"display:none"\x3e                \x3cdiv class\x3d"detail-div"\x3e                    \x3ch3\x3e마케팅 및 광고 활용 동의\x3c/h3\x3e                    \x3cp\x3e                        대한항공에서 제공하는 이벤트 및 서비스(제휴서비스 포함) 안내 등 광고성 정보를 받으시려면 마케팅 목적 이용에 동의하여 주시기 바랍니다.                    \x3c/p\x3e                    \x3cp class\x3d"depth2"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e 이용 범위: 당사 및 제휴사 상품 안내, 이벤트 등 광고성 정보 전달 및 참여기회 제공, 회원 대상 각종 마케팅 활동\x3c/p\x3e                    \x3cbutton class\x3d"popup-close"\x3e닫기\x3c/button\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"agree-area"\x3e                \x3cdiv class\x3d"agree-box global agree1 checkbox-abs"\x3e                    \x3cinput type\x3d"checkbox" id\x3d"newsEmailDmYn" name\x3d"newsEmailDmYn"/\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"newsEmailDmYn" \x3e[이메일]뉴스레터(회원 소식지 등)\x3c/label\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"agree-area"\x3e                \x3cdiv class\x3d"agree-box global agree2 checkbox-abs"\x3e                    \x3cinput type\x3d"checkbox" id\x3d"promoEmailDmYn" name\x3d"promoEmailDmYn" class\x3d"" /\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"promoEmailDmYn" \x3e[이메일]\'회원 혜택 및 쿠폰\'이 포함된 프로모션 정보\x3c/label\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"agree-area"\x3e                \x3cdiv class\x3d"agree-box global agree3 checkbox-abs"\x3e                    \x3cinput type\x3d"checkbox" id\x3d"smsYn" name\x3d"smsYn" class\x3d"" /\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"smsYn" \x3e[SMS]수신 동의\x3c/label\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e    \x3c/ul\x3e    \x3cdiv class\x3d"notice agree"\x3e        \x3ch4 class\x3d"offscreen"\x3e유의사항\x3c/h4\x3e        \x3cul\x3e            \x3cli\x3e이메일 및 SMS 수신을 원하시는 경우, 먼저 마케팅 및 광고 활용에 동의해 주시기 바랍니다.\x3c/li\x3e            \x3cli\x3e정보 수신을 원하시는 항목 및 채녈에 각각 동의해 주셔야 하며, 수신 동의해 주시면 스카이패스 회원에게만 제공되는 다양한 혜택을 누리실 수 있습니다.\x3c/li\x3e        \x3c/ul\x3e    \x3c/div\x3e    \x3cdiv class\x3d"notice"\x3e        \x3cdiv class\x3d"notice-txt"\x3e\x3cstrong\x3e해당 정보로 수정하고 이벤트에 응모 하겠습니다.\x3c/strong\x3e\x3cspan class\x3d"addtxt"\x3e이미 최신 정보인 경우 이벤트에 응모만 하시면 됩니다.\x3c/span\x3e\x3c/div\x3e        \x3cdiv class\x3d"next-step"\x3e            \x3cinput type\x3d"checkbox" id\x3d"thirdPartyInfoOfferAgrYn" name\x3d"thirdPartyInfoOfferAgrYn" aria-describedby\x3d"notice-desc"/\x3e            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e            \x3clabel for\x3d"thirdPartyInfoOfferAgrYn"\x3e경품 발송을 위한 개인 정보 이용 및 제3자 정보 제공에 동의합니다.\x3c/label\x3e            \x3cbutton class\x3d"detailview bottomview" id\x3d"mbrDetailView2"\x3e상세보기\x3c/button\x3e        \x3c/div\x3e        \x3cdiv class\x3d"layer detail-view detail2" style\x3d"display:none"\x3e            \x3cdiv class\x3d"detail-div"\x3e                \x3ch3\x3e개인정보 제3자 제공 동의\x3c/h3\x3e                \x3cul class\x3d"depth1"\x3e                    \x3cli\x3e                        대한항공은 회원님의 개인정보를 중요시 합니다.                        \x3cp class\x3d"depth2"\x3e                            \x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e                            본 이벤트와 관련하여 대한항공이 취득한 개인정보는 본 이벤트 기준으로 참가지 접수 목적 및 경품 발송용으로만 이용 됩니다. 경품은 회원정보 기준으로 발송되오니 회원정보를 업데이트 해주시기 바랍니다.                        \x3c/p\x3e                    \x3c/li\x3e                    \x3cli\x3e                        개인정보 수집/이용에 대한 동의                        \x3cul class\x3d"depth2"\x3e                            \x3cli\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e 수집 항목 : 성명, 전화번호\x3c/li\x3e                            \x3cli\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e 수집/이용 목적 : 이벤트 응모\x3c/li\x3e                            \x3cli\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e 보유/이용 기간 : 이벤트 종료시까지\x3c/li\x3e                        \x3c/ul\x3e                    \x3c/li\x3e                    \x3cli\x3e                        개인정보 제3자 제공에 대한 동의                        \x3cul class\x3d"depth2"\x3e                            \x3cli\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e 제공항목 : 성명, 전화번호\x3c/li\x3e                            \x3cli\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e 제공대상 : 코카콜라, 옴니텔\x3c/li\x3e                            \x3cli\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e 제공정보의 이용목적 : 이벤트 경품 발송\x3c/li\x3e                            \x3cli\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26bull;\x3c/span\x3e 제공정보의 보유/이용기간 : 이벤트 종료 후 폐기\x3c/li\x3e                        \x3c/ul\x3e                    \x3c/li\x3e                    \x3cli\x3e                        수집/이용에 동의하지 않으시는 경우 이벤트에 응모를 하실 수 없습니다. 입력하신 정보는 이벤트 응모에만 이용되며, 스카이패스 회원정보 변경이나 개인정보 처리에 관한 더 상세한 사항 확인은 대한항공 홈페이지에서 하실 수 있습니다.                    \x3c/li\x3e                \x3c/ul\x3e                \x3cbutton class\x3d"popup-close"\x3e닫기\x3c/button\x3e            \x3c/div\x3e        \x3c/div\x3e        \x3cul class\x3d"noticelist" id\x3d"notice-desc"\x3e            \x3cli\x3e제3자 제공에 동의하신 경우에만 이벤트에 응모됩니다.\x3c/li\x3e            \x3cli\x3e이벤트에 응모하지 않고 회원정보 수정만을 원하시는 경우에는 마이페이지를 이용해 주세요.\x3c/li\x3e        \x3c/ul\x3e    \x3c/div\x3e    \x3cdiv id\x3d"password-footer" class\x3d"change-list"\x3e        \x3cdiv class\x3d"compound-input"\x3e            \x3clabel for\x3d"currentPassword"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"in-order-to-save",options):helperMissing.call(depth0,"i18n","in-order-to-save",options)))+'\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e            \x3cinput id\x3d"currentPassword" type\x3d"password" name\x3d"currentPassword" autocomplete\x3d"off"/\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cdiv class\x3d"btn-area"\x3e        \x3cbutton class\x3d"button-main-gray applyCancel"\x3e취소\x3c/button\x3e        \x3cbutton class\x3d"button-main-blue applyEvent"\x3e확인\x3c/button\x3e    \x3c/div\x3e    \x3cdiv class\x3d"hiddenforweeks"\x3e        \x3cinput type\x3d"checkbox" id\x3d"hiddenforweeks" name\x3d"hiddenforweeks"/\x3e        \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e        \x3clabel for\x3d"hiddenforweeks"\x3e더 이상 보지 않기\x3c/label\x3e        \x3cbutton class\x3d"footer-close"\x3e            창닫기        \x3c/button\x3e    \x3c/div\x3e\x3c/form\x3e';
return buffer});templates["imm-coupon"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"coupon-evt-popup promopopup"\x3e    \x3ch2 id\x3d"coupon-evt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"promotion-discount-coupon-label",options):helperMissing.call(depth0,"i18n","promotion-discount-coupon-label",options)))+'\x3c/h2\x3e    \x3cp class\x3d"modal-info"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"promotion-discount-coupon-desc1",options):helperMissing.call(depth0,"i18n","promotion-discount-coupon-desc1",options)))+'\x3c/p\x3e    \x3cdiv class\x3d"evt-wrap"\x3e        \x3cdiv class\x3d"img"\x3e            \x3cimg src\x3d"/content/dam/koreanair/Global/special-promotions/Main Banner/evt-coupon-img.png" alt\x3d""/\x3e            \x3cp\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"promotion-discount-coupon-desc2",options):helperMissing.call(depth0,"i18n","promotion-discount-coupon-desc2",options)))+'\x3c/p\x3e        \x3c/div\x3e        \x3cdiv class\x3d"btn-area tcenter"\x3e            \x3cbutton class\x3d"button-evt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"promotion-discount-coupon-btn",
options):helperMissing.call(depth0,"i18n","promotion-discount-coupon-btn",options)))+'\x3c/button\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cdiv class\x3d"session-area"\x3e        \x3cdiv class\x3d"posR"\x3e            \x3cinput type\x3d"checkbox" id\x3d"twenty4hours" /\x3e            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e            \x3clabel for\x3d"twenty4hours"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"promotion-discount-coupon-session-24hours",
options):helperMissing.call(depth0,"i18n","promotion-discount-coupon-session-24hours",options)))+'\x3c/label\x3e        \x3c/div\x3e        \x3cdiv class\x3d"posR"\x3e            \x3cinput type\x3d"checkbox" id\x3d"nomoresee" /\x3e            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e            \x3clabel for\x3d"nomoresee"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"promotion-discount-coupon-session-nomoresee",options):
helperMissing.call(depth0,"i18n","promotion-discount-coupon-session-nomoresee",options)))+"\x3c/label\x3e        \x3c/div\x3e            \x3c/div\x3e\x3c/div\x3e";return buffer});templates["passenger-button-area"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,
data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.program(19,program19,data),fn:self.programWithDepth(2,program2,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program2(depth0,data,depth1){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,depth1&&depth1.isNetZero,{hash:{},inverse:self.program(6,program6,data),fn:self.program(3,
program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-owed-label",options):helperMissing.call(depth0,"i18n","total-owed-label",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,
depth0&&depth0.award,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                    ";return buffer}function program4(depth0,data){var buffer="",helper,options;buffer+='                            \x3cspan class\x3d"miles"\x3e'+
escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"numberFormat",0,options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                            \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                        ';
return buffer}function program6(depth0,data){var buffer="",stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.award,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),{hash:{},inverse:self.noop,fn:self.program(16,program16,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                    ";return buffer}function program7(depth0,data){var buffer="",stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,
stack1==null||stack1===false?stack1:stack1.totalCollectMiles),{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";return buffer}function program8(depth0,
data){var buffer="",stack1,helper,options;buffer+='                                \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-add-miles",options):helperMissing.call(depth0,"i18n","nb-fare-add-miles",options)))+'\x26nbsp;\x3c/span\x3e                                \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},
helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),options):helperMissing.call(depth0,"numberFormat",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+"\x3c/sub\x3e\x3c/span\x3e                            ";
return buffer}function program10(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3c!--test2--\x3e                                \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"refund-miles-label",options):helperMissing.call(depth0,"i18n","refund-miles-label",options)))+'\x26nbsp;\x3c/span\x3e                                \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=
helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),options):helperMissing.call(depth0,"numberFormat",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):
helperMissing.call(depth0,"i18n","miles-label",options)))+"\x3c/sub\x3e\x3c/span\x3e                            ";return buffer}function program12(depth0,data){var buffer="",stack1,helper,options;buffer+="                            \x3c!--test3--\x3e                            ";stack1=helpers["if"].call(depth0,depth0&&depth0.award,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3cspan class\x3d"label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-owed-label",options):helperMissing.call(depth0,"i18n","total-owed-label",options)))+'\x26nbsp;\x3c/span\x3e                            \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),
options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),options)))+"\x3c/span\x3e                        ";return buffer}function program13(depth0,data){var buffer="",stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),{hash:{},inverse:self.noop,fn:self.program(14,program14,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program14(depth0,data){return'                                \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                                '}function program16(depth0,data){var buffer="",stack1,helper,options;buffer+="                            \x3c!--test4--\x3e                            ";stack1=helpers["if"].call(depth0,depth0&&depth0.award,{hash:{},inverse:self.noop,fn:self.program(17,program17,
data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"refund-amount-label",options):helperMissing.call(depth0,"i18n","refund-amount-label",options)))+'\x26nbsp;\x3c/span\x3e                            \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},
helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),options)))+"\x3c/span\x3e                        ";return buffer}function program17(depth0,data){var buffer="",stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||
stack1===false?stack1:stack1.refundTotalMiles),{hash:{},inverse:self.noop,fn:self.program(14,program14,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program19(depth0,data){var buffer="",stack1;buffer+="\x3c!-- isReissue is false --\x3e                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.program(23,program23,data),fn:self.program(20,program20,data),data:data});if(stack1||stack1===
0)buffer+=stack1;buffer+="                ";return buffer}function program20(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.isAward,{hash:{},inverse:self.noop,
fn:self.program(21,program21,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options)))+"\x3c/span\x3e                    ";
return buffer}function program21(depth0,data){var buffer="",stack1,helper,options;buffer+='                            \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.awardTotal),options):helperMissing.call(depth0,"numberFormat",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.awardTotal),
options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                            \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                        ';return buffer}function program23(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.award,{hash:{},inverse:self.noop,fn:self.program(21,program21,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,
options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options)))+"\x3c/span\x3e                    ";return buffer}function program25(depth0,data){var buffer="",stack1;buffer+="\x3c!-- fareDetail is null --\x3e                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},
inverse:self.program(29,program29,data),fn:self.programWithDepth(26,program26,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program26(depth0,data,depth1){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,depth1&&depth1.isDomestic,{hash:{},inverse:self.program(27,program27,data),fn:self.program(27,program27,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}
function program27(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.award,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                    ";return buffer}function program29(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.award,{hash:{},inverse:self.noop,fn:self.program(30,program30,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                    \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},
helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                ";return buffer}function program30(depth0,data){var buffer="",helper,options;buffer+='                        \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"numberFormat",0,options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                        \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                    ';return buffer}function program32(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+="            ";stack1=helpers["if"].call(depth0,depth1&&depth1.isPayLater,{hash:{},inverse:self.noop,fn:self.program(33,program33,data),
data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3cbutton type\x3d"submit" class\x3d"btn-fixed-mainst pay-now-button"\x3e'+escapeExpression((helper=helpers.i18n||depth1&&depth1.i18n,options={hash:{},data:data},helper?helper.call(depth0,"pay-now-label",options):helperMissing.call(depth0,"i18n","pay-now-label",options)))+"\x3c/button\x3e        ";return buffer}function program33(depth0,data){var buffer="",helper,options;buffer+='                \x3cbutton type\x3d"submit" class\x3d"btn-fixed-subst pay-later-button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"pay-later-label",options):helperMissing.call(depth0,"i18n","pay-later-label",options)))+"\x3c/button\x3e            ";return buffer}function program35(depth0,data){var buffer="",stack1,helper,options;buffer+="            ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(38,program38,data),fn:self.program(36,program36,data),data:data},helper?
helper.call(depth0,(stack1=(stack1=depth0&&depth0.fareDetails,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.totalPriceDifference),"\x3e",0,options):helperMissing.call(depth0,"compare",(stack1=(stack1=depth0&&depth0.fareDetails,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.totalPriceDifference),"\x3e",0,options));if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program36(depth0,data){var buffer=
"",helper,options;buffer+='                \x3cbutton type\x3d"submit" class\x3d"btn-fixed-mainst pay-now-button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"pay-now-label",options):helperMissing.call(depth0,"i18n","pay-now-label",options)))+"\x3c/button\x3e            ";return buffer}function program38(depth0,data){var buffer="",helper,options;buffer+='                \x3cbutton type\x3d"submit" class\x3d"btn-fixed-mainst pay-now-button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/button\x3e            ";return buffer}function program40(depth0,data){var buffer="",helper,options;buffer+='            \x3cbutton type\x3d"submit" class\x3d"btn-fixed-subst login"  id\x3d"login"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"login-label",options):helperMissing.call(depth0,"i18n","login-label",options)))+"\x3c/button\x3e        ";return buffer}buffer+='\x3c!-- template : passenger-button-area --\x3e\x3cdiv class\x3d"fixed-btn-wrap"\x3e    \x3cdiv class\x3d"limit-area min-size "\x3e\x3c!-- min-size 탑승자,결제 페이지에서 해당 클래스 삽입 --\x3e        \x3cdiv class\x3d"total-area"\x3e            ';stack1=helpers["if"].call(depth0,depth0&&depth0.fareDetail,{hash:{},inverse:self.program(25,program25,data),fn:self.program(1,program1,data),
data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3c/div\x3e        \x3cdiv class\x3d"btn-area"\x3e        ';stack1=helpers.unless.call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.program(35,program35,data),fn:self.programWithDepth(32,program32,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0.showLogin,{hash:{},inverse:self.noop,fn:self.program(40,program40,data),data:data});if(stack1||stack1===
0)buffer+=stack1;buffer+="        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!--// template : passenger-button-area --\x3e";return buffer});templates["payment-button-area"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1;
buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.programWithDepth(19,program19,data,depth0),fn:self.programWithDepth(2,program2,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program2(depth0,data,depth1){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,depth1&&depth1.isNetZero,{hash:{},inverse:self.programWithDepth(6,program6,data,depth1),fn:self.programWithDepth(3,
program3,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program3(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-owed-label",options):helperMissing.call(depth0,"i18n","total-owed-label",options)))+"\x26nbsp;\x3c/span\x3e                        ";
stack1=helpers["if"].call(depth0,depth1&&depth1.isAward,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth1&&depth1.currency,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                    ";return buffer}function program4(depth0,data){var buffer=
"",helper,options;buffer+='                            \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"numberFormat",0,options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                            \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                        ';
return buffer}function program6(depth0,data,depth2){var buffer="",stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,depth2&&depth2.isAward,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),{hash:{},inverse:self.noop,fn:self.programWithDepth(12,program12,
data,depth2),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),{hash:{},inverse:self.noop,fn:self.programWithDepth(16,program16,data,depth2),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                    ";return buffer}function program7(depth0,data){var buffer="",stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,
(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";
return buffer}function program8(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-add-miles",options):helperMissing.call(depth0,"i18n","nb-fare-add-miles",options)))+'\x26nbsp;\x3c/span\x3e                                \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,
options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),options):helperMissing.call(depth0,"numberFormat",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",
options)))+"\x3c/sub\x3e\x3c/span\x3e                            ";return buffer}function program10(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3c!--test2--\x3e                                \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"refund-miles-label",options):helperMissing.call(depth0,"i18n","refund-miles-label",options)))+'\x26nbsp;\x3c/span\x3e                                \x3cspan class\x3d"miles"\x3e'+
escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),options):helperMissing.call(depth0,"numberFormat",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.refundTotalMiles),options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+"\x3c/sub\x3e\x3c/span\x3e                            ";return buffer}function program12(depth0,data,depth3){var buffer="",stack1,helper,options;buffer+="                            \x3c!--test3--\x3e                            ";stack1=helpers["if"].call(depth0,depth3&&depth3.isAward,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3cspan class\x3d"label"\x3e'+
escapeExpression((helper=helpers.i18n||depth3&&depth3.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-owed-label",options):helperMissing.call(depth0,"i18n","total-owed-label",options)))+'\x26nbsp;\x3c/span\x3e                            \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),
options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectFare),options)))+"\x3c/span\x3e                        ";return buffer}function program13(depth0,data){var buffer="",stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalCollectMiles),{hash:{},inverse:self.noop,fn:self.program(14,program14,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program14(depth0,data){return'                                \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                                '}function program16(depth0,data,depth3){var buffer="",stack1,helper,options;buffer+="                            \x3c!--test4--\x3e                            ";stack1=helpers["if"].call(depth0,depth3&&depth3.isAward,{hash:{},inverse:self.noop,fn:self.program(17,
program17,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth3&&depth3.i18n,options={hash:{},data:data},helper?helper.call(depth0,"refund-amount-label",options):helperMissing.call(depth0,"i18n","refund-amount-label",options)))+'\x26nbsp;\x3c/span\x3e                            \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},
data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.totalRefundFare),options)))+"\x3c/span\x3e                        ";return buffer}function program17(depth0,data){var buffer="",stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==
null||stack1===false?stack1:stack1.refundTotalMiles),{hash:{},inverse:self.noop,fn:self.program(14,program14,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program19(depth0,data,depth1){var buffer="",stack1;buffer+="\x3c!-- isReissue is false --\x3e                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.programWithDepth(23,program23,data,depth1),fn:self.programWithDepth(20,program20,
data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program20(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,
depth1&&depth1.isAward,{hash:{},inverse:self.noop,fn:self.program(21,program21,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===
false?stack1:stack1.total),options)))+"\x3c/span\x3e                    ";return buffer}function program21(depth0,data){var buffer="",stack1,helper,options;buffer+='                            \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.awardTotal),options):helperMissing.call(depth0,"numberFormat",(stack1=depth0&&
depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.awardTotal),options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                            \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                        ';return buffer}function program23(depth0,data,depth2){var buffer="",stack1,helper,options;
buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=helpers["if"].call(depth0,depth2&&depth2.isAward,{hash:{},inverse:self.noop,fn:self.program(21,program21,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+
escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options):helperMissing.call(depth0,"currency",(stack1=depth0&&depth0.fareDetail,stack1==null||stack1===false?stack1:stack1.total),options)))+"\x3c/span\x3e                    ";return buffer}function program25(depth0,data){var buffer="",stack1;buffer+="\x3c!-- fareDetail is null --\x3e                ";
stack1=helpers["if"].call(depth0,depth0&&depth0.isReissue,{hash:{},inverse:self.programWithDepth(29,program29,data,depth0),fn:self.programWithDepth(26,program26,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program26(depth0,data,depth1){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,depth1&&depth1.isDomestic,{hash:{},inverse:self.programWithDepth(27,program27,data,depth0),fn:self.programWithDepth(27,
program27,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program27(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                        ";stack1=
helpers["if"].call(depth0,depth1&&depth1.isAward,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth1&&depth1.currency,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                    ";return buffer}function program29(depth0,data,depth1){var buffer=
"",stack1,helper,options;buffer+='                    \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-tit",options):helperMissing.call(depth0,"i18n","nb-fare-tit",options)))+"\x26nbsp;\x3c/span\x3e                    ";stack1=helpers["if"].call(depth0,depth1&&depth1.isAward,{hash:{},inverse:self.noop,fn:self.program(30,program30,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                    \x3cspan class\x3d"fare"\x3e'+
escapeExpression((helper=helpers.currency||depth1&&depth1.currency,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,"currency",0,options)))+"\x3c/span\x3e                ";return buffer}function program30(depth0,data){var buffer="",helper,options;buffer+='                        \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,0,options):helperMissing.call(depth0,
"numberFormat",0,options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+'\x3c/sub\x3e\x3c/span\x3e                        \x3cspan class\x3d"operator"\x3e+\x3c/span\x3e                    ';return buffer}function program32(depth0,data){var buffer="",helper,options;buffer+='            \x3cbutton type\x3d"submit" id\x3d"paymentBtn" class\x3d"btn-fixed-mainst continue-button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/button\x3e        ";return buffer}function program34(depth0,data){var buffer="",helper,options;buffer+='            \x3cbutton type\x3d"submit" id\x3d"paymentBtn" class\x3d"btn-fixed-mainst continue-button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"pay-now-label",options):helperMissing.call(depth0,"i18n","pay-now-label",options)))+"\x3c/button\x3e        ";return buffer}buffer+='\x3c!-- template : payment-button-area --\x3e\x3cdiv class\x3d"fixed-btn-wrap"\x3e    \x3cdiv class\x3d"limit-area min-size"\x3e\x3c!-- min-size 탑승자,결제 페이지에서 해당 클래스 삽입 --\x3e        \x3cdiv class\x3d"total-area"\x3e            ';stack1=helpers["if"].call(depth0,depth0&&depth0.fareDetail,{hash:{},inverse:self.program(25,program25,data),fn:self.program(1,
program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3c/div\x3e        \x3cdiv class\x3d"btn-area not-logged-in"\x3e        ';stack1=(helper=helpers.checkIfNoPayOrRefund||depth0&&depth0.checkIfNoPayOrRefund,options={hash:{},inverse:self.program(34,program34,data),fn:self.program(32,program32,data),data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"checkIfNoPayOrRefund",depth0,options));if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!--// template : payment-button-area --\x3e";
return buffer});templates["phoneLists"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};return'\x3coption value\x3d"82"\x3eKorea  Republic Of (82)\x3c/option\x3e\x3coption value\x3d"1"\x3eUSA \x26 Canada \x26 Puerto Rico (1)\x3c/option\x3e\x3coption value\x3d"81"\x3eJapan (81)\x3c/option\x3e\x3coption value\x3d"86"\x3eChina (86)\x3c/option\x3e\x3coption value\x3d"93"\x3eAfghanistan (93)\x3c/option\x3e\x3coption value\x3d"355"\x3eAlbania (355)\x3c/option\x3e\x3coption value\x3d"213"\x3eAlgeria (213)\x3c/option\x3e\x3coption value\x3d"1684"\x3eAmerican Samoa (1684)\x3c/option\x3e\x3coption value\x3d"376"\x3eAndorra (376)\x3c/option\x3e\x3coption value\x3d"244"\x3eAngola (244)\x3c/option\x3e\x3coption value\x3d"1264"\x3eAnguilla (1264)\x3c/option\x3e\x3coption value\x3d"1268"\x3eAntigua And Barbuda (1268)\x3c/option\x3e\x3coption value\x3d"54"\x3eArgentina (54)\x3c/option\x3e\x3coption value\x3d"374"\x3eArmenia (374)\x3c/option\x3e\x3coption value\x3d"297"\x3eAruba (297)\x3c/option\x3e\x3coption value\x3d"61"\x3eAustralia (61)\x3c/option\x3e\x3coption value\x3d"43"\x3eAustria (43)\x3c/option\x3e\x3coption value\x3d"994"\x3eAzerbaijan (994)\x3c/option\x3e\x3coption value\x3d"1242"\x3eBahamas (1242)\x3c/option\x3e\x3coption value\x3d"973"\x3eBahrain (973)\x3c/option\x3e\x3coption value\x3d"880"\x3eBangladesh (880)\x3c/option\x3e\x3coption value\x3d"1246"\x3eBarbados (1246)\x3c/option\x3e\x3coption value\x3d"375"\x3eBelarus (375)\x3c/option\x3e\x3coption value\x3d"32"\x3eBelgium (32)\x3c/option\x3e\x3coption value\x3d"501"\x3eBelize (501)\x3c/option\x3e\x3coption value\x3d"229"\x3eBenin (229)\x3c/option\x3e\x3coption value\x3d"1441"\x3eBermuda (1441)\x3c/option\x3e\x3coption value\x3d"975"\x3eBhutan (975)\x3c/option\x3e\x3coption value\x3d"591"\x3eBolivia (591)\x3c/option\x3e\x3coption value\x3d"387"\x3eBosnia And Herzegovina (387)\x3c/option\x3e\x3coption value\x3d"267"\x3eBotswana (267)\x3c/option\x3e\x3coption value\x3d"47"\x3eNorway \x26 Bouvet Island (47)\x3c/option\x3e\x3coption value\x3d"55"\x3eBrazil (55)\x3c/option\x3e\x3coption value\x3d"673"\x3eBrunei Darussalam (673)\x3c/option\x3e\x3coption value\x3d"359"\x3eBulgaria (359)\x3c/option\x3e\x3coption value\x3d"226"\x3eBurkina Faso (226)\x3c/option\x3e\x3coption value\x3d"257"\x3eBurundi (257)\x3c/option\x3e\x3coption value\x3d"855"\x3eCambodia (855)\x3c/option\x3e\x3coption value\x3d"237"\x3eCameroon (237)\x3c/option\x3e\x3coption value\x3d"238"\x3eCape Verde (238)\x3c/option\x3e\x3coption value\x3d"1345"\x3eCayman Islands (1345)\x3c/option\x3e\x3coption value\x3d"236"\x3eCentral Afriican Republi (236)\x3c/option\x3e\x3coption value\x3d"235"\x3eChad (235)\x3c/option\x3e\x3coption value\x3d"56"\x3eChile (56)\x3c/option\x3e\x3coption value\x3d"86"\x3eChina (86)\x3c/option\x3e\x3coption value\x3d"672"\x3eCocos (Keeling) Islands  (672)\x3c/option\x3e\x3coption value\x3d"57"\x3eColombia (57)\x3c/option\x3e\x3coption value\x3d"269"\x3eComoros \x26 Mayotte (269)\x3c/option\x3e\x3coption value\x3d"243"\x3eCongo  The Democratic Re (243)\x3c/option\x3e\x3coption value\x3d"242"\x3eCongo (242)\x3c/option\x3e\x3coption value\x3d"682"\x3eCook Islands (682)\x3c/option\x3e\x3coption value\x3d"506"\x3eCosta Rica (506)\x3c/option\x3e\x3coption value\x3d"225"\x3eCote D`Ivoire (225)\x3c/option\x3e\x3coption value\x3d"385"\x3eCroatia (385)\x3c/option\x3e\x3coption value\x3d"53"\x3eCuba (53)\x3c/option\x3e\x3coption value\x3d"357"\x3eCyprus (357)\x3c/option\x3e\x3coption value\x3d"420"\x3eCzech Republic (420)\x3c/option\x3e\x3coption value\x3d"45"\x3eDenmark (45)\x3c/option\x3e\x3coption value\x3d"253"\x3eDjibouti (253)\x3c/option\x3e\x3coption value\x3d"1767"\x3eDominica (1767)\x3c/option\x3e\x3coption value\x3d"1809"\x3eDominican Republic (1809)\x3c/option\x3e\x3coption value\x3d"593"\x3eEcuador (593)\x3c/option\x3e\x3coption value\x3d"20"\x3eEgypt (20)\x3c/option\x3e\x3coption value\x3d"503"\x3eEl Salvador (503)\x3c/option\x3e\x3coption value\x3d"240"\x3eEquatorial Guinea (240)\x3c/option\x3e\x3coption value\x3d"291"\x3eEritrea (291)\x3c/option\x3e\x3coption value\x3d"372"\x3eEstonia (372)\x3c/option\x3e\x3coption value\x3d"251"\x3eEthiopia (251)\x3c/option\x3e\x3coption value\x3d"500"\x3eFalkland Islands (Malvin (500)\x3c/option\x3e\x3coption value\x3d"298"\x3eFaroe Islands (298)\x3c/option\x3e\x3coption value\x3d"679"\x3eFiji (679)\x3c/option\x3e\x3coption value\x3d"358"\x3eFinland \x26 Aland Islands (358)\x3c/option\x3e\x3coption value\x3d"33"\x3eFrance (33)\x3c/option\x3e\x3coption value\x3d"594"\x3eFrench Guiana (594)\x3c/option\x3e\x3coption value\x3d"689"\x3eFrench Polynesia (689)\x3c/option\x3e\x3coption value\x3d"241"\x3eGabon (241)\x3c/option\x3e\x3coption value\x3d"220"\x3eGambia (220)\x3c/option\x3e\x3coption value\x3d"995"\x3eGeorgia (995)\x3c/option\x3e\x3coption value\x3d"49"\x3eGermany (49)\x3c/option\x3e\x3coption value\x3d"233"\x3eGhana (233)\x3c/option\x3e\x3coption value\x3d"350"\x3eGibraltar (350)\x3c/option\x3e\x3coption value\x3d"30"\x3eGreece (30)\x3c/option\x3e\x3coption value\x3d"299"\x3eGreenland (299)\x3c/option\x3e\x3coption value\x3d"1473"\x3eGrenada (1473)\x3c/option\x3e\x3coption value\x3d"590"\x3eGuadeloupe (590)\x3c/option\x3e\x3coption value\x3d"1671"\x3eGuam (1671)\x3c/option\x3e\x3coption value\x3d"502"\x3eGuatemala (502)\x3c/option\x3e\x3coption value\x3d"224"\x3eGuinea (224)\x3c/option\x3e\x3coption value\x3d"245"\x3eGuinea-Bissau (245)\x3c/option\x3e\x3coption value\x3d"592"\x3eGuyana (592)\x3c/option\x3e\x3coption value\x3d"509"\x3eHaiti (509)\x3c/option\x3e\x3coption value\x3d"2"\x3eHeard Island And Mcdonald (02)\x3c/option\x3e\x3coption value\x3d"504"\x3eHonduras (504)\x3c/option\x3e\x3coption value\x3d"852"\x3eHong Kong (852)\x3c/option\x3e\x3coption value\x3d"36"\x3eHungary (36)\x3c/option\x3e\x3coption value\x3d"354"\x3eIceland (354)\x3c/option\x3e\x3coption value\x3d"91"\x3eIndia (91)\x3c/option\x3e\x3coption value\x3d"62"\x3eIndonesia (62)\x3c/option\x3e\x3coption value\x3d"98"\x3eIran  Islamic Republic Of (98)\x3c/option\x3e\x3coption value\x3d"964"\x3eIraq (964)\x3c/option\x3e\x3coption value\x3d"353"\x3eIreland (353)\x3c/option\x3e\x3coption value\x3d"972"\x3eIsrael (972)\x3c/option\x3e\x3coption value\x3d"39"\x3eItaly (39)\x3c/option\x3e\x3coption value\x3d"1876"\x3eJamaica (1876)\x3c/option\x3e\x3coption value\x3d"81"\x3eJapan (81)\x3c/option\x3e\x3coption value\x3d"962"\x3eJordan (962)\x3c/option\x3e\x3coption value\x3d"254"\x3eKenya (254)\x3c/option\x3e\x3coption value\x3d"686"\x3eKiribati (686)\x3c/option\x3e\x3coption value\x3d"82"\x3eKorea  Republic Of (82)\x3c/option\x3e\x3coption value\x3d"965"\x3eKuwait (965)\x3c/option\x3e\x3coption value\x3d"996"\x3eKyrgyzstan (996)\x3c/option\x3e\x3coption value\x3d"856"\x3eLao People\'s Democratic  (856)\x3c/option\x3e\x3coption value\x3d"371"\x3eLatvia (371)\x3c/option\x3e\x3coption value\x3d"961"\x3eLebanon (961)\x3c/option\x3e\x3coption value\x3d"266"\x3eLesotho (266)\x3c/option\x3e\x3coption value\x3d"231"\x3eLiberia (231)\x3c/option\x3e\x3coption value\x3d"218"\x3eLibyan Arab Jamahiriya (218)\x3c/option\x3e\x3coption value\x3d"423"\x3eLiechtenstein (423)\x3c/option\x3e\x3coption value\x3d"370"\x3eLithuania (370)\x3c/option\x3e\x3coption value\x3d"352"\x3eLuxembourg (352)\x3c/option\x3e\x3coption value\x3d"853"\x3eMacao (853)\x3c/option\x3e\x3coption value\x3d"389"\x3eMacedonia  The Former Yu (389)\x3c/option\x3e\x3coption value\x3d"261"\x3eMadagascar (261)\x3c/option\x3e\x3coption value\x3d"265"\x3eMalawi (265)\x3c/option\x3e\x3coption value\x3d"60"\x3eMalaysia (60)\x3c/option\x3e\x3coption value\x3d"960"\x3eMaldives (960)\x3c/option\x3e\x3coption value\x3d"223"\x3eMali (223)\x3c/option\x3e\x3coption value\x3d"356"\x3eMalta (356)\x3c/option\x3e\x3coption value\x3d"692"\x3eMarshall Islands (692)\x3c/option\x3e\x3coption value\x3d"596"\x3eMartinique (596)\x3c/option\x3e\x3coption value\x3d"222"\x3eMauritania (222)\x3c/option\x3e\x3coption value\x3d"230"\x3eMauritius (230)\x3c/option\x3e\x3coption value\x3d"52"\x3eMexico (52)\x3c/option\x3e\x3coption value\x3d"691"\x3eMicronesia  Federated St (691)\x3c/option\x3e\x3coption value\x3d"373"\x3eMoldova  Republic Of (373)\x3c/option\x3e\x3coption value\x3d"377"\x3eMonaco (377)\x3c/option\x3e\x3coption value\x3d"976"\x3eMongolia (976)\x3c/option\x3e\x3coption value\x3d"382"\x3eMontenegro (382)\x3c/option\x3e\x3coption value\x3d"1664"\x3eMontserrat (1664)\x3c/option\x3e\x3coption value\x3d"258"\x3eMozambique (258)\x3c/option\x3e\x3coption value\x3d"95"\x3eMyanmar (95)\x3c/option\x3e\x3coption value\x3d"264"\x3eNamibia (264)\x3c/option\x3e\x3coption value\x3d"674"\x3eNauru (674)\x3c/option\x3e\x3coption value\x3d"977"\x3eNepal (977)\x3c/option\x3e\x3coption value\x3d"31"\x3eNetherlands (31)\x3c/option\x3e\x3coption value\x3d"599"\x3eNetherlands Antilles (599)\x3c/option\x3e\x3coption value\x3d"687"\x3eNew Caledonia (687)\x3c/option\x3e\x3coption value\x3d"64"\x3eNew Zealand (64)\x3c/option\x3e\x3coption value\x3d"505"\x3eNicaragua (505)\x3c/option\x3e\x3coption value\x3d"227"\x3eNiger (227)\x3c/option\x3e\x3coption value\x3d"234"\x3eNigeria (234)\x3c/option\x3e\x3coption value\x3d"683"\x3eNiue (683)\x3c/option\x3e\x3coption value\x3d"1670"\x3eNorthern Mariana Island (1670)\x3c/option\x3e\x3coption value\x3d"968"\x3eOman (968)\x3c/option\x3e\x3coption value\x3d"92"\x3ePakistan (92)\x3c/option\x3e\x3coption value\x3d"680"\x3ePalau (680)\x3c/option\x3e\x3coption value\x3d"970"\x3ePalestinian Territory  O (970)\x3c/option\x3e\x3coption value\x3d"507"\x3ePanama (507)\x3c/option\x3e\x3coption value\x3d"675"\x3ePapua New Guinea (675)\x3c/option\x3e\x3coption value\x3d"595"\x3eParaguay (595)\x3c/option\x3e\x3coption value\x3d"51"\x3ePeru (51)\x3c/option\x3e\x3coption value\x3d"63"\x3ePhilippines (63)\x3c/option\x3e\x3coption value\x3d"48"\x3ePoland (48)\x3c/option\x3e\x3coption value\x3d"351"\x3ePortugal (351)\x3c/option\x3e\x3coption value\x3d"974"\x3eQatar (974)\x3c/option\x3e\x3coption value\x3d"262"\x3eReunion (262)\x3c/option\x3e\x3coption value\x3d"40"\x3eRomania (40)\x3c/option\x3e\x3coption value\x3d"7"\x3eRussian Feder \x26 Kazakhstan (7)\x3c/option\x3e\x3coption value\x3d"250"\x3eRwanda (250)\x3c/option\x3e\x3coption value\x3d"290"\x3eSaint Helena (290)\x3c/option\x3e\x3coption value\x3d"1869"\x3eSaint Kitts And Nevis (1869)\x3c/option\x3e\x3coption value\x3d"1758"\x3eSaint Lucia (1758)\x3c/option\x3e\x3coption value\x3d"508"\x3eSaint Pierre And Miquelo (508)\x3c/option\x3e\x3coption value\x3d"1784"\x3eSaint Vincent And The G (1784)\x3c/option\x3e\x3coption value\x3d"685"\x3eSamoa (685)\x3c/option\x3e\x3coption value\x3d"378"\x3eSan Marino (378)\x3c/option\x3e\x3coption value\x3d"239"\x3eSao Tome And Principe (239)\x3c/option\x3e\x3coption value\x3d"966"\x3eSaudi Arabia (966)\x3c/option\x3e\x3coption value\x3d"221"\x3eSenegal (221)\x3c/option\x3e\x3coption value\x3d"381"\x3eSerbia (381)\x3c/option\x3e\x3coption value\x3d"248"\x3eSeychelles (248)\x3c/option\x3e\x3coption value\x3d"232"\x3eSierra Leone (232)\x3c/option\x3e\x3coption value\x3d"65"\x3eSingapore (65)\x3c/option\x3e\x3coption value\x3d"421"\x3eSlovakia (421)\x3c/option\x3e\x3coption value\x3d"386"\x3eSlovenia (386)\x3c/option\x3e\x3coption value\x3d"677"\x3eSolomon Islands (677)\x3c/option\x3e\x3coption value\x3d"252"\x3eSomalia (252)\x3c/option\x3e\x3coption value\x3d"27"\x3eSouth Africa (27)\x3c/option\x3e\x3coption value\x3d"34"\x3eSpain (34)\x3c/option\x3e\x3coption value\x3d"94"\x3eSri Lanka (94)\x3c/option\x3e\x3coption value\x3d"249"\x3eSudan (249)\x3c/option\x3e\x3coption value\x3d"597"\x3eSuriname (597)\x3c/option\x3e\x3coption value\x3d"268"\x3eSwaziland (268)\x3c/option\x3e\x3coption value\x3d"46"\x3eSweden (46)\x3c/option\x3e\x3coption value\x3d"41"\x3eSwitzerland (41)\x3c/option\x3e\x3coption value\x3d"963"\x3eSyrian Arab Republic (963)\x3c/option\x3e\x3coption value\x3d"886"\x3eTaiwan (886)\x3c/option\x3e\x3coption value\x3d"992"\x3eTajikistan (992)\x3c/option\x3e\x3coption value\x3d"255"\x3eTanzania  United Republi (255)\x3c/option\x3e\x3coption value\x3d"66"\x3eThailand (66)\x3c/option\x3e\x3coption value\x3d"670"\x3eTimor-Leste (670)\x3c/option\x3e\x3coption value\x3d"228"\x3eTogo (228)\x3c/option\x3e\x3coption value\x3d"690"\x3eTokelau (690)\x3c/option\x3e\x3coption value\x3d"676"\x3eTonga (676)\x3c/option\x3e\x3coption value\x3d"1868"\x3eTrinidad And Tobago (1868)\x3c/option\x3e\x3coption value\x3d"216"\x3eTunisia (216)\x3c/option\x3e\x3coption value\x3d"90"\x3eTurkey (90)\x3c/option\x3e\x3coption value\x3d"993"\x3eTurkmenistan (993)\x3c/option\x3e\x3coption value\x3d"1649"\x3eTurks And Caicos Island (1649)\x3c/option\x3e\x3coption value\x3d"688"\x3eTuvalu (688)\x3c/option\x3e\x3coption value\x3d"256"\x3eUganda (256)\x3c/option\x3e\x3coption value\x3d"380"\x3eUkraine (380)\x3c/option\x3e\x3coption value\x3d"971"\x3eUnited Arab Emirates (971)\x3c/option\x3e\x3coption value\x3d"44"\x3eUnited Kingdom \x26 Guernsey (44)\x3c/option\x3e\x3coption value\x3d"598"\x3eUruguay (598)\x3c/option\x3e\x3coption value\x3d"1"\x3eUSA \x26 Canada \x26 Puerto Rico (1)\x3c/option\x3e\x3coption value\x3d"998"\x3eUzbekistan (998)\x3c/option\x3e\x3coption value\x3d"678"\x3eVanuatu (678)\x3c/option\x3e\x3coption value\x3d"379"\x3eVatican City State (379)\x3c/option\x3e\x3coption value\x3d"58"\x3eVenezuela (58)\x3c/option\x3e\x3coption value\x3d"84"\x3eViet Nam (84)\x3c/option\x3e\x3coption value\x3d"1284"\x3eVirgin Islands  British (1284)\x3c/option\x3e\x3coption value\x3d"1340"\x3eVirgin Islands  U.S. (1340)\x3c/option\x3e\x3coption value\x3d"681"\x3eWallis And Futuna (681)\x3c/option\x3e\x3coption value\x3d"212"\x3eWestern Sahara \x26 Morocco (212)\x3c/option\x3e\x3coption value\x3d"967"\x3eYemen (967)\x3c/option\x3e\x3coption value\x3d"260"\x3eZambia (260)\x3c/option\x3e\x3coption value\x3d"263"\x3eZimbabwe (263)\x3c/option\x3e'});
templates["supplement-button-area"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cspan class\x3d"label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"total-for-ebaggage-label",options):helperMissing.call(depth0,"i18n","total-for-ebaggage-label",options)))+'\x3c/span\x3e                \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currencySupCents||depth0&&depth0.currencySupCents,options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.fareDetails,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.totalAmount),options):
helperMissing.call(depth0,"currencySupCents",(stack1=(stack1=depth0&&depth0.fareDetails,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.totalAmount),options)))+"\x3c/span\x3e            ";return buffer}function program3(depth0,data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isNetZero,{hash:{},inverse:self.program(6,program6,data),fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+="            ";return buffer}function program4(depth0,data){var buffer="",helper,options;buffer+='                    \x3cspan class\x3d"zerotext"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"no-payment-needed",options):helperMissing.call(depth0,"i18n","no-payment-needed",options)))+"\x3c/span\x3e                ";return buffer}function program6(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cspan class\x3d"label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nb-fare-add-miles",options):helperMissing.call(depth0,"i18n","nb-fare-add-miles",options)))+'\x26nbsp;\x3c/span\x3e                    \x3cspan class\x3d"miles"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),
stack1==null||stack1===false?stack1:stack1.miles),options):helperMissing.call(depth0,"numberFormat",(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?stack1:stack1.miles),options)))+" \x3csub\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"miles-label",options):helperMissing.call(depth0,"i18n","miles-label",options)))+"\x3c/sub\x3e\x3c/span\x3e                    ";
stack1=helpers["if"].call(depth0,(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?stack1:stack1.additionalFare),{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?
stack1:stack1.refundableFare),{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program7(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e\x26nbsp;'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-owed-label",options):helperMissing.call(depth0,"i18n","total-owed-label",
options)))+'\x3c/span\x3e                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{"currencyType":(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?stack1:stack1.currency)},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?
stack1:stack1.additionalFare),options):helperMissing.call(depth0,"currency",(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?stack1:stack1.additionalFare),options)))+"\x3c/span\x3e                    ";return buffer}function program9(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3cspan class\x3d"label"\x3e\x26nbsp;'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"refund-amount-label",options):helperMissing.call(depth0,"i18n","refund-amount-label",options)))+'\x3c/span\x3e                        \x3cspan class\x3d"fare"\x3e'+escapeExpression((helper=helpers.currency||depth0&&depth0.currency,options={hash:{"currencyType":(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?stack1:stack1.currency)},data:data},helper?helper.call(depth0,
(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?stack1:stack1.refundableFare),options):helperMissing.call(depth0,"currency",(stack1=(stack1=depth0&&depth0.fareReviewData,stack1==null||stack1===false?stack1:stack1.totalFareInfo),stack1==null||stack1===false?stack1:stack1.refundableFare),options)))+"\x3c/span\x3e                    ";return buffer}function program11(depth0,data){var buffer="",helper,options;buffer+=
'            \x3cbutton type\x3d"submit" id\x3d"paymentBtn" class\x3d"btn-fixed-mainst continue-button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/button\x3e        ";return buffer}function program13(depth0,data){var buffer="",helper,options;buffer+='            \x3cbutton type\x3d"submit" id\x3d"paymentBtn" class\x3d"btn-fixed-mainst continue-button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"pay-now-label",options):helperMissing.call(depth0,"i18n","pay-now-label",options)))+"\x3c/button\x3e        ";return buffer}buffer+='\x3c!-- template : supplement-button-area --\x3e\x3cdiv class\x3d"fixed-btn-wrap"\x3e    \x3cdiv class\x3d"limit-area min-size"\x3e\x3c!-- min-size 탑승자,결제 페이지에서 해당 클래스 삽입 --\x3e        \x3cdiv class\x3d"total-area"\x3e            ';stack1=helpers["if"].call(depth0,
depth0&&depth0.isEB,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3c/div\x3e        \x3cdiv class\x3d"btn-area not-logged-in"\x3e        ';stack1=(helper=helpers.checkIfNoPayOrRefund||depth0&&depth0.checkIfNoPayOrRefund,options={hash:{},inverse:self.program(13,program13,data),fn:self.program(11,program11,data),data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"checkIfNoPayOrRefund",
depth0,options));if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!--// template : supplement-button-area --\x3e";return buffer})})();
(function(_,$,koreanair,ServiceApi,i18n){koreanair.Login=koreanair.Login||{};koreanair.Login.SESSION_DATA_DEFAULT_KEY="KOREANAIR_USER_SESSION_DATA_KEY";koreanair.Login.SESSION_EXPIRE_SECONDS=60*28;koreanair.clientStorageManager=koreanair.clientStorageManager||{session:window.sessionStorage,local:window.localStorage};koreanair.getStoredUserData=function(){var sessionUserData=JSON.parse(decodeURIComponent(koreanair.clientStorageManager.session.getItem("KOREANAIR_USER_SESSION_DATA_KEY")));var userData=
null;if(sessionUserData){var sessionTime=moment().diff(moment(sessionUserData.time),"seconds");if(koreanair.Login.SESSION_EXPIRE_SECONDS<sessionTime)koreanair.clientStorageManager.session.removeItem("KOREANAIR_USER_SESSION_DATA_KEY");else userData=sessionUserData.skypass}return userData};var dormancyFlag=false;var dormancyVisitMySkypass=false;function initialize(auth){koreanair.skypass=new koreanair.BookingModel.Skypass;koreanair.skypass.get("passengers").user=koreanair.getStoredUserData();koreanair.Login.authenticated=
auth.promise();auth.then(function(skypassData){koreanair.skypass.get("passengers").user=skypassData;if(koreanair.UtilityNav&&koreanair.UtilityNav.skypassLoginHandler)koreanair.UtilityNav.skypassLoginHandler();if(koreanair.clientStorageManager.session&&koreanair.clientStorageManager.session.setItem&&skypassData&&skypassData.userId)koreanair.clientStorageManager.session.setItem(koreanair.Login.SESSION_DATA_DEFAULT_KEY,encodeURIComponent(JSON.stringify({skypass:skypassData,time:moment().toString()})));
$("body").trigger("loggedin")}).always(function(){$(".not-logged-in").toggle(!koreanair.skypass.authenticated());$(".logged-in").toggle(koreanair.skypass.authenticated());if($(".notlogin")&&koreanair.skypass.authenticated())$(".notlogin").removeClass("notlogin");if(koreanair.skypass.authenticated()){$("#new-content-main").addClass("userLogin");if($(".quickBooking")&&$(".quickBooking").length>0){var bottomPos=$(".quickBooking").outerHeight()+45+$("#main-banner \x3earticle \x3e.btn-area .banner-btn").outerHeight();
$("#main-banner \x3earticle \x3e.btn-area").css("bottom",bottomPos)}}}).done(function(){if(koreanair.skypass.authenticated()){var interact_param_object=interact_param_object||null;if(koreanair.isMobile){if(!!interact_param_object&&interact_param_object["psn_fr_ce_m"]&&interact_param_object["psn_fr_ce_m"].length>0)if(koreanair.router&&sessionStorage.hasOwnProperty("PSN_CORP_FARE"))koreanair.router.getFlights(koreanair.router.isFlex()).done(function(data){koreanair.router.showLoadingScreen();var params=
koreanair.utils.getSessionStorage(location.hash.split("/")[1]);var data=JSON.parse(decodeURIComponent(params));koreanair.router.flightSelectStep(data)}).fail(koreanair.router.onFlightDataError,this)}else if(!!interact_param_object&&interact_param_object["psn_fr_ce_w"]&&interact_param_object["psn_fr_ce_w"].length>0)if(koreanair.router&&sessionStorage.hasOwnProperty("PSN_CORP_FARE"))window.location.reload(true)}})}function dormancyRelease(skypassMemberStatusCode,encodedS){var dormancyAward=false;if(koreanair.isMobile){if($("#award").length==
1&&$("#award").attr("class").indexOf("selected")!=-1)dormancyAward=true}else if($('button[data-name\x3d"award"]').length==1&&$('button[data-name\x3d"award"]').attr("aria-pressed")=="true")dormancyAward=true;if(!!koreanair.skypass.get("passengers").user){skypassMemberStatusCode=koreanair.skypass.get("passengers").user.skypassMemberStatusCode;encodedS=koreanair.skypass.get("passengers").user.encodedS}if(location.href.indexOf("/dormancy")==-1&&location.href.indexOf("registration")==-1&&location.href.indexOf("customer-support")==
-1&&location.href.indexOf("register")==-1&&(location.href.indexOf("/booking/")==-1||dormancyAward)&&(location.href.indexOf("/ibe/")==-1||dormancyAward))if(!koreanair.Cookie.get(encodedS+"imm-dormancy-twenty4hours")&&skypassMemberStatusCode=="Sleeping"){dormancyFlag=true;koreanair.Login.displayDormancy()}}var retrieveUserInfo=koreanair.retrieveUserInfo||$.Deferred().resolve({authenticated:true});var authenticated=retrieveUserInfo.then(function(userInfo){var authDeferred;if(userInfo.authenticated)if(!koreanair.isSkypassCallSkipPage)authDeferred=
ServiceApi.skypassInfo.get({showGlobalError:false});else authDeferred=$.Deferred().reject(koreanair.clientStorageManager.session.getItem(koreanair.Login.SESSION_DATA_DEFAULT_KEY));else{authDeferred=$.Deferred().reject();koreanair.clientStorageManager.session.removeItem(koreanair.Login.SESSION_DATA_DEFAULT_KEY);if(koreanair.skypass&&koreanair.skypass.get("passengers"))koreanair.skypass.get("passengers").user=null}return authDeferred});initialize(authenticated);koreanair.Login.authPopupHtml=function(){var html;
if(koreanair.isMobile)html='\x3cdiv class\x3d"self-cert"\x3e'+'\x3cdiv class\x3d"desc"\x3e'+"\x3cul\x3e"+"\x3cli\x3e"+i18n.get("imm_inactive-member-notice")+"\x3c/li\x3e"+"\x3cli\x3e"+i18n.get("imm_inactive-member-procedure")+"\x3c/li\x3e"+"\x3c/ul\x3e"+"\x3c/div\x3e"+'\x3cform id\x3d"sleep-member-form"\x3e'+"\x3clegend\x3e"+i18n.get("imm_inactive-form")+"\x3c/legend\x3e"+'\x3cdiv class\x3d"form"\x3e'+'\x3cdiv class\x3d"inputbox_improve_wrap"\x3e'+'\x3cdiv class\x3d"inputbox_improve first"\x3e'+'\x3cdiv class\x3d"inputbox_style"\x3e'+
'\x3clabel for\x3d"birth-year"\x3e'+i18n.get("imm_inactive-member-year")+"\x3c/label\x3e"+'\x3cinput type\x3d"text" placeholder\x3d"YYYY" value\x3d"" id\x3d"birth-year" name\x3d"birth-year" /\x3e'+"\x3c/div\x3e"+'\x3cdiv class\x3d"out_line"\x3e\x3c/div\x3e'+"\x3c/div\x3e"+'\x3cdiv class\x3d"inputbox_improve"\x3e'+'\x3cdiv class\x3d"inputbox_style"\x3e'+'\x3clabel for\x3d"birth-month"\x3e'+i18n.get("imm_inactive-member-month")+"\x3c/label\x3e"+'\x3cinput type\x3d"text" placeholder\x3d"MM" value\x3d"" id\x3d"birth-month" name\x3d"birth-month" /\x3e'+
"\x3c/div\x3e"+'\x3cdiv class\x3d"out_line"\x3e\x3c/div\x3e'+"\x3c/div\x3e"+'\x3cdiv class\x3d"inputbox_improve"\x3e'+'\x3cdiv class\x3d"inputbox_style"\x3e'+'\x3clabel for\x3d"birth-date"\x3e'+i18n.get("imm_inactive-member-date")+"\x3c/label\x3e"+'\x3cinput type\x3d"text" placeholder\x3d"DD" value\x3d"" id\x3d"birth-date" name\x3d"birth-date" /\x3e'+"\x3c/div\x3e"+'\x3cdiv class\x3d"out_line"\x3e\x3c/div\x3e'+"\x3c/div\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"+'\x3cdiv class\x3d"btn-wrap "\x3e'+'\x3cbutton type\x3d"submit" class\x3d"btn" id\x3d"authsubmit"\x3e'+
i18n.get("submit")+"\x3c/button\x3e"+"\x3c/div\x3e"+"\x3c/form\x3e"+"\x3c/div\x3e";else html='\x3cdiv class\x3d"self-cert"\x3e'+'\x3ch2 class\x3d"modal-title" id\x3d"modal-title-id"\x3e'+i18n.get("imm_inactive-member-authentication")+"\x3c/h2\x3e"+'\x3cdiv class\x3d"desc"\x3e'+"\x3cul\x3e"+"\x3cli\x3e"+i18n.get("imm_inactive-member-notice")+"\x3c/li\x3e"+"\x3cli\x3e"+i18n.get("imm_inactive-member-procedure")+"\x3c/li\x3e"+"\x3c/ul\x3e"+"\x3c/div\x3e"+'\x3cform id\x3d"sleep-member-form"\x3e'+'\x3cdiv class\x3d"custom-form grid form-row"\x3e'+
'\x3cp class\x3d"error mt20" id\x3d"fail-msg" aria-live\x3d"assertive" role\x3d"alert"\x3e \x3c/p\x3e'+'\x3cdiv class\x3d"form-row"\x3e'+'\x3cdiv class\x3d"title-label" id\x3d"birthlabel"\x3e'+i18n.get("date-of-birth")+"\x3c/div\x3e"+'\x3cdiv class\x3d"compound-input-pause" role\x3d"group" aria-labelledby\x3d"birthlabel"\x3e'+'\x3cdiv class\x3d"inner-column-4 input-area"\x3e'+'\x3cspan class\x3d"placeholder" data-placeholder-id\x3d"birth-year" id\x3d"placeholder-year"\x3eYYYY\x3c/span\x3e'+'\x3cinput type\x3d"text" id\x3d"birth-year"  name\x3d"birth-year" class\x3d"dob required" maxlength\x3d"4"  title\x3d"'+
i18n.get("UWA-date-year")+" "+i18n.get("UWA-required")+'"/\x3e'+"\x3c/div\x3e"+'\x3cdiv class\x3d"inner-column-2 input-area"\x3e'+'\x3cspan class\x3d"placeholder" data-placeholder-id\x3d"birth-month" id\x3d"placeholder-month"\x3eMM\x3c/span\x3e'+'\x3cinput type\x3d"text" id\x3d"birth-month" name\x3d"birth-month" class\x3d"dob required" maxlength\x3d"2" title\x3d"'+i18n.get("UWA-date-month")+" "+i18n.get("UWA-required")+'"/\x3e'+"\x3c/div\x3e"+'\x3cdiv class\x3d"inner-column-2 input-area"\x3e'+'\x3cspan class\x3d"placeholder" data-placeholder-id\x3d"birth-date" id\x3d"placeholder-day"\x3eDD\x3c/span\x3e'+
'\x3cinput type\x3d"text" id\x3d"birth-date" name\x3d"birth-date" class\x3d"dob required" maxlength\x3d"2" title\x3d"'+i18n.get("UWA-date-day")+" "+i18n.get("UWA-required")+'"/\x3e'+"\x3c/div\x3e"+"\x3c/div\x3e"+"\x3cdiv\x3e \x3c/div\x3e"+'\x3cdiv class\x3d"button-area" style\x3d"width:100%; text-align:center"\x3e'+'\x3cbutton type\x3d"submit" class\x3d"button" id\x3d"authsubmit"\x3e'+i18n.get("submit")+"\x3c/button\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"+"\x3c/form\x3e"+"\x3c/div\x3e";return html};koreanair.Login.authSuccessPopupHtml=
function(data){var html;if(koreanair.isMobile){html='\x3cdiv class\x3d"self-cert"\x3e'+"\x3ch3\x3e"+i18n.get("imm_inactive-authentication-success")+"\x3c/h3\x3e"+'\x3cdiv class\x3d"desc"\x3e'+"\x3cul\x3e\x3cli\x3e";if(data.koreanLastName&&data.koreanFirstName)html+="\x3cspan\x3e"+data.koreanLastName+data.koreanFirstName+"\x3c/span\x3e / ";html+="\x3cspan\x3e"+data.latinLastName+" "+data.latinFirstName+"\x3c/span\x3e\x3c/li\x3e"+"\x3cli\x3e"+i18n.get("imm_inactive-member-skypass")+" "+data.skypassNumber+
"\x3c/li\x3e"+"\x3c/ul\x3e"+"\x3c/div\x3e"+'\x3cdiv class\x3d"btn-wrap "\x3e'+'\x3ca href\x3d"#" class\x3d"btn" id\x3d"goProfile"\x3e'+i18n.get("visit-myskypass")+"\x3c/a\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"}else{html='\x3cdiv class\x3d"self-cert"\x3e'+'\x3ch3 class\x3d"modal-title"\x3e'+i18n.get("imm_inactive-authentication-success")+"\x3c/h3\x3e"+"\x3cul\x3e\x3cli\x3e";if(data.koreanLastName&&data.koreanFirstName)html+="\x3cspan\x3e"+data.koreanLastName+data.koreanFirstName+"\x3c/span\x3e / ";html+=
"\x3cspan\x3e"+data.latinLastName+" "+data.latinFirstName+"\x3c/span\x3e\x3c/li\x3e"+"\x3cli\x3e"+i18n.get("imm_inactive-member-skypass")+" "+data.skypassNumber+"\x3c/li\x3e"+"\x3c/ul\x3e"+'\x3cdiv class\x3d"button-area"\x3e'+'\x3ca role\x3d"button" class\x3d"button" href\x3d"#" id\x3d"goProfile"\x3e'+i18n.get("visit-myskypass")+"\x3c/a\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"}return html};koreanair.Login.Validator=_.extend({},{getValidator:function($form){if(koreanair.isMobile)$.validator.setDefaults({errorClass:"validation"});
return $form.validate({ignore:"input[type\x3dhidden]",rules:{"last-name":{required:false},"first-name":{required:false},"birth-year":{"required":true,"digits":true,"rangelength":[4,4],"range":[1900,Number(moment().format("YYYY"))]},"birth-month":{"required":true,"digits":true,"rangelength":[1,2],"range":[1,12]},"birth-date":{"required":true,"digits":true,"rangelength":[1,2],"range":[1,31]}},messages:{"last-name":{required:i18n.get("make-sure-complete")},"first-name":{required:i18n.get("make-sure-complete")},
"birth-year":{required:i18n.get("info-required"),digits:i18n.get("only-numbers-error"),rangelength:i18n.get("invalid-year"),range:i18n.get("invalid-year")},"birth-month":{required:i18n.get("info-required"),digits:i18n.get("only-numbers-error"),rangelength:i18n.get("invalid-month"),range:i18n.get("invalid-month")},"birth-date":{required:i18n.get("info-required"),digits:i18n.get("only-numbers-error"),rangelength:i18n.get("invalid-day"),range:i18n.get("invalid-day")}},errorElement:"div",errorPlacement:function(error,
element){if(koreanair.isMobile)$(element).closest(".inputbox_improve").append(error);else{var errHtml="\x3cspan\x3e"+$(error).text()+"\x3c/span\x3e";$(error).html(errHtml).insertAfter(element);if(element.attr("name")==="birth-year"||element.attr("name")==="birth-month"||element.attr("name")==="birth-date")$(element).closest("div").append(error);else $(element).closest("div").append(error)}$.colorbox.resize()},invalidHandler:function(form,validator){var errors=validator.numberOfInvalids();if(errors)validator.errorList[0].element.focus()}})},
validate:function($form){this.getValidator($form);return $form.valid()}});koreanair.Login.authPopup=function(loginType,username,password){var newHtml=koreanair.Login.authPopupHtml();if(false){if($.colorbox)$.colorbox.close();newHtml='\x3cdiv class\x3d"modal-wrapper custom-form login-wrapper" id\x3d"improve_loginwrap"\x3e'+newHtml+"\x3c/div\x3e";koreanair.Modal.standard("",{html:newHtml,inline:false,width:"750px",height:"400"})}else{if($.colorbox)$.colorbox.remove();newHtml='\x3cdiv class\x3d"modal-wrapper custom-form login-wrapper" id\x3d"improve_loginwrap"\x3e'+
newHtml+"\x3c/div\x3e";setTimeout(function(){if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:newHtml,inline:false,width:"750px",height:"400",buttonStyle:0,closeButton:false,buttonX:true,onClosed:dormancyRelease});else koreanair.Modal.standard("",{html:newHtml,inline:false,width:"750px",height:"440px",onClosed:dormancyRelease});$.colorbox.resize();$("#colorbox").removeAttr("aria-describedby");$("#colorbox").attr("aria-labelledby","modal-title-id");var chkMobile="PC";if(koreanair.isMobile)chkMobile=
"Mobile";koreanair.analytics.prop({"dormant_member_start":chkMobile}).track("dormant_member_start");if(koreanair.isMobile)$("input").on("focus",function(e){$(".inputbox_improve").removeClass("on");$(e.target).closest(".inputbox_improve").addClass("on")});else{$("input").on("keyup",function(e){if($(e.target).val()==="")$(e.target).closest(".input-area").find("span").show();else $(e.target).closest(".input-area").find("span").hide()});koreanair.tabbable.popupDefault()}$("input").on("blur",function(e){if($("#fail-msg").text()!=
" "){$("#fail-msg").text(" ");$.colorbox.resize()}});if(!koreanair.isMobile)$("#sleep-member-form").find("input").placeholder();var authenticated=$.Deferred();$(document).on("cbox_closed",function(){authenticated.reject("closed")});$("#authsubmit").on("click",function(e){e.preventDefault();if(!koreanair.Login.Validator.validate($("#sleep-member-form"))){console.log("validate error");return false}var usernameOrSkypass=loginType==="skypass"?"skypassNumber":"username";var loginData={password:password};
loginData[usernameOrSkypass]=username;loginData["sleepLastName"]=$("#last-name").val();loginData["sleepFirstName"]=$("#first-name").val();loginData["sleepBirth"]=moment({"year":$("#birth-year").val(),"month":Number($("#birth-month").val())-1,"day":$("#birth-date").val()}).format("YYYYMMDD");initialize(authenticated);$("#fail-msg").text(" ");ServiceApi.skypassLogin.post({data:JSON.stringify(loginData),success:function(skypassData){koreanair.Cookie.remove("psn_adapter_s");try{psn_interact_call("psn_ln_ss")}catch(e){console.log("Error(login personalization) : "+
e)}authenticated.resolve(skypassData);koreanair.Login.authSuccessPopup(skypassData)},error:function(xhr){if(koreanair.isMobile)$("form div:eq(1)").prepend('\x3cp class\x3d"validation" role\x3d"alert" id\x3d"fail-msg" aria-live\x3d"assertive"\x3e'+i18n.get("imm_inactive-authentication-failure2")+"\x3c/p\x3e");else if($("#fail-msg").length==0)$("form div:eq(1)").prepend('\x3cp class\x3d"error mt20" role\x3d"alert" id\x3d"fail-msg" aria-live\x3d"assertive"\x3e'+i18n.get("imm_inactive-authentication-failure2")+
"\x3c/p\x3e");else{$("#fail-msg").attr("aria-live","assertive");$("#fail-msg").attr("role","alert");$("#fail-msg").append("\x3cspan\x3e"+i18n.get("imm_inactive-authentication-failure2")+"\x3c/span\x3e")}$.colorbox.resize()}})})},10)}return authenticated.promise()};koreanair.Login.authSuccessPopup=function(data){var newHtml=koreanair.Login.authSuccessPopupHtml(data);$(".modal-wrapper").html(newHtml);$.colorbox.resize();if(!koreanair.isMobile)koreanair.tabbable.popupDefault();if(window.location.pathname.indexOf("reservation-search.html")!==
-1)$(document).on("cbox_closed",function(){$(document).off("cbox_closed");window.location.reload()});$("#goProfile").on("click",function(e){e.preventDefault();if($("div#cboxLoadedContent:visible").length>0)$.colorbox.close();if(koreanair.skypass.get("passengers").user.skypassMemberStatusCode!="Sleeping")if(koreanair.isMobile)koreanair.Login.authenticated.done(function(){window.location.href="/mobile/korea/ko/profile/profile.html#view-profile"}).fail(function(){koreanair.loginModal($.Deferred())});
else location.href=koreanair.Account.profilePage;else dormancyVisitMySkypass=true});var chkMobile="PC";if(koreanair.isMobile)chkMobile="Mobile";koreanair.analytics.prop({"dormant_member_certification":chkMobile}).track("dormant_member")};koreanair.Login.callLoginService=function(loginType,username,password){var authenticated=$.Deferred();initialize(authenticated);if(koreanair.skypass.get("passengers").user!=null){var savedData=JSON.parse(decodeURIComponent(koreanair.clientStorageManager.session.getItem(koreanair.Login.SESSION_DATA_DEFAULT_KEY)));
var savedSkypassData=savedData?savedData.skypass:null;koreanair.viewHelpers.checkSkypassEnable().done(function(){authenticated.resolve(savedSkypassData)});koreanair.Cookie.remove("memberInfoChangeFromMain")}else{if(!!koreanair.mobileAppData)if(username==""||password==""){authenticated.reject();return}var usernameOrSkypass=loginType==="skypass"?"skypassNumber":"username";var loginData={password:password};loginData[usernameOrSkypass]=username;koreanair.analytics.prop({"login_type":loginType==="skypass"?
"Skypass No.":"Member ID"}).track("login_type_call");ServiceApi.skypassLogin.post({data:JSON.stringify(loginData),success:function(skypassData){try{if(koreanair.clientStorageManager.session&&koreanair.clientStorageManager.session.setItem&&skypassData&&skypassData.userId)koreanair.clientStorageManager.session.setItem(koreanair.Login.SESSION_DATA_DEFAULT_KEY,encodeURIComponent(JSON.stringify({skypass:skypassData,time:moment().toString()})))}catch(ex){var errorTxt="[miss-page-loginhelpers-new] : error session setItem \x3e "+
ex.message;$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:errorTxt}),dataType:"json"})}try{if(koreanair.mobileAppData)window.location.href="koreanair://login?userid|"+(skypassData&&skypassData.userId?skypassData.userId:username)+"|"+password+(skypassData&&skypassData.encodedS?"|"+skypassData.encodedS:"")}catch(ex){var errorTxt="[miss-page-loginhelpers-new] : error mobileapp login info send \x3e "+
ex.message;$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:errorTxt}),dataType:"json"})}try{koreanair.analytics.prop({"member_info_gender":skypassData.skypassNumber,"member_info_ages":skypassData.dateOfBirth,"member_info_skypass_tier":skypassData.skypassTier,"member_info_remaining_miles":skypassData.skypassMiles,"member_info_encrypt_id":skypassData.encodedS}).track("member_info_call");
koreanair.viewHelpers.checkSkypassEnable().done(function(){authenticated.resolve(skypassData);try{psn_interact_call("psn_ln_ss")}catch(e){console.log("Error(login personalization) : "+e)}koreanair.Login.pocCall()});if(!$("#colorbox").css("display")||!!$("#colorbox").css("display")&&$("#colorbox").css("display")!="block"){dormancyRelease(skypassData.skypassMemberStatusCode,skypassData.encodedS);if(!!skypassData.skypassNumber&&!dormancyFlag&&location.href.indexOf("customer-support")==-1&&location.href.indexOf("register")==
-1&&location.href.indexOf("/booking/")==-1&&location.href.indexOf("/ibe/")==-1)if(!koreanair.Cookie.get(skypassData.encodedS+"imm-coupon-nomoresee")&&!koreanair.Cookie.get(skypassData.encodedS+"imm-coupon-twenty4hours"))koreanair.ServiceApi.couponGetList.get({showGlobalError:false}).success(function(data){for(var i=0;i<data.length;i++)if(parseInt(data[i].maxUseCount,10)-parseInt(data[i].useCount,10)>0&&data[i].active&&!data[i].expired&&data[i].status!="N"){koreanair.Login.displayCoupon();setTimeout(function(){$.colorbox.resize()},
200);break}}).error(function(){if(koreanair.isMobile){if(!sessionStorage.getItem("immCnt"))sessionStorage.setItem("immCnt",0);if(sessionStorage.getItem("immCnt")=="0"){koreanair.Login.logoutUser();location.reload();sessionStorage.setItem("immCnt",parseInt(sessionStorage.getItem("immCnt"))+1)}}}).always(function(){sessionStorage.removeItem("immCnt")})}koreanair.Cookie.remove("memberInfoChangeFromMain")}catch(ex){var errorTxt="[miss-page-loginhelpers-new] : ["+location.href+"]["+(!!koreanair.mobileAppData?
"App":"Web")+"]"+ex.message;$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:errorTxt}),dataType:"json"})}},error:function(xhr){try{var xhrCheck=!!xhr;var responseJSONCheck="";if(xhr)responseJSONCheck=!!xhr.responseJSON;var xhrLog=responseJSONCheck?"(R)"+JSON.stringify(xhr.responseJSON):"(T)"+xhr.responseText;var isIPhoneAgent=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),
isAndroidAgent=/Android/g.test(navigator.userAgent);var iPhoneAndroid="Others";iPhoneAndroid=isIPhoneAgent?"iOS":iPhoneAndroid;iPhoneAndroid=isAndroidAgent?"Android":iPhoneAndroid;var errorTxt="[miss-page-loginhelpers] : ["+location.href+"]"+"["+username+"]["+iPhoneAndroid+"]["+(!!koreanair.mobileAppData?"App":"Web")+"][xhrLog : "+xhrLog+"]";$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",
url:"/api/logging/i18n",data:JSON.stringify({value1:errorTxt}),dataType:"json"})}catch(e){$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:"[miss-page-loginhelpers] exception ["+e.message+"]"}),dataType:"json"})}if(xhr&&xhr.responseJSON&&xhr.responseJSON&&xhr.responseJSON.code==="SLP0001"){koreanair.sleepMember="sleepMember";koreanair.Login.authPopup(loginType,
username,password).done(function(resultData){authenticated.resolve(_.extend(resultData,{sleep:"Y"}));koreanair.Login.pocCall()}).fail(function(err){koreanair.analytics.prop({"login_fail_message":"sleep member authentication error"}).track("login_fail");authenticated.reject(err)})}else{if(koreanair.mobileAppData)window.location.href="koreanair://loginFail?"+loginType+"|"+username+"|"+password;koreanair.analytics.prop({"login_fail_message":"password error"}).track("login_fail");authenticated.reject()}}})}return authenticated.promise()};
koreanair.Login.pocCall=function(){};koreanair.Login.logoutMin=function(){koreanair.ServiceApi.skypassLogout.get().done(function(){koreanair.clientStorageManager.session.removeItem(koreanair.Login.SESSION_DATA_DEFAULT_KEY);if(koreanair.sidemenu&&koreanair.sidemenu.sessionUtil)koreanair.sidemenu.sessionUtil.clearMenuData();koreanair.skypass.get("passengers").user=null;if(koreanair.mobileAppData)window.location.href="koreanair://logout";$("body").trigger("loggedout")})};koreanair.Login.logoutUser=function(){koreanair.ServiceApi.skypassLogout.get().done(function(){koreanair.clientStorageManager.session.removeItem(koreanair.Login.SESSION_DATA_DEFAULT_KEY);
try{psn_interact_call("psn_lo_ss")}catch(e){}if(koreanair.sidemenu&&koreanair.sidemenu.sessionUtil)koreanair.sidemenu.sessionUtil.clearMenuData();if(koreanair.mobileAppData){var mobileAppSettings=JSON.parse(decodeURIComponent(koreanair.clientStorageManager.session.getItem(koreanair.MobileApp.DEFAULT_MOBILE_APP_SETTING_KEY)));mobileAppSettings=mobileAppSettings||{mobileAppData:koreanair.mobileAppData};mobileAppSettings.autoLogin=false;koreanair.clientStorageManager.session.setItem(koreanair.MobileApp.DEFAULT_MOBILE_APP_SETTING_KEY,
encodeURIComponent(JSON.stringify(mobileAppSettings)));window.location.href="koreanair://logout"}if(koreanair.isMobile&&koreanair.goto)koreanair.goto("/");else window.location.href=koreanair.BookingBar.HomePage});initialize($.Deferred().reject())};koreanair.Login.appSessionCheck=function(){if(koreanair.mobileAppData)$.ajax({url:"/api/min/user?_\x3d"+Date.now(),cache:false,error:function(xhr){try{var responseJSONCheck="";if(xhr)responseJSONCheck=!!xhr.responseJSON;var xhrLog=responseJSONCheck?"(R)"+
JSON.stringify(xhr.responseJSON):"(T)"+xhr.responseText;var isIPhoneAgent=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),isAndroidAgent=/Android/g.test(navigator.userAgent);var iPhoneAndroid="Others";iPhoneAndroid=isIPhoneAgent?"iOS":iPhoneAndroid;iPhoneAndroid=isAndroidAgent?"Android":iPhoneAndroid;var errorTxt="[miss-page-loginhelpers-appSession] : ["+location.href+"]["+iPhoneAndroid+"]["+(!!koreanair.mobileAppData?"App":"Web")+"][xhrLog : "+xhrLog+"]";if(!!koreanair.getStoredUserData()){if(!!koreanair.getStoredUserData().userId)errorTxt=
errorTxt+"[stored] userId"+koreanair.getStoredUserData().userId;if(!!koreanair.getStoredUserData().skypassNumber)errorTxt=errorTxt+"[stored] skypassNumber"+koreanair.getStoredUserData().skypassNumber}$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:errorTxt}),dataType:"json"})}catch(e){$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type",
"application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:"[miss-page-loginhelpers-appSession] exception ["+e.message+"]"}),dataType:"json"})}location.href="koreanair://sessionCallback?"+"false"}}).then(function(userInfo){var cbStr="false";if(userInfo){cbStr=userInfo.authenticated?"true":"false";if(userInfo.authenticated)koreanair.clientStorageManager.session.setItem(koreanair.Login.SESSION_DATA_DEFAULT_KEY,encodeURIComponent(JSON.stringify({skypass:koreanair.getStoredUserData(),
time:moment().toString()})));else koreanair.clientStorageManager.session.removeItem("KOREANAIR_USER_SESSION_DATA_KEY")}location.href="koreanair://sessionCallback?"+cbStr})};koreanair.Login.checkAndroidVersion=function(ver){alert(ver);if(koreanair.mobileAppData){koreanair.version=ver;koreanair.isAndroid=true}};var displayDormancy=function(){setTimeout(function(){newHtml=Handlebars.templates["dormancy-main"]();var closeFlag=true;if($("div#cboxLoadedContent:visible").length>0)$.colorbox.close();if(koreanair.isMobile){closeFlag=
false;koreanair.Modal.standardExt({templateData:newHtml,buttonStyle:3,closeButton:closeFlag,buttonX:true,closeButtonLable:i18n.get("dormancy-after-release-btn"),confirmButtonLable:i18n.get("dormancy-now-release-btn"),onCleanup:function(){if($("#neversee").prop("checked"))koreanair.Cookie.set(koreanair.skypass.get("passengers").user.encodedS+"imm-dormancy-twenty4hours",true,60*24*365)},onTransitionComplete:function(){$("#cboxContent").css("padding","0 0 0 0");$("#cboxContent").css("overflow","hidden");
$("#cboxContent").css("height","100%");$(".close_icon").addClass("couponx")},onComplete:_.bind(function(){$("#confirmBtnType2 a").on("click",_.bind(function(e){e.preventDefault();var urlRegion="korea";if(location.href.indexOf("/global/")!=-1)urlRegion="global";if(koreanair.isMobile)if(iPhoneFlag&&koreanair.mobileAppData&&koreanair.Country=="kr"&&koreanair.Lang=="ko")koreanair.Modal.standardExt({templateData:i18n.get("dormancy-iphone-noti"),buttonStyle:2,onTransitionComplete:function(){$("#cboxContent").css("padding",
"1.5rem");$("#confirmBtnType1\x3ea").click(function(e){e.preventDefault();koreanair.gotoApp("profile/dormancy-release.html");$.colorbox.remove()})}});else window.location.href="/content/koreanair-mobile/"+urlRegion+"/"+koreanair.Lang.replace("-","_")+"/profile/dormancy-release.html";else window.location.href="/content/koreanair/"+urlRegion+"/"+koreanair.Lang.replace("-","_")+"/profile/dormancy-release.html"}))})})}else koreanair.Modal.standard("",{html:newHtml,inline:false,width:"690",height:"540",
closeButton:closeFlag,onCleanup:function(){if($("#check2").prop("checked"))koreanair.Cookie.set(koreanair.skypass.get("passengers").user.encodedS+"imm-dormancy-twenty4hours",true,60*24*365)},onComplete:function(){},onCompleteAfter:function(){}});$.colorbox.resize();var iPhoneFlag=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);$(".button-page-blue").on("click",function(e){var urlRegion="korea";if(location.href.indexOf("/global/")!=-1)urlRegion="global";if(koreanair.isMobile)if(iPhoneFlag&&koreanair.mobileAppData&&
koreanair.Country=="kr"&&koreanair.Lang=="ko")koreanair.Modal.standardExt({templateData:i18n.get("dormancy-iphone-noti"),buttonStyle:2,onTransitionComplete:function(){$("#cboxContent").css("padding","1.5rem");$("#confirmBtnType1\x3ea").click(function(e){e.preventDefault();koreanair.gotoApp("profile/dormancy-release.html");$.colorbox.remove()})}});else window.location.href="/content/koreanair-mobile/"+urlRegion+"/"+koreanair.Lang.replace("-","_")+"/profile/dormancy-release.html";else window.location.href=
"/content/koreanair/"+urlRegion+"/"+koreanair.Lang.replace("-","_")+"/profile/dormancy-release.html"});$(".button-page-gray").on("click",function(){$.colorbox.close();if(dormancyVisitMySkypass){dormancyVisitMySkypass=false;if(koreanair.isMobile)koreanair.Login.authenticated.done(function(){window.location.href="/mobile/korea/ko/profile/profile.html#view-profile"}).fail(function(){koreanair.loginModal($.Deferred())});else location.href=koreanair.Account.profilePage}})},300)};var displayCoupon=function(){setTimeout(function(){newHtml=
Handlebars.templates["imm-coupon"]();var closeFlag=true;if(koreanair.isMobile){closeFlag=false;koreanair.Modal.standardExt({templateData:newHtml,buttonStyle:0,closeButton:closeFlag,buttonX:true,onCleanup:function(){if($("#twenty4hours").prop("checked"))koreanair.Cookie.set(koreanair.skypass.get("passengers").user.encodedS+"imm-coupon-twenty4hours",true,60*24,"",".koreanair.com");if($("#nomoresee").prop("checked"))koreanair.Cookie.set(koreanair.skypass.get("passengers").user.encodedS+"imm-coupon-nomoresee",
true,365*60*24,"",".koreanair.com")},onTransitionComplete:function(){$("#cboxContent").css("padding","0 0 0 0");$("#cboxContent").css("overflow","hidden");$("#cboxContent").css("height","100%");$(".close_icon").addClass("couponx")}})}else koreanair.Modal.standard("",{html:newHtml,inline:false,width:"620",height:"540",closeButton:closeFlag,onCleanup:function(){if($("#twenty4hours").prop("checked"))koreanair.Cookie.set(koreanair.skypass.get("passengers").user.encodedS+"imm-coupon-twenty4hours",true,
60*24,"",".koreanair.com");if($("#nomoresee").prop("checked"))koreanair.Cookie.set(koreanair.skypass.get("passengers").user.encodedS+"imm-coupon-nomoresee",true,365*60*24,"",".koreanair.com")},onComplete:function(){},onCompleteAfter:function(){}});$.colorbox.resize();$(".button-evt").on("click",function(e){var urlRegion="korea";if(location.href.indexOf("/global/")!=-1)urlRegion="global";if(koreanair.isMobile)window.location.href="/content/koreanair-mobile/"+urlRegion+"/"+koreanair.Lang.replace("-",
"_")+"/profile/profile.html#promo-coupon";else window.location.href="/content/koreanair/"+urlRegion+"/"+koreanair.Lang.replace("-","_")+"/profile/profile.html#promo-coupon"});$("#nomoresee").die("change").live("change",function(){if($("#nomoresee").prop("checked"))$("#twenty4hours").prop("checked",false)});$("#twenty4hours").die("change").live("change",function(){if($("#twenty4hours").prop("checked"))$("#nomoresee").prop("checked",false)})},100)};var applyMemberInfoChangeEvent=function(){koreanair.viewHelpers.checkSkypassEnableNoPopup().done(function(){if(koreanair.skypass.get("passengers").user!=
null)applyMemberInfoChange();else setTimeout(function(){if(koreanair.skypass.get("passengers").user!=null)applyMemberInfoChange()},200)}).fail(function(){if(koreanair.Cookie.get("memberInfoChangeFromMainBanner"))koreanair.Cookie.remove("memberInfoChangeFromMainBanner");koreanair.viewHelpers.checkSkypassEnable(false)})};var applyMemberInfoChange=function(){var applyData="ek\x3d"+koreanair.skypass.get("passengers").user.userId+"\x26fg\x3d2";var applyData2="ek\x3d"+koreanair.skypass.get("passengers").user.userId;
var memberAgreeFlag=false;function applyMsg(rtval){var rt="";switch(rtval){case "001":rt="이벤트가 종료 되었습니다.";break;case "002":rt="이미 응모 하셨습니다.";break;case "003":rt="응모가 완료되었습니다.";break;case "004":rt="응모 실패.";break;case "005":rt="잘못된 접근 경로 ID가 파라미터로 안넘어 온 경우.";break;case "007":rt="이미 응모하셨습니다.";break;case "008":rt="아직 응모하지 않았습니다.";break;case "009":rt="이벤트가 종료 되었습니다.";break;default:rt=""}return rt}$.ajax({url:location.protocol+"//micro.koreanair.com/mainevent/201606/apply/uds.aspx",method:"POST",async:false,
cache:false,data:applyData,dataType:"jsonp",success:function(data){if(data.rval=="007"){if(koreanair.Cookie.get("memberInfoChangeFromMainBanner"))if(koreanair.isMobile){if(!koreanair.mobileAppData&&koreanair.skypass.get("passengers").user!=null)koreanair.Modal.standardExt({templateData:"이미 응모하셨습니다.",buttonStyle:2,onTransitionComplete:function(){$("#cboxContent").css("padding","1.5rem");$("#confirmBtnType1\x3ea").click(function(e){e.preventDefault();$.colorbox.remove()})}})}else if(!koreanair.mobileAppData&&
koreanair.skypass.get("passengers").user!=null)koreanair.Modal.alert("이미 응모하셨습니다.")}else if(data.rval=="001"||data.rval=="009");else applyChangeInfo();koreanair.Cookie.set("memberInfoChangeFromMainBanner",false);koreanair.Cookie.remove("memberInfoChangeFromMainBanner")},error:function(xhr,status,error){}}).done(function(){});function applyChangeInfo(){setTimeout(function(){var newHtml="";var closeFlag=true;if(koreanair.isMobile)closeFlag=false;if(_.isEmpty($(".modal-wrapper"))){if($("div#cboxLoadedContent:visible").length>
0)$.colorbox.close();newHtml=Handlebars.templates["imm-changeinfo-event"]();if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:newHtml,buttonStyle:0,closeButton:closeFlag,buttonX:false,onCleanup:function(){},onTransitionComplete:function(){$("#cboxContent").css("padding","0 0 0 0");$("#cboxContent").css("overflow","hidden");$("#cboxContent").css("height","100%")}});else koreanair.Modal.standard("",{html:newHtml,inline:false,width:"650px",height:"400px",closeButton:closeFlag,onCleanup:function(){},
onComplete:function(){var theForm=$(".info-change-popup");initValidate(theForm)},onCompleteAfter:function(){}});var self=this;if(!(location.protocol=="http"&&(location.href.indexOf("://krstg")!=-1||location.href.indexOf("://kr")!=-1)))koreanair.ServiceApi.fullDetails.get({async:false,showGlobalError:false,success:function(data){self.email=data.email;self.representCountryNumberCode=data.representCountryNumberCode;self.telephoneNumber=data.representPhoneNumber;self.newsEmailDmYn=data.newsEmailDmYn;
self.promoEmailDmYn=data.promoEmailDmYn;self.smsYn=data.smsYn;$("#newsEmailDmYn").prop("checked",data.newsEmailDmYn==="Y");$("#promoEmailDmYn").prop("checked",data.promoEmailDmYn==="Y");$("#smsYn").prop("checked",data.smsYn==="Y");$('select[name\x3d"representCountryNumberCode"]').val(data.representCountryNumberCode);$('input[name\x3d"representPhoneNumber"]').val(data.representPhoneNumber);$('input[name\x3d"emailAddressInput"]').val(data.email);if(data.email!="")$("#placeholder-email-address").css("display",
"none");if(data.newsEmailDmYn==="Y"&&data.promoEmailDmYn==="Y"&&data.smsYn==="Y"){memberAgreeFlag=true;$(".agree.grid").detach();$(".notice.agree").detach()}else if($("#newsEmailDmYn").is(":checked")||$("#promoEmailDmYn").is(":checked")||$("#smsYn").is(":checked"))$("#newsallagree").prop("checked",true)}});$("input").on("keydown",function(e){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.ENTER)return false});$(".applyEvent").on("click",function(e){e.preventDefault();applyEvent()});
$(".applyCancel").on("click",function(e){e.preventDefault();applyCancel()});$(".footer-close").on("click",function(e){e.preventDefault();applyCancel()});$("#mbrDetailView").on("click",function(e){e.preventDefault();showDetailPop1()});$(".popup-close:eq(0)").on("click",function(e){e.preventDefault();if($(".popup-close").length>1)hideDetailPop1();else hideDetailPop2()});$("#mbrDetailView2").on("click",function(e){e.preventDefault();showDetailPop2()});$(".popup-close:eq(1)").on("click",function(e){e.preventDefault();
hideDetailPop2()});$("#hiddenforweeks").on("change",function(e){e.preventDefault();if($("#hiddenforweeks").prop("checked"))koreanair.Cookie.set("memberInfoChangeYN",true,60*24*7);else koreanair.Cookie.remove("memberInfoChangeYN")});$("#newsallagree").on("change",function(e){e.preventDefault();if(!$("#newsallagree").prop("checked")){$("#newsEmailDmYn").prop({"checked":false});$("#promoEmailDmYn").prop({"checked":false});$("#smsYn").prop({"checked":false})}});$("#smsYn").on("change",function(e){e.preventDefault();
if($("#smsYn").prop("checked"))$("#newsallagree").prop({"checked":true})});$("#newsEmailDmYn").on("change",function(e){e.preventDefault();if($("#newsEmailDmYn").prop("checked"))$("#newsallagree").prop({"checked":true})});$("#promoEmailDmYn").on("change",function(e){e.preventDefault();if($("#promoEmailDmYn").prop("checked"))$("#newsallagree").prop({"checked":true})});$("#thirdPartyInfoOfferAgrYn").on("change",function(e){e.preventDefault()});$("#confirmBtnType1").find("a").die("click").live("click",
function(e){e.preventDefault();$.colorbox.remove()})}else $(".modal-wrapper").html(newHtml);$.colorbox.resize();function applyEvent(){var theForm=$(".info-change-popup");initValidate(theForm);if(theForm.valid())if(updateMemberInfo(buildPo()));}function applyCancel(){$.colorbox.remove()}function buildPo(){var po={password:$('input[name\x3d"currentPassword"]').val(),email:$('input[name\x3d"emailAddressInput"]').val(),newsEmailDmYn:$('input[name\x3d"newsEmailDmYn"]').is(":checked")?"Y":"N",promoEmailDmYn:$('input[name\x3d"promoEmailDmYn"]').is(":checked")?
"Y":"N",representCountryNumberCode:$('select[name\x3d"representCountryNumberCode"]').val(),representPhoneNumber:$('input[name\x3d"representPhoneNumber"]').val(),smsYn:$('input[name\x3d"smsYn"]').is(":checked")?"Y":"N",faxNo:""};return po}function updateMemberInfo(po){var errMsgMember="비밀번호가 틀립니다.";if(memberAgreeFlag){po.newsEmailDmYn="Y";po.promoEmailDmYn="Y";po.smsYn="Y"}var self=this;ServiceApi.updateMember.post({data:JSON.stringify(po),success:_.extend(function(data){koreanair.skypass.get("passengers").user.email=
po.email;koreanair.skypass.get("passengers").user.telephoneNumber=po.representPhoneNumber;koreanair.skypass.get("passengers").user.telephoneCountry=po.representCountryNumberCode;$.ajax({url:location.protocol+"//micro.koreanair.com/mainevent/201606/apply/uds.aspx",method:"POST",async:false,cache:false,data:applyData2,dataType:"jsonp",success:function(data){if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:applyMsg(data.rval),buttonStyle:2,onTransitionComplete:function(){$("#cboxContent").css("padding",
"1.5rem");$("#confirmBtnType1\x3ea").click(function(e){e.preventDefault();$.colorbox.remove()})}});else koreanair.Modal.alert(applyMsg(data.rval))},error:function(xhr,status,error){}});return true},self),error:function(jqXHR,textStatus){var obj=JSON.parse(jqXHR.responseText);if(obj.message.indexOf("Invalid User ID / Password")==-1)if(koreanair.isMobile)errMsgMember="고객님의 회원 정보에서 오류가 발생하였습니다. 마이페이지 – 나의 프로필 메뉴에서 회원정보 수정 후 다시 진행하시거나 서비스센터로 연락하여 주시기 바랍니다.";else errMsgMember="고객님의 회원 정보 중 일부 정보가 누락되었거나 형식이 맞지 않아 오류가 발생하였습니다. 마이페이지 – 회원 정보 메뉴에서 필수입력 정보 수정 후 다시 진행하시거나 대한항공 서비스센터로 연락하여 주시기 바랍니다.";
var validClass="error";if(koreanair.isMobile)validClass="validation";$("#currentPassword").addClass(validClass);$("#currentPassword").removeClass("valid");$("#currentPassword").attr("aria-invalid","true");$("#currentPassword").attr("aria-describedby","currentPassword-validate-label");$("#currentPassword").after('\x3cp id\x3d"currentPassword-validate-label" data-errored-element\x3d"currentPassword" class\x3d"'+validClass+'"\x3e'+errMsgMember+"\x3c/p\x3e");return false},complete:function(){}})}function showDetailPop1(){$(".layer.detail-view.detail1").show()}
function hideDetailPop1(){$(".detail1").hide()}function showDetailPop2(){$(".detail2").show()}function hideDetailPop2(){$(".detail2").hide()}$.validator.addMethod("phone",function(value,element,params){return value.match(/^[0-9\-]*$/)},"숫자와 하이픈(-)만 입력가능합니다.");$.validator.addMethod("phoneLength",function(value,element,params){return value.length>=8},"8자리 이상 입력하여 주십시오.");function initValidate(theForm){var validClass="error";if(koreanair.isMobile)validClass="validation";var validateOptions={errorClass:validClass,
rules:{emailAddressInput:{required:true,email:true},representCountryNumberCode:{required:true},representPhoneNumber:{required:true,phone:true,phoneLength:true},thirdPartyInfoOfferAgrYn:{required:true},currentPassword:{required:true}},messages:{"representCountryNumberCode":{required:"필수 사항입니다."},"representPhoneNumber":{required:"필수 사항입니다."},"emailAddressInput":{required:"필수 사항입니다."},"thirdPartyInfoOfferAgrYn":{required:"필수 사항입니다."},"currentPassword":{required:"필수 사항입니다."}},errorPlacement:function(error,
element){var parent=element.parent();if(element.attr("name")!="thirdPartyInfoOfferAgrYn"&&(koreanair.isMobile||element.attr("name")=="representCountryNumberCode"))error.appendTo(parent.parent());else error.appendTo(parent)}};theForm.validate(validateOptions)}},100)}};koreanair.Login.applyMemberInfoChangeEvent=applyMemberInfoChangeEvent;koreanair.Login.displayCoupon=displayCoupon;koreanair.Login.displayDormancy=displayDormancy})(_,jQuery,koreanair,koreanair.ServiceApi,Granite.I18n);
(function(_,$,koreanair){koreanair.Modal=koreanair.Modal||{};koreanair.Modal.standard=function(modalTarget,options,returnFocusTo){var defaults={href:modalTarget,inline:true,maxWidth:"90%",opacity:.8,returnFocus:true,trapFocus:false,focusFirstElement:true,close:Granite.I18n.get("close-label"),ariaLabel:Granite.I18n.get("WCAG-popup-label-standard"),returnFocusTo:returnFocusTo||document.activeElement};options=_.extend({},defaults,options);var onComplete=options.onComplete||_.noop;options.onComplete=
function(){$("#colorbox").attr("data-dialog","standard");if(options.onCompleteBefore)options.onCompleteBefore.apply(this,arguments);if(onComplete)onComplete.apply(this,arguments);WA.addFocusEvent();koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");koreanair.common.utils.anchorToButton($("a.button"));if(options.focusFirstElement)koreanair.Modal.focusFirstElement();if(options.onCompleteAfter)options.onCompleteAfter.apply(this,arguments);$("input").placeholder()};var onClosed=options.onClosed||
_.noop;options.onClosed=function(){WA.removeFocusEvent();onClosed()};$("#colorbox #cboxContent #cboxLoadingGraphic").html('\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("loading-label")+"\x3c/span\x3e");return $.colorbox(options)};koreanair.Modal.legalOverlay=function(content,options){var defaults={html:content,inline:true,returnFocus:true,opacity:.8,className:"sizedOverlay",trapFocus:false,focusFirstElement:true,returnFocusTo:document.activeElement,shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-legal-overlay"),
onComplete:function(){WA.addFocusEvent();koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");if(options.focusFirstElement)koreanair.Modal.focusFirstElement();$("#colorbox").attr("data-dialog","legalOverlay");if(options.onCompleteAfter)options.onCompleteAfter.apply(this,arguments);$.colorbox.resize()}};options=_.extend({},defaults,options);var onClosed=options.onClosed||_.noop;options.onClosed=function(){WA.removeFocusEvent();onClosed()};$("#colorbox #cboxContent #cboxLoadingGraphic").html('\x3cspan class\x3d"offscreen"\x3e'+
Granite.I18n.get("loading-label")+"\x3c/span\x3e");return $.colorbox(options)};koreanair.Modal.sized=function(content,options,returnFocusTo){var defaults={href:content,inline:false,fixed:true,returnFocus:true,trapFocus:false,returnFocusTo:returnFocusTo||document.activeElement,opacity:.8,className:"sizedOverlay",ariaLabel:Granite.I18n.get("WCAG-popup-label-standard"),onComplete:function(){$(document).trigger("slidersReady");$("#cboxLoadedContent #content-area").children().removeAttr("style");WA.addFocusEvent();
koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");koreanair.Modal.focusFirstElement();$("#colorbox").attr("data-dialog","sized")},onCleanup:function(){window.location.hash="_"}};options=_.extend({},defaults,options);var onComplete=options.onComplete||_.noop;if(options.focusFirstElement!=undefined&&options.focusFirstElement==false)options.onComplete=function(){if(onComplete){onComplete.apply(this,arguments);WA.addFocusEvent();koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");
$("#colorbox").attr("data-dialog","sized")}};else options.onComplete=function(){if(onComplete){onComplete.apply(this,arguments);WA.addFocusEvent();koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");koreanair.Modal.focusFirstElement();$("#colorbox").attr("data-dialog","sized")}};var onClosed=options.onClosed||_.noop;options.onClosed=function(){WA.removeFocusEvent();onClosed()};$("#colorbox #cboxContent #cboxLoadingGraphic").html('\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("loading-label")+
"\x3c/span\x3e");return $.colorbox(options)};koreanair.Modal.tooltip=function(targetElement,options){var defaults={content:{button:true,text:function(event,api){return $(".summary .fareRules").clone()}},position:{my:"center right",at:"bottom left",adjust:{y:-100}},style:{classes:"qtip-light fare-rules",tip:{height:20,width:40}},show:{event:"click",solo:true},hide:"click unfocus",returnFocus:true,trapFocus:false,shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-tooltip"),onComplete:function(){WA.addFocusEvent();
koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");koreanair.Modal.focusFirstElement();$("#colorbox").attr("data-dialog","tooltip")}};options=_.extend({},defaults,options);var onClosed=options.onClosed||_.noop;options.onClosed=function(){WA.removeFocusEvent();onClosed()};$(targetElement).qtip(options)};koreanair.Modal.pressReleaseOverlay=function(targetElement,options,content,origURL){var headerHeight=$("#siteHeader").height(),headerHeight=106,windowWidth=$(window).width(),sideNav=
$(".side-nav").width(),contentWidth=$(".content-wrapper").width(),viewHeight=$(window).height()-headerHeight,margin=(windowWidth-sideNav-contentWidth)/2+sideNav,margin=102,$articles=$(".year.active").find("a"),cur=0,next=0,prev=0;for(var i=0;i<$articles.length;i++)if($articles[i].toString().indexOf(origURL)>0){cur=i;if(i===0){next=1;prev=$articles.length-1}else if(i===$articles.length-1){next=0;prev=i-1}else{next=i+1;prev=i-1}}var defaults={innerWidth:contentWidth,innerHeight:viewHeight-margin,top:headerHeight+
20,html:$(content),fixed:true,trapFocus:false,returnFocus:true,transition:"none",className:"press-release",shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-press-release"),onOpen:function(){},onComplete:function(){$("#colorbox").attr("data-dialog","pressReleaseOverlay");$("#colorbox").css("left",windowWidth);$("#colorbox").delay(300).animate({left:margin},600);$(document).trigger("slidersReady");if($articles.length>1){$(".press-release-article .nav a.prev").attr("href",$($articles[prev]).attr("href"));
$(".press-release-article .nav a.next").attr("href",$($articles[next]).attr("href"));$(".press-release-article .nav a").on("click",function(e){var url=$(this).attr("href");e.preventDefault();window.location.hash="press-release\x3d"+url})}else $(".press-release-article .nav a.prev, .press-release-article .nav a.next").hide();$(".cboxDisableNav").on("click",function(){$.colorbox.close()});$(".social-media .twitter").attr("href","http://twitter.com/share?text\x3d"+window.location.href).click(function(event){var width=
575,height=400,left=($(window).width()-width)/2,top=($(window).height()-height)/2,url=this.href,opts="status\x3d1"+",width\x3d"+width+",height\x3d"+height+",top\x3d"+top+",left\x3d"+left;window.open(url,"twitter",opts);return false});$(".social-media .facebook").off("click").on("click",function(){window.open("https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(window.location.href),"facebook_share_dialog","width\x3d626,height\x3d436");return false});WA.addFocusEvent();koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");
koreanair.Modal.focusFirstElement()},onCleanup:function(){$("#colorbox").delay(100).animate({left:windowWidth},600);window.location.hash="_"}};options=_.extend({},defaults,options);var onClosed=options.onClosed||_.noop;options.onClosed=function(){WA.removeFocusEvent();onClosed()};$("#colorbox #cboxContent #cboxLoadingGraphic").html('\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("loading-label")+"\x3c/span\x3e");return $.colorbox(options)};koreanair.Modal.newsReleaseOverlay=function(targetElement,
options,content,origURL){var headerHeight=106,windowWidth=$(window).width(),sideNav=$(".side-nav").width(),contentWidth=$(".content-wrapper").width(),viewHeight=$(window).height()-headerHeight,margin=102,$articles=$(".year.active").find("a");var defaults={innerWidth:contentWidth,innerHeight:viewHeight-margin,top:headerHeight+20,html:$(content),fixed:true,trapFocus:false,returnFocus:true,transition:"none",className:"news-release",shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-news-release"),
onComplete:function(){$("#colorbox").attr("data-dialog","newsReleaseOverlay");$("#colorbox").css("left",windowWidth);$("#colorbox").delay(300).animate({left:margin},600);$(document).trigger("slidersReady");$(".cboxDisableNav").on("click",function(){$.colorbox.close()});$(".social-media .twitter").attr("href","http://twitter.com/share?text\x3d"+window.location.href).click(function(event){var width=575,height=400,left=($(window).width()-width)/2,top=($(window).height()-height)/2,url=this.href,opts=
"status\x3d1"+",width\x3d"+width+",height\x3d"+height+",top\x3d"+top+",left\x3d"+left;window.open(url,"twitter",opts);return false});$(".social-media .facebook").off("click").on("click",function(){window.open("https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(window.location.href),"facebook_share_dialog","width\x3d626,height\x3d436");return false});WA.addFocusEvent();koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");koreanair.Modal.focusFirstElement()},onCleanup:function(){$("#colorbox").delay(100).animate({left:windowWidth},
600);window.location.hash="_"}};options=_.extend({},defaults,options);var onClosed=options.onClosed||_.noop;options.onClosed=function(){WA.removeFocusEvent();onClosed()};$("#colorbox #cboxContent #cboxLoadingGraphic").html('\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("loading-label")+"\x3c/span\x3e");return $.colorbox(options)};koreanair.Modal.confirm=function(content,options){var deferred=$.Deferred();var cboxDeferred=$.Deferred();var $content;if(options&&options.button){var confirmLabel=
options.confirmLabel||Granite.I18n.get("ok-label"),cancelLabel=options.cancelLabel||Granite.I18n.get("cancel-label"),html='\x3cdiv class\x3d"alert-message"\x3e'+content+"\x3c/div\x3e"+'\x3cdiv class\x3d"button-group-center"\x3e'+'\x3ca id\x3d"btnModalPopupNo" class\x3d"medium button no button-page-gray" href\x3d"javascript:;"\x3e'+cancelLabel+"\x3c/a\x3e"+'\x3ca id\x3d"btnModalPopupYes" class\x3d"medium button yes button-page-blue" href\x3d"javascript:;"\x3e'+confirmLabel+"\x3c/a\x3e"+"\x3c/div\x3e";
$content=$(html)}else $content=$(content);$(document).on("cbox_closed",function(){$("#cboxContent").off("click.confirm");$(document).off("cbox_closed");if(cboxDeferred.state()==="pending"){cboxDeferred.reject("closed");deferred.reject("closed")}if(cboxDeferred.state()==="resolved"){cboxDeferred.resolve();deferred.resolve()}else{cboxDeferred.reject();deferred.reject()}}.bind(this));var opt={html:$content,width:"600px",inline:false,trapFocus:false,returnFocus:true,className:"global-confirm",returnFocusTo:document.activeElement,
shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")};var modifiedOnComplete=function(){if(options&&options.onComplete)options.onComplete();$("#colorbox").attr("data-dialog","confirm");$("#cboxContent a.button.yes").on("click.confirm",function(evt){evt.preventDefault();if(options&&options.hasCaptcha)if($("#captcha").val()!=""){$("#captcha").removeAttr("aria-invalid");$("#captcha").attr("aria-describedby","captcha-placeholder");$(".errorMessageContainer").html("");koreanair.ServiceApi.isValid.get({headers:{answer:$("#captcha").val()},
success:function(chk){if(chk){koreanair.answer=$("#captcha").val();cboxDeferred.resolve()}else{$("#captcha").attr("aria-invalid","true");$("#captcha").attr("aria-describedby","captcha-placeholder captcha-error");$("#cboxContent .errorMessageContainer").html('\x3cp class\x3d"error" id\x3d"captcha-error" tabindex\x3d"-1"\x3e'+Granite.I18n.get("captcha-valid-error")+"\x3c/p\x3e");$("#captcha-placeholder").attr("tabindex",-1);koreanair.Booking.reloadCaptcha();$("#captcha").val("").focus()}}})}else{$("#captcha").attr("aria-invalid",
"true");$("#captcha").attr("aria-describedby","captcha-placeholder captcha-error");$("#cboxContent .errorMessageContainer").html('\x3cp class\x3d"error" id\x3d"captcha-error" tabindex\x3d"-1"\x3e'+Granite.I18n.get("captcha-input-error")+"\x3c/p\x3e");$("#captcha-placeholder").attr("tabindex",-1);$("#captcha").focus()}else cboxDeferred.resolve()});$("#cboxContent a.button.no").on("click.confirm",function(evt){evt.preventDefault();cboxDeferred.reject()});cboxDeferred.always(_.bind(function(input){$(this).off("click");
if(input!=="closed"){if(koreanair.Booking.voiceCapt)koreanair.Booking.voiceCapt.pause();$("#captcha-voice").html("");$.colorbox.close();$("#colorbox").off()}},this))};var nopt=_.extend(opt,options);nopt.onComplete=modifiedOnComplete;koreanair.Modal.standard(null,nopt);return deferred};koreanair.Modal.interactionConfirm=function(message,options){var deferred=$.Deferred();var button={confirm:function(e){e.preventDefault();$("#cboxContent").off("click.confirm");$.colorbox.close();deferred.resolve()},
cancel:function(e){e.preventDefault();$("#cboxContent").off("click.confirm");$.colorbox.close();deferred.reject()}};var confirmLabel=options&&options.confirmLabel?options.confirmLabel:Granite.I18n.get("ok-label"),cancelLabel=options&&options.cancelLabel?options.cancelLabel:Granite.I18n.get("cancel-label");var opts={width:"600px",inline:false,trapFocus:false,returnFocus:true,className:"global-confirm",ariaLabel:Granite.I18n.get("WCAG-popup-label-alert"),html:'\x3cdiv class\x3d"alert-message"\x3e'+
message+"\x3c/div\x3e"+'\x3cdiv class\x3d"button-group-center"\x3e'+'\x3ca id\x3d"btnModalPopupNo" class\x3d"medium button no button-page-gray" href\x3d"javascript:;"\x3e'+cancelLabel+"\x3c/a\x3e"+'\x3ca id\x3d"btnModalPopupYes" class\x3d"medium button yes button-page-blue" href\x3d"javascript:;"\x3e'+confirmLabel+"\x3c/a\x3e"+"\x3c/div\x3e"};opts=_.extend(opts,options);$("#cboxContent a.button.yes").live("click.confirm",button.confirm);$("#cboxContent a.button.no").live("click.confirm",button.cancel);
koreanair.Modal.standard(null,opts);return deferred.promise()};koreanair.Modal.error=function(e,options){$.modal.error(e,options)};koreanair.Modal.errorBtn=function(e,options){var blocking=$.Deferred();var html="\x3cp\x3e"+e.message+"\x3c/p\x3e";var opts=$.extend({width:"600px",inline:false,trapFocus:false,returnFocus:true,className:"global-error",onClosed:$.noop,buttons:null,shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-error")},options);var onClosed=opts.onClosed;opts.onClosed=
function(){blocking.resolve(e);onClosed()};if(opts.buttons){html+='\x3cp class\x3d"button-group-center"\x3e';_.each(opts.buttons,function(button,index){html+='\x3ca class\x3d"button button-page-blue" id\x3d"cbx'+index+'" href\x3d"javascript:;" \x3e';html+=Granite.I18n.get(button.label);html+="\x3c/a\x3e";$("#cboxContent #cbx"+index).live("click.confirm",button.click)});html+="\x3c/p\x3e"}if(e.key)html+='\x3cp class\x3d"key"\x3e['+e.key.replace(/^error-/,"")+"]\x3c/p\x3e";if(e.uuid)html+='\x3cp class\x3d"uuid"\x3e'+
e.uuid+"\x3c/p\x3e";opts.html=html;koreanair.Modal.standard(null,opts);if(typeof TLT!="undefined"&&TLT!=null)if(TLT&&TLT.isInitialized()&&TLT.getModuleConfig("replay").domCapture.enabled)TLT.logScreenviewLoad("#error-popup");return blocking.promise().always(_.bind(function(){$("#cboxContent").off("click.confirm");$(this).off("click")},this))};koreanair.Modal.alert=function(message,options){var blocking=$.Deferred();var button={label:options&&options.confirmLabel?options.confirmLabel:Granite.I18n.get("ok-label"),
click:function(e){e.preventDefault();$("#cboxContent").off("click.confirm");$.colorbox.close();blocking.resolve()}};var opts={width:"600px",inline:false,trapFocus:false,returnFocus:true,className:"global-alert",buttons:button,shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-alert"),html:'\x3cdiv class\x3d"alert-message"\x3e'+message+"\x3c/div\x3e"+'\x3cdiv class\x3d"button-group-center"\x3e\x3ca class\x3d"button-page-blue medium button" id\x3d"cbx-alert-button" href\x3d"javascript:;"\x3e'+
button.label+"\x3c/a\x3e\x3c/div\x3e"};opts=_.extend(opts,options);opts.onComplete=function(){$("#cboxContent #cbx-alert-button").on("click.confirm",button.click)};koreanair.Modal.standard(null,opts);if(typeof TLT!="undefined"&&TLT!=null)if(TLT&&TLT.isInitialized()&&TLT.getModuleConfig("replay").domCapture.enabled)TLT.logScreenviewLoad("#error-popup");return blocking.promise()};koreanair.Modal.info=function(message,options){var blocking=$.Deferred();var opts={width:"600px",inline:false,trapFocus:false,
returnFocus:true,className:"global-info",shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-info"),onClosed:function(){blocking.resolve()},html:'\x3cdiv class\x3d"info-message"\x3e'+message+"\x3c/div\x3e"};opts=_.extend(opts,options);koreanair.Modal.standard(null,opts);if(typeof TLT!="undefined"&&TLT!=null)if(TLT&&TLT.isInitialized()&&TLT.getModuleConfig("replay").domCapture.enabled)TLT.logScreenviewLoad("#error-popup");return blocking.promise()};koreanair.Modal.focusFirstElement=function(){var $cbox=
$("div#cboxContent"),focusableElement=$("div#cboxLoadedContent *:focusable");if(focusableElement.length>1){var $fstFcs=$cbox.find("*:focusable:not([tabindex\x3d-1]):eq(0)");if($fstFcs.offset().top-$cbox.offset().top+$fstFcs.height()>$cbox.height())$cbox.attr("tabindex",-1).focus();else{$cbox.removeAttr("tabindex");$fstFcs.focus()}}else{$cbox.attr("tabindex",-1);$cbox.find(".firstTabbableContent").removeClass("firstTabbableContent");$cbox.addClass("firstTabbableContent");$cbox.on("focus",function(){console.log("cboxContent focused")});
$cbox.focus()}};(function(){var modalStack=[];var $body=$("body");var $window=$(window);var $contentArea;var $return;var count=0;koreanair.ModalStack=koreanair.ModalStack||{};koreanair.ModalStack.push=function(content,option){$return=$(":focus");if(modalStack.length===0)$window.on("resize",_centerHandler);if(!$contentArea)$contentArea=$("#content-area");var $overlay=$('\x3cdiv class\x3d"modalstack-overlay"\x3e\x3c/div\x3e');var $container=$('\x3cdiv class\x3d"modalstack-container" role\x3d"dialog"\x3e\x3c/div\x3e').css({"position":"absolute",
"z-index":9999,"visibility":"visible","display":"block"});$container.on("click",function(event){$container.find(":focusable").eq(0).focus()});$overlay.on("click",function(event){$container.find(":focusable").eq(0).focus()});var $content=$(content);$body.append($overlay);$body.append($container);$container.append($content);_center($container);_setEvent($container);$container.find(":focusable").eq(0).focus();var modalData={container:$container,overlay:$overlay,option:option};modalStack.push(modalData);
if(option&&option.onComplete)option.onComplete.call(modalData);count++;$container.attr({"aria-labelledby":$container.find(".dialog-title").attr("id","modal-title-"+count).attr("id"),"aria-describedby":$container.find(".dialog-text").attr("id","modal-contents-"+count).attr("id")});return this};koreanair.ModalStack.pop=function(){if(!modalStack.length)return this;$return.focus();var modalData=modalStack.pop();var $overlay=modalData.overlay;var $container=modalData.container;if(modalData.option&&modalData.option.destroy)modalData.option.destroy.call(modalData);
$overlay.fadeOut(100,function(){$(this).remove()});$container.fadeOut(100,function(){$(this).remove()});$overlay.off("click");$container.off("click");if(modalStack.length===0)$window.off("resize",_centerHandler)};function _centerHandler(){_center(modalStack)}function _setEvent($container){var $tabbale=$container.find(":tabbable");var $first=$tabbale.first();var $last=$tabbale.last();if($container.is(":visible")){$container.off("keydown");$container.on("keydown",function(event){if(!$container.is(":visible"))return;
event.stopPropagation();var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused[0]===$first[0]){$last.focus();event.preventDefault();return}}else if($focused[0]===$last[0]){$first.focus();event.preventDefault();return}})}}function _center(modals){if(modals instanceof Array)for(var i=0,count=modals.length;i<count;i+=1)_center(modals[i].container);else{var x=$body.scrollLeft()+($window.width()-modals.width())/2;var y=$body.scrollTop()+
($window.height()-modals.height())/2;modals.css({"left":x,"top":y})}}})();var WA={addFocusEvent:function(){var $close=$("#cboxClose"),title=$("#colorbox .modal-title").text();if(title)$close.text(Granite.I18n.get("close-label"));else $close.text(Granite.I18n.get("close-label"));koreanair.tabbable.popupDefault()},removeFocusEvent:function(){$("#cboxContent").off("keydown")}};koreanair.WA=WA})(_,jQuery,koreanair);
(function($,I18n){var modal="modal",colorbox="colorbox",__publicMethods,__internalMethods={standard:function(content,options){var options=options||{},_instance=options.deferred||$.Deferred(),defaults={html:content,maxWidth:"90%",fixed:true,returnFocus:true,trapFocus:false,focusFirstElement:true,returnFocusTo:document.activeElement,remake201606xx:true},onComplete=options.onComplete||_.noop,onCompleteBefore=options.onCompleteBefore||_.noop,onCompleteAfter=options.onCompleteAfter||_.noop,onClosed=options.onClosed||
_.noop,opts=_.extend({},defaults,options);opts.onComplete=function(){var $cbox=$("#"+colorbox);onCompleteBefore.apply($);if(defaults.onComplete)defaults.onComplete.apply($);onComplete.apply($);__internalMethods.webAccessibilityFunction(opts.focusFirstElement);onCompleteAfter.apply($);$cbox.find("#cboxContent input").placeholder();$(document).off("keydown.colorbox");$(document).on("keydown.colorbox",function(e){if(e.keyCode===27){e.preventDefault();_instance.reject("close")}})};opts.onClosed=function(){$(document).off("keydown.colorbox");
var $cbox=$("#"+colorbox);$cbox.find("#cboxContent").off("keydown");if(defaults.onClosed)defaults.onClosed.apply($);onClosed.apply($)};$("#"+colorbox+" #cboxContent #cboxLoadingGraphic").html('\x3cspan class\x3d"offscreen"\x3e'+I18n.get("loading-label")+"\x3c/span\x3e");$[colorbox](opts);_instance.always(function(){$[colorbox].close()});return _instance.promise()},warning:function(content,options){var _instance=$.Deferred(),defaults={deferred:_instance,ariaLabel:I18n.get("WCAG-popup-label-warning"),
cancelButtonLabel:Granite.I18n.get("cancel-label"),confirmButtonLabel:Granite.I18n.get("ok-label"),onComplete:function(){var $cbox=$("#"+colorbox);$cbox.find("button#cboxClose").on("click",function(){_instance.reject("close")});$cbox.find("div.button-group-center \x3e button:eq(0)").on("click",function(){_instance.reject("cancel")});$cbox.find("div.button-group-center \x3e button:eq(1)").on("click",function(){_instance.resolve("confirm")})}},opts=_.extend({},defaults,options);opts.onComplete=function(){defaults.onComplete.apply($);
if(options&&options.onComplete)options.onComplete.apply($)};return __internalMethods.standard(Handlebars.templates["popup-template-warning"]({content:content,cancelButtonLabel:opts.cancelButtonLabel,confirmButtonLabel:opts.confirmButtonLabel}),opts)},confirm:function(content,options){var _instance=$.Deferred(),defaults={deferred:_instance,ariaLabel:I18n.get("WCAG-popup-label-confirm"),confirmButtonLabel:Granite.I18n.get("ok-label"),onComplete:function(){var $cbox=$("#"+colorbox);$cbox.find("button#cboxClose").on("click",
function(){_instance.reject("close")});$cbox.find("div.button-group-center \x3e button:eq(0)").on("click",function(){_instance.resolve("confirm")})}},opts=_.extend({},defaults,options);opts.onComplete=function(){defaults.onComplete.apply($);if(options&&options.onComplete)options.onComplete.apply($)};return __internalMethods.standard(Handlebars.templates["popup-template-confirm"]({content:content,confirmButtonLabel:opts.confirmButtonLabel}),opts)},information:function(content,options){var _instance=
$.Deferred(),defaults={deferred:_instance,ariaLabel:I18n.get("WCAG-popup-label-info"),focusFirstElement:false,onComplete:function(){var $cbox=$("#"+colorbox);$cbox.find("button#cboxClose").on("click",function(){_instance.resolve("close")});if(options&&options.onComplete)options.onComplete.apply($)}},opts=_.extend({},defaults,options);opts.onComplete=function(){defaults.onComplete.apply($);if(options&&options.onComplete)options.onComplete.apply($)};return __internalMethods.standard(Handlebars.templates["popup-template-information"](content),
opts)},error:function(error,options){var _instance=$.Deferred(),defaults={deferred:_instance,ariaLabel:I18n.get("WCAG-popup-label-error"),focusFirstElement:false,onComplete:function(){var $cbox=$("#"+colorbox);$cbox.find("button#cboxClose").on("click",function(){_instance.resolve(error)});if(options&&options.onComplete)options.onComplete.apply($)}},opts=_.extend({},defaults,options);opts.onComplete=function(){defaults.onComplete.apply($);if(options&&options.onComplete)options.onComplete.apply($)};
if(error.key)error.key=error.key.replace(/^error-/,"");return __internalMethods.standard(Handlebars.templates["popup-template-error"](error),opts)},webAccessibilityFunction:function(focusFirstElement){var $cbox=$("#"+colorbox);$cbox.find("#cboxClose").text(I18n.get("close-label"));var $target=$cbox.find("#cboxContent");$(".first_focus_element").removeClass("first_focus_element");$(".last_focus_element").removeClass("last_focus_element");$target.find(":tabbable").first().addClass("first_focus_element");
$target.find(":tabbable").last().addClass("last_focus_element");if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode!=$.ui.keyCode.ESCAPE)event.stopPropagation();if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.hasClass("first_focus_element")){$(".last_focus_element").focus();event.preventDefault();return}}else if($focused.hasClass("last_focus_element")){$(".first_focus_element").focus();
event.preventDefault();return}});$("#cboxOverlay:visible").on("click",function(event){event.preventDefault();event.stopPropagation();$[colorbox].close()})}koreanair.accessibility.WA_filtering.execFiltering("#cboxWrapper");koreanair.common.utils.anchorToButton($("a.button"));var $cbox=$("div#cboxContent");if(focusFirstElement){var focusableElement=$('div#cboxLoadedContent *:focusable:not([tabindex\x3d"-1"])');if(focusableElement.length>1){var $fstFcs=$("div#cboxContent *:focusable:eq(0)");if($fstFcs.offset().top-
$cbox.offset().top+$fstFcs.height()>$cbox.height())$cbox.attr("tabindex",-1).focus();else $fstFcs.focus()}else{$cbox.attr("tabindex",-1);$cbox.find(".firstTabbableContent").removeClass("firstTabbableContent");$cbox.addClass("firstTabbableContent");$cbox.focus()}}else $cbox.attr("tabindex",-1).focus()}};__publicMethods=$.fn[modal]=$[modal]=function(type,content,options){type=type||"standard";if(__internalMethods[type])return __internalMethods[type].apply($,content,options)};__publicMethods.standard=
function(content,options){return __internalMethods.standard(content,options)};__publicMethods.warning=function(content,options){return __internalMethods.warning(content,options)};__publicMethods.confirm=function(content,options){return __internalMethods.confirm(content,options)};__publicMethods.information=function(content,options){return __internalMethods.information(content,options)};__publicMethods.error=function(error,options){return __internalMethods.error(error,options)}})(jQuery,Granite.I18n);
(function(_,$,Backbone,koreanair,UtilityNav){var loginModal=function(deferred){if(deferred&&deferred.done&&deferred.fail)loc="";else{loc=deferred;deferred=$.Deferred()}UtilityNav.loginModalRef=UtilityNav.loginModalRef||"/content/koreanair-admin/cross-region/en/login-config/jcr:content/par/login_0.html";var modalWidth=koreanair.isMobile?window.innerWidth:585;return koreanair.Modal.standard(UtilityNav.loginModalRef,{inline:false,height:468,width:modalWidth,onClosed:function(){if(!koreanair.sleepMember&&
location.pathname.indexOf("account-recovery")!=-1)koreanair.utils.goTo(".html");if(!!koreanair.sleepMember)koreanair.sleepMember=null},onComplete:loginModalFunctions(deferred,loc)})},loginModalFunctions=function(deferred,loc){deferred=deferred||$.Deferred();return function(){koreanair.CustomForms.render();$.colorbox.resize();if(loc==="PSN"){$(".subtitle").attr("class","modal-info");$(".modal-info").html(Granite.I18n.get("coupon-login-msg"))}$(document).on("cbox_closed",function(){deferred.reject("closed")});
var enterToSubmit=function(event){if(event.keyCode===13){event.preventDefault();$("#modalLoginButton").click()}};$("#usernameInput,#passwordInput").keydown(enterToSubmit);$("#loginForm input[name\x3dhow-to-login]").on("change",function(e){koreanair.utils.removeErrorElements($("#errorWrapper .error"));$("#usernameInput").removeAttr("aria-invalid");$("#passwordInput").removeAttr("aria-invalid");$("#usernameInput").removeAttr("aria-describedby");$("#passwordInput").removeAttr("aria-describedby");$("label[for\x3dusernameInput]").text($("label[for\x3d"+
$(e.target).attr("id")+"]").text());$('[data-placeholder-id\x3d"usernameInput"]').text($("label[for\x3d"+$(e.target).attr("id")+"]").text());if($("#loginForm input[name\x3dhow-to-login]:checked").val()=="skypass"){$("#login-user-id").removeClass("firstTabbableContent");$("#login-skypass").addClass("firstTabbableContent")}else{$("#login-skypass").removeClass("firstTabbableContent");$("#login-user-id").addClass("firstTabbableContent")}});$("#login-user-id").click().trigger("change");$(".account-recovery a").on("click",
function(event){event.preventDefault();koreanair.common.utils.anchorToButton($(".account-recovery a"));koreanair.viewHelpers.checkSkypassEnable(false).done(function(data){if(data)koreanair.viewHelpers.checkSystemStatus("hmp-system-operation-flag",false,false,"hmp-system-operation-info").done(_.bind(function(rval){if(!rval)return;else location.href=$(event.currentTarget).attr("href")},this))})});$(".joinus a").on("click",function(event){event.preventDefault();koreanair.common.utils.anchorToButton($(".joinus a"));
koreanair.viewHelpers.checkSkypassEnable(false).done(function(data){if(data)location.href=$(event.currentTarget).attr("href")})});koreanair.common.utils.anchorToButton($("#modalLoginButton"));$("#modalLoginButton").on("click",function(event){event.preventDefault();$(event.currentTarget).addClass("disabled");koreanair.utils.removeErrorElements($("#errorWrapper .error"));$("#usernameInput").removeAttr("aria-invalid");$("#passwordInput").removeAttr("aria-invalid");var currentTgt=$(event.currentTarget);
var errorTxt='miss-page-definition-login:"'+location.href+'"/key:"'+$("#usernameInput").val()+'"';$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:errorTxt}),dataType:"json"});koreanair.Login.callLoginService($("#loginForm input[name\x3dhow-to-login]:checked").val(),$("#usernameInput").val(),$("#passwordInput").val()).done(function(data){var errorTxt1=
'miss-page-definition-login-success:"'+location.href+'"/key:"'+data.userId+'"';$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:errorTxt1}),dataType:"json"});if(!data.sleep)$.colorbox.close();deferred.resolve(data);if(!koreanair.isMobile)if(window.location.href.indexOf(window.koreanair.HomePage.split("/").slice(-2).join("/"))>0)$("#myRsrvButton").focus()}).fail(function(){var errorTxt2=
'miss-page-definition-login-fail:"'+location.href+'"/key:"';var errorTxt2='miss-page-definition-login-fail:"'+location.href+'"/key:"'+" "+$("#usernameInput").val()+" ";if($("#loginForm input[name\x3dhow-to-login]:checked").val()=="skypass")errorTxt2+=Granite.I18n.get("unauthorized-skypass-login-label");else errorTxt2+=Granite.I18n.get("unauthorized-login-label");$.ajax({beforeSend:function(xhrObj){xhrObj.setRequestHeader("Content-Type","application/json");xhrObj.setRequestHeader("Accept","application/json")},
type:"POST",url:"/api/logging/i18n",data:JSON.stringify({value1:errorTxt2}),dataType:"json"});$("#usernameInput").attr("aria-invalid","true");$("#usernameInput").attr("aria-describedby","invalidLogin");$("#passwordInput").attr("aria-invalid","true");$("#passwordInput").attr("aria-describedby","invalidLogin");if($("#errorWrapper p.error").length<1){if($("#loginForm input[name\x3dhow-to-login]:checked").val()=="skypass")$("#errorWrapper").append(koreanair.utils.buildErrorElement(Granite.I18n.get("unauthorized-skypass-login-label")));
else $("#errorWrapper").append(koreanair.utils.buildErrorElement(Granite.I18n.get("unauthorized-login-label")));$("#errorWrapper").find("p").attr("id","invalidLogin");$("#errorWrapper").find("p").removeAttr("role");$("#errorWrapper").find("p").removeAttr("aria-live")}$("#usernameInput").focus();$.colorbox.resize();currentTgt.removeClass("disabled")})});deferred.always(function(){$(this).off("click");$(document).off("cbox_closed")})}};koreanair.loginModal=loginModal;koreanair.loginModalFunctions=loginModalFunctions})(_,
jQuery,Backbone,koreanair,koreanair.UtilityNav);
(function($,TweenLite){$.fn.hasScrollBar=function(){return this.get(0)?this.get(0).scrollHeight>this.innerHeight():false};$.capitalize=function(textValue){return textValue.substring(0,1).toUpperCase()+textValue.substr(1).toLowerCase()};$.fn.itsThere=function(){return this.length>0};$.fn.invisible=function(){this.css("visibility","hidden")};$.fn.visible=function(){this.css("visibility","visible")};$.fn.serializeObject=function(){var o={};var a=this.serializeArray();$.each(a,function(){if(o[this.name]!==
undefined){if(!o[this.name].push)o[this.name]=[o[this.name]];o[this.name].push(this.value||"")}else o[this.name]=this.value||""});return o};$.fn.tweenSlideToggle=function(duration){duration=duration||.5;var selector=$(this);if(selector.is(":visible"))selector.tweenSlideup(duration);else selector.tweenSlidedown(duration)};$.fn.tweenSlidedown=function(duration,onComplete){duration=duration||.5;var selector=$(this);if(selector.is(":visible"))return false;selector.css("visibility","hidden").show();var targetHeight=
selector.outerHeight();selector.hide().css({"visibility":"visible","overflow":"hidden"}).height(0).show();var onCompleteCallback=onComplete||_.noop;TweenLite.to(selector,duration,{height:targetHeight,onComplete:onCompleteCallback,clearProps:"height"})};$.fn.tweenSlideup=function(duration,onComplete){duration=duration||.5;var selector=$(this);var onCompleteCallback=onComplete||_.noop;if(selector.is(":hidden"))return false;TweenLite.to(selector,duration,{height:0,onComplete:function(){selector.hide();
onCompleteCallback()},clearProps:"height"})};$.fn.scrollTo=function(elem,options){var noAnimate=options.noAnimate||false,scrollValue=$(this).scrollTop()-$(this).offset().top+$(elem).offset().top,duration=options.duration?options.duration:noAnimate?0:.25,scrollTheWindow=options.scrollTheWindow,delay=options.delay||0,$targetElement=scrollTheWindow?$(window):this;TweenLite.to($targetElement,duration,{delay:delay,onStart:function(){$targetElement.css("overflow","scroll")},onComplete:function(){$targetElement.css("overflow",
"auto")},scrollTo:{y:scrollValue}});return this};$.urlParam=function(name){return GetURLParameter(name)};$.urlParams=function(url){return GetURLParameters(url)};function GetURLParameter(sParam){var sPageURL=window.location.search.substring(1);var sURLVariables=sPageURL.split("\x26");for(var i=0;i<sURLVariables.length;i++){var sParameterName=sURLVariables[i].split("\x3d");if(sParameterName[0]==sParam)return sParameterName[1]}}function GetURLParameters(url){var queryString=url?url.split("?")[1]:window.location.search.slice(1);
var obj={};if(queryString){queryString=queryString.split("#")[0];var arr=queryString.split("\x26");for(var i=0;i<arr.length;i++){var a=arr[i].split("\x3d");var paramNum=undefined;var paramName=a[0].replace(/\[\d*\]/,function(v){paramNum=v.slice(1,-1);return""});var paramValue=typeof a[1]==="undefined"?true:a[1];if(obj[paramName]){if(typeof obj[paramName]==="string")obj[paramName]=[obj[paramName]];if(typeof paramNum==="undefined")obj[paramName].push(paramValue);else obj[paramName][paramNum]=paramValue}else obj[paramName]=
paramValue}}return obj}})(jQuery,TweenLite);
jQuery.getScrollBarSize=function(){var inner=$("\x3cp\x3e\x3c/p\x3e").css({"width":"100%","height":"100%"});var outer=$("\x3cdiv\x3e\x3c/div\x3e").css({"position":"absolute","width":"100px","height":"100px","top":"0","left":"0","visibility":"hidden","overflow":"hidden"}).append(inner);$(document.body).append(outer);var w1=inner.width(),h1=inner.height();outer.css("overflow","scroll");var w2=inner.width(),h2=inner.height();if(w1==w2&&outer[0].clientWidth)w2=outer[0].clientWidth;if(h1==h2&&outer[0].clientHeight)h2=
outer[0].clientHeight;outer.detach();return[w1-w2,h1-h2]};
(function($){$.fn.attrs=function(attrs){var t=$(this);if(attrs){t.each(function(i,e){var j=$(e);for(var attr in attrs)j.attr(attr,attrs[attr])});return t}else{var a={},r=t.get(0);if(r){r=r.attributes;for(var i in r){var p=r[i];if(typeof p.nodeValue!=="undefined")a[p.nodeName]=p.nodeValue}}return a}};$.fn.countAriaDescribedBy=function(){var $ele=$(this);if($ele.attr("type")=="hidden"&&$ele.hasClass("DOB")){var $slts=$ele.parent().find("select.DOB");$slts.each(function(idx,slt){_countAriaDescribedBy($(slt))})}else _countAriaDescribedBy($ele);
function _countAriaDescribedBy($ele){var ads=($ele.attr("aria-describedby")||"").split(" ");if(ads&&ads.length>1)$(ads).each(function(indx,elem){$("#"+elem).attr("tabindex",-1)});else if(ads&&ads.length===1)if($("#"+ads[0]).attr("tabindex")==-1)$("#"+ads[0]).removeAttr("tabindex")}}})(jQuery);
$.widget("ui.autocompleteMobile",$.ui.autocomplete,{_renderItem:function(ul,item){var currentItem=this._super(ul,item);currentItem.attr("aria-label",item.label);currentItem.find("a").attr("aria-label",item.label);return currentItem},__response:function(content){var message;this._superApply(arguments);$("ul.ui-autocomplete").css("top",0);if(this.options.disabled||this.cancelSearch)return;if(content&&content.length){message=this.options.messages.results(content.length);this.element.attr("aria-expanded",
false)}else{message=this.options.messages.noResults;this.element.attr("aria-expanded",false)}this.liveRegion.html($("\x3cspan\x3e",{}).text(message))}});
$.widget("ui.autocompleteAria",$.ui.autocomplete,{_renderItem:function(ul,item){if($(ul).closest("div").hasClass("div-airport-list")){var li_cnt=0;if(ul.find("li"))li_cnt=ul.find("li").length;var cnm="odd";if(li_cnt%2==1)cnm="even";return $("\x3cli\x3e").html("\x3cspan\x3e"+item.label+"\x3c/span\x3e").attr("id",koreanair.common.utils.generateUniqueViewID("ui-id","")).attr("tabindex","-1").addClass("ui-menu-item "+cnm).attr("aria-selected",false).attr("role","option").appendTo(ul)}else if(item.disabled)return $("\x3cli\x3e").text(item.label).attr("id",
koreanair.common.utils.generateUniqueViewID("ui-id","")).attr("tabindex","-1").addClass("ui-menu-item").addClass("disabled").attr("aria-selected",false).attr("role","option").appendTo(ul);else return $("\x3cli\x3e").text(item.label).attr("id",koreanair.common.utils.generateUniqueViewID("ui-id","")).attr("tabindex","-1").addClass("ui-menu-item").attr("aria-selected",false).attr("role","option").appendTo(ul)},_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),
isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.timestamp=new Date;this.isMultiLine=isTextarea?true:isInput?false:this.element.prop("isContentEditable");this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return}suppressKeyPress=false;suppressInput=false;
suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.RIGHT:case keyCode.LEFT:break;case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:if(!event.altKey)this._keyEvent("previous",event);else{event.preventDefault();this.element.val("");this._close()}suppressKeyPress=true;break;case keyCode.DOWN:if(!event.altKey){suppressInput=true;this._keyEvent("next",
event)}else this.element.focus();suppressKeyPress=true;break;case keyCode.ESCAPE:event.preventDefault();this.element.val("");this._close();break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event)}else{suppressKeyPress=true;event.preventDefault()}break;case keyCode.TAB:if(this.menu.active)this.menu.select(event);break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=
false;if(!this.isMultiLine||this.menu.element.is(":visible"))event.preventDefault();return}if(suppressKeyPressRepeat)return;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break;case keyCode.ESCAPE:event.preventDefault();this.element.val("");this._close();break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.menu.active){suppressKeyPress=
true;event.preventDefault();this.menu.select(event)}break;case keyCode.TAB:if(this.menu.active)this.menu.select(event);break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return}this._searchTimeout(event)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(event);
this._change(event)}});this._initSource();this.menu=$("\x3cul\x3e").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this.combobox=this.element.closest("[role\x3d'combobox']");this.element.attr("aria-owns",this.menu.element.attr("id"));this.element.attr("aria-autocomplete","list");this.menu.element.attr("role","listbox");this.element.attr("aria-expanded","false");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=
true;this._delay(function(){delete this.cancelBlur});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length)this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target))that.close()})});else this.menu.select(event)},menufocus:function(event,ui){if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();
this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)});return}}var item=ui.item.data("ui-autocomplete-item");if(item!=="undefined"){var val=ui.item[0].innerHTML.split("("),len=val.length;var combinedAirportArray={"label":ui.item[0].innerText,"value":val[len-1].split(")")[0],"subLabel":null};item=combinedAirportArray;$(ui.item[0]).closest("ul").find($(".ui-autocomplete li")).attr("data-focused","false");$(ui.item[0]).closest("ul").find($(".ui-autocomplete li")).attr("aria-selected",
"false");if($(ui.item[0]).closest("ul").find($(".ui-autocomplete li span")))$(ui.item[0]).closest("ul").find($(".ui-autocomplete li span")).removeClass("selected");$(ui.item[0]).attr("data-focused","true");$(ui.item[0]).attr("aria-selected","true");if($(ui.item[0]).find("span"))$(ui.item[0]).find("span").addClass("selected");this.element.attr("aria-activedescendant",$(ui.item[0]).attr("id"))}if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type))this._value(item.label)}else this.liveRegion.text(item.label)},
menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete"),previous=this.previous;if(item!=="undefined"){var val=ui.item[0].innerHTML.split("("),len=val.length;var combinedAirportArray={"label":ui.item[0].innerText,"value":val[len-1].split(")")[0],"subLabel":null};item=combinedAirportArray}if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item})}if(typeof TLT!="undefined"&&TLT!=
null)if(TLT&&TLT.isInitialized()&&TLT.getModuleConfig("replay")){TLT.rebind();TLT.processDOMEvent(event.originalEvent);TLT.flushAll()}if(false!==this._trigger("select",event,{item:item}))this._value(item.label);this.term=this._value();this.close(event);this.selectedItem=item}});this.liveRegion=$("\x3cdiv\x3e",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element)},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();
this.menu.element.find("li").remove();this.element.attr("aria-expanded",false);this.menu.blur();this.isNewMenu=true;this._trigger("close",event)}if(this.menu.element.closest("div").hasClass("div-airport-list")){if(this.menu.element.closest("div").hasClass("new-airport-list"))this.menu.element.closest("div").removeClass("new-airport-list").addClass("org-airport-list");this.menu.element.closest("div").hide()}},_searchTimeout:function(event){clearTimeout(this.searching);if(this.term!==this._value()){this.selectedItem=
null;this.search(null,event)}},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return}this.menu[direction](event)}});
$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available."}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;if(content&&content.length){message=this.options.messages.results(content.length);this.element.attr("aria-expanded",true)}else{message=this.options.messages.noResults;this.element.attr("aria-expanded",
false)}this.liveRegion.html($("\x3cspan\x3e",{}).text(message))}});
(function($){$.fn.resetCombodate=function(){this.val("");this.each(function(){var data=$(this).data("combodate");if(!data){console.log("no data",this);return true}data.$widget.find("select").each(function(){$(this).find("option").attr("selected",false);$(this).find("option").eq(0).attr("selected",true)})});return this};$.fn.generateUniqueId=function(prefix,suffix){var uniqId;if(this)if(this.attr("id"))uniqId=this.attr("id");else{uniqId=koreanair.common.utils.generateUniqueViewID(prefix,suffix);this.attr("id",
uniqId)}return uniqId};$.fn.hideDOM=function(key){if(this.parent().length>0){var toStore={parentDom:this.parent(),self:this};var _selector=key?this.selector+"#"+key:this.selector;if(_selector){koreanair.screenDom=koreanair.screenDom||{};koreanair.screenDom[_selector]=toStore;this.detach()}else console.warn("hideDOM:selector가 존재하지 않습니다.")}return this};$.fn.showDOM=function(isPrepend,key){if(this.parent().length==0){var _selector=key?this.selector+"#"+key:this.selector,dom;if(koreanair.screenDom&&_selector){dom=
koreanair.screenDom[_selector];if(dom){dom.parentDom[isPrepend?"prepend":"append"](dom.self);dom=null;delete koreanair.screenDom[_selector]}else console.warn("showDOM:저장된 DOM이 존재하지 않습니다.")}else console.warn("showDOM:저장된 DOM이 존재하지 않습니다.")}return this}})(jQuery);
(function($){var DOB_ORDER=["year","month","day"],DOB_FORMATS={year:"YYYY",month:"MM",day:"DD"},DOB_PLACEHOLDER={year:Granite.I18n.get("UWA-dates-yy-form"),month:Granite.I18n.get("UWA-dates-mm-form"),day:Granite.I18n.get("UWA-dates-dd-form")},DOB_TITLE={year:Granite.I18n.get("year-label"),month:Granite.I18n.get("month-label"),day:Granite.I18n.get("day-label")};var DateManager=function(that,param){var $base,$parts=[],currentDate,options,isUpdatProgress=false,Defaults={isFuture:false,termOfYears:110},
values={year:null,month:null,day:null};function _init(that,param){options=$.extend({},Defaults,param);options.termOfYears=options.termOfYears+1;var currentValue=$(that).val();var tmp=moment(currentValue);if(tmp.isValid()){currentDate=tmp;_.each(DOB_ORDER,function(val){values[val]=tmp.format(DOB_FORMATS[val])})}$base=$(that);$base.on("change",_.bind(onDobBaseChange,this)).on("statusChanged",_.bind(onStatusChange,this)).hide();var ownerId=$base.attr("id");render(ownerId)}function render(ownerId){_.each(DOB_ORDER,
function(val){var $tmp=$('\x3cdiv class\x3d"col-3"\x3e\x3cdiv class\x3d"inputbox_style"\x3e\x3c/div\x3e\x3cdiv class\x3d"out_line"\x3e\x3c/div\x3e\x3c/div\x3e');var $slt=renderSelect.call(this,val,ownerId);$slt.val(values[val]).on("change",_.bind(onDobSltChange,this));if($base.hasClass("disabled"))$slt.addClass("disabled");if(!!$base.attr("disabled"))$slt.attr("disabled","disabled");else $slt.removeAttr("disabled");if(options.className)$slt.addClass(options.className);$parts.push($slt);$tmp.find("div.inputbox_style").append($slt);
$tmp.insertBefore($base)})}function renderSelect(val,ownerId,lastDay){var $slt=$('\x3cselect\x3e\x3coption value\x3d""\x3e'+DOB_PLACEHOLDER[val]+"\x3c/option\x3e\x3c/select\x3e");$slt.attr("title",DOB_TITLE[val]).data("owner-id",ownerId).data("case",val);switch(val){case "year":var _currentYear=(new Date).getFullYear();if(options.isFuture)for(var i=_currentYear,len=_currentYear+options.termOfYears;i<len;i++)$("\x3coption\x3e\x3c/option\x3e").val(i).text(i).appendTo($slt);else for(var i=_currentYear,
len=_currentYear-options.termOfYears;i>len;i--)$("\x3coption\x3e\x3c/option\x3e").val(i).text(i).appendTo($slt);break;case "month":for(var i=1;i<=12;i++)$("\x3coption\x3e\x3c/option\x3e").val(i<10?"0"+i:i).text(i<10?"0"+i:i).appendTo($slt);break;case "day":for(var i=1,len=!!lastDay?lastDay:31;i<=len;i++)$("\x3coption\x3e\x3c/option\x3e").val(i<10?"0"+i:i).text(i<10?"0"+i:i).appendTo($slt);break}return $slt}function onStatusChange(e){var $base=$(e.currentTarget);var status=$base.is(":disabled");$.each($parts,
function(idx,slt){if(status)$(slt).attr("disabled",status).addClass("disable");else $(slt).removeAttr("disabled").removeClass("disable")})}function onDobBaseChange(e){e.preventDefault();e.stopPropagation();if(isUpdatProgress)return;var $ele=$(e.currentTarget);var _date=moment($ele.val());if(_date.isValid())$.each($parts,function(idx,part){var $part=$(part);var dobCase=$part.data("case");var _val=_date.format(DOB_FORMATS[dobCase]);$part.val(_val);values[dobCase]=_val});else $.each($parts,function(idx,
part){var $part=$(part);var dobCase=$part.data("case");$part.val("");values[dobCase]=""})}function onDobSltChange(e){var $ele=$(e.currentTarget);var dobCase=$ele.data("case");var tmpValues=_.clone(values);var val=$ele.val();switch(dobCase){case "year":case "month":tmpValues[dobCase]=val;if(tmpValues.month){var oldMonth=values.month;var newMonth=tmpValues.month;var DAYS_OF_MONTHES=[,31,28,31,30,31,30,31,31,30,31,30,31];var lastDay=tmpValues.month==2&&!!tmpValues.year?_getDaysOfMonthes(tmpValues):DAYS_OF_MONTHES[parseInt(newMonth)];
var prevLastDay=oldMonth?oldMonth==2&&!!values.year?_getDaysOfMonthes(values):DAYS_OF_MONTHES[parseInt(values.month?values.month:newMonth)]:31;if(!oldMonth||lastDay!=prevLastDay){var $slt=$parts[2];var $newSlt=renderSelect.call(this,"day","dummy",lastDay);if(tmpValues["day"]&&tmpValues["day"]>lastDay)tmpValues["day"]=lastDay;$slt.html($newSlt.html()).val(tmpValues["day"])}}_updateBase(tmpValues);break;case "day":tmpValues[dobCase]=val;_updateBase(tmpValues);break;default:console.warn("DOBManager/invalid case",
dobCase);break}}function _getDaysOfMonthes(value){var md=moment(value.year+"-"+value.month+"-01");return md.daysInMonth()}function _getDateString(tmpValues){var isEmpty=false,tmp;var arr=_.map(DOB_ORDER,function(val){var _val=tmpValues[val];if(_val)return tmpValues[val];else{isEmpty=true;return""}});var _date=isEmpty?null:moment(arr.join("-"));return _date}function _setBaseValue(_dateStr,_withSilence){if(_withSilence){isUpdatProgress=true;setTimeout(_.bind(function(){isUpdatProgress=false},this),
200)}$base.val(_dateStr).change()}function _getDateStr(tmpValues,invalidMsg,formatStr){var isValid,_date=_getDateString(tmpValues);if(!!_date)isValid=_.every(DOB_ORDER,function(val){return tmpValues[val]==_date.format(DOB_FORMATS[val])});var _dateStr=isValid?_date.format(formatStr?formatStr:"YYYY-MM-DD"):invalidMsg;return _dateStr}function _updateBase(tmpValues){var invalidMsg="0000-00-00";var _dateStr=_getDateStr(tmpValues,invalidMsg);_setBaseValue.call(this,_dateStr,true);values=tmpValues}function _setDate(_newDate){_setBaseValue.call(this,
_newDate)}function _getDate(_format){var invalidMsg="invalid Date";return _getDateStr(tmpValues,invalidMsg,_format)}function _reset(){values={year:null,month:null,day:null};_setBaseSilence.call(this,"0000-00-00")}function _enable(){$.each($parts,function(i,$slt){$slt.removeClass("disabled")})}function _disable(){$.each($parts,function(i,$slt){$slt.addClass("disabled")})}_init(that,param);return{setDate:function(newDate){return _setDate.apply(this,arguments)},getDate:function(format){return _getDate.apply(this,
arguments)},reset:function(){return _reset.apply(this,arguments)},enable:function(){return _enable.apply(this,arguments)},disable:function(){return _disable.apply(this,arguments)}}};$.fn.dob=function(param){$.each(this,_.bind(function(_param,i,ele){var dobManager=new DateManager(ele,_param);$(ele).data("dob-manager",dobManager)},this,param));return this};$.fn.ped=function(param){var __param=_.extend({isFuture:true,termOfYears:10},param);$.each(this,_.bind(function(_param,i,ele){var pedManager=new DateManager(ele,
_param);$(ele).data("ped-manager",pedManager)},this,__param));return this}})(jQuery);
(function(_,Epoxy,I18n){Epoxy.binding.addHandler("value",{get:function($element){return $element.val()},set:function($element,value){try{if($element.val()!==value){$element.val(value);$element.trigger("change")}}catch(error){}}});var isFunction=_.isFunction,isObject=_.isObject,isArray=_.isArray,isModel=function(obj){return obj instanceof Backbone.Model},isCollection=function(obj){return obj instanceof Backbone.Collection},bindingSettings={optionText:"label",optionValue:"value",optionDisabled:"disabled"},
readAccessor=function(accessor){if(isFunction(accessor))return accessor();else if(isObject(accessor)){accessor=_.clone(accessor);_.each(accessor,function(value,key){accessor[key]=readAccessor(value)})}return accessor};Epoxy.createMappedComputed=function(property){return{get:function(){return this.get(property)},set:function(newValue){this.set(property,newValue)},deps:[property]}};Epoxy.buildSelectOptionsArray=function(args){args=_.extend({values:null,label:null,defaultOption:true,prefixLabel:true},
args);function getLabel(value,label,index,prefix){if(args.label instanceof Array===true)return args.label[index];else{var string=prefix===true?args.label+value:value+args.label;return Granite.I18n.get(string)}}var options=_.map(args.values,function(value,index){return{value:value,label:getLabel(value,args.label,index,args.prefixLabel)}});if(args.defaultOption)options.unshift({value:"",label:I18n.get("select-default-option")});return options};Epoxy.binding.addHandler("options",{init:function($element,
value,context,bindings){this.e=bindings.optionsEmpty;this.d=bindings.optionsDefault;this.v=bindings.value},set:function($element,value){var self=this,optionsEmpty=readAccessor(self.e),optionsDefault=readAccessor(self.d),currentValue=readAccessor(self.v),selection=isArray(currentValue)?currentValue:[currentValue],options=isCollection(value)?value.models:value,numOptions=options.length,enabled=true,html="";if(!numOptions&&!optionsDefault&&optionsEmpty){html+=self.opt(optionsEmpty,numOptions,selection);
enabled=false}else{if(optionsDefault)options=[optionsDefault].concat(options);_.each(options,function(option){html+=self.opt(option,numOptions,selection)})}$element.html(html).prop("disabled",!enabled);var revisedValue=$element.val();if(self.v&&!_.isEqual(currentValue,revisedValue))self.v(revisedValue)},opt:function(option,numOptions,selection){var label=option,value=option,disabled=option,textAttr=bindingSettings.optionText,valueAttr=bindingSettings.optionValue,disabledAttr=bindingSettings.optionDisabled;
if(isObject(option)){label=isModel(option)?option.get(textAttr):option[textAttr];value=isModel(option)?option.get(valueAttr):option[valueAttr];disabled=isModel(option)?option.get(disabledAttr):option[disabledAttr]}var select=!numOptions||_.contains(selection,value)?'" selected\x3d"selected"':'"';if(!disabled)return'\x3coption value\x3d"'+value+select+"\x3e"+label+"\x3c/option\x3e";else return'\x3coption value\x3d"'+value+select+disabled+"\x3e"+label+"\x3c/option\x3e"},clean:function(){this.d=this.e=
this.v=0}})})(_,Backbone.Epoxy,Granite.I18n);
(function(_,Backbone,koreanair,I18n,$B){koreanair.CustomForms={render:function(args){args=_.extend({selectorScope:$("body")},args)},renderChosen:function(selectorScope){if(!_.isFunction($().chosen)||koreanair.isMobile)return;var $allSelects=$(selectorScope).find("select");var $selects=$allSelects.filter(function(idx,element){if($(element).data("chosen"))return $(element).data("chosen").container.find(document.activeElement).length===0;return true});$selects.removeClass("s-hidden");$selects.chosen("destroy");
$selects.not(".day, .month, .year").chosen({disable_search_threshold:50,disable_search:true,no_results_text:I18n.get("no-results-label"),placeholder_text_single:I18n.get("placeholder-label")});$selects.filter(".day, .month, .year").chosen({disable_search_threshold:1E3,inherit_select_classes:true,no_results_text:I18n.get("no-results-label"),placeholder_text_single:I18n.get("placeholder-label")});$selects.each(function(idx,element){var $element=$(element);if($element.chosen()&&$element.data("chosen"))if($element.data("chosen").container.is(":visible")&&
$element.data("chosen").container.css("width")!=="0px")$element.addClass("s-hidden")})},renderTabBars:function(obj,args){var defaults={onClick:true};args=_.extend(defaults,args||{});var reservationSearchTypeOffset=0;var $tabBars=obj.find(".tabbar");$tabBars.each(function(){var $self=$(this),$options=$self.find(".tabbar-option").children("a"),$arrow=$self.find(".tabbar-arrow"),$curTar=$self.find(".tabbar-option").children(".selected").first();$arrow.animate({left:reservationSearchTypeOffset},{step:function(now,
fx){if(!$curTar.parent().parent().itsThere())return false;if($curTar.length>0)reservationSearchTypeOffset=$curTar.offset().left-$curTar.parent().parent().offset().left+$curTar.width()/2;fx.end=reservationSearchTypeOffset-$arrow.outerWidth()/2}});function debouncer(func,timeout){var timeoutID;timeout=timeout||200;return function(){var scope=this,args=arguments;clearTimeout(timeoutID);timeoutID=setTimeout(function(){func.apply(scope,Array.prototype.slice.call(args))},timeout)}}$(window).resize(debouncer(function(e){$curTar=
$self.find(".tabbar-option").children(".selected").first();$arrow.animate({left:reservationSearchTypeOffset},{step:function(now,fx){if($curTar.length>0)reservationSearchTypeOffset=$curTar.offset().left-$curTar.parent().parent().offset().left+$curTar.width()/2;fx.end=reservationSearchTypeOffset-$arrow.outerWidth()/2}},100)}));if(args.onClick)$options.on("click",function(e){e.preventDefault();var $curTar=$(e.currentTarget);if(!$curTar.hasClass("selected")){$curTar.animate({fontSize:"20px",color:"#007b9a"},
{complete:function(){$options.not($(e.currentTarget)).removeClass("selected");$curTar.addClass("selected");if(_.isFunction(args.callback))args.callback()}});$options.not($(e.currentTarget)).animate({fontSize:"14px",color:"#a6a4a5"});$arrow.animate({left:reservationSearchTypeOffset},{step:function(now,fx){if($curTar)reservationSearchTypeOffset=$curTar.offset().left-$curTar.parent().parent().offset().left+$curTar.width()/2;fx.end=reservationSearchTypeOffset-$arrow.outerWidth()/2}})}})})},emulatePlaceholders:function(obj,
message){var placeholdersupport=$("body").hasClass("placeholder");if(!placeholdersupport){var $phInputs=obj.find("input[placeholder]");$phInputs.each(function(){var $elem=$(this);$elem.val(message);var onFocus=function(){if(!placeholdersupport&&$elem.val()===message)$elem.val("")};var onBlur=function(){if(!placeholdersupport&&$elem.val()==="")$elem.val(message)};$elem.on({"blur":onBlur,"focus":onFocus})})}},structureIconInputs:function(obj){var $iconInputs=$(obj).find("input.icon-right, input.icon-left");
$iconInputs.each(function(){var $this=$(this),$icon=$this.next("img");$(this).next("img").andSelf().wrapAll("\x3cdiv class\x3d'icon-input-wrapper'\x3e\x3c/div\x3e");if($this.hasClass("icon-right"))$icon.css("right","6px");else $icon.css("left","6px")})},compoundInputMorphemes:function(obj){var $compounds=$(obj).find("div.compound-input");$compounds.each(function(){var $morphemes=$(this).children("input[type\x3dtext], input[type\x3dpassword]"),equalWidth=100/$morphemes.length+"%";$(this).children().not("input[type\x3dtext], input[type\x3dpassword], label").remove();
$morphemes.css("width",equalWidth);if($(this).attr("data-width")!==undefined)$(this).css("width",$(this).attr("data-width"));if($(this).has("input[data-width]").length>0){var $obscureW=$morphemes.not(":not([data-width])");$obscureW.each(function(){$(this).css("width",$(this).attr("data-width"))})}})},findFlyouts:function(obj){if($(obj).is("ul.flyout"))return $(obj);else return $(obj).find("ul.flyout")},bindFlyouts:function(obj,optionClickFunction,onLeft){var $flyouts=this.findFlyouts(obj);$flyouts.each(function(){var $this=
$(this);var max=$this.attr("data-max")||5;var min=0,$firstOptions=$this.children("li").not(".flyoutUp, .flyoutDown");$firstOptions.slice(max).css("display","none");$this.prepend('\x3cli class\x3d"flyoutUp"\x3e\x3c/li\x3e');$this.append('\x3cli class\x3d"flyoutDown"\x3e\x3c/li\x3e');var $up=$this.children(".flyoutUp"),$down=$this.children(".flyoutDown");$up.on("click",function(){var $visible=$this.children("li:visible").not(".flyoutUp, .flyoutDown"),$options=$this.children("li").not(".flyoutUp, .flyoutDown");
if($visible.first().index()-1>min){$options.eq($visible.first().index()-2).show();$visible.last().hide()}$("style#flyoutUp").remove();if($visible.first().index()===min+1)$("head").append('\x3cstyle id\x3d"flyoutUp"\x3e.flyoutUp:before { color:#a6a4a5 }\x3c/style\x3e');else $("head").append('\x3cstyle id\x3d"flyoutUp"\x3e.flyoutUp:before { color:#1f8caa }\x3c/style\x3e')});$down.on("click",function(){var $visible=$this.children("li:visible").not(".flyoutUp, .flyoutDown"),$options=$this.children("li").not(".flyoutUp, .flyoutDown"),
$optionsLen=$this.children("li").not(".flyoutUp, .flyoutDown").length;if($visible.last().index()<$optionsLen){$options.eq($visible.last().index()).show();$visible.first().hide()}$("style#flyoutDown").remove();if($visible.last().index()>$optionsLen)$("head").append('\x3cstyle id\x3d"flyoutDown"\x3e.flyoutDown:before { color:#a6a4a5 }\x3c/style\x3e');else $("head").append('\x3cstyle id\x3d"flyoutDown"\x3e.flyoutDown:before { color:#1f8caa }\x3c/style\x3e')});var $label=$($this.closest("li").find($this.attr("data-label"))),
$target=$($this.closest("li").find($this.attr("data-target"))),$options=$this.find("[data-option]"),$regions=$this.children("li").not(".flyoutUp, .flyoutDown"),$allSteps=$this.find("li"),$allParts=$this.find("*"),$list=$this;$allParts.attr("tabindex","-1");$this.parent().css("position","relative");$allParts.on("click",function(e){e.stopPropagation();e.preventDefault()});$("html.no-touch").find($regions).hover(function(e){var $this=$(e.target),$apList=$this.closest("li").find(".second-level-menu");
$apList.css({"top":"0","bottom":"auto"});if($.inViewport($apList)<1)$apList.css({"top":"auto","bottom":"0"})});$target.off("click");$target.on("click",function(e){e.stopPropagation();e.preventDefault();$("ul.flyout").not($this).css("display","none");$this.toggle();if($.inViewport($this)<1)$this.removeClass("down").addClass("up");else $this.removeClass("up").addClass("down")});$("html.touch").find($list).find("a").on("click",function(e){var $targ=$(e.currentTarget);var $targParent=$targ.closest("li");
if($targ.siblings("ul").length){e.preventDefault();$list.find(".touch-active").not($targParent).removeClass("touch-active");$targParent.toggleClass("touch-active")}});$options.on("click",function(e){$label.addClass("beenUsed");$label.val($(this).text());$label.focus();$this.hide();optionClickFunction(e)});$(document).on("click",function(){$("ul.flyout").hide();$(".touch-active").removeClass("touch-active")});function debouncer(func,timeout){var timeoutID;timeout=timeout||200;return function(){var scope=
this,args=arguments;clearTimeout(timeoutID);timeoutID=setTimeout(function(){func.apply(scope,Array.prototype.slice.call(args))},timeout)}}koreanair.CustomForms.sizeFlyouts($this,onLeft);$(window).resize(debouncer(function(e){koreanair.CustomForms.sizeFlyouts($this,onLeft)}))})},bindDomesticFlyouts:function(obj,optionClickFunction,onLeft){var $flyouts=this.findFlyouts(obj);$flyouts.each(function(){var $this=$(this);var max=$this.attr("data-max")||5;var $label=$($this.closest("li").find($this.attr("data-label"))),
$target=$($this.closest("li").find($this.attr("data-target"))),$options=$this.find("[data-option]"),$regions=$this.children("li").not(".flyoutUp, .flyoutDown"),$allSteps=$this.find("li"),$allParts=$this.find("*"),$list=$this;$allParts.attr("tabindex","-1");$this.parent().css("position","relative");$allParts.on("click",function(e){e.stopPropagation();e.preventDefault()});$("html.no-touch").find($regions).hover(function(e){var $this=$(e.target),$apList=$this.closest("li").find(".second-level-menu");
$apList.css({"top":"0","bottom":"auto"});if($.inViewport($apList)<1)$apList.css({"top":"auto","bottom":"0"})});$target.off("click");$target.on("click",function(e){e.stopPropagation();e.preventDefault();$("ul.flyout").not($this).css("display","none");$this.toggle();$this.css({"height":"246px","overflow-y":"auto","overflow-x":"hidden"});if($.inViewport($this)<1)$this.removeClass("down").addClass("up");else $this.removeClass("up").addClass("down")});$("html.touch").find($list).find("a").on("click",function(e){var $targ=
$(e.currentTarget);var $targParent=$targ.closest("li");if($targ.siblings("ul").length){e.preventDefault();$list.find(".touch-active").not($targParent).removeClass("touch-active");$targParent.toggleClass("touch-active")}});$options.on("click",function(e){$label.addClass("beenUsed");$label.val($(this).text());$label.focus();$this.hide();optionClickFunction(e)});$(document).on("click",function(){$("ul.flyout").hide();$(".touch-active").removeClass("touch-active")});function debouncer(func,timeout){var timeoutID;
timeout=timeout||200;return function(){var scope=this,args=arguments;clearTimeout(timeoutID);timeoutID=setTimeout(function(){func.apply(scope,Array.prototype.slice.call(args))},timeout)}}koreanair.CustomForms.sizeFlyouts($this,onLeft);$(window).resize(debouncer(function(e){koreanair.CustomForms.sizeFlyouts($this,onLeft)}))})},sizeFlyouts:function($this,onLeft){var $equiv=$this.closest(".flight-select-third"),eqW=$equiv.outerWidth()-1,left=-Math.round(parseFloat($equiv.css("paddingLeft"))),arrowBefore=
eqW-10,arrowAfter=eqW-40;$this.css({"left":left,"width":eqW});var $subMenu=$this.find(".second-level-menu");$subMenu.css({"left":eqW,"width":eqW});if(onLeft)$subMenu.css({"left":$B.ua.DOC_MODE===9?-eqW+17:-eqW,"width":eqW});$("style.flyoutArrow").remove();$("head").append('\x3cstyle class\x3d"flyoutArrow"\x3e.flyout \x3e li:hover:before { left: '+arrowBefore+"px }\x3c/style\x3e");$("head").append('\x3cstyle class\x3d"flyoutArrow"\x3e.flyout \x3e li:hover:after { left: '+arrowAfter+"px }\x3c/style\x3e")}}})(_,
Backbone,koreanair,Granite.I18n,ixBand);
(function(numeral,extendFn,language){var FORCE_CURRENCY_CODE=true;var currentCurrencyKey="USD",currencies={"AED":{"code":"AED","symbol":"AED","prepend":true,"shorten":false,"pad":true},"ALL":{"code":"ALL","symbol":"Lek","prepend":true,"shorten":false,"pad":false},"ARS":{"code":"ARS","symbol":"$","prepend":true,"shorten":false,"pad":false},"AUD":{"code":"AUD","symbol":"$","prepend":true,"shorten":false,"pad":false},"BAM":{"code":"BAM","symbol":"КМ.","prepend":true,"shorten":false,"pad":true},"BGN":{"code":"BGN",
"symbol":"лв.","prepend":true,"shorten":false,"pad":false},"BHD":{"code":"BHD","symbol":"BHD","prepend":true,"shorten":false,"pad":true},"BOB":{"code":"BOB","symbol":"B$","prepend":true,"shorten":false,"pad":false},"BRL":{"code":"BRL","symbol":"R$","prepend":true,"shorten":false,"pad":true},"BYR":{"code":"BYR","symbol":"Руб","prepend":true,"shorten":false,"pad":false},"CAD":{"code":"CAD","symbol":"$","prepend":true,"shorten":false,"pad":false},"CAD-fr":{"code":"CAD","symbol":"$","prepend":false,"shorten":false,
"pad":true},"CHF":{"code":"CHF","symbol":"SFr.","prepend":true,"shorten":false,"pad":true},"CLP":{"code":"CLP","symbol":"Ch$","prepend":true,"shorten":false,"pad":false},"CNY":{"code":"CNY","symbol":"元","prepend":true,"shorten":false,"pad":false},"COP":{"code":"COP","symbol":"$","prepend":true,"shorten":false,"pad":false},"CRC":{"code":"CRC","symbol":"C","prepend":true,"shorten":false,"pad":false},"CSD":{"code":"CSD","symbol":"CSD","prepend":true,"shorten":false,"pad":true},"CZK":{"code":"CZK","symbol":"Kč",
"prepend":false,"shorten":false,"pad":true},"DKK":{"code":"DKK","symbol":"kr","prepend":true,"shorten":false,"pad":true},"DOP":{"code":"DOP","symbol":"RD$","prepend":true,"shorten":false,"pad":false},"DZD":{"code":"DZD","symbol":"DZD","prepend":true,"shorten":false,"pad":true},"EGP":{"code":"EGP","symbol":"EGP","prepend":true,"shorten":false,"pad":true},"EUR":{"code":"EUR","symbol":"€","prepend":true,"shorten":false,"pad":true},"EUR-de":{"code":"EUR","symbol":"€","prepend":false,"shorten":false,"pad":true},
"EUR-de-at":{"code":"EUR","symbol":"€","prepend":true,"shorten":false,"pad":true},"EUR-el-cy":{"code":"EUR","symbol":"€","prepend":true,"shorten":false,"pad":false},"EUR-el-gr":{"code":"EUR","symbol":"€","prepend":false,"shorten":false,"pad":true},"EUR-en":{"code":"EUR","symbol":"€","prepend":true,"shorten":false,"pad":false},"EUR-es":{"code":"EUR","symbol":"€","prepend":false,"shorten":false,"pad":true},"EUR-et":{"code":"EUR","symbol":"€","prepend":false,"shorten":false,"pad":true},"EUR-fi":{"code":"EUR",
"symbol":"€","prepend":false,"shorten":false,"pad":true},"EUR-fr":{"code":"EUR","symbol":"€","prepend":false,"shorten":false,"pad":true},"EUR-ga":{"code":"EUR","symbol":"€","prepend":true,"shorten":false,"pad":false},"EUR-mt":{"code":"EUR","symbol":"€","prepend":true,"shorten":false,"pad":false},"EUR-nl-be":{"code":"EUR","symbol":"€","prepend":false,"shorten":false,"pad":true},"EUR-pt":{"code":"EUR","symbol":"€","prepend":false,"shorten":false,"pad":true},"EUR-sk":{"code":"EUR","symbol":"€","prepend":false,
"shorten":false,"pad":true},"FJD":{"code":"FJD","symbol":"$","prepend":true,"shorten":false,"pad":false},"GBP":{"code":"GBP","symbol":"£","prepend":true,"shorten":false,"pad":false},"GTQ":{"code":"GTQ","symbol":"Q","prepend":true,"shorten":false,"pad":false},"HKD":{"code":"HKD","symbol":"HK$","prepend":true,"shorten":false,"pad":false},"HNL":{"code":"HNL","symbol":"L","prepend":true,"shorten":false,"pad":false},"HRK":{"code":"HRK","symbol":"Kn","prepend":true,"shorten":false,"pad":true},"HUF":{"code":"HUF",
"symbol":"Ft","prepend":false,"shorten":false,"pad":true},"IDR":{"code":"IDR","symbol":"Rp","prepend":true,"shorten":false,"pad":false,"noFraction":true},"ILS":{"code":"ILS","symbol":'ש"ח',"prepend":false,"shorten":false,"pad":true},"INR":{"code":"INR","symbol":"Rs.","prepend":true,"shorten":false,"pad":false,"noFraction":true},"INR-hi":{"code":"INR","symbol":"INR","prepend":true,"shorten":false,"pad":true,"noFraction":true},"IQD":{"code":"IQD","symbol":"IQD","prepend":true,"shorten":false,"pad":true},
"ISK":{"code":"ISK","symbol":"kr.","prepend":false,"shorten":false,"pad":true},"JOD":{"code":"JOD","symbol":"JOD","prepend":true,"shorten":false,"pad":true},"JPY":{"code":"JPY","symbol":"￥","prepend":true,"shorten":false,"pad":false,"noFraction":true},"KRW":{"code":"KRW","symbol":"￦","prepend":true,"shorten":false,"pad":false,"noFraction":true},"KRW-ko":{"code":"원","symbol":"￦","prepend":false,"shorten":false,"pad":false,"noFraction":true},"KWD":{"code":"KWD","symbol":"KWD","prepend":true,"shorten":false,
"pad":true},"LBP":{"code":"LBP","symbol":"LBP","prepend":true,"shorten":false,"pad":true},"LTL":{"code":"LTL","symbol":"Lt","prepend":false,"shorten":false,"pad":true},"LVL":{"code":"LVL","symbol":"Ls","prepend":false,"shorten":false,"pad":true},"LYD":{"code":"LYD","symbol":"LYD","prepend":true,"shorten":false,"pad":true},"MAD":{"code":"MAD","symbol":"MAD","prepend":true,"shorten":false,"pad":true},"MKD":{"code":"MKD","symbol":"Den","prepend":true,"shorten":false,"pad":true},"MXN":{"code":"MXN","symbol":"$",
"prepend":true,"shorten":false,"pad":false},"MYR":{"code":"MYR","symbol":"RM","prepend":true,"shorten":false,"pad":false},"NIO":{"code":"NIO","symbol":"$C","prepend":true,"shorten":false,"pad":false},"NOK":{"code":"NOK","symbol":"kr","prepend":true,"shorten":false,"pad":true},"NZD":{"code":"NZD","symbol":"$","prepend":true,"shorten":false,"pad":false},"OMR":{"code":"OMR","symbol":"OMR","prepend":true,"shorten":false,"pad":true},"PAB":{"code":"PAB","symbol":"B","prepend":true,"shorten":false,"pad":false},
"PEN":{"code":"PEN","symbol":"S/","prepend":true,"shorten":false,"pad":false},"PHP":{"code":"PHP","symbol":"Php","prepend":true,"shorten":false,"pad":false},"PLN":{"code":"PLN","symbol":"zł","prepend":false,"shorten":false,"pad":true},"PYG":{"code":"PYG","symbol":"G","prepend":true,"shorten":false,"pad":false},"QAR":{"code":"QAR","symbol":"QAR","prepend":true,"shorten":false,"pad":true},"RON":{"code":"RON","symbol":"LEI","prepend":false,"shorten":false,"pad":true},"RSD":{"code":"RSD","symbol":"RSD",
"prepend":true,"shorten":false,"pad":true},"RUB":{"code":"RUB","symbol":"руб.","prepend":false,"shorten":false,"pad":true},"SAR":{"code":"SAR","symbol":"SAR","prepend":true,"shorten":false,"pad":true},"SDG":{"code":"SDG","symbol":"SDG","prepend":true,"shorten":false,"pad":true},"SEK":{"code":"SEK","symbol":"kr","prepend":false,"shorten":false,"pad":true},"SGD":{"code":"SGD","symbol":"$","prepend":true,"shorten":false,"pad":false},"SGD-zh":{"code":"SGD","symbol":"S$","prepend":true,"shorten":false,
"pad":false},"SVC":{"code":"SVC","symbol":"C","prepend":true,"shorten":false,"pad":false},"SYP":{"code":"SYP","symbol":"SYP","prepend":true,"shorten":false,"pad":true},"THB":{"code":"THB","symbol":"฿","prepend":true,"shorten":false,"pad":false},"TND":{"code":"TND","symbol":"TND","prepend":true,"shorten":false,"pad":true},"TRY":{"code":"TRY","symbol":"TL","prepend":false,"shorten":false,"pad":true},"TWD":{"code":"TWD","symbol":"NT$","prepend":true,"shorten":false,"pad":false},"UAH":{"code":"UAH","symbol":"грн.",
"prepend":false,"shorten":false,"pad":true},"USD":{"code":"USD","symbol":"$","prepend":true,"shorten":false,"pad":false},"USD-es":{"code":"USD","symbol":"US$","prepend":true,"shorten":false,"pad":false},"UYU":{"code":"UYU","symbol":"NU$","prepend":true,"shorten":false,"pad":true},"VEF":{"code":"VEF","symbol":"BsF.","prepend":true,"shorten":false,"pad":false},"VND":{"code":"VND","symbol":"đ","prepend":false,"shorten":false,"pad":true},"YER":{"code":"YER","symbol":"YER","prepend":true,"shorten":false,
"pad":true},"ZAR":{"code":"ZAR","symbol":"R","prepend":true,"shorten":false,"pad":true},"DEFAULT":{"code":null,"symbol":null,prepend:false,shorten:false,pad:true}};function getCurrencyKey(currencyCode){var locale=numeral.language().split(/[^\w]/);var lang=locale[0]||"en";var key;if(locale.length>1){key=currencyCode+"-"+lang+"-"+locale[1];if(currencies[key])return key}key=currencyCode+"-"+lang;if(currencies[key])return key;key=currencyCode;if(currencies[key])return key;throw new Error("Unknown currency code : "+
currencyCode);}if(language&&language!==numeral.language())try{numeral.language(language.replace("_","-").toLowerCase())}catch(e){numeral.language(language.substring(0,2).toLowerCase())}currentCurrencyKey=getCurrencyKey(currentCurrencyKey);numeral.currencyData=function(key){var currencyKey;if(!key)currencyKey=currentCurrencyKey;else if(key.length===3)currencyKey=getCurrencyKey(key);else currencyKey=key;return currencies[currencyKey]};numeral.currency=function(key,currency){if(arguments.length>0&&key){try{currentCurrencyKey=
getCurrencyKey(key);if(currency)currencies[currentCurrencyKey]=currency}catch(e){var newCurrency;if(currency)newCurrency=currency;else newCurrency=extendFn.call(this,{},currencies["DEFAULT"],{code:key,symbol:key});currencies[key]=newCurrency;currentCurrencyKey=key}return}return currentCurrencyKey.replace(/(^\w{3}).*/,"$1")};numeral.fn.currency=function(format,roundingFunction,currencyCode){var symbol,pad,replacement,formatted,index;var fmt=null;var roundFn=Math.round;var currency=null;for(index=0;index<
arguments.length;++index)switch(typeof arguments[index]){case "object":currency=arguments[index];break;case "string":if(/^[A-Z]{3}$/.test(arguments[index]))currency=currencies[getCurrencyKey(arguments[index])];else fmt=arguments[index];break;case "function":roundFn=Math.round;break}if(!currency)currency=numeral.currencyData();if(!fmt)if(currency.shorten)fmt="0,0a";else if(currency.noFraction)fmt="0,0";else fmt="0,0.00";else if(currency.shorten&&fmt.indexOf("a")===-1)fmt+="a";else if(currency.noFraction&&
!currency.shorten&&fmt.indexOf(".00")>-1)fmt=fmt.replace(".00","");formatted=this.format(fmt,roundFn);symbol=currency.symbol.replace(/\$/g,"$$$$");pad=currency.pad?" ":"";if(FORCE_CURRENCY_CODE){symbol=currency.code;pad=" "}replacement=currency.prepend?"$1"+symbol+pad+"$2$3":"$1$2"+pad+symbol+"$3";return formatted.replace(/^([^\d]*)([^[\)]+)(\))?$/,replacement)}})(numeral,_.extend,koreanair.Language);
(function($,moment,I18n,koreanair){function getMaxInfantAge(){return 2}function getMaxChildAge(isDomestic){return isDomestic?13:12}function gf_Convert2ByteChar2(x_char){var x_2byteChar=new String;var len=x_char.length;for(var i=0;i<len;i++){var c=x_char.charCodeAt(i);if(c>=65281&&c<=65374&&c!=65340)x_2byteChar+=String.fromCharCode(c-65248);else if(c==8217)x_2byteChar+=String.fromCharCode(39);else if(c==8221)x_2byteChar+=String.fromCharCode(34);else if(c==12288)x_2byteChar+=String.fromCharCode(32);
else if(c==65507)x_2byteChar+=String.fromCharCode(126);else if(c==65509)x_2byteChar+=String.fromCharCode(92);else x_2byteChar+=x_char.charAt(i)}return x_2byteChar}$.validator.addClassRules("vPassword",{minlength:4,maxlength:20});$.validator.addClassRules("vUserName",{minlength:6,maxlength:12});$.validator.addMethod("vMinlengthResNum",$.validator.methods.minlength,I18n.get("reservation-number-length"));$.validator.addClassRules("vReservationNumber",{maxlength:8,vMinlengthResNum:8,number:true});$.validator.addMethod("vMinlengthPostal",
$.validator.methods.minlength,I18n.get("postal-min-length"));$.validator.addClassRules("vPostalCode",{maxlength:9,vMinlengthPostal:5,number:true});$.validator.addClassRules("vPostalCodeNP",{postalCode:true});$.validator.addClassRules("vReservationNickname",{nickName:true,maxlength:30});$.validator.addClassRules("vFlightNumber",{flightNumber:true});$.validator.addClassRules("vFileFormat",{extension:"jpg|gif|bmp|pdf"});$.validator.addClassRules("vINFANT",{checkInfantAge:true});$.validator.addClassRules("vcINFANT",
{checkOtherInfantAge:true});$.validator.addClassRules("vcDomesticINFANT",{checkOtherInfantAgeDomestic:true});$.validator.addClassRules("vCHILD",{checkChildAge:true});$.validator.addClassRules("vcCHILD",{checkOtherChildAge:true});$.validator.addClassRules("vCHILDwci",{checkChildAgeWCI:true});$.validator.addClassRules("vNotAdult",{checkNotAdultAge:true});$.validator.addClassRules("vYOUTH",{checkYouthAge:true});$.validator.addClassRules("vSILVER",{checkSilverAge:true});$.validator.addClassRules("vADULT",
{checkAdultAge:true});$.validator.addClassRules("vInfantHeight",{checkInfantHeight:true});$.validator.addClassRules("vInfantWeight",{checkInfantWeight:true});$.validator.addClassRules("vReservationName",{checkReservationName:true});$.validator.addClassRules("vPhoneNumber",{required:true,phoneNumberWithDash:true,maxlength:20,vPhoneNumberLength:2,unusableNumber:true});$.validator.addMethod("vPhoneMinimumDigits",function(value,element,param){return value.replace(/\D+/g,"").length>=param},I18n.get("5-20-digits"));
$.validator.addClassRules("vPhoneNumberString",{required:true,maxlength:20,vPhoneMinimumDigits:5});$.validator.addClassRules("vBirthday",{number:true,range:[1,31]});$.validator.addClassRules("vBirthMonth",{number:true,range:[1,12]});$.validator.addClassRules("vBirthYear",{checkDOB:true,minlength:4,maxlength:4,number:true});$.validator.addClassRules("vCheckDOB",{checkDOB:true});$.validator.addClassRules("vSkypass",{skypassValid:true});$.validator.addClassRules("vNonSkypass",{nonSkypassValid:true});
$.validator.addClassRules("vCountryCode",{digits:true});$.validator.addClassRules("vCCNumber",{required:true,minlength:12,maxlength:19,ccNumber:true,number:true});$.validator.addClassRules("vCCNumberDiv1",{required:true,minlength:4,maxlength:4,ccNumberDiv:true,number:true});$.validator.addClassRules("vCCNumberDiv2",{required:true,minlength:4,maxlength:4,ccNumberDiv:true,number:true});$.validator.addClassRules("vCCNumberDiv3",{required:true,minlength:4,maxlength:4,ccNumberDiv:true,number:true});$.validator.addClassRules("vCCNumberDiv4",
{required:true,minlength:1,maxlength:4,ccNumberDiv:true,number:true});$.validator.addClassRules("vAXCvvNumber",{axCvvNumber:true,number:true});$.validator.addClassRules("vOTCvvNumber",{otCvvNumber:true,number:true});$.validator.addClassRules("vDiscountCheck",{discount:true});$.validator.addClassRules("vFFNumberRequired",{FFNumberRequired:true});$.validator.addClassRules("vFFTypeRequired",{FFTypeRequired:true});$.validator.addClassRules("vDateAfterFlight",{afterFlightDate:true});$.validator.addClassRules("vBirthMonth",
{number:true,range:[1,12]});$.validator.addClassRules("vEmail",{email:true,maxlength:50});$.validator.addClassRules("vAlphaWithKorean",{alphaWithKoreanCharacters:true});$.validator.addClassRules("vAlphaWithKoreanWhitespace",{alphaWithKoreanWhitespace:true});$.validator.addClassRules("vAlphaNumericWithKorean",{alphaNumericWithKoreanCharacters:true});$.validator.addClassRules("vFFNumber",{maxlength:12});$.validator.addClassRules("vAlpha",{alpha:true});$.validator.addClassRules("vAlphaWithSpace",{alphaWithSpace:true});
$.validator.addClassRules("vAlphaWithSpaceNP",{alphaWithSpaceNewPayment:true});$.validator.addClassRules("vAlphaNumericWithSpecial",{alphaNumericWithSpecial:true});$.validator.addClassRules("vNameLength",{adultNameLength:true});$.validator.addClassRules("vFirstName",{chkFirstName:true});$.validator.addClassRules("vLastName",{chkLastName:true});$.validator.addClassRules("vNotNumericSpecial",{chkNumericSpecial:true});$.validator.addClassRules("vTitle",{chkTitle:true});$.validator.addClassRules("vADULTNameLength",
{adultNameLength:true});$.validator.addClassRules("vCHILDNameLength",{childNameLength:true});$.validator.addClassRules("vINFANTNameLength",{infantNameLength:true});$.validator.addClassRules("vMembershipNumberRequired",{membershipNumberRequired:true});$.validator.addClassRules("vAddressRequired",{addressRequired:true});$.validator.addClassRules("vApisAddressRequired",{apisAddressRequired:true});$.validator.addClassRules("vApisCityRequired",{apisCityRequired:true});$.validator.addClassRules("vPassportRequired",
{passportRequired:true});$.validator.addClassRules("vNumberBlankRequired",{numberBlankRequired:true});$.validator.addClassRules("vKorCCTypeRequired",{KorCCTypeRequired:true});$.validator.addClassRules("vKorCCInstallmentRequired",{KorCCInstallmentRequired:true});$.validator.addClassRules("vRsvnNumber",{rsvnNumber:true});$.validator.addClassRules("vTicketNumber",{ticketNumber:true});$.validator.addClassRules("vCountryCode",{maxlength:4,vMinlengthResNum:1,number:true});$.validator.addClassRules("vAccountHolder28",
{accountHolder28:true,maxlength:28});$.validator.addClassRules("vCouponCode18",{couponCode18:true,maxlength:18});$.validator.addClassRules("vCouponAlias",{couponAlias:true,maxlength:18});$.validator.addClassRules("vCouponECPN",{couponECPN:true,maxlength:18});$.validator.addClassRules("vUserInputData",{userInputData:true,maxlength:8});$.validator.addClassRules("vUserInputDataCheck",{userInputDataCheck:true,maxlength:8});$.validator.addMethod("checkInfantHeight",function(value,element){return parseInt(value)<=
75},I18n.get("infant-height-above-limit"));$.validator.addMethod("checkInfantWeight",function(value,element){return parseFloat(0+value)<=11},I18n.get("infant-weight-above-limit"));$.validator.addMethod("checkReservationName",function(value,element){if(koreanair.Language==="ko-kr")return value.length<=10;return value.length<=30},I18n.get("reservation-name-length"));$.validator.addMethod("skypassValid",function(value){return/(^[A-Za-z]{2}\d{7,8}$|^\d{12}$)/.test(value)});$.validator.addMethod("nonSkypassValid",
function(value){return value&&value.length>0},I18n.get("invalid-skypass-format-message"));$.validator.addMethod("adultNameLength",function(value,element){var minlength=2;if(koreanair.Lang==="ko"&&koreanair.router.itinerary.get("isDomestic"))minlength=1;var $form=$(element).closest("form");var firstNameLength=$form.find("input[name\x3dlastName]").val().length;var lastNameLength=$form.find("input[name\x3dfirstName]").val().length;var hasValues=firstNameLength>0&&lastNameLength;if(hasValues)return firstNameLength+
lastNameLength<=50;else return true},I18n.get("adult-name-length-error-label"));$.validator.addMethod("childNameLength",function(value,element){var minlength=2;if(koreanair.Lang==="ko"&&koreanair.router.itinerary.get("isDomestic"))minlength=1;var $form=$(element).closest("form");var firstNameLength=$form.find("input[name\x3dlastName]").val().length;var lastNameLength=$form.find("input[name\x3dfirstName]").val().length;var hasValues=firstNameLength>0&&lastNameLength;if(hasValues)return firstNameLength+
lastNameLength<=40;else return true},I18n.get("child-name-length-error-label"));$.validator.addMethod("chkFirstName",function(value){var len=value.length,han=0,total=0;var i;for(i=0;i<len;++i)if(value.charCodeAt(i)>128)han++;total=len-han+han*2;return total<=25},I18n.get("first-name-length"));$.validator.addMethod("chkLastName",function(value){var len=value.length,han=0,total=0;var i;for(i=0;i<len;++i)if(value.charCodeAt(i)>128)han++;total=len-han+han*2;return total<=40&&total>=2},I18n.get("last-name-length"));
$.validator.addMethod("chkTitle",function(value){var len=value.length,han=0,total=0;var i;for(i=0;i<len;++i)if(value.charCodeAt(i)>128)han++;total=len-han+han*2;return total<=40},"title-name-length");$.validator.addMethod("infantNameLength",function(value,element){var $form=$(element).closest("form");var firstName=$form.find("input[name\x3dlastName]").val().replace(/ /g,""),firstNameLength=firstName.length;var lastName=$form.find("input[name\x3dfirstName]").val().replace(/ /g,""),lastNameLength=lastName.length;
var hasValues=firstNameLength>0&&lastNameLength>0;var adultValue=$form.find("select[name\x3daccompanyAdultNumber] :selected").html().replace(/[ //]/g,""),adultValueLength=adultValue.length;if(hasValues){var first_minlength=2,last_minlength=2;if(koreanair.router.itinerary.get("isDomestic")&&/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(firstName))first_minlength=1;if(koreanair.router.itinerary.get("isDomestic")&&/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(lastName))last_minlength=1;return firstNameLength>=first_minlength&&lastNameLength>=last_minlength&&
firstNameLength+lastNameLength+adultValueLength<=36}else return true},I18n.get("infant-name-length-error-label"));$.validator.addMethod("nickName",function(value){function lengthInUtf8Bytes(value){var m=encodeURIComponent(value).match(/%[89ABab]/g);return value.length+(m?m.length:0)}return lengthInUtf8Bytes(value)<=30},I18n.get("reservation-name-length"));$.validator.addMethod("FFTypeRequired",function(value,element){if($(element).closest(".custom-form").find(".membershipNumber").val()!=="")return $(element).val()!==
"";else return true},I18n.get("program-required-error-message"));$.validator.addMethod("FFNumberRequired",function(value,element){if($(element).val()!=="")return $(element).closest(".custom-form").find(".membershipNumber").val()!=="";else return true},I18n.get("program-number-required-error-message"));$.validator.addMethod("passengerName",function(value,element){return this.optional(element)||/^[a-z'\-\s]+$/i.test(value)},"passenger-name-format-error-message");$.validator.addMethod("alphaNumericWithKoreanCharacters",
function(value,element){if(koreanair.Language==="ko-kr")return this.optional(element)||/^[a-zA-Z0-9\uAC00-\uD7A3]+$/.test(value);return this.optional(element)||/^[a-zA-Z0-9]+$/.test(value)},I18n.get("invalid-alphanumeric-character-error-message"));$.validator.addMethod("alphaWithKoreanCharacters",function(value,element){if(koreanair.Language==="ko-kr")return this.optional(element)||/[a-zA-Z\uAC00-\uD7A3\s]+$/.test(value);return this.optional(element)||/^[a-zA-Z\s]+$/.test(value)},I18n.get("pe-invalid-dom-character-error-message"));
$.validator.addMethod("alphaWithKoreanWhitespace",function(value,element){return this.optional(element)||/^[a-zA-Z\uAC00-\uD7A3\s]+$/.test(value)},I18n.get("pe-invalid-dom-character-error-message"));$.validator.addMethod("alphanumeric",function(value,element){return this.optional(element)||/^[a-z0-9]+$/i.test(value)},I18n.get("invalid-alphanumeric-character-error-message"));$.validator.addMethod("alpha",function(value,element){return this.optional(element)||/^[a-zA-Z]+$/.test(value)},I18n.get("pe-invalid-intl-character-error-message"));
$.validator.addMethod("alphaWithSpace",function(value,element){return this.optional(element)||/^[a-zA-Z\s]+$/.test(value)},I18n.get("pe-invalid-intl-character-error-message"));$.validator.addMethod("alphaWithSpaceNewPayment",function(value,element){return this.optional(element)||/^[a-zA-Z\u2160-\u217F\s]+$/.test(value)},I18n.get("np-card-error-message-1"));$.validator.addMethod("alphaNumericWithSpecial",function(value,element){return this.optional(element)||/^[\x20-\x7E]*$/.test(value)},I18n.get("np-card-error-message-2"));
$.validator.addMethod("chkNumericSpecial",function(value,element){return this.optional(element)||/^[^!-@[-`{-~}]+$/.test(value)},I18n.get("np-card-error-message-1"));$.validator.addMethod("flightNumber",function(value,element){return/^[a-zA-z]{2}\d{1,4}$/.test(value)},I18n.get("flight-error-message"));$.validator.addMethod("KorCCTypeRequired",function(value,element){if($(".korCardCompany").val()!=="")return $("select[name\x3dkorCardCompany]").val()!=="";else return false},I18n.get("info-required"));
$.validator.addMethod("KorCCInstallmentRequired",function(value,element){if($(".korCardInstallment").val()!=="NONE")return $("select[name\x3dkorCardInstallment]").val()!=="NONE";else return false},I18n.get("info-required"));$.validator.addClassRules("vmINFANT",{checkInfantAgeMobile:true});$.validator.addClassRules("vmReissueINFANT",{checkInfantAgeMobileReissue:true});$.validator.addClassRules("vcmINFANT",{checkOtherInfantAgeMobile:true});$.validator.addClassRules("vcmDomesticINFANT",{checkOtherInfantAgeDomesticMobile:true});
$.validator.addClassRules("vmCHILD",{checkChildAgeMobile:true});$.validator.addClassRules("vmReissueCHILD",{checkChildAgeMobileReissue:true});$.validator.addClassRules("vcmCHILD",{checkOtherChildAgeMobile:true});$.validator.addClassRules("vmNotAdult",{checkNotAdultAge:true});$.validator.addClassRules("vmADULT",{checkAdultAgeMobile:true});$.validator.addClassRules("vmDiscountCheck",{discountMobile:true});$.validator.addClassRules("vmUKDiscountCheck",{ukDiscountMobile:true});$.validator.addClassRules("vmCheckDOB",
{checkDOBMobile:true});$.validator.addClassRules("vKTN",{alphanumeric:true,maxlength:15});var getFormInfo=function(value,element){var DOB=$(element).val();var dateFormat=$(element).data("dateFormat")||"YYYYMD";var itinerary=null;if(koreanair.isMobile===true){if(koreanair.Booking.router)itinerary=koreanair.Booking.router.bookingitinerary}else if(koreanair.BookingBar.controller)itinerary=koreanair.BookingBar.controller.bookingitinerary;var flightDateUK="";if(itinerary){var bounds=itinerary.get("bounds");
koreanair.Airports.getRegionGroupAirportList("international","revenue").done(_.bind(function(airports){_.each(bounds.toJSON(),function(bound){var departure=bound.departureAirport,cabinClass=bound.cabinClass.toLowerCase();if(koreanair.Airports.isGB(airports,departure)&&cabinClass=="economy"){var isUK=moment("2016-03-01").isBefore(moment(bound.departure),"day")||moment("2016-03-01").isSame(moment(bound.departure),"day");if(isUK&&!flightDateUK)flightDateUK=moment(bound.departure,dateFormat)}})},this))}return{dateFormat:dateFormat,
minBirthDate:moment("1900-01-01","YYYY-MM-DD"),birthDate:moment(DOB,dateFormat),currentDate:moment(),flightDate:$(element).data("flight-date")?moment($(element).data("flight-date"),dateFormat):moment(itinerary.get("bounds").at(0).get("departure"),dateFormat),flightDateUK:flightDateUK}};$.validator.addMethod("afterFlightDate",function(value,element){var dateFormat=$(element).data("date-format")||$(element).attr("data-date-format")||"YYYY-MM-DD",flightDate=moment($(element).data("flight-date"));return moment($(element).val(),
dateFormat).diff(moment(flightDate,dateFormat))>0},I18n.get("date-must-be-after-flight-date"));$.validator.addMethod("checkDOB",function(value,element){var data=getFormInfo(value,element);return data.birthDate.isAfter(data.minBirthDate)&&data.birthDate.isBefore(data.currentDate)},I18n.get("valid-DOB-required-error-message"));$.validator.addMethod("checkInfantAge",function(value,element){var data=getFormInfo(value,element),age=data.flightDate.diff(data.birthDate,"years"),minAge=data.flightDate.diff(data.birthDate,
"days");var infantLimit=data.flightDate.subtract("y",2);return data.birthDate.isAfter(moment(infantLimit,data.dateFormat))&&minAge>6},I18n.get("invalid-birthday-to-old-error-message-infant"));$.validator.addMethod("checkOtherInfantAge",function(value,element){var DOB=$(element).val(),dateFormat=$(element).data("dateFormat")||"YYYYMD",itinerary=koreanair.BookingBar.controller.bookingitinerary,birthDate=moment(DOB,dateFormat);var result=[];var today=new Date;var ticketingInfo=itinerary.get("ticketingInfo");
var ticketingDate="";if(ticketingInfo)ticketingDate=ticketingInfo.date;var firstBound=itinerary.get("bounds").at(0).toJSON();if(itinerary.get("isReissue")&&(itinerary.get("award")&&moment(moment(ticketingDate).format("YYYY-MM-DD")).isBefore(moment("2017-12-01","YYYY-MM-DD"))&&!firstBound.toBeChanged||!itinerary.get("award")&&moment(moment(ticketingDate).format("YYYY-MM-DD")).isBefore(moment("2017-09-01","YYYY-MM-DD"))&&!firstBound.toBeChanged))_.each(itinerary.get("bounds").toJSON(),function(bound){_.each(bound.flights,
function(flight){if(flight.airlineCode!="KE"||flight.otherAirlineCode){var age=moment.withZone(flight.departure).diff(birthDate,"years"),minAge=moment.withZone(flight.departure).diff(birthDate,"days");var infantLimit=moment(flight.departure,dateFormat).subtract("y",2);result.push(birthDate.isAfter(moment(infantLimit,dateFormat))&&minAge>6)}else result.push(true)})});else _.each(itinerary.get("bounds").toJSON(),function(bound){_.each(bound.flights,function(flight){var age=moment.withZone(flight.departure).diff(birthDate,
"years"),minAge=moment.withZone(flight.departure).diff(birthDate,"days");var infantLimit=moment(flight.departure,dateFormat).subtract("y",2);result.push(birthDate.isAfter(moment(infantLimit,dateFormat))&&minAge>6)})});result=_.uniq(result);return result.length==1&&result[0]},I18n.get("invalid-other-birthday-range-error-message-child"));$.validator.addMethod("checkOtherInfantAgeDomestic",function(value,element){var DOB=$(element).val(),dateFormat=$(element).data("dateFormat")||"YYYYMD",itinerary=koreanair.BookingBar.controller.bookingitinerary,
birthDate=moment(DOB,dateFormat);var result=[];var today=new Date;_.each(itinerary.get("bounds").toJSON(),function(bound){_.each(bound.flights,function(flight){var age=moment.withZone(flight.departure).diff(birthDate,"years"),minAge=moment.withZone(flight.departure).diff(birthDate,"days");var infantLimit=moment(flight.departure,dateFormat).subtract("y",2);result.push(birthDate.isAfter(moment(infantLimit,dateFormat))&&minAge>6)})});result=_.uniq(result);return result.length==1&&result[0]},I18n.get("invalid-other-birthday-range-error-message-child-domestic"));
$.validator.addMethod("checkChildAge",function(value,element){var data=getFormInfo(value,element),isDomestic=Boolean($(element).data("domestic"))===true,maxAge=getMaxChildAge(isDomestic),age=data.flightDate.diff(data.birthDate,"years"),itinerary=koreanair.isMobile===true?koreanair.Booking.router.bookingitinerary:koreanair.BookingBar.controller.bookingitinerary;var infantLimit=moment(data.flightDate,data.dateFormat).subtract("y",2);var childLimit=isDomestic?moment(data.flightDate,data.dateFormat).subtract("y",
13):moment(data.flightDate,data.dateFormat).subtract("y",12);if(itinerary&&($(".onholdpurchase").index()>0||itinerary.get("isReissue")||itinerary.get("isChange")||!itinerary.get("award")))return data.birthDate.isAfter(moment(childLimit,"YYYYMMDD"));else return!data.birthDate.isAfter(moment(infantLimit,"YYYYMMDD"))&&data.birthDate.isAfter(moment(childLimit,"YYYYMMDD"))},I18n.get("invalid-birthday-range-error-message-child"));$.validator.addMethod("checkOtherChildAge",function(value,element){var DOB=
$(element).val(),dateFormat=$(element).data("dateFormat")||"YYYYMD",itinerary=koreanair.BookingBar.controller.bookingitinerary,birthDate=moment(DOB,dateFormat),isDomestic=Boolean($(element).data("domestic"))===true,maxAge=getMaxChildAge(isDomestic);var result=[];_.each(itinerary.get("bounds").toJSON(),function(bound){_.each(bound.flights,function(flight){if(flight.airlineCode!="KE"||flight.otherAirlineCode){var age=moment.withZone(flight.departure).diff(birthDate,"years");var infantLimit=moment(flight.departure,
dateFormat).subtract("y",2);var childLimit=isDomestic?moment(flight.departure,dateFormat).subtract("y",13):moment(flight.departure,dateFormat).subtract("y",12);if(itinerary&&($(".onholdpurchase").index()>0||itinerary.get("isReissue")||itinerary.get("isChange")||!itinerary.get("award")))result.push(birthDate.isAfter(moment(childLimit,"YYYYMMDD")));else result.push(!birthDate.isAfter(moment(infantLimit,"YYYYMMDD")))&&birthDate.isAfter(moment(childLimit,"YYYYMMDD"))}else result.push(true)})});result=
_.uniq(result);return result.length==1&&result[0]},I18n.get("invalid-other-birthday-range-error-message-child"));$.validator.addMethod("checkYouthAge",function(value,element){var data=getFormInfo(value,element),isDomestic=Boolean($(element).data("domestic"))===true,maxAge=getMaxChildAge(isDomestic),age=data.flightDate.diff(data.birthDate,"years");return age>=13&&age<22},I18n.get("invalid-youthBirthday-range-error-message"));$.validator.addMethod("checkSilverAge",function(value,element){var data=getFormInfo(value,
element);var youngestBirthDate=moment(data.flightDate,"YYYYMD").subtract("y",65).add("d",1);return moment(data.birthDate,"YYYYMD").isBefore(moment(youngestBirthDate,"YYYYMD"))&&moment(data.currentDate,"YYYYMD").isAfter(moment(data.birthDate,"YYYYMD"))},I18n.get("invalid-silverBirthday-range-error-message"));$.validator.addMethod("checkChildAgeWCI",function(value,element){var data=getFormInfo(value,element),isDomestic=Boolean($(element).data("domestic"))===true,maxAge=getMaxChildAge(isDomestic),age=
data.flightDate.diff(data.birthDate,"years");return age<maxAge},I18n.get("invalid-birthday-to-old-error-message"));$.validator.addMethod("checkNotAdultAge",function(value,element){var data=getFormInfo(value,element),isDomestic=Boolean($(element).data("domestic"))===true,maxAge=getMaxChildAge(isDomestic),age=data.flightDate.diff(data.birthDate,"years");return age<maxAge},I18n.get("invalid-birthday-range-error-message"));$.validator.addMethod("checkAdultAge",function(value,element){var data=getFormInfo(value,
element),isDomestic=Boolean($(element).data("domestic"))===true,minAge=getMaxChildAge(isDomestic),age=data.flightDate.diff(data.birthDate,"years",true);return age>=minAge},I18n.get("invalid-birthday-range-error-message-adult"));$.validator.addMethod("discount",function(value,element){var data=getFormInfo(value,element);var youngestBirthDate=moment(data.flightDate,"YYYYMD").subtract("y",65).add("d",1);return moment(data.birthDate,"YYYYMD").isBefore(moment(youngestBirthDate,"YYYYMD"))&&moment(data.currentDate,
"YYYYMD").isAfter(moment(data.birthDate,"YYYYMD"))},I18n.get("discount-range-error-message"));$.validator.addMethod("ukDiscount",function(value,element){var data=getFormInfo(value,element);var flightDateUK=data.flightDateUK?data.flightDateUK:data.flightDate;var minBirthDate=moment(flightDateUK,"YYYYMD").subtract("y",12).add("d",1);var maxBirthDate=moment(flightDateUK,"YYYYMD").subtract("y",16);return moment(data.birthDate,"YYYYMD").isBefore(moment(minBirthDate,"YYYYMD"))&&moment(data.birthDate,"YYYYMD").isAfter(moment(maxBirthDate,
"YYYYMD"))},I18n.get("uk-discount-range-error-message"));$.validator.addMethod("dateFormat",function(value,element){return value.match(/^(0[1-9]|1[0-2])\/(0[1-9]|1\d|2\d|3[01])\/(19|20)\d{2}$/)},"date-format-error-message");$.validator.addMethod("postalCode",function(value,element){var billingCountry=$("#billingCountry").val();if(billingCountry&&(billingCountry.toLowerCase()==="us"||billingCountry.toLowerCase()==="ca"||billingCountry.toLowerCase()==="gb"))return value!=="";else return true},I18n.get("UWA-required-errortext"));
$.validator.addMethod("cvvNumberRequired",function(value,element){return value&&value.length>0},I18n.get("invalid-cvv-label"));$.validator.addMethod("otCvvNumber",function(value,element){return value&&value.length==3},I18n.get("invalid-cvv-label-3"));$.validator.addMethod("axCvvNumber",function(value,element){return value&&value.length==4},I18n.get("invalid-cvv-label-4"));$.validator.addMethod("ccNumber",function(value,element){var ccType=$("[name\x3dselected-card]:checked").parent().data("card")||
$(".ccType").val();var numberLength=value;var ccErrorNo=0;var ccErrors=[];ccErrors[0]=I18n.get("unkown-card-label");ccErrors[1]=I18n.get("required-label");ccErrors[2]=I18n.get("invalid-cc-format-label");ccErrors[3]=I18n.get("invalid-cc-number-label");ccErrors[4]=I18n.get("invalid-cc-length-label");ccErrors[5]=I18n.get("blacklisted-cc-numbers-label");if(typeof ccType==="undefined"||ccType==="")return false;var checkCreditCard=function(cardnumber,cardname){var cards=[];var ccErrorNo=-1;cards[0]={name:"VI",
length:"13,16",prefixes:"4",range:"",checkdigit:false};cards[1]={name:"CA",length:"16",range:"",prefixes:"51,52,53,54,55,2221,2222,2223,2224,2225,2226,2227,2228,2229,223,224,225,226,227,228,229,23,24,25,26,270,271,2720",checkdigit:false};cards[2]={name:"DC",length:"14",prefixes:"30,36,38",range:"",checkdigit:false};cards[3]={name:"CarteBlanche",length:"14",prefixes:"30,36,38",range:"",checkdigit:false};cards[4]={name:"AX",length:"15",prefixes:"34,37",range:"",checkdigit:false};cards[5]={name:"DS",
length:"16",prefixes:"6011,65,622",range:"62212600,62292599",checkdigit:false};cards[6]={name:"JC",length:"16",prefixes:"3088,3096,3112,3158,3337,35",range:"35280000,35899999",checkdigit:false};cards[7]={name:"MS",length:"16",prefixes:"",range:"",checkdigit:false};cards[8]={name:"TP",length:"15",prefixes:"",range:"",checkdigit:false};cards[9]={name:"CB",length:"16",prefixes:"",range:"",checkdigit:false};var cardType=-1;for(var i=0;i<cards.length;i++)if(cardname.toLowerCase()===cards[i].name.toLowerCase()){cardType=
i;break}if(cardType===-1){ccErrorNo=0;return false}if(cardnumber.length===0){ccErrorNo=1;return false}cardnumber=cardnumber.replace(/\s/g,"");var cardNo=cardnumber;var cardexp=/^[0-9]{13,19}$/;if(!cardexp.exec(cardNo)){ccErrorNo=2;return false}if(cards[cardType].checkdigit){var checksum=0;var j=1;var calc;for(i=cardNo.length-1;i>=0;i--){calc=Number(cardNo.charAt(i))*j;if(calc>9){checksum=checksum+1;calc=calc-10}checksum=checksum+calc;if(j===1)j=2;else j=1}if(checksum%10!==0){ccErrorNo=3;return false}}if(cardNo===
"5490997771092064"){ccErrorNo=5;return false}var LengthValid=false;var PrefixValid=false;var RangeValid=false;var prefix=[];var lengths=[];var ranges=[];prefix=cards[cardType].prefixes.split(",");for(i=0;i<prefix.length;i++){var exp=new RegExp("^"+prefix[i]);if(cardNo.indexOf(prefix[i])===0)PrefixValid=true;else continue;lengths=cards[cardType].length.split(",");for(var j=0;j<lengths.length;j++)if(cardNo.length===parseInt(lengths[j]))LengthValid=true;if(cards[cardType].range.length===0)RangeValid=
true;else{ranges=cards[cardType].range.split(",");if(ranges[0].indexOf(prefix[i])==0||ranges[1].indexOf(prefix[i])==0){var prefixLen=ranges[0].length;var rangeVal=cardNo.substring(0,prefixLen);if(ranges[0]<=rangeVal&&rangeVal<=ranges[1])RangeValid=true}else RangeValid=true}if(!LengthValid){ccErrorNo=4;return false}}if(!PrefixValid){ccErrorNo=3;return false}if(!RangeValid){ccErrorNo=6;return false}return true};if(checkCreditCard(numberLength,ccType))return true},I18n.get("invalid-cc-label"));$.validator.addMethod("ccNumberDiv",
function(value,element){var ccType=$("[name\x3dselected-card]:checked").parent().data("card")||$(".ccType").val();var numberLength=$("input#creditCardNumber").val();if(typeof ccType==="undefined"||ccType==="")return false;var checkCreditCard=function(cardnumber,cardname){var cards=[{name:"VI",length:"13,16",prefixes:"4",range:"",checkdigit:false},{name:"CA",length:"16",range:"",prefixes:"51,52,53,54,55,2221,2222,2223,2224,2225,2226,2227,2228,2229,223,224,225,226,227,228,229,23,24,25,26,270,271,2720",
checkdigit:false},{name:"DC",length:"14",prefixes:"30,36,38",range:"",checkdigit:false},{name:"CarteBlanche",length:"14",prefixes:"30,36,38",range:"",checkdigit:false},{name:"AX",length:"15",prefixes:"34,37",range:"",checkdigit:false},{name:"DS",length:"16",prefixes:"6011,65,622",range:"62212600,62292599",checkdigit:false},{name:"JC",length:"16",prefixes:"3088,3096,3112,3158,3337,35",range:"35280000,35899999",checkdigit:false},{name:"MS",length:"16",prefixes:"",range:"",checkdigit:false},{name:"TP",
length:"15",prefixes:"1",range:"",checkdigit:false},{name:"CB",length:"16",prefixes:"",range:"",checkdigit:false}];var cardType=-1;for(var i=0;i<cards.length;i++)if(cardname.toLowerCase()===cards[i].name.toLowerCase()){cardType=i;break}if(cardType===-1){ccErrorNo=0;return false}if(cardnumber.length===0){ccErrorNo=1;return false}cardnumber=cardnumber.replace(/\s/g,"");var cardNo=cardnumber;var cardexp=/^[0-9]{13,19}$/;if(!cardexp.exec(cardNo)){ccErrorNo=2;return false}if(cards[cardType].checkdigit){var checksum=
0;var j=1;var calc;for(i=cardNo.length-1;i>=0;i--){calc=Number(cardNo.charAt(i))*j;if(calc>9){checksum=checksum+1;calc=calc-10}checksum=checksum+calc;if(j===1)j=2;else j=1}if(checksum%10!==0){ccErrorNo=3;return false}}if(cardNo==="5490997771092064"){ccErrorNo=5;return false}var LengthValid=false;var PrefixValid=false;var RangeValid=false;var prefix=[];var lengths=[];var ranges=[];prefix=cards[cardType].prefixes.split(",");for(i=0;i<prefix.length;i++){var exp=new RegExp("^"+prefix[i]);if(cardNo.indexOf(prefix[i])===
0)PrefixValid=true;else continue;lengths=cards[cardType].length.split(",");for(var j=0;j<lengths.length;j++)if(cardNo.length===parseInt(lengths[j]))LengthValid=true;if(cards[cardType].range.length===0)RangeValid=true;else{ranges=cards[cardType].range.split(",");if(ranges[0].indexOf(prefix[i])==0||ranges[1].indexOf(prefix[i])==0){var prefixLen=ranges[0].length;var rangeVal=cardNo.substring(0,prefixLen);if(ranges[0]<=rangeVal&&rangeVal<=ranges[1])RangeValid=true}else RangeValid=true}if(!LengthValid){ccErrorNo=
4;return false}}if(!PrefixValid){ccErrorNo=3;return false}if(!RangeValid){ccErrorNo=6;return false}return true};return!!checkCreditCard(numberLength,ccType)},I18n.get("invalid-cc-label"));$.validator.addMethod("phoneNumberWithDash",function(value,element){return value.match(/^\d+(-\d+)*$/)},I18n.get("invalid-phone-number-label"));$.validator.addMethod("phoneNumberLength",function(value,element){return value.match(/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/)},"invalid-phone-number-length-label");
$.validator.addMethod("vPhoneNumberLength",$.validator.methods.minlength,I18n.get("8-20-digits"));$.validator.addMethod("unusableNumber",function(value){return value.replace(/-/gi,"")!="01020000000"},I18n.get("unusable-phone-number-label"));$.validator.addMethod("membershipNumberRequired",function(value){return value!==""},I18n.get("program-number-required-error-message"));$.validator.addMethod("passportRequired",function(value,element){return/^[a-zA-Z0-9\.\-\s]+$/.test(value)},I18n.get("invalid-special-letters-passport-label"));
$.validator.addMethod("addressRequired",function(value,element){return/^[a-zA-Z0-9\.\-\s]+$/.test(value)},I18n.get("invalid-special-letters-label"));$.validator.addMethod("apisAddressRequired",function(value,element){return/[a-zA-Z]/g.test(value)&&/^[a-zA-Z0-9\.\-\s]+$/.test(value)},I18n.get("invalid-special-letters-apis-address-label"));$.validator.addMethod("apisCityRequired",function(value,element){return/^[a-zA-Z\.\-\s]+$/.test(value)},I18n.get("invalid-special-letters-apis-city-label"));$.validator.addMethod("numberBlankRequired",
function(value,element){return/^[0-9\s]+$/.test(value)},I18n.get("invalid-zipcode-label"));$.validator.addMethod("regex",function(value,element,regexp){var re=new RegExp(regexp);return this.optional(element)||re.test(value)},I18n.get("error-CLT-9903"));$.extend(jQuery.validator.messages,{required:I18n.get("UWA-required-errortext"),email:I18n.get("email-required-error-message"),date:I18n.get("valid-date-error-message"),number:I18n.get("valid-number-error-message"),digits:"digits-only-error-message",
creditcard:"valid-cc-error-message",equalTo:"not-same-error-message",extension:I18n.get("file-extension-message"),maxlength:jQuery.validator.format(I18n.get("maxlength-error-message")),minlength:jQuery.validator.format(I18n.get("minlength-error-message")),rangelength:jQuery.validator.format(I18n.get("range-error-message")),range:jQuery.validator.format(I18n.get("range-error-message")),max:jQuery.validator.format("max-error-message"),min:jQuery.validator.format("min-error-message"),skypassValid:jQuery.validator.format(I18n.get("invalid-skypass-format-message"))});
$.validator.setDefaults({ignore:":not(.required-hidden:hidden,.s-hidden):hidden,.disabled",errorElement:"p",errorPlacement:function(error,element){var elementName=element.attr("name");if(elementName==="birthDay"||elementName==="birthMonth"||elementName==="birthYear"){var $DOBelement=element.next("div.chosen-container");error.insertAfter($DOBelement)}else if(elementName==="gender")error.insertAfter(element.parent("div").next("div"));else if(elementName==="sex")error.appendTo(element.closest("div"));
else if(elementName==="title")error.appendTo(element.parent("dl"));else if(elementName==="accompanyAdultNumber")error.insertAfter(element.parent("dd"));else if(elementName==="phoneType")element.parent().after(error);else if(elementName==="account1"||elementName==="account2"||elementName==="account3"||elementName==="account4"){var $ccNumber=element.parent("div");if($ccNumber.siblings("p.error:visible").length<1)error.appendTo($ccNumber)}else if($(element).is("select")&&$(element).parent().hasClass("styled-select"))error.insertAfter($(element).parent());
else if(elementName==="nationality")error.appendTo(element.parent("div"));else if(elementName==="issuingCountry")error.appendTo(element.parent("div"));else if(elementName==="residencyCountry")error.appendTo(element.parent("div"));else if(elementName==="state")error.appendTo(element.parent("div"));else if(elementName==="country")error.appendTo(element.parent("div"));else if(elementName==="paymentType")error.appendTo(element.parent("div"));else if(elementName==="selected-card")error.insertAfter($(element).closest(".horizontal"));
else if($(element).next().is(".combodate"))error.insertAfter($(element).next(".combodate")[0]);else error.insertAfter(element)},showErrors:function(map,list){var stripLabelTextFunction=function($label){return $label.clone().children().remove().end().text()};this.defaultShowErrors()},highlight:function(element,errorClass,validClass){var $errEl;if(element.type==="radio"){$errEl=this.findByName(element.name);$errEl.addClass(errorClass).removeClass(validClass)}else if($(element).is("input[type\x3dhidden]")){$errEl=
$(element).next("div.combodate").find('select.generated-by-combodate option[value\x3d""]:selected').parent();$errEl.addClass(errorClass).removeClass(validClass)}else{$errEl=$(element);$errEl.addClass(errorClass).removeClass(validClass)}$errEl.attr("aria-invalid",true)},unhighlight:function(element,errorClass,validClass){var $errEl;if(element.type==="radio"){$errEl=this.findByName(element.name);$errEl.removeClass(errorClass).addClass(validClass)}else if($(element).is("input[type\x3dhidden]")){$errEl=
$(element).next("div.combodate").find("select.generated-by-combodate");$errEl.removeClass(errorClass).addClass(validClass)}else{$errEl=$(element);$errEl.removeClass(errorClass).addClass(validClass)}$errEl.removeAttr("aria-invalid");koreanair.utils.removeValueFromAriaDescribedBy($errEl,"validate-label")}});$.validator.addMethod("checkInfantAgeMobile",function(value,element){var data=getFormInfoMobile(value,element),age=data.flightDate.diff(data.birthDate,"years"),minAge=data.flightDate.diff(data.birthDate,
"days");var infantLimit=moment(data.flightDate,data.dateFormat).subtract("y",2);return data.birthDate.isAfter(moment(infantLimit,data.dateFormat))&&minAge>6},I18n.get("invalid-birthday-to-old-error-message"));$.validator.addMethod("checkInfantAgeMobileReissue",function(value,element){var data=getFormInfoMobile(value,element),age=data.flightDate.diff(data.birthDate,"years"),minAge=data.flightDate.diff(data.birthDate,"days");var infantLimit=moment(data.flightDate,data.dateFormat).subtract("y",2);return data.birthDate.isAfter(moment(infantLimit,
data.dateFormat))&&minAge>6},I18n.get("invalid-birthday-to-old-error-message-infant"));$.validator.addMethod("checkOtherInfantAgeMobile",function(value,element){var DOB=$(element).val(),dateFormat=$(element).data("dateFormat")||"YYYYMD",itinerary=koreanair.passengerRouter.itinerary,birthDate=moment(DOB,dateFormat);var result=[];var today=new Date;var ticketingInfo=itinerary.get("ticketingInfo");var ticketingDate="";if(ticketingInfo)ticketingDate=ticketingInfo.date;var firstBound=itinerary.get("bounds").at(0).toJSON();
if(itinerary.get("isReissue")&&(itinerary.get("award")&&moment(moment(ticketingDate).format("YYYY-MM-DD")).isBefore(moment("2017-12-01","YYYY-MM-DD"))&&!firstBound.toBeChanged||!itinerary.get("award")&&moment(moment(ticketingDate).format("YYYY-MM-DD")).isBefore(moment("2017-09-01","YYYY-MM-DD"))&&!firstBound.toBeChanged))_.each(itinerary.get("bounds").toJSON(),function(bound){_.each(bound.flights,function(flight){if(flight.airlineCode!="KE"||flight.otherAirlineCode){var age=moment.withZone(flight.departure).diff(birthDate,
"years"),minAge=moment.withZone(flight.departure).diff(birthDate,"days");var infantLimit=moment(flight.departure,dateFormat).subtract("y",2);result.push(birthDate.isAfter(moment(infantLimit,dateFormat))&&minAge>6)}else result.push(true)})});else _.each(itinerary.get("bounds").toJSON(),function(bound){_.each(bound.flights,function(flight){var age=moment.withZone(flight.departure).diff(birthDate,"years"),minAge=moment.withZone(flight.departure).diff(birthDate,"days");var infantLimit=moment(flight.departure,
dateFormat).subtract("y",2);result.push(birthDate.isAfter(moment(infantLimit,dateFormat))&&minAge>6)})});result=_.uniq(result);return result.length==1&&result[0]},I18n.get("invalid-other-birthday-range-error-message-child"));$.validator.addMethod("checkOtherInfantAgeDomesticMobile",function(value,element){var DOB=$(element).val(),dateFormat=$(element).data("dateFormat")||"YYYYMD",itinerary=koreanair.passengerRouter.itinerary,birthDate=moment(DOB,dateFormat);var result=[];var today=new Date;_.each(itinerary.get("bounds").toJSON(),
function(bound){_.each(bound.flights,function(flight){if(flight.airlineCode!="KE"||flight.otherAirlineCode){var age=moment.withZone(flight.departure).diff(birthDate,"years"),minAge=moment.withZone(flight.departure).diff(birthDate,"days");var infantLimit=moment(flight.departure,dateFormat).subtract("y",2);result.push(birthDate.isAfter(moment(infantLimit,dateFormat))&&minAge>6)}else result.push(true)})});result=_.uniq(result);return result.length==1&&result[0]},I18n.get("invalid-other-birthday-range-error-message-child-domestic"));
$.validator.addMethod("checkChildAgeMobile",function(value,element){var data=getFormInfoMobile(value,element),maxAge=getMaxChildAge(data.isDomestic),age=data.flightDate.diff(data.birthDate,"years"),itinerary=koreanair.passengerRouter.itinerary;var infantLimit=moment(data.flightDate,data.dateFormat).subtract("y",2);var childLimit=data.isDomestic?moment(data.flightDate,data.dateFormat).subtract("y",13):moment(data.flightDate,data.dateFormat).subtract("y",12);if(itinerary&&itinerary.get("isPrime")&&
itinerary.get("award"))return!data.birthDate.isAfter(moment(infantLimit,"YYYYMMDD"))&&data.birthDate.isAfter(moment(childLimit,"YYYYMMDD"));else return data.birthDate.isAfter(moment(childLimit,"YYYYMMDD"))},I18n.get("invalid-birthday-range-error-message-child"));$.validator.addMethod("checkChildAgeMobileReissue",function(value,element){var data=getFormInfoMobile(value,element),maxAge=getMaxChildAge(data.isDomestic),age=data.flightDate.diff(data.birthDate,"years");var childLimit=data.isDomestic?moment(data.flightDate,
data.dateFormat).subtract("y",13):moment(data.flightDate,data.dateFormat).subtract("y",12);return data.birthDate.isAfter(moment(childLimit,"YYYYMMDD"))},I18n.get("invalid-birthday-range-error-message-child"));$.validator.addMethod("checkOtherChildAgeMobile",function(value,element){var DOB=$(element).val(),dateFormat=$(element).data("dateFormat")||"YYYYMD",itinerary=koreanair.passengerRouter.itinerary,birthDate=moment(DOB,dateFormat),isDomestic=Boolean($(element).data("domestic"))===true,maxAge=getMaxChildAge(isDomestic);
var result=[];_.each(itinerary.get("bounds").toJSON(),function(bound){_.each(bound.flights,function(flight){if(flight.airlineCode!="KE"||flight.otherAirlineCode){var infantLimit=moment(flight.departure,dateFormat).subtract("y",2);var childLimit=isDomestic?moment(flight.departure,dateFormat).subtract("y",13):moment(flight.departure,dateFormat).subtract("y",12);result.push(!birthDate.isAfter(moment(infantLimit,"YYYYMMDD")))&&birthDate.isAfter(moment(childLimit,"YYYYMMDD"))}else result.push(true)})});
result=_.uniq(result);return result.length==1&&result[0]},I18n.get("invalid-other-birthday-range-error-message"));$.validator.addMethod("checkNotAdultAgeMobile",function(value,element){var data=getFormInfoMobile(value,element),maxAge=getMaxChildAge(data.isDomestic),age=data.flightDate.diff(data.birthDate,"years");return age<maxAge},I18n.get("invalid-birthday-range-error-message"));$.validator.addMethod("checkAdultAgeMobile",function(value,element){var data=getFormInfoMobile(value,element),minAge=
getMaxChildAge(data.isDomestic),age=data.flightDate.diff(data.birthDate,"years",true);return age>=minAge},I18n.get("invalid-birthday-range-error-message"));$.validator.addMethod("discountMobile",function(value,element){var data=getFormInfoMobile(value,element);var youngestBirthDate=moment(data.flightDate,"YYYYMD").subtract("y",65).add("d",1);return moment(data.birthDate,"YYYYMD").isBefore(moment(youngestBirthDate,"YYYYMD"))&&moment(data.currentDate,"YYYYMD").isAfter(moment(data.birthDate,"YYYYMD"))},
I18n.get("discount-range-error-message"));$.validator.addMethod("ukDiscountMobile",function(value,element){var data=getFormInfoMobile(value,element);var flightDateUK=data.flightDateUK?data.flightDateUK:data.flightDate;var minBirthDate=moment(flightDateUK,"YYYYMD").subtract("y",12).add("d",1);var maxBirthDate=moment(flightDateUK,"YYYYMD").subtract("y",16);return moment(data.birthDate,"YYYYMD").isBefore(moment(minBirthDate,"YYYYMD"))&&moment(data.birthDate,"YYYYMD").isAfter(moment(maxBirthDate,"YYYYMD"))},
I18n.get("uk-discount-range-error-message"));$.validator.addMethod("checkDOBMobile",function(value,element){var data=getFormInfoMobile(value,element);return data.birthDate.isAfter(data.minBirthDate)&&data.birthDate.isBefore(data.currentDate)},I18n.get("valid-DOB-required-error-message"));$.validator.addMethod("accountHolder28",function(value){function lengthInBytes(strValue){var strLen=strValue.length;var totalByte=0;var oneChar="";for(var i=0;i<strLen;i++){oneChar=strValue.charAt(i);if(escape(oneChar).length>
4)totalByte+=2;else totalByte++}return totalByte}return lengthInBytes(value)<=28},I18n.get("account-name-alert-label"));$.validator.addMethod("couponCode18",function(value){var bRtn=false;var patternCoupon=/^[0-9][0-9a-zA-Z]{17}$/;bRtn=patternCoupon.test(value);return bRtn},I18n.get("np-promo-lp-coupon-input-digit-char-18"));$.validator.addMethod("couponAlias",function(value){var bRtn=false;var patternCoupon=/^[a-zA-Z][0-9a-zA-Z ]{2,17}$/;bRtn=patternCoupon.test(value);return bRtn},I18n.get("np-promo-lp-coupon-input-alias"));
$.validator.addMethod("couponECPN",function(value){return false},I18n.get("np-promo-lp-coupon-input-ecpn"));$.validator.addMethod("vUpgradePassengerType",function(value,element){var $cbx=$(element),name=$cbx.attr("name"),$cbxes=$cbx.parents("form").find('[name\x3d"'+name+'"]'),groupedCbxes=_.groupBy($cbxes,function(cbx){return $(cbx).is(":checked")});return _.every(groupedCbxes,function(cbxes){return _.any(cbxes,function(cbx){return $(cbx).data("type")=="ADT"})})},I18n.get("mileage-upgrade-child-split-error"));
var getFormInfoMobile=function(value,element){var DOB=$(element).val();var dateFormat=$(element).data("dateFormat")||"YYYYMD";var itinerary=null;if(koreanair.isMobile===true){if(koreanair.passengerRouter)itinerary=koreanair.passengerRouter.itinerary}else if(koreanair.BookingBar.controller)itinerary=koreanair.BookingBar.controller.bookingitinerary;var flightDateUK="";if(itinerary){var bounds=itinerary.get("bounds");koreanair.Airports.getRegionGroupAirportList("international","revenue").done(_.bind(function(airports){_.each(bounds.toJSON(),
function(bound){var departure=bound.departureAirport,cabinClass=bound.cabinClass.toLowerCase();if(koreanair.Airports.isGB(airports,departure)&&cabinClass=="economy"){var isUK=moment("2016-03-01").isBefore(moment(bound.departure),"day")||moment("2016-03-01").isSame(moment(bound.departure),"day");if(isUK&&!flightDateUK)flightDateUK=moment(bound.departure,dateFormat)}})},this))}return{dateFormat:dateFormat,minBirthDate:moment("1900-01-01","YYYY-MM-DD"),birthDate:moment(DOB,dateFormat),currentDate:moment(),
flightDate:$(element).data("flight-date")!==undefined?moment($(element).data("flight-date"),dateFormat):moment(itinerary.get("bounds").at(0).get("departure"),dateFormat),isDomestic:$(element).data("domestic")!==undefined?Boolean($(element).data("domestic"))===true:itinerary.get("isDomestic"),flightDateUK:flightDateUK}};$.validator.addMethod("rsvnNumber",function(value){return/(^[-0-9A-Za-z]{8,9}$)|(^[A-Za-z0-9]{6}$)/.test(value)},I18n.get("error-IBE-1000"));$.validator.addMethod("ticketNumber",function(value){return/^([-0-9A-Za-z]{13,14})$/.test(value)},
I18n.get("ticket-number-invalid-label"));$.validator.addMethod("userInputData",function(value){var movingSubgroups=function(array,groupSize){var subgroupList=[];for(var i=0;i<array.length-(groupSize-1);i++)subgroupList.push(array.slice(i,i+groupSize));return subgroupList};return/^[a-zA-Z0-9]{6,8}$/.test(value)&&!/(\w)\1\1\1/.test(value)&&!_(movingSubgroups(value.toLowerCase().split(""),4)).map(function(group){return _(movingSubgroups(group,2)).map(function(pair){return pair[1].charCodeAt(0)===pair[0].charCodeAt(0)+
1}).all()}).any()},I18n.get("userInputData-invalid-label"));$.validator.addMethod("userInputDataCheck",function(value,element){var $form=$(element).closest("form");var userInputData=$form.find("input[name\x3duser-input-data]").val();if(userInputData==value)return true;else return false},I18n.get("userInputData-check-invalid-label"));$.validator.addMethod("email",function(value){var tmpValue=gf_Convert2ByteChar2(value);return/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(tmpValue)});
$.validator.addClassRules("vCashReceiptCreditcard",{number:true,maxlength:16,cashReceiptCreditcard:true});$.validator.addMethod("cashReceiptCreditcard",function(value){var bRtn=false;var pattern=/^[0-9]{13,16}$/;bRtn=pattern.test(value);return bRtn},I18n.get("cashreceipt-creditcard-error-message"));$.validator.addClassRules("vCashReceiptReceiptcard",{number:true,maxlength:18,cashReceiptReceiptcard:true});$.validator.addMethod("cashReceiptReceiptcard",function(value){var bRtn=false;var pattern=/^[0-9]{18}$/;
bRtn=pattern.test(value);return bRtn},I18n.get("cashreceipt-receiptcard-error-message"));$.validator.addClassRules("vCashReceiptCellphone",{number:true,maxlength:11,cashReceiptCellphone:true});$.validator.addMethod("cashReceiptCellphone",function(value){var bRtn=false;var pattern=/^[0-9]{10,11}$/;bRtn=pattern.test(value);return bRtn},I18n.get("cashreceipt-cellphone-error-message"));$.validator.addClassRules("vCashReceiptBusinesslicense",{number:true,maxlength:10,cashReceiptBusinesslicense:true});
$.validator.addMethod("cashReceiptBusinesslicense",function(value){var bRtn=false;var pattern=/^[0-9]{10}$/;bRtn=pattern.test(value);return bRtn},I18n.get("cashreceipt-businesslicense-error-message"))})(jQuery,moment,Granite.I18n,koreanair);
(function(_,$,Backbone,koreanair){koreanair.ajaxContent=koreanair.ajaxContent||{};koreanair.ajaxContent=function(){};loadPage=function(requestUrl,type,ogURL){$.ajax({url:requestUrl,dataType:"html",success:function(data){buildOverlay(data,type,ogURL)},error:function(response,status,xhr){console.log(response,status,xhr)}})},buildOverlay=function(requestData,type,url){var content='\x3cdiv class\x3d"overlay-wrapper"\x3e';content+=$(requestData+"#content-area").children().html()||$(requestData).find("#content-area").children().html();
content+="\x3c/div\x3e";var $bgimg=$(".textbgimage .cq-dd-image"),topMargin=$("#siteHeader").height(),sideNav=$(".side-nav").width(),windowHeight=$(window).height(),windowWidth=$(window).width(),viewHeight=$(window).height()-topMargin,contentWidth=$(".content-wrapper").width(),contentHeight=$("#cboxContent").height();if(type=="fixed"){koreanair.Modal.fixedOverlay("#",{},$(content));if(viewHeight>windowWidth)$bgimg.css({"height":"100%","width":"auto"});else $bgimg.css({"width":"100%","height":"auto"})}else if(type==
"shaded")koreanair.Modal.shadedOverlay("#",{innerWidth:contentWidth,top:(windowWidth-sideNav-contentWidth)/2+sideNav,left:(windowWidth-sideNav-contentWidth)/2+sideNav},$(content));else{var margin=(windowWidth-sideNav-contentWidth)/2+sideNav;koreanair.Modal.pressReleaseOverlay("#",{innerWidth:contentWidth,innerHeight:viewHeight-40,top:topMargin},$(content),margin,url)}},init=function(){}})(_,jQuery,Backbone,koreanair);
(function(KE){var setBackgroundImage=function(itinerary,BookingFunnel,options){options=_.extend({imageSizeExtension:koreanair.bookingFunnelDefaultImageExtension||""},options);BookingFunnel=BookingFunnel||koreanair.BookingFunnel;var bgimg=BookingFunnel.BackgroundImages["default"].blurred;var destination;if(itinerary){destination=itinerary.get("bounds").at(0).get("arrivalAirport");if(BookingFunnel.BackgroundImages[destination]&&BookingFunnel.BackgroundImages[destination].blurred)bgimg=BookingFunnel.BackgroundImages[destination].blurred||
bgimg}var $blurred=$(".faux-body.blurred");var $contentBody=$(".colored-body");if(options.isSlotUI)$blurred.addClass("slot-ui-bg");else if(bgimg){if($(".check-in").length>0)$blurred.css({"background-image":'url("'+bgimg+options.imageSizeExtension+'")',"filter":'progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"'+bgimg+options.imageSizeExtension+'",sizingMethod\x3d"scale")'});else $blurred.css({"background-image":'url("'+bgimg+options.imageSizeExtension+'")'});$(".selection-bar .bg").css({"background-image":'url("'+
bgimg+options.imageSizeExtension+'")'});if($contentBody.length===0){$blurred.after('\x3cdiv class\x3d"faux-body colored-body"\x3e\x3c/div\x3e');$(".selection-bar .bg").after('\x3cdiv class\x3d"bg colored-body"\x3e\x3c/div\x3e')}}};var hasAlternateLabel=function(){var languageString=$("body").attr("lang");return languageString.indexOf("kr")>-1||languageString.indexOf("jp")>-1};var checkSkypassEnable=function(gotoMain,messageType){var msg="";switch(messageType){case 2:msg="skypass-invalid-label2";break;
case 3:msg="skypass-invalid-label3";break;default:msg="skypass-invalid-label";break}return checkSystemStatus("system-skypass-operation-flag",false,gotoMain,msg)};var checkSkypassEnableNoPopup=function(){return checkSystemStatus("system-skypass-operation-flag",true,false,"")};var checkSystemDown=function(noPopup,gotoMain){return checkSystemStatus("system-schedule-operation-flag",noPopup,gotoMain,"flight-status-system-down-message")};var check1ASystemDown=function(noPopup,gotoMain){return checkSystemStatus("system-1A-operation-flag",
noPopup,gotoMain,"1A-system-down-message")};var check1AASRSystemDown=function(noPopup,gotoMain){return checkSystemStatus("system-1A-operation-ASR-flag",noPopup,gotoMain,"error-IBE-4003")};var checkERPSystemDown=function(noPopup,gotoMain,customlabel){return checkSystemStatus("system-ERP-operation-SPML-flag",noPopup,gotoMain,customlabel||"error-IBE-4001")};var checkNAORASystemDown=function(noPopup,gotoMain){return checkSystemStatus("system-ERP-operation-RFND-flag",noPopup,gotoMain,"error-IBE-4000")};
var checkGPSSystemDown=function(noPopup,gotoMain){return checkSystemStatus("system-GPS-operation-RFND-flag",noPopup,gotoMain,"error-IBE-4003")};var checkSystemStatus=function(checkLabel,noPopup,gotoMain,customlabel){var deferred=$.Deferred();var checkMsg=Granite.I18n.get(checkLabel).split("^"),fromTimes=[],toTimes=[],isEnable=checkMsg[0]=="Y";_.each(checkMsg,function(msg,idx){if(idx!=0)if(idx%2==1)fromTimes.push(msg);else toTimes.push(msg)});var current=moment().zone("+09:00").format("YYYY-MM-DDTHH:mm"),
inTimes=false;if(fromTimes.length>0&&toTimes.length>0)inTimes=_.some(fromTimes,function(time,idx){return moment(current).isAfter(time)&&moment(current).isBefore(toTimes[idx])||moment(current).isSame(time)||moment(current).isSame(toTimes[idx])});else inTimes=true;if(inTimes&&isEnable)if(!noPopup){var msg=Granite.I18n.get(customlabel);if(koreanair.isMobile)setTimeout(function(){koreanair.Modal.standardExt({templateData:msg,buttonStyle:2,onComplete:function(){$("#closeBtnType3, #confirmBtnType1").on("click",
function(e){if(gotoMain){deferred.resolve(!isEnable);koreanair.goto("/")}else{e.preventDefault();$(this).colorbox.close();deferred.resolve(!isEnable)}})}})},300);else $.modal.confirm(msg,{onClosed:function(){if(gotoMain){deferred.resolve(!isEnable);koreanair.utils.goTo(".html")}else{$.colorbox.close();deferred.resolve(!isEnable)}}})}else deferred.resolve(!isEnable);else deferred.resolve(true);return deferred.promise()};koreanair.viewHelpers={setBackgroundImage:setBackgroundImage,hasAlternateLabel:hasAlternateLabel,
checkSkypassEnable:checkSkypassEnable,checkSkypassEnableNoPopup:checkSkypassEnableNoPopup,checkSystemDown:checkSystemDown,check1ASystemDown:check1ASystemDown,check1AASRSystemDown:check1AASRSystemDown,checkERPSystemDown:checkERPSystemDown,checkNAORASystemDown:checkNAORASystemDown,checkSystemStatus:checkSystemStatus,checkGPSSystemDown:checkGPSSystemDown}})(koreanair);
var socialMedia=function(){window.twttr=function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}})}(document,"script","twitter-wjs")};koreanair.SocialMedia=socialMedia;
(function(_,$,koreanair){koreanair.registration=koreanair.registration||{};var memberId="",serviceNo="",reqInfoPin="",reqNum="",returnURI="";var getAuthValues=function(validation,purpose,callback){var pathname=window.location.pathname;var paths={registration:"/korea/ko/profile/registration.html",registrationDev:"/content/koreanair/korea/ko/profile/registration.html",registrationDevMobile:"/mobile/korea/ko/profile/registration-page.html",localRegistration:"/content/koreanair/korea/ko/profile/registration.html",
accountRecovery:"/korea/ko/profile/account-recovery.html",localAccountRecovery:"/content/koreanair/korea/ko/profile/account-recovery.html",mobileRegistration:"/mobile/korea/ko/profile/registration-page.html",localMobileRegistration:"/content/koreanair-mobile/korea/ko/profile/registration-page.html",mobileAccountRecovery:"/mobile/korea/ko/profile/account-recovery.html",pcPhoneDormancyRelease:"/content/koreanair/korea/ko/profile/dormancy-release.html",pcIpinDormancyRelease:"/content/koreanair/korea/ko/profile/dormancy-release.html",
mobilePhoneDormancyRelease:"/content/koreanair-mobile/korea/ko/profile/dormancy-release.html",pcPhoneDormancyReleaseShort:"/korea/ko/profile/dormancy-release.html",pcIpinDormancyReleaseShort:"/korea/ko/profile/dormancy-release.html",mobilePhoneDormancyReleaseShort:"/mobile/korea/ko/profile/dormancy-release.html"};var ipinOverride={"kr.koreanair.com":[{path:paths.registration,serviceCode:"037003"},{path:paths.accountRecovery,serviceCode:"037001"},{path:paths.mobileRegistration,serviceCode:"037004"},
{path:paths.mobileAccountRecovery,serviceCode:"037005"},{path:paths.pcIpinDormancyRelease,serviceCode:"030008"},{path:paths.pcIpinDormancyReleaseShort,serviceCode:"030007"}],"www.koreanair.com":[{path:paths.mobileRegistration,serviceCode:"029008"},{path:paths.mobileAccountRecovery,serviceCode:"029009"},{path:paths.pcIpinDormancyRelease,serviceCode:"029011"},{path:paths.pcIpinDormancyReleaseShort,serviceCode:"029010"}],"krstg.koreanair.com":[{path:paths.mobileRegistration,serviceCode:"040008"},{path:paths.mobileAccountRecovery,
serviceCode:"040009"},{path:paths.pcIpinDormancyRelease,serviceCode:"042004"},{path:paths.pcIpinDormancyReleaseShort,serviceCode:"042006"}],"wwwdevap.koreanair.com":[{path:paths.registrationDev,serviceCode:"044001"},{path:paths.accountRecovery,serviceCode:"044002"},{path:paths.registrationDevMobile,serviceCode:"044004"},{path:paths.pcIpinDormancyRelease,serviceCode:"044003"},{path:paths.pcIpinDormancyReleaseShort,serviceCode:"044007"}],"localhost":[{path:paths.localRegistration,serviceCode:"041003"},
{path:paths.mobileRegistration,serviceCode:"041006"},{path:paths.mobileAccountRecovery,serviceCode:"041007"},{path:paths.pcIpinDormancyRelease,serviceCode:"041010"},{path:paths.pcIpinDormancyReleaseShort,serviceCode:"041012"}]};var ipinMobileOverride={"kr.koreanair.com":[{path:paths.registration,serviceCode:"018003"},{path:paths.accountRecovery,serviceCode:"018001"},{path:paths.mobileRegistration,serviceCode:"018004"},{path:paths.mobileAccountRecovery,serviceCode:"018005"},{path:paths.pcPhoneDormancyRelease,
serviceCode:"017003"},{path:paths.pcPhoneDormancyReleaseShort,serviceCode:"017005"},{path:paths.mobilePhoneDormancyRelease,serviceCode:"017004"},{path:paths.mobilePhoneDormancyReleaseShort,serviceCode:"017006"}],"www.koreanair.com":[{path:paths.mobileRegistration,serviceCode:"011010"},{path:paths.mobileAccountRecovery,serviceCode:"011011"},{path:paths.pcPhoneDormancyRelease,serviceCode:"011012"},{path:paths.pcPhoneDormancyReleaseShort,serviceCode:"011015"},{path:paths.mobilePhoneDormancyRelease,serviceCode:"011013"},
{path:paths.mobilePhoneDormancyReleaseShort,serviceCode:"011014"}],"mobile.koreanair.com":[{path:paths.mobileRegistration,serviceCode:"015003"},{path:paths.mobileAccountRecovery,serviceCode:"015004"}],"m.koreanair.com":[{path:paths.mobileRegistration,serviceCode:"013003"},{path:paths.mobileAccountRecovery,serviceCode:"013004"}],"krstg.koreanair.com":[{path:paths.mobileRegistration,serviceCode:"023003"},{path:paths.pcPhoneDormancyRelease,serviceCode:"023005"},{path:paths.pcPhoneDormancyReleaseShort,
serviceCode:"023007"},{path:paths.mobilePhoneDormancyRelease,serviceCode:"023006"},{path:paths.mobilePhoneDormancyReleaseShort,serviceCode:"023008"}],"wwwdevap.koreanair.com":[{path:paths.registrationDev,serviceCode:"025001"},{path:paths.accountRecovery,serviceCode:"025002"},{path:paths.mobileRegistration,serviceCode:"025003"},{path:paths.mobileAccountRecovery,serviceCode:"025004"},{path:paths.pcPhoneDormancyRelease,serviceCode:"025005"},{path:paths.pcPhoneDormancyReleaseShort,serviceCode:"025007"},
{path:paths.mobilePhoneDormancyRelease,serviceCode:"025008"},{path:paths.mobilePhoneDormancyReleaseShort,serviceCode:"025009"}],"localhost":[{path:paths.localRegistration,serviceCode:"022002"},{path:paths.mobileRegistration,serviceCode:"022007"},{path:paths.mobileAccountRecovery,serviceCode:"022008"},{path:paths.localAccountRecovery,serviceCode:"022001"},{path:paths.localMobileRegistration,serviceCode:"022006"},{path:paths.pcPhoneDormancyRelease,serviceCode:"022009"},{path:paths.pcPhoneDormancyReleaseShort,
serviceCode:"022012"},{path:paths.mobilePhoneDormancyRelease,serviceCode:"022010"},{path:paths.mobilePhoneDormancyReleaseShort,serviceCode:"022011"}]};var domain=window.location.host,isMobile=validation==="mobile",serverSideServiceCode;var findOverride=function(possibleOverrides,options){return(_.find(possibleOverrides,options)||{}).serviceCode};var overrides;if(isMobile){overrides=ipinMobileOverride;serverSideServiceCode=JSON.parse(koreanair.iPinMobile).serviceCode;serviceNo=findOverride(overrides[domain]||
[],{path:pathname})||serverSideServiceCode;memberId="SKAL004";returnURI="32"+window.location.protocol+"//"+window.location.host+"/api/koauth/redirect/sec/"+validation+"/"+purpose+"/content/koreanair/callback.html"+(koreanair.registration.isGuardianAuth?"?immid\x3d"+koreanair.registration.minorAuthData.immIdentifyId:"")}else{overrides=ipinOverride;serverSideServiceCode=JSON.parse(koreanair.iPinDesktop).serviceCode;serviceNo=findOverride(overrides[domain]||[],{path:pathname})||serverSideServiceCode;
memberId="SKAL003";returnURI="23"+window.location.protocol+"//"+window.location.host+"/api/koauth/redirect/sec/"+validation+"/"+purpose+"/content/koreanair/callback.html"+(koreanair.registration.isGuardianAuth?"?immid\x3d"+koreanair.registration.minorAuthData.immIdentifyId:"")}koreanair.ServiceApi.get({url:"/api/koauth/{type}/{validation}/{memberId}/{serviceNo}",path:{memberId:memberId,serviceNo:serviceNo,type:purpose==="SU"?"register":"recover",validation:validation}}).done(function(data){reqInfoPin=
data.reqInfo;reqNum=data.reqNum;if(callback&&typeof callback==="function")callback()})},ipinFormValues=function(callback){if($("#iPinForm").length>0){var form=document.reqCBAForm;form.id.value=memberId;form.srvNo.value=serviceNo;form.reqNum.value=reqNum;form.reqInfo.value=reqInfoPin;form.retUrl.value=returnURI}else;if(callback&&typeof callback==="function")callback()},ipinAuthentication=function(purpose){getAuthValues("ipin",purpose,function(){ipinFormValues(function(){var form=document.reqCBAForm;
var CBAWindow=window.open("","IPINWindow","width\x3d450, height\x3d500, resizable\x3d0, scrollbars\x3dno, status\x3d0, titlebar\x3d0, toolbar\x3d0, left\x3d300, top\x3d200");if(!CBAWindow)if(koreanair.isMobile)alert("휴대폰 인증을 위해서는 팝업 차단을 해제하여 주시기 바랍니다.");else alert(" ※ 윈도우 XP SP2 또는 인터넷 익스플로러 7 사용자일 경우에는 화면 상단에 있는 팝업 차단 알림줄을 클릭하여 팝업을 허용해 주시기 바랍니다. \n\n※ MSN,야후,구글 팝업 차단 툴바가 설치된 경우 팝업허용을 해주시기 바랍니다.");var formStr='\x3cform id\x3d"iPinForm" name\x3d"reqCBAForm" method\x3d"post" action\x3d"https://ipin.siren24.com/i-PIN/jsp/ipin_j10.jsp" target\x3d"IPINWindow"\x3e  \x3cinput type\x3d"hidden" name\x3d"id" value\x3d"'+
memberId+'"\x3e\x3cinput type\x3d"hidden" name\x3d"reqNum" value\x3d"'+reqNum+'"\x3e\x3cinput type\x3d"hidden" name\x3d"retUrl" value\x3d"'+returnURI+'"\x3e \x3cinput type\x3d"hidden" name\x3d"srvNo" value\x3d"'+serviceNo+'"\x3e\x3cinput type\x3d"hidden" name\x3d"reqInfo" value\x3d"'+reqInfoPin+'"\x3e\x3c/form\x3e';var formStr2="\x3cscript language\x3d'javascript'\x3edocument.reqCBAForm.submit();\x3c/script\x3e";CBAWindow.document.open();CBAWindow.document.write(formStr+formStr2);CBAWindow.document.close()})})},
mobileFormValues=function(callback){if($("#mobileForm").length>0){var form=document.reqPCCForm;form.id.value=memberId;form.srvNo.value=serviceNo;form.reqNum.value=reqNum;form.reqInfo.value=reqInfoPin;form.retUrl.value=returnURI}else;if(callback&&typeof callback==="function")callback()},mobileAuthentication=function(pageType){getAuthValues("mobile",pageType,function(){mobileFormValues(function(){var form=document.reqPCCForm;var CBAWindow=window.open("","PCCV3Window","width\x3d430, height\x3d560, resizable\x3d1, scrollbars\x3dno, status\x3d0, titlebar\x3d0, toolbar\x3d0, left\x3d300, top\x3d200");
if(!CBAWindow)if(koreanair.isMobile)alert("휴대폰 인증을 위해서는 팝업 차단을 해제하여 주시기 바랍니다.");else alert(" ※ 윈도우 XP SP2 또는 인터넷 익스플로러 7 사용자일 경우에는 화면 상단에 있는 팝업 차단 알림줄을 클릭하여 팝업을 허용해 주시기 바랍니다. \n\n※ MSN,야후,구글 팝업 차단 툴바가 설치된 경우 팝업허용을 해주시기 바랍니다.");var formStr='\x3cform id\x3d"mobileForm" name\x3d"reqPCCForm" method\x3d"post" action\x3d"https://pcc.siren24.com/pcc_V3/jsp/pcc_V3_j10.jsp" target\x3d"PCCV3Window"\x3e  \x3cinput type\x3d"hidden" name\x3d"id" value\x3d"'+memberId+'"\x3e\x3cinput type\x3d"hidden" name\x3d"reqNum" value\x3d"'+
reqNum+'"\x3e\x3cinput type\x3d"hidden" name\x3d"retUrl" value\x3d"'+returnURI+'"\x3e \x3cinput type\x3d"hidden" name\x3d"srvNo" value\x3d"'+serviceNo+'"\x3e\x3cinput type\x3d"hidden" name\x3d"reqInfo" value\x3d"'+reqInfoPin+'"\x3e\x3c/form\x3e';var formStr2="\x3cscript language\x3d'javascript'\x3edocument.reqPCCForm.submit();\x3c/script\x3e";CBAWindow.document.open();CBAWindow.document.write(formStr+formStr2);CBAWindow.document.close()})})};koreanair.ipinAuthentication=ipinAuthentication;koreanair.mobileAuthentication=
mobileAuthentication})(_,jQuery,koreanair);
(function(_,Backbone,koreanair){var legalPopups={},cacheLegalContent,showLegalPopup;var determineRequestUrl=function(hashURL){var url=hashURL.split(".html")[0]+".content.html";if(typeof CQ!="undefined"&&typeof CQ.shared!="undefined")url=CQ.shared.HTTP.setParameter(url,"wcmmode",koreanair.WCM_MODES.DISABLED);return url};var makeRequest=function(url){return $.ajax({url:url,dataType:"html",error:function(){console.log(arguments)}})};cacheLegalContent=function($el){$el.find("a.legal-content").each(function(index,
element){$(element).data("legal-content",makeRequest(determineRequestUrl(element.href)))})};showLegalPopup=function(e){e.preventDefault();e.stopPropagation();var url=determineRequestUrl(e.target.href);var req=$(e.target).data("legal-content")||makeRequest(url);req.done(function(data){var content='\x3cdiv class\x3d"overlay-wrapper"\x3e';content+=$(data+"#content-area").children().html()||$(data).find("#content-area").children().html();content+="\x3c/div\x3e";koreanair.Modal.legalOverlay(content,{inline:false,
height:468,width:585,shouldReadAll:true})})};var skypassDormancyPopup=function(e){if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:Granite.I18n.get("dormancy-title-bonus-p"),buttonStyle:3,confirmButtonLable:Granite.I18n.get("dormancy-now-release-btn"),closeButtonLable:Granite.I18n.get("dormancy-after-release-btn"),onComplete:_.bind(function(){$("#confirmBtnType2 a").on("click",_.bind(function(e){e.preventDefault();$.colorbox.close();koreanair.goto(koreanair.utils.dormancyReleaseUrl)},
this))},this)});else $.modal.warning(Granite.I18n.get("dormancy-title-bonus-p"),{confirmButtonLabel:Granite.I18n.get("dormancy-now-release-btn"),cancelButtonLabel:Granite.I18n.get("dormancy-after-release-btn")}).done(_.bind(function(){if(koreanair.Country==="kr"&&koreanair.Lang==="ko")document.location.href="/korea/ko/profile/dormancy-release.html";else koreanair.utils.goTo(koreanair.utils.dormancyReleaseUrl)},this)).fail(_.bind(function(){},this))};var skypassDormancyDetailPopup=function(e){var html=
"\x3cdiv class\x3d'dormancy-main nopadding'\x3e\x3ch2 class\x3d'modal-title'\x3e"+Granite.I18n.get("dormancy-title")+"\x3c/h2\x3e"+"\x3cp\x3e"+Granite.I18n.get("dormancy-login-infotext-p-1")+"\x3c/p\x3e"+"\x3cp\x3e"+Granite.I18n.get("dormancy-login-infotext-p-2")+"\x3c/p\x3e"+"\x3cp\x3e"+Granite.I18n.get("dormancy-login-infotext-p-3")+"\x3c/p\x3e\x3c/div\x3e";if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:html,buttonStyle:3,confirmButtonLable:Granite.I18n.get("dormancy-now-release-btn"),
closeButtonLable:Granite.I18n.get("dormancy-after-release-btn"),onComplete:_.bind(function(){$("#confirmBtnType2 a").on("click",_.bind(function(e){e.preventDefault();$.colorbox.close();koreanair.goto(koreanair.utils.dormancyReleaseUrl)},this))},this)});else $.modal.warning(html,{confirmButtonLabel:Granite.I18n.get("dormancy-now-release-btn"),cancelButtonLabel:Granite.I18n.get("dormancy-after-release-btn")}).done(_.bind(function(){if(koreanair.Country==="kr"&&koreanair.Lang==="ko")document.location.href=
"/korea/ko/profile/dormancy-release.html";else koreanair.utils.goTo(koreanair.utils.dormancyReleaseUrl)},this)).fail(_.bind(function(){},this))};var skypassFamilyDormancyPopup=function(e){if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:Granite.I18n.get("dormancy-family-info-p"),buttonStyle:1,confirmButtonLable:Granite.I18n.get("confirm-label")});else $.modal.confirm(Granite.I18n.get("dormancy-family-info-p"))};var hmpSystemOpPopup=function(e){var hmpPopupFlag=Granite.I18n.get("hmp-system-operation-flag");
if(hmpPopupFlag=="Y")if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:Granite.I18n.get("hmp-system-operation-info"),buttonStyle:1,confirmButtonLable:Granite.I18n.get("confirm-label")});else $.modal.confirm(Granite.I18n.get("hmp-system-operation-info"))};var hmpPartialSystemOpPopup=function(flag,msg){var hmpPopupFlag=Granite.I18n.get(flag);if(hmpPopupFlag=="Y")if(koreanair.isMobile)koreanair.Modal.standardExt({templateData:Granite.I18n.get(msg),buttonStyle:1,confirmButtonLable:Granite.I18n.get("confirm-label")});
else $.modal.confirm(Granite.I18n.get(msg))};legalPopups.hmpSystemOpPopup=hmpSystemOpPopup;legalPopups.hmpPartialSystemOpPopup=hmpPartialSystemOpPopup;legalPopups.skypassDormancyPopup=skypassDormancyPopup;legalPopups.skypassFamilyDormancyPopup=skypassFamilyDormancyPopup;legalPopups.skypassDormancyDetailPopup=skypassDormancyDetailPopup;legalPopups.cacheLegalContent=cacheLegalContent;legalPopups.showLegalPopup=showLegalPopup;legalPopups.determineRequestUrl=determineRequestUrl;legalPopups.makeRequest=
makeRequest;koreanair.utils=koreanair.utils||{};koreanair.utils.dormancyReleaseUrl="/profile/dormancy-release.html";koreanair.utils.legalPopups=legalPopups})(_,Backbone,koreanair,koreanair.ServiceApi,koreanair.Booking,Handlebars.templates,Granite.I18n);
(function(_,Backbone,koreanair){var smallPopups={},cacheSmallContent,showSmallPopup;var determineRequestUrl=function(hashURL){var url=hashURL.split(".html")[0]+".content.html";if(typeof CQ!="undefined"&&typeof CQ.shared!="undefined")url=CQ.shared.HTTP.setParameter(url,"wcmmode",koreanair.WCM_MODES.DISABLED);return url};var makeRequest=function(url){return $.ajax({url:url,dataType:"html",error:function(){console.log(arguments)}})};cacheSmallContent=function($el){$el.find("a.small-overlay").each(function(index,
element){$(element).data("legal-content",makeRequest(determineRequestUrl(element.href)))})};showSmallPopup=function(e){e.preventDefault();e.stopPropagation();var url=determineRequestUrl(e.target.href);var req=$(e.target).data("legal-content")||makeRequest(url);req.done(function(data){var content='\x3cdiv class\x3d"overlay-wrapper"\x3e';content+=$(data+"#content-area").children().html()||$(data).find("#content-area").children().html();content+="\x3c/div\x3e";koreanair.Modal.legalOverlay(content,{inline:false,
height:300,width:500})})};smallPopups.cacheSmallContent=cacheSmallContent;smallPopups.showSmallPopup=showSmallPopup;koreanair.utils=koreanair.utils||{};koreanair.utils.smallPopups=smallPopups})(_,Backbone,koreanair,koreanair.ServiceApi,koreanair.Booking,Handlebars.templates,Granite.I18n);
(function($){$.datepicker._updateDatepicker_original=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(inst){$.datepicker._updateDatepicker_original(inst);var afterShow=this._get(inst,"afterShow");if(afterShow)afterShow.apply(inst.input?inst.input[0]:null)}})(jQuery);
(function(t){function e(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent?t.attachEvent("on"+e,r):void 0}function r(t,e){var r,n;for(r=0,n=t.length;n>r;r++)if(t[r]===e)return!0;return!1}function n(t,e){var r;t.createTextRange?(r=t.createTextRange(),r.move("character",e),r.select()):t.selectionStart&&(t.focus(),t.setSelectionRange(e,e))}function a(t,e){try{return t.type=e,!0}catch(r){return!1}}t.Placeholders={Utils:{addEventListener:e,inArray:r,moveCaret:n,changeType:a}}})(this),
function(t){function e(){}function r(){try{return document.activeElement}catch(t){}}function n(t,e){var r,n,a=!!e&&t.value!==e,u=t.value===t.getAttribute(V);return(a||u)&&"true"===t.getAttribute(D)?(t.removeAttribute(D),t.value=t.value.replace(t.getAttribute(V),""),t.className=t.className.replace(R,""),n=t.getAttribute(F),parseInt(n,10)>=0&&(t.setAttribute("maxLength",n),t.removeAttribute(F)),r=t.getAttribute(P),r&&(t.type=r),!0):!1}function a(t){var e,r,n=t.getAttribute(V);return""===t.value&&n?
(t.setAttribute(D,"true"),t.value=n,t.className+=" "+I,r=t.getAttribute(F),r||(t.setAttribute(F,t.maxLength),t.removeAttribute("maxLength")),e=t.getAttribute(P),e?t.type="text":"password"===t.type&&M.changeType(t,"text")&&t.setAttribute(P,"password"),!0):!1}function u(t,e){var r,n,a,u,i,l,o;if(t&&t.getAttribute(V))e(t);else for(a=t?t.getElementsByTagName("input"):b,u=t?t.getElementsByTagName("textarea"):f,r=a?a.length:0,n=u?u.length:0,o=0,l=r+n;l>o;o++)i=r>o?a[o]:u[o-r],e(i)}function i(t){u(t,n)}
function l(t){u(t,a)}function o(t){return function(){m&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(D)?M.moveCaret(t,0):n(t)}}function c(t){return function(){a(t)}}function s(t){return function(e){return A=t.value,"true"===t.getAttribute(D)&&A===t.getAttribute(V)&&M.inArray(C,e.keyCode)?(e.preventDefault&&e.preventDefault(),!1):void 0}}function d(t){return function(){n(t,A),""===t.value&&(t.blur(),M.moveCaret(t,0))}}function g(t){return function(){t===r()&&t.value===t.getAttribute(V)&&"true"===
t.getAttribute(D)&&M.moveCaret(t,0)}}function v(t){return function(){i(t)}}function p(t){t.form&&(T=t.form,"string"==typeof T&&(T=document.getElementById(T)),T.getAttribute(U)||(M.addEventListener(T,"submit",v(T)),T.setAttribute(U,"true"))),M.addEventListener(t,"focus",o(t)),M.addEventListener(t,"blur",c(t)),m&&(M.addEventListener(t,"keydown",s(t)),M.addEventListener(t,"keyup",d(t)),M.addEventListener(t,"click",g(t))),t.setAttribute(j,"true"),t.setAttribute(V,x),(m||t!==r())&&a(t)}var b,f,m,h,A,y,
E,x,L,T,N,S,w,B=["text","search","url","tel","email","password","number","textarea"],C=[27,33,34,35,36,37,38,39,40,8,46],k="#ccc",I="placeholdersjs",R=RegExp("(?:^|\\s)"+I+"(?!\\S)"),V="data-placeholder-value",D="data-placeholder-active",P="data-placeholder-type",U="data-placeholder-submit",j="data-placeholder-bound",q="data-placeholder-focus",z="data-placeholder-live",F="data-placeholder-maxlength",G=document.createElement("input"),H=document.getElementsByTagName("head")[0],J=document.documentElement,
K=t.Placeholders,M=K.Utils;if(K.nativeSupport=void 0!==G.placeholder,!K.nativeSupport){for(b=document.getElementsByTagName("input"),f=document.getElementsByTagName("textarea"),m="false"===J.getAttribute(q),h="false"!==J.getAttribute(z),y=document.createElement("style"),y.type="text/css",E=document.createTextNode("."+I+" { color:"+k+"; }"),y.styleSheet?y.styleSheet.cssText=E.nodeValue:y.appendChild(E),H.insertBefore(y,H.firstChild),w=0,S=b.length+f.length;S>w;w++)N=b.length>w?b[w]:f[w-b.length],x=
N.attributes.placeholder,x&&(x=x.nodeValue,x&&M.inArray(B,N.type)&&p(N));L=setInterval(function(){for(w=0,S=b.length+f.length;S>w;w++)N=b.length>w?b[w]:f[w-b.length],x=N.attributes.placeholder,x?(x=x.nodeValue,x&&M.inArray(B,N.type)&&(N.getAttribute(j)||p(N),(x!==N.getAttribute(V)||"password"===N.type&&!N.getAttribute(P))&&("password"===N.type&&!N.getAttribute(P)&&M.changeType(N,"text")&&N.setAttribute(P,"password"),N.value===N.getAttribute(V)&&(N.value=x),N.setAttribute(V,x)))):N.getAttribute(D)&&
(n(N),N.removeAttribute(V));h||clearInterval(L)},100)}M.addEventListener(t,"beforeunload",function(){K.disable()}),K.disable=K.nativeSupport?e:i,K.enable=K.nativeSupport?e:l}(this);

(function($,koreanair,$B){var STORAGE_KEY="KE_STRG",_randomCount=0,_pathname=location.pathname;var htmlCharacters={"\x26amp;":"\x26","\x26gt;":"\x3e","\x26lt;":"\x3c","\x26quot;":'"',"\x26#39;":"'"};var Utils={removeNavigation:function(){$("section#alert-marquee").empty();$("div#siteUtilities div.utilwrap").empty();$("div#topNav nav.menuSec").empty();$("div.footer footer#footer").remove()},makeCityName:function(AirportCode){var extract3LTCode=RegExp("[ (]+[A-Z]{3}[)]");var cityNameCode=Granite.I18n.get(AirportCode+
"-city-label {0}");if(extract3LTCode.test(cityNameCode))cityNameCode=cityNameCode.split(extract3LTCode).join("");return cityNameCode},getRegionCode:function(airportCode,tripType,paymentType){var result="Korea";koreanair.Airports.getRegionGroupAirportList(tripType,paymentType).done(_.bind(function(airportsByRegion){if(airportCode)_.some(airportsByRegion,function(region){var isSame=_.some(region.airports,function(airport){return airport.code===airportCode});if(isSame)result=region.code;return isSame})},
this));return result},setCurrency:function(paymentType,airportCode){var deferred=$.Deferred();koreanair.Airports.getOrigins(paymentType).done(function(airports){airportCode=airportCode.toUpperCase();var airport=_.find(airports,function(airport){return airport.code===airportCode});if(airport){numeral.currency(airport.currency);deferred.resolve(airport.currency)}else deferred.reject()}).fail(function(){deferred.reject()});return deferred.promise()},getSessionStorage:function(paramStrgKey){return koreanair.clientStorageManager?
koreanair.clientStorageManager.session.getItem(STORAGE_KEY+paramStrgKey):sessionStorage.getItem(STORAGE_KEY+paramStrgKey)},setSessionStorage:function(value,userKey){var strgTempKey=userKey||(new Date).getTime()+"-"+_randomCount++;if(koreanair.clientStorageManager)koreanair.clientStorageManager.session.setItem(STORAGE_KEY+strgTempKey,value);else sessionStorage.setItem(STORAGE_KEY+strgTempKey,value);return strgTempKey},clearSessionStorage:function(paramStrgKey){if(paramStrgKey)if(koreanair.clientStorageManager)koreanair.clientStorageManager.session.removeItem(STORAGE_KEY+
paramStrgKey);else sessionStorage.removeItem(STORAGE_KEY+paramStrgKey);else{var reg=new RegExp("^"+STORAGE_KEY+"\\d{13}-\\d","i");for(var key in sessionStorage)if(reg.test(key))if(koreanair.clientStorageManager)koreanair.clientStorageManager.session.removeItem(key);else sessionStorage.removeItem(key)}},goTo:function(path,urlTarget){var baseUrl="";if(_pathname.indexOf("/content/koreanair/")>-1)baseUrl="/content/koreanair";baseUrl+="/"+koreanair.UrlRegion+"/"+(koreanair.Lang||"").replace("-","_");if(!urlTarget)document.location.href=
baseUrl+path;else switch(urlTarget){case "_blank":window.open(baseUrl+path,urlTarget);break;case "_self":self.location.href=baseUrl+path;break;case "_parent":parent.location.href=baseUrl+path;break;case "_top":top.location.href=baseUrl+path;break}},cloneObject:function(value){return JSON.parse(JSON.stringify(value))},objectToArray:function(obj,target){var result=[];for(var n in obj)result.push(target==="key"?n:obj[n]);return result},htmlDecode:function(value){if(!value)return"";var regAry=this.objectToArray(htmlCharacters,
"key"),reg=new RegExp("("+regAry.join("|")+"|\x26#[0-9]{1,5};"+")","g");return value.replace(reg,function(match,capture){return capture in htmlCharacters?htmlCharacters[capture]:String.fromCharCode(parseInt(capture.substr(2),10))})},htmlEncode:function(value){if(!value)return"";var regAry=this.objectToArray(htmlCharacters),reg=new RegExp("("+regAry.join("|")+")","g"),characters=this.objectToArray(htmlCharacters,"key");return value.replace(reg,function(match,capture){return characters[capture]})},
moveToFocus:function(){var headerH=$B("#top-sec").height()+10,posY=$B(":focus").rect(true).top;if(posY<headerH){var scrollY=$B(window).scrollTop();$B(window).scrollTop(scrollY-(headerH-posY))}},getBrowserVersion:function(){var ua=navigator.userAgent.toLowerCase(),browser;if($B.ua.MSIE){browser="IE";return $B.ua.DOC_MODE}else if($B.ua.CHROME)browser="CHROME";else if($B.ua.FIREFOX)browser="FIREFOX";else if($B.ua.SAFARI)browser="SAFARI";var matchs=ua.match(/version\/([\d.]*)/);if(matchs&&matchs.length>
1)return matchs[1];else{var reg=new RegExp(browser+"/([\\d.]*)","i");matchs=ua.match(reg);if(matchs&&matchs.length>1)return matchs[1];else return"0"}},isPopupBlocker:function(newTab){var popup;if(newTab&&!$B.ua.DOC_MODE_IE9_LT)popup=window.open("",false);else popup=window.open("","_blank","scrollbars\x3d0,width\x3d1,height\x3d1,menubar\x3d0,resizable\x3d0");if(!popup||popup&&typeof popup.name==="undefined")return true;else{var popDoc=popup.document;if(popDoc){popDoc.open();popDoc.write("Popup Blocker Check!");
popDoc.close()}popup.close();return false}},getPopupSizeByScreen:function(width,height){return{width:Math.min(screen.availWidth,Number(width||0)),height:Math.min(screen.availHeight,Number(height||0))}},windowOpen:function(url,windowName,width,height,strScroll,strResize,windowX,windowY){var popupWindow="";if(windowX==undefined||windowX=="")if(!(width==""&&height==""))windowX=Math.ceil((window.screen.width-width)/2);if(windowY==undefined||windowY=="")if(!(width==""&&height==""))windowY=Math.ceil((window.screen.height-
height)/2);if(strScroll==undefined||strScroll=="")strScroll=0;if(strResize==undefined||strResize=="")strResize=0;if(!(width==""&&height=="")){if($B.ua.MSIE){width-=4;height-=4}popupWindow=window.open(url,windowName,"width\x3d"+width+", height\x3d"+height+", top\x3d"+windowY+", left\x3d"+windowX+", scrollbars\x3d"+strScroll+", resizable\x3d"+strResize)}else popupWindow=window.open(url,windowName,"","");if(!popupWindow||popupWindow&&typeof popupWindow.name==="undefined");else try{popupWindow.focus()}catch(e){}return popupWindow},
windowClose:function(){window.open("","_self","");window.close();return false},addValueToAriaDescribedBy:function(element,attrValue){var el=element;if(el){var attr=el.attr("aria-describedby");if(attr&&attr.length>0){var attrs=attr.split(" ");var newAttrs=[];var duplicated=false;$(attrs).each(function(index,value){newAttrs.push(value);if(value==attrValue)duplicated=true});if(!duplicated)newAttrs.push(attrValue);el.attr("aria-describedby",newAttrs.join(" "))}else el.attr("aria-describedby",attrValue)}},
removeValueFromAriaDescribedBy:function(element,attrValue){var el=element;if(el){var attr=el.attr("aria-describedby");if(attr&&attr.length>0)if(attr.indexOf(" ")>=0){var attrs=attr.split(" ");var newAttrs=[];$(attrs).each(function(index,value){if(value.indexOf(attrValue)<0)newAttrs.push(value)});el.attr("aria-describedby",newAttrs.join(" "))}else if(attr.indexOf(attrValue)>=0)el.removeAttr("aria-describedby")}},buildErrorElement:function(message,$element,isolated){var $err=$("\x3cp\x3e\x3c/p\x3e");
if($element){var elementId=$element.attr("id"),errorId=koreanair.common.utils.generateUniqueViewID("form","error");if(!elementId){elementId=koreanair.common.utils.generateUniqueViewID("form","element");$element.attr("id",elementId)}$err.attr("id",errorId);$err.attr("data-errored-element",elementId);$err.addClass("error");if(koreanair.isMobile)$err.addClass("validation");var $erreredEl=$element;if($element.is("select")&&$element.next("div.chosen-container").length>0)$erreredEl=$element.next("div.chosen-container").find("input[type\x3dtext]");
else if($element.is('input[type\x3d"hidden"].DOB')){$erreredEl=$element.parent().find("select.DOB");$err.attr("data-errored-element",_.pluck($erreredEl,"id").join(" "))}if(isolated)$err.html("\x3cspan\x3e"+message+"\x3c/span\x3e");else{$err.html(message);koreanair.utils.addValueToAriaDescribedBy($erreredEl,$err.attr("id"));$erreredEl.attr("aria-invalid",true)}}else{$err.addClass("error");$err.html(message);$err.attr("role","alert");$err.attr("aria-live","assertive")}return $err},removeErrorElements:function($errors){$errors.each(function(idx){var $error=
$errors.eq(idx);if($error.attr("data-errored-element")&&$error.attr("data-errored-element").length>0){var errorId=$error.attr("id");var $element=$("#"+$error.attr("data-errored-element")+"[aria-describedby*\x3d"+errorId+"]");koreanair.utils.removeValueFromAriaDescribedBy($element,errorId);$element.removeAttr("aria-invalid")}});$errors.remove()},removeErrorElementsNonId:function($errors){$errors.each(function(idx){var $error=$errors.eq(idx);if($error.attr("data-errored-element")&&$error.attr("data-errored-element").length>
0){var errorId=$error.attr("id");var newElemnt=$("[aria-describedby*\x3d"+errorId+"]");for(var i=0;i<newElemnt.length;i++){var item=newElemnt.eq(i);koreanair.utils.removeValueFromAriaDescribedBy(item,errorId);item.removeAttr("aria-invalid")}}});$errors.remove()},scrollToFocusedElement:function($element,topOffset){var topOffset=topOffset||170;$elements=$element.find(":focusable").not("div[tabindex]");$elements.on("focus",function(e){var top=e.currentTarget.getBoundingClientRect().top;if(top<170){$("html, body").scrollTop($(e.currentTarget).offset().top-
topOffset);if($(e.currentTarget).attr("tabindex"))$(e.currentTarget).trigger("click")}})},checkUserIDSpecialCharacter:function(isDomestic){var bRtn=false;if(koreanair.skypass.get("passengers").user===null)bRtn=true;else bRtn=/^[0-9a-zA-Z]+$/.test(koreanair.skypass.get("passengers").user.userId);if(!bRtn)if(koreanair.isMobile){if(isDomestic===undefined)isDomestic=false;koreanair.Modal.standardExt({templateData:Granite.I18n.get("alter-userID-specialCharacter"),buttonStyle:1,confirmButtonLable:Granite.I18n.get("confirm-label"),
onClosed:_.bind(function(){koreanair.goto("/booking/reservation-search.html#reservation-list")},this)})}else koreanair.Modal.confirm('\x3cp class\x3d"modal-info"\x3e'+Granite.I18n.get("alter-userID-specialCharacter")+"\x3c/p\x3e",{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-alert")}).done(_.bind(function(){this.goTo("/profile/profile.html#withdrawal")},this)).fail(_.bind(function(){location.href="/"},this));return bRtn},setFocus:function($tag){$tag.attr("tabindex","-1").focus();$tag.off("blur");
$tag.on("blur",function(){$(this).removeAttr("tabindex")})}};Utils.TabUIManager=function(param){var options,isInitialized=false,isVertical,Defaults={wrapperSelector:"ul[role\x3d'tablist']",itemSelector:"\x3eli a[role\x3d'tab']",panelSelector:"div[role\x3d'tabpanel']",skipClass:"notSelectable",isHashMove:false,isVertical:false,isApplication:false,onChangeBefore:_onChangeBefore,onChange:_onChange,onChangeAfter:_onChangeAfter,selectedName:null},isAccordion=false,isPanelShared,isApplication,currentValue=
null,$wrapper,$selectedTab,$selectedTabPanel,$focusBackup,disabledIdx,$tabs,$panels;this.get=function(){return _get.apply(this,arguments)};this.set=function(type,option){return _set.apply(this,arguments)};this.setFocus=function(type){return _setFocus.apply(this,arguments)};this.goNext=function(){return _goNext.apply(this,arguments)};this.getCurrentPanel=function(){return _getCurrentPanel.apply(this,arguments)};this.getTabs=function(){return _getTabs.apply(this,arguments)};this.getPanels=function(){return _getPanels.apply(this,
arguments)};this.refresh=function(){return _refresh.apply(this,arguments)};this.callChange=function(){return _callChange.apply(this,arguments)};_init.apply(this,arguments);function _initialize(){$wrapper=!!options.$scope?options.$scope.find(options.wrapperSelector):$(options.wrapperSelector);if($wrapper&&$wrapper.length==1){$tabs=$wrapper.find(options.itemSelector);$panels=!!options.$scope?options.$scope.find(options.panelSelector):$(options.panelSelector);if($tabs.length>1){isPanelShared=$tabs.length!=
$panels.length;isApplication=options.isApplication;if(isPanelShared&&$panels.length!=1){console.warn("[TabUIManager/_initialize]:탭 패널 개수가 바르지 않음");console.warn(arguments)}else{isInitialized=true;isAccordion=options.isAccordion||false;disabledIdx=[];isVertical=options.isVertical;$wrapper.on("keydown",options.itemSelector,_.bind(_onKeyDown,this)).find(options.itemSelector).on("click",_.bind(_onClickEvent,this));_setSelection()}}else{console.warn("[TabUIManager/_initialize]:탭 버튼 개수가 바르지 않음");console.warn(arguments)}}else{console.warn("[TabUIManager/_initialize]:탭 래퍼가 존재하지 않음");
console.warn(arguments)}}function _init(param){options=$.extend({},Defaults,param);_initialize.call(this)}function _onKeyDown(e){var key=e.keyCode?e.keyCode:e.which;switch(key){case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:_select(e);break;case $.ui.keyCode.LEFT:if(!isVertical)if(isAccordion)_focusPrev(e);else _selectPrev(e);break;case $.ui.keyCode.UP:if(isVertical)if(isAccordion)_focusPrev(e);else _selectPrev(e);break;case $.ui.keyCode.RIGHT:if(!isVertical)if(isAccordion)_focusNext(e);else _selectNext(e);
break;case $.ui.keyCode.DOWN:if(isVertical)if(isAccordion)_focusNext(e);else _selectNext(e);break;default:break}}function _selectTarget(e,$tab){if(!$selectedTab||$selectedTab.data("name")!=$tab.data("name"))if(options.onChangeBefore(e,_.bind(onChangeExcute,this,e,$tab),this));else onChangeExcute.apply(this,arguments);else;function onChangeExcute(e,$tab){$focusBackup=$selectedTab=$tab.focus();var $tab,tabId=$selectedTab.attr("id"),controlId=$selectedTab.attr("aria-controls"),tabName=$selectedTab.data("name");
var index=-1;$tabs.each(function(idx,tab){$tab=$(tab);if($tab.data("name")==tabName){index=idx;$tab.attr({"aria-selected":true,"tabindex":"0"}).parents("li").addClass("on")}else $tab.attr({"aria-selected":false,"tabindex":"-1"}).parents("li").removeClass("on")});if(isPanelShared){$selectedTabPanel=$panels.eq(0).attr({"aria-labelledby":tabId,"id":controlId,"aria-expanded":"true"});if(!isApplication)$selectedTabPanel.attr({"tabindex":"0"})}else if(isApplication)$selectedTabPanel=$panels.addClass("dp-none").attr({"aria-expanded":"false",
"aria-hidden":"true"}).hide().filter("#"+controlId).removeClass("dp-none").attr({"aria-expanded":"true","aria-hidden":"false"}).show();else $selectedTabPanel=$panels.addClass("dp-none").attr({"tabindex":"-1","aria-expanded":"false","aria-hidden":"true"}).hide().filter("#"+controlId).removeClass("dp-none").attr({"tabindex":"0","aria-expanded":"true","aria-hidden":"false"}).show();currentValue=$selectedTab.data("name");options.onChange(e,currentValue,index);options.onChangeAfter(e,currentValue,index)}
}function _select(e){if(options.isHashMove)return;e.preventDefault();e.stopPropagation();_selectTarget(e,$(e.currentTarget))}function _focusPrev(e){e.preventDefault();e.stopPropagation();var $thisAnchor=$(e.currentTarget);var idx=$tabs.index($thisAnchor);if(idx>0)$tabs.eq(idx-1).focus();else;}function _focusNext(e){e.preventDefault();e.stopPropagation();var $thisAnchor=$(e.currentTarget);var idx=$tabs.index($thisAnchor);if(idx<$tabs.length-1)$tabs.eq(idx+1).focus();else;}function _getPrv(e){var $thisAnchor=
$(e.currentTarget),$target,len=$tabs.length,originIdx=idx=$tabs.index($thisAnchor);do{idx--;if(idx<0)idx+=len;$target=$tabs.eq(idx);if(idx==originIdx)return $target}while($target&&$target.hasClass(options.skipClass));return $target}function _getNext(e){var $thisAnchor=$(e.currentTarget),$target,len=$tabs.length,originIdx=idx=$tabs.index($thisAnchor);do{idx+=1;idx=idx%len;$target=$tabs.eq(idx);if(idx==originIdx)return $target}while($target&&$target.hasClass(options.skipClass));return $target}function _selectPrev(e){e.preventDefault();
e.stopPropagation();var $target=_getPrv.apply(this,arguments);_selectTarget(e,$target)}function _selectNext(e){e.preventDefault();e.stopPropagation();var $target=_getNext.apply(this,arguments);_selectTarget(e,$target)}function _onClickEvent(e){_select(e)}function _onChangeBefore(e){}function _onChange(e){}function _onChangeAfter(e){}function _setSelection(skipEvent){if(options.selectedName&&typeof options.selectedName=="string")_set(options.selectedName)}function _get(){return currentValue||""}function _set(type,
option){if(isInitialized&&!!type){var _$selectBtn=$tabs.filter('[data-name\x3d"'+type+'"]'),index=$tabs.index(_$selectBtn);if(_$selectBtn){currentValue=type;$tabs.attr({"aria-selected":false,"tabindex":"-1"}).parents("li").removeClass("on");_$selectBtn.attr({"aria-selected":true,"tabindex":"0"}).parents("li").addClass("on");if(option)if(option.disable){_$selectBtn.addClass("disabled");if(disabledIdx.indexOf(index)>-1);else disabledIdx.push(index)}else _$targetTab.removeClass("disabled");$selectedTab=
_$selectBtn;var tabId=$selectedTab.attr("id"),controlId=$selectedTab.attr("aria-controls");if(isPanelShared){$selectedTabPanel=$panels.eq(0).attr({"aria-labelledby":tabId,"id":controlId,"aria-expanded":"true"});if(!isApplication)$selectedTabPanel.attr({"tabindex":"0"})}else if(isApplication)$selectedTabPanel=$panels.addClass("dp-none").attr({"aria-expanded":"false","aria-hidden":"true"}).hide().filter("#"+controlId).removeClass("dp-none").attr({"aria-expanded":"true","aria-hidden":"false"}).show();
else $selectedTabPanel=$panels.addClass("dp-none").attr({"tabindex":"-1","aria-expanded":"false","aria-hidden":"true"}).hide().filter("#"+controlId).removeClass("dp-none").attr({"tabindex":"0","aria-expanded":"true","aria-hidden":"false"}).show();var evt=$.Event("set",{currentTarget:$selectedTab[0]});options.onChange(evt,currentValue,index)}else{console.warn("[TabUIManager/_set]:대상이 존재하지 않음");console.warn(arguments)}}else{console.warn("[TabUIManager/_set]:초기화가 이루어지지 않았거나, parameter가 바르지 않음");console.warn(arguments)}}
function _setFocus(type){return $tabs.filter('[data-name\x3d"'+(type?type:currentValue)+'"]').focus()}function _goNext(){if(isInitialized&&$selectedTab&&$selectedTab.length>0){var e=$.Event("click",{currentTarget:$selectedTab[0]});var $target=_getNext.call(this,e);_selectTarget(e,$target)}}function _getCurrentPanel(){return $selectedTabPanel||(isPanelShared?$panels.eq(0):$panels.filter("[aria-labelledby\x3d'"+$selectedTab.attr("id")+"']"))}function _getTabs(){return $tabs}function _getPanels(){return $panels}
function _clear(){isInitialized=false;isVertical=null;isPanelShared=null;currentValue=null;$wrapper=null;$selectedTab=null;$selectedTabPanel=null;$focusBackup=null;disabledIdx=null;$tabs=null;$panels=null}function _refresh(param){_clear();options=$.extend(options,param);_initialize.call(this)}function _callChange(){if(isInitialized){var index=$tabs.index($selectedTab);currentValue=$selectedTab.data("name");options.onChange(window.event,currentValue,index,true);options.onChangeAfter(window.event,currentValue,
index,true)}else if($tabs&&$tabs.length>0){options.onChange(window.event,$tabs.eq(0).data("name"),0,true);options.onChangeAfter(window.event,$tabs.eq(0).data("name"),0,true)}else{console.warn("[TabUIManager/_callChange]:탭 버튼이 존재하지 않음");console.warn(arguments)}}};Utils.SelectBtnManager=function(param){var options,isInitialized=false,Defaults={wrapperSelector:".tab-btn",itemSelector:"\x3e button",setAriaPressed:true,minBtnCount:2,currentItemClass:"on",onChangeBefore:_onChangeBefore,onChange:_onChange,
onChangeAfter:_onChangeAfter},currentValue=null,$wrapper,$focusedBtn,$selectedBtn,$focusBackup,disabledIdx,$btns;this.get=function(){return _get.apply(this,arguments)};this.set=function(type,option){return _set.apply(this,arguments)};this.setFocus=function(){return _setFocus.apply(this,arguments)};_init.apply(this,arguments);function _init(param){options=$.extend({},Defaults,param);$wrapper=!!options.$scope?options.$scope.find(options.wrapperSelector):$(options.wrapperSelector);if($wrapper&&$wrapper.length==
1){$btns=$wrapper.find(options.itemSelector);if($btns.length>=options.minBtnCount){isInitialized=true;$wrapper.on("keydown",options.itemSelector,_.bind(_onKeyDown,this)).find(options.itemSelector).on("click",_.bind(_select,this));_setSelection()}else{console.warn("[SelectBtnManager/_initialize]:탭 버튼 개수가 바르지 않음");console.warn(arguments)}}else{console.warn("[SelectBtnManager/_initialize]:탭 래퍼가 존재하지 않음");console.warn(arguments)}}function _onKeyDown(e){var key=e.keyCode?e.keyCode:e.which;switch(key){case $.ui.keyCode.TAB:_tab(e);
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:_select(e);break;default:break}}function _tab(e){$focusBackup=null}function _select(e){e.preventDefault();e.stopPropagation();if(options.onChangeBefore(e,onChangeExcute,this))return;onChangeExcute();function onChangeExcute(){var $btn=$(e.currentTarget);if(!$selectedBtn||$selectedBtn.data("name")!=$btn.data("name")){$focusBackup=$selectedBtn=$btn;if(options.setAriaPressed){$btns.attr({"aria-pressed":false});$selectedBtn.attr({"aria-pressed":true})}$btns.removeClass(options.currentItemClass);
currentValue=$selectedBtn.addClass(options.currentItemClass).focus().data("name");options.onChange(e,currentValue);options.onChangeAfter(e,currentValue,$btns.index($selectedBtn))}}}function _onChangeBefore(e){}function _onChange(e){}function _onChangeAfter(e){}function _setSelection(skipEvent){if(options.selectedName&&typeof options.selectedName=="string")_set(options.selectedName,true)}function _get(){return currentValue||""}function _set(type,option){if(isInitialized&&!!type){var _$selectBtn=$btns.filter("button[data-name\x3d"+
type+"]"),index=$btns.index(_$selectBtn);if(_$selectBtn){currentValue=type;if(options.setAriaPressed){$btns.attr("aria-pressed",false);_$selectBtn.attr({"aria-pressed":true})}$btns.removeClass(options.currentItemClass);_$selectBtn.addClass(options.currentItemClass);if(option)if(option.disable){_$selectBtn.addClass("disabled");if(disabledIdx.indexOf(index)>-1);else disabledIdx.push(index)}else _$selectBtn.removeClass("disabled");$selectedBtn=_$selectBtn;var evt=$.Event("set",{currentTarget:$selectedBtn[0]});
options.onChange(evt,currentValue,index)}else{console.warn("[SelectBtnManager/_set]:대상이 존재하지 않음");console.warn(arguments)}}else{console.warn("[SelectBtnManager/_set]:초기화가 이루어지지 않았거나, parameter가 바르지 않음");console.warn(arguments)}}function _setFocus(){$selectedBtn.focus()}};Utils.SeatMapNavigator=function(param){var options,isInitialized=false,isMultiDeck=false,$decks,decks,$wrapper,$prevTabbableItem,$nextTabbableItem,Defaults={wrapperSelector:".seats-wrap ",groupSelector:".flight-cabin-deck",itemSelector:"button.seat",
pairColumns:false,isVertical:false};this.refresh=function(index){_refresh.apply(this,arguments)};this.clear=function(){_clear.apply(this,arguments)};this.setPos=function(pos){_setPos.apply(this,arguments)};_init.apply(this,arguments);function _init(param){options=$.extend({},Defaults,param);$wrapper=!!options.$scope?options.$scope.find(options.wrapperSelector):$(options.wrapperSelector);if($wrapper&&$wrapper.length==1){$decks=$wrapper.find(options.groupSelector);decks=[];if($decks.length==1||$decks.length==
2){$decks.each(function(index,deck){var _param={deckWrapper:deck,focusBack:_.bind(_focusBack,this),flightNumber:options.flightNumber};if(options.aircraft=="789"&&options.cabinClass=="PRESTIGE")_param.pairColumns=[["A","C"],["D","E"],["F","G"],["H","K"]];decks[index]=new Deck(_param)});isInitialized=_findTabbableItems();if($decks.length==2)isMultiDeck=true}else{console.warn("[SeatMapNavigator/_init]:덱의 개수가 바르지 않음");console.warn(arguments)}}else{console.warn("[SeatMapNavigator/_init]:시트맵 래퍼가 존재하지 않음");
console.warn(arguments)}}function _refresh(index){if(isInitialized){if(!isNaN(index)){var deck=decks[index];if(deck)deck.refresh({withClear:true,isForce:true})}else _.each(decks,function(deck){deck.refresh({withClear:true,isForce:true})});if($prevTabbableItem.not(":visible")||$nextTabbableItem.not(":visible"))_findTabbableItems(true)}else console.warn("[SeatMapNavigator/refresh]:cannot refresh")}function _clear(){if(isInitialized)_.each(decks,function(deck,index){deck.clear()});else console.warn("[SeatMapNavigator/refresh]:cannot refresh")}
function _setPos(pos){if(isInitialized){var $deck,idx=-1;for(var i=0;i<$decks.length;i++){$deck=$decks.eq(i);if($deck.is(":visible")){idx=i;break}}if(idx>-1){var deck=decks[idx];if(deck)deck.setPos(pos);else console.warn("[SeatMapNavigator/_setPos]:대상 덱이 존재하지 않음")}else console.warn("[SeatMapNavigator/_setPos]:대상 덱의 인덱스값이 바르지 않음")}else console.warn("[SeatMapNavigator/_setPos]:초기화되지 않음")}function _prevTabbableKeydown(e){var kcode=e.keyCode?e.keyCode:e.which;switch(kcode){case $.ui.keyCode.TAB:if(!e.shiftKey){var _index=
$decks.index($decks.filter(":visible").first());var deck=decks[_index];if(deck){e.preventDefault();e.stopPropagation();deck.setPos()}}break}}function _nextTabbableKeydown(e){var kcode=e.keyCode?e.keyCode:e.which;switch(kcode){case $.ui.keyCode.TAB:if(e.shiftKey){var _index=$decks.index($decks.filter(":visible").first());var deck=decks[_index];if(deck){e.preventDefault();e.stopPropagation();deck.setPos()}}break}}function _findTabbableItems(needClear){var result=false;if(needClear){if($prevTabbableItem)$prevTabbableItem.off("keydown",
_.bind(_prevTabbableKeydown,this));if($nextTabbableItem)$nextTabbableItem.off("keydown",_.bind(_nextTabbableKeydown,this))}var $deck=$decks.filter(":visible").first();$deck.attr("tabindex","0");var $_wrapper=$wrapper.parents(options.isCheckin?".checkin-wrapper":".seats-wrap");var $tabbable=$_wrapper.find(':tabbable, a[role\x3d"button"], a.s_prev, a.s_next');var _idx=$tabbable.index($deck);if(_idx>-1&&_idx<$tabbable.length){$prevTabbableItem=$tabbable.eq(_idx-1);$nextTabbableItem=$tabbable.eq(_idx+
1);$prevTabbableItem.on("keydown",_.bind(_prevTabbableKeydown,this));$nextTabbableItem.on("keydown",_.bind(_nextTabbableKeydown,this));result=true}else console.warn("error:_findTabbableItems");$deck.attr("tabindex","-1").parents(".flight-cabin-deck").attr("tabindex","-1");return result}function _focusBack(e){$prevTabbableItem.focus()}};function Deck(param){var options,isInitialized=false,isPairColumn=false,$wrapper,$seats,seatInfo={},seakMap=[],cursorPos=null,posBackup=null,startPos,COL="ABCDEFGHJKLMN",
rowStartIdx=999,rowEndIdx=0,colStartIdx=99,colEndIdx=0,Defaults={pairColumns:false,itemSelector:"button.seat"};this.refresh=function(param){param=param||{};if(isInitialized){_clear();_refresh.apply(this,arguments)}else _initialize.call(this)};this.clear=function(){_clear.apply(this,arguments)};this.setPos=function(pos){_setPos.apply(this,arguments)};this.clearPos=function(){_clearPos.apply(this,arguments)};this.setFocus=function(pos){_setFocus.call(this,pos?pos:startPos)};_init.apply(this,arguments);
function _initialize(){$wrapper=$(options.deckWrapper);if($wrapper.length==1&&$wrapper.is(":visible")){$seats=$wrapper.find(options.itemSelector);if($seats.length>0){isInitialized=getNavDataFromDOM();if(isInitialized){$wrapper.on("keydown",options.itemSelector,_.bind(_onKeyDown,this)).find(options.itemSelector).click("click",_.bind(_onClick,this));isPairColumn=!!options.pairColumns;startPos=getStartPos()}}else console.warn("Deck/initialize invalid $sets",$seats)}else console.warn("Deck/initialize invalid $wrapper",
$wrapper)}function _init(param){options=$.extend({},Defaults,param);_initialize.call(this)}function _refresh(_param){var param=_param||{};if(!param.isForce&&isInitialized)return;if(param.withClear)_clear();$seats=$wrapper.find(options.itemSelector);if($seats.length>0){isInitialized=getNavDataFromDOM();if(isInitialized)startPos=getStartPos();else console.warn("Deck/initialize isInitialized",isInitialized)}else console.warn("Deck/initialize invalid $sets",$seats)}function _clear(){isInitialized=false;
cursorPos=null,posBackup=null,startPos=null,rowStartIdx=999,rowEndIdx=0,colStartIdx=99,colEndIdx=0;$seats=null}function _clearPos(){cursorPos=null}function _setPos(pos){if(pos)if(pos instanceof Array)cursorPos=pos;else if(typeof pos=="string")cursorPos=_cvtSeatNameToPos(pos);else{console.warn("invalid position data");console.warn(pos)}else{cursorPos=getStartPos();$seats.filter(_getSeatId(cursorPos)).focus()}}function _cvtSeatNameToPos(pos){var result=null,rst=/^([0-9]+)([A-Za-z]+)$/.exec(pos);if(rst!=
null&&rst.length==3){var row=parseInt(rst[1]),col=COL.indexOf(rst[2]);result=[row,col]}else;return result}function getStartPos(){var result=null;var $selectableSeats=$seats.filter(".selectable").not(".selected");var $firstSeat=$selectableSeats.first();if(isPairColumn&&options.pairColumns){var pos=$firstSeat.data("seat-name");var _row=/([0-9]+)/.exec(pos);var _col1=/[A-Z]/.exec(pos);if(_col1.length>0){var _tmp=_col1[0];var _col2=_.chain(options.pairColumns).map(function(arr){if(arr.length==2){var flg=
_.any(arr,function(str){return str==_tmp});if(flg)return _.without(arr,_tmp)[0]}else console.warn("invalid pair column data",options.pairColumns)}).compact().value()[0];var _name;var $tmpSeat=$selectableSeats.filter(function(i,s){_name=$(s).data("seat-name");var _r=/([0-9]+)/.exec(_name);var _c=/[A-Z]/.exec(_name);return _c.length>0&&_r.length>0&&_col2==_c[0]&&_r<_row[0]});if($tmpSeat.length>0)$firstSeat=$tmpSeat}}if($firstSeat.length==1){var pos=$firstSeat.data("seat-name");result=_cvtSeatNameToPos(pos)}else console.warn("getStartPos/failed");
return result}function _onFocus(e){if(cursorPos==null){var $tmp=$(e.currentTarget);var pos=$tmp.data("seat-name");var rst=/^([0-9]+)([A-Za-z]+)$/.exec(pos);if(rst!=null&&rst.length==3){var row=parseInt(rst[1]),col=COL.indexOf(rst[2]);_setCursor([row,col],true)}else;}else;}function _onClick(e){_clearPos();_onFocus.apply(this,arguments)}function _onKeyDown(e){var success=false;var kcode=e.keyCode?e.keyCode:e.which;switch(kcode){case $.ui.keyCode.ESCAPE:if(options.focusBack)options.focusBack();break;
case $.ui.keyCode.DOWN:success=moveCursor(e,true,false);break;case $.ui.keyCode.UP:success=moveCursor(e,true,true);break;case $.ui.keyCode.LEFT:success=moveCursor(e,false,false);break;case $.ui.keyCode.RIGHT:success=moveCursor(e,false,true);break;default:break}}function _setCursor(pos,isSilent){cursorPos=pos;if(!isSilent)_setFocus(pos)}function moveCursor(e,isUpDn,isIncrease){e.preventDefault();e.stopPropagation();if(!isInitialized||!cursorPos)return;posBackup=cursorPos.slice(0);try{_moveCursor.call(this,
isUpDn,isIncrease)}catch(ex){cursorPos=posBackup.slice(0);console.warn(ex)}_setFocus(cursorPos)}function _moveCursor(isUpDn,isIncrease){if(isUpDn)if(isIncrease){if(cursorPos[1]<colEndIdx)cursorPos[1]+=1;else cursorPos[1]=colStartIdx;if(cursorPos.join()==posBackup.join());else if(!isExist(cursorPos,isUpDn))_moveCursor.apply(this,arguments)}else{if(cursorPos[1]>colStartIdx)cursorPos[1]-=1;else cursorPos[1]=colEndIdx;if(cursorPos.join()==posBackup.join());else if(!isExist(cursorPos,isUpDn))_moveCursor.apply(this,
arguments)}else if(isIncrease){if(cursorPos[0]<rowEndIdx)cursorPos[0]+=1;else cursorPos[0]=rowStartIdx;if(cursorPos.join()==posBackup.join());else if(!isExist(cursorPos))_moveCursor.apply(this,arguments)}else{if(cursorPos[0]>rowStartIdx)cursorPos[0]-=1;else cursorPos[0]=rowEndIdx;if(cursorPos.join()==posBackup.join());else if(!isExist(cursorPos))_moveCursor.apply(this,arguments)}}function isExist(pos,isUpDn){var seatData=[];var $seat=$seats.filter(_getSeatId(pos));if($seat&&$seat.length==1)return true;
if(isPairColumn&&!isUpDn){var _pos1,_tmp=COL[pos[1]],_col=_.chain(options.pairColumns).map(function(arr){if(arr.length==2){var flg=_.any(arr,function(str){return str==_tmp});if(flg)return _.without(arr,_tmp)[0]}else console.warn("invalid pair column data",options.pairColumns)}).compact().value()[0];if(_col){_pos1=_.indexOf(COL,_col);var $seat=$seats.filter(_getSeatId(pos,_pos1));if($seat&&$seat.length==1){pos[1]=_pos1;return true}}}return false}function _getSeatId(pos,pos1){var result="";if(isNaN(pos1)){if(pos&&
pos instanceof Array&&pos.length==2&&!isNaN(pos[0])&&!isNaN(pos[1])&&pos[1]>=0&&pos[1]<=COL.length)result="#btnSeat_"+options.flightNumber+"_"+pos[0]+COL[pos[1]]}else if(pos&&pos instanceof Array&&pos.length==2&&!isNaN(pos[0])&&!isNaN(pos1)&&pos1>=0&&pos1<=COL.length)result="#btnSeat_"+options.flightNumber+"_"+pos[0]+COL[pos1];return result}function _setFocus(pos){if(!!pos){$seats.filter(_getSeatId(pos)).focus();cursorPos=pos}else cursorPos=null}function getNavDataFromDOM(){var isInitialized=false,
_name,_row,_col,_colIdx,$seat;_.each($seats,function(seat){$seat=$(seat);_name=$seat.data("seat-name");_row=parseInt(_name);_col=_name.replace(_row,"");_colIdx=COL.indexOf(_col);if(_row<rowStartIdx)rowStartIdx=_row;if(_row>rowEndIdx)rowEndIdx=_row;if(_colIdx<colStartIdx)colStartIdx=_colIdx;if(_colIdx>colEndIdx)colEndIdx=_colIdx;seatInfo[_name]={row:_row,col:_col,enable:$seat.hasClass("selectable"),selected:$seat.hasClass("selected")}});if(rowStartIdx<=rowEndIdx&&colStartIdx<=colEndIdx){var tmp,key,
keies;for(var i=rowStartIdx;i<=rowEndIdx;i++){keies=[];for(var j=colStartIdx;j<=colEndIdx;j++){key=i+COL[j];tmp=seatInfo[key];if(typeof tmp!="undefined")keies[j]=key}if(keies.length>0)seakMap.push(keies.reverse())}isInitialized=true}else;return isInitialized}}Utils.CloneUtil=function(){return{cloneIt:function(){return _cloneIt.apply(this,arguments)}};function _cloneIt(val){if(val==null)return null;else if(typeof val=="object")if(val instanceof Backbone.Collection)return _cloneObjectEx(val,_cloneCollection(val));
else if(val instanceof Backbone.Model)return _cloneObjectEx(val,_cloneModel(val));else if(val instanceof Array)return _cloneArray(val);else return _cloneObject(val);else return val}function _cloneCollection(origin){var tmp,item;var arr=new origin.constructor;while(!arr.isEmpty())arr.pop();for(var i=0,len=origin.length;i<len;i++){tmp=origin.at(i);item=_cloneIt(tmp);arr.add(item)}return arr}function _cloneModel(origin){var tmp,tmp2;var cloned=new origin.constructor;_.each(_.object(origin.keys(),origin.values()),
function(val,key){tmp=_cloneIt(val);cloned.set(key,tmp);tmp2=cloned.get(key);tmp2=tmp2&&tmp2.toJSON?cloned.get(key).toJSON():cloned.get(key);if(tmp&&tmp2)if(tmp.length!=tmp2.length){cloned.clear(key);cloned.set(key,tmp)}});return cloned}function _cloneObject(origin){var cloned={};if(origin&&origin.__proto__)cloned.__proto__=origin.__proto__;$.each(origin,function(key,val){if(origin.hasOwnProperty(key))cloned[key]=_cloneIt(val)});return cloned}function _cloneObjectEx(origin,cloned){var attrNames=[];
var keys0=Object.keys(origin);var keys1=Object.keys(cloned);var targetKeys=_.chain(keys0).map(function(key){return!_.contains(keys1,key)?key:null}).compact().value();_.each(targetKeys,function(key){if(!_.contains(attrNames,key))return;if(origin.hasOwnProperty(key))cloned[key]=_cloneIt(origin[key])});return cloned}function _cloneArray(origin){var arr=[];if(origin.length>0)_.each(origin,function(val,idx){arr[idx]=_cloneIt(val)});return arr}}();Utils.ListModel=function(param){var options,Defaults={sortInfo:{key:"ticketNumber",
order:"ASC",rule:function(info){return info.ticketNumber}}},currentSort,cache;this.get=function(){return _get.apply(this,arguments)};this.set=function(){return _set.apply(this,arguments)};this.setType=function(){return _setType.apply(this,arguments)};this.clear=function(){return _clear.apply(this,arguments)};function _get(){if(currentSort){var lst=cache[currentSort.key];if(!lst)lst=cache[currentSort.key]=_getSortedList(currentSort);return currentSort.doReverse?lst.reverse():lst}else return[]}function _getSortedList(sortInfo){if(list)return _.sortBy(list,
sortInfo.rule);else{console.warn("list is empty");return[]}}function _set(_list){list=_list;return true}function _setType(param){currentSort=_.extend(currentSort,param)}function _clear(){cache={};currentSort=_.extend({},options.sortInfo);return true}function _init(param){options=$.extend({},Defaults,param);_clear()}_init.apply(this,arguments)};Utils.SortManager=function(param){var options,isInitialized=false,Defaults={selector:"select",onChange:_.noop},$select;_init.apply(this,arguments);this.refresh=
function(){return _refresh.apply(this,arguments)};function _init(){options=$.extend({},Defaults,param);_initialize.call(this)}function _refresh(param){_clear();options=$.extend(options,param);_initialize.call(this)}function _clear(){isInitialized=false;$select=null}function _initialize(){$select=!!options.$scope?options.$scope.find(options.selector):$(options.selector);if($select&&$select.length==1)if(options.options.length>0){var optionsHTML=_.map(options.options,function(opt){return"\x3coption"+
(opt.key?' value\x3d"'+opt.key+'"':"")+(opt.selected?' selected\x3d"selected"':"")+"\x3e"+opt.label+"\x3c/option\x3e"});$select.off("change").empty().append(optionsHTML).on("change",_.bind(options.onChange,this));isInitialized=true}else console.warn("[SortManager/_initialize]:options가 존재하지 않음",arguments);else console.warn("[SortManager/_initialize]:Select가 존재하지 않음",arguments)}};Utils.RestFocus=function(){$(document.body.firstChild).attr("tabindex",-1).one("blur",function(e){$(e.currentTarget).removeAttr("tabindex")}).focus().blur()};
Utils.GallerySlider=function(param){var SCROLL_POSITION={TOP:"top",MID:"midddle",BOT:"bottom"};var options,isInitialized=false,Defaults={wrapperSelector:".g-wrap",itemSelector:"button.gallery-link",listSubSelector:"ul.gallery-link.vertical",listSelector:"div.gallery-vertical-list",scrollPrev:".slide-controls button.btn-prev",scrollNext:".slide-controls button.btn-next",isVertical:false,setAriaPressed:false,scrollTerm:30,minBtnCount:1,currentListItemClass:"on",currentItemClass:"current",onChangeBefore:_onChangeBefore,
onChange:_onChange,onChangeAfter:_onChangeAfter},oldValue=null,currentValue=null,$wrapper,$focusedBtn,$selectedBtn,$focusBackup,$oldSelectedBtn,$btnScrollPrev,$btnScrollNext,_scrollHeight,_height,disabledIdx,_slideInterval,_cnt,_direction,$circle,$list,$btns;this.get=function(){return _get.apply(this,arguments)};this.set=function(type,option){return _set.apply(this,arguments)};this.setFocus=function(){return _setFocus.apply(this,arguments)};this.selectBtn=function(){return _selectBtn.apply(this,arguments)};
this.reset=function(){return _reset.apply(this,arguments)};_init.apply(this,arguments);function _initialize(arguments){$wrapper=!!options.$scope?options.$scope.find(options.wrapperSelector):$(options.wrapperSelector);if($wrapper&&$wrapper.length==1){$list=$wrapper.find(options.listSelector);$btns=$wrapper.find(options.itemSelector);$btnScrollPrev=$wrapper.find(options.scrollPrev);$btnScrollNext=$wrapper.find(options.scrollNext);setTimeout(function(){_scrollHeight=parseInt($wrapper.find(options.listSubSelector).prop("scrollHeight"));
_height=parseInt($list.css("height"));_updateBtnStatus.call(this,_height>=_scrollHeight,SCROLL_POSITION.TOP)},200);if(options.circleSelector)$circle=$wrapper.find(options.circleSelector);if($btns.length>=options.minBtnCount){isInitialized=true;$wrapper.on("keydown",options.scrollPrev,_.bind(_moveUp,this)).find(options.scrollPrev).on("click",_.bind(_moveUp,this));$wrapper.on("keydown",options.scrollNext,_.bind(_moveDown,this)).find(options.scrollNext).on("click",_.bind(_moveDown,this));$wrapper.on("keydown",
options.itemSelector,_.bind(_onKeyDown,this)).find(options.itemSelector).on("click",_.bind(_select,this));_direction=options.isVertical?"scrollTop":"scrollLeft";if(!options.isVertical){var _w=100;var _width=$btns.length>5?_w*$btns.length:500;$list.find("\x3eul").css({width:_width+"px"})}_setSelection();$wrapper.data("slider",this)}else{console.warn("[GallerySlider/_initialize]:탭 버튼 개수가 바르지 않음");console.warn(arguments)}}else{console.warn("[GallerySlider/_initialize]:탭 래퍼가 존재하지 않음");console.warn(arguments)}}
function _init(param){options=$.extend({},Defaults,param);_initialize.call(this,arguments)}function _moveUp(e){switch(e.type){case "click":break;case "keydown":var key=e.keyCode?e.keyCode:e.which;switch(key){case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:e.preventDefault();break;default:return}break;default:return}var _scrollTop=$list.prop("scrollTop");var _term=_scrollHeight/$btns.length;var tmp=_scrollTop-_term;var _pos=SCROLL_POSITION.MID;if(tmp<0){tmp=0;_pos=SCROLL_POSITION.TOP}$list.prop("scrollTop",
tmp);_updateBtnStatus.call(this,_height>=_scrollHeight,_pos)}function _moveDown(e){switch(e.type){case "click":break;case "keydown":var key=e.keyCode?e.keyCode:e.which;switch(key){case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:e.preventDefault();break;default:return}break;default:return}var _scrollTop=$list.prop("scrollTop");var _term=_scrollHeight/$btns.length;var tmp=_scrollTop+_term;var _pos=SCROLL_POSITION.MID;if(tmp>_scrollHeight-_height){tmp=_scrollHeight;_pos=SCROLL_POSITION.BOT}$list.prop("scrollTop",
tmp);_updateBtnStatus.call(this,_height>=_scrollHeight,_pos)}function _updateBtnStatus(isDisabled,pos){if(isDisabled){$btnScrollPrev.attr("disabled","disabled");$btnScrollNext.attr("disabled","disabled")}else switch(pos){case SCROLL_POSITION.TOP:$btnScrollPrev.attr("disabled","disabled");$btnScrollNext.removeAttr("disabled");break;case SCROLL_POSITION.MID:$btnScrollPrev.removeAttr("disabled");$btnScrollNext.removeAttr("disabled");break;case SCROLL_POSITION.BOT:$btnScrollPrev.removeAttr("disabled");
$btnScrollNext.attr("disabled","disabled");break}}function _onKeyDown(e){var key=e.keyCode?e.keyCode:e.which;switch(key){case $.ui.keyCode.TAB:_tab(e);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:_select(e);break;default:break}}function _tab(e){$focusBackup=null}function _scrollDown(isPlus){if(!isNaN(_cnt)){_cnt++;if(isPlus)$list[0][_direction]+=options.scrollTerm;else $list[0][_direction]-=options.scrollTerm;if(_cnt>5){clearInterval(_slideInterval);_slideInterval=setInterval(_.bind(_scrollDown,
this,isPlus),30)}}else _cnt=0}function _scrollPrevDown(e){e.preventDefault();clearInterval(_slideInterval);_slideInterval=setInterval(_.bind(_scrollDown,this,false),150);_scrollDown.call(this,false)}function _scrollNextDown(e){e.preventDefault();clearInterval(_slideInterval);_slideInterval=setInterval(_.bind(_scrollDown,this,true),150);_scrollDown.call(this,true)}function _scrollUp(e){e.preventDefault();clearInterval(_slideInterval);_cnt=0}function _select(e){e.preventDefault();if(options.onChangeBefore(e,
onChangeExcute,this))return;onChangeExcute.apply(this,arguments);function onChangeExcute(){var $btn=$(e.currentTarget);if(!$selectedBtn||$selectedBtn.data("name")!=$btn.data("name")){$oldSelectedBtn=$selectedBtn;$focusBackup=$selectedBtn=$btn;if(options.setAriaPressed){$btns.attr({"aria-pressed":false});$selectedBtn.attr({"aria-pressed":true})}if(options.currentListItemClass)_.each($btns,function(btn){$(btn).parents("li").removeClass(options.currentListItemClass)});$selectedBtn.parents("li").addClass(options.currentListItemClass);
$btns.removeClass(options.currentItemClass);oldValue=currentValue;currentValue=$selectedBtn.addClass(options.currentItemClass).focus().data("name");if($circle){var idx=parseInt($selectedBtn.data("index"));$circle.stop().animate({left:options.circleMargin+options.circleTerm*idx+"px"},300,"easeInOutSine")}options.onChange(e,currentValue);options.onChangeAfter(e,currentValue,$btns.index($selectedBtn))}}}function _onChangeBefore(e){}function _onChange(e){}function _onChangeAfter(e){}function _setSelection(_key){if(_key&&
typeof _key=="string")_set(_key);else if(options.selectedName&&typeof options.selectedName=="string")_set(options.selectedName)}function _get(){return currentValue||""}function _reset(){_initialize.call(this,arguments);return this}function _selectBtn(key){if(currentValue!==key)if(typeof key=="number")if(key<$btns.length);else console.warn("GallerySlider/_select/invalid index",arguments);else if(typeof key=="string"){var idx=_.findIndex($btns,function(btn){return $(btn).data("name")==key});if(idx>
-1)if(options.setAriaPressed)_set(key,{setAriaPressed:true});else _set(key);else console.warn("GallerySlider/_select/invalid index",arguments)}else console.warn("GallerySlider/_select/invalid type",arguments)}function _set(type,option){if(isInitialized&&!!type){var _$selectBtn=$btns.filter("button[data-name\x3d"+type+"]"),index=$btns.index(_$selectBtn);if(_$selectBtn){currentValue=type;if(options.setAriaPressed){$btns.attr("aria-pressed",false);_$selectBtn.attr({"aria-pressed":true})}$btns.removeClass(options.currentItemClass);
$btns.each(function(idx,btn){$(btn).parent().removeClass("on")});_$selectBtn.addClass(options.currentItemClass);_$selectBtn.parent().addClass("on");if(option)if(option.disable){_$selectBtn.addClass("disabled");if(disabledIdx.indexOf(index)>-1);else disabledIdx.push(index)}else _$selectBtn.removeClass("disabled");$selectedBtn=_$selectBtn;var evt=$.Event("set",{currentTarget:$selectedBtn[0]});options.onChange(evt,currentValue,index)}else{console.warn("[GallerySlider/_set]:대상이 존재하지 않음");console.warn(arguments)}}else{console.warn("[GallerySlider/_set]:초기화가 이루어지지 않았거나, parameter가 바르지 않음");
console.warn(arguments)}}function _setFocus(){$selectedBtn.focus()}};Utils.QPXcall=function(tagName,inout,depart,arrival,tripType,minTrip,maxTrip,minDep,maxDep,type){var key="AIzaSyCGdSSeYP_1bENlwUus6W7U1dpTsXyjqBM",tag=tagName,group=inout,from=depart,to=arrival,oneway=tripType,minTripLen=minTrip,maxTripLen=maxTrip,minDepDate=minDep,maxDepDate=maxDep,alt=type,data="";var apiUrl=koreanair.CalendarUtil.QPX,parmas="key\x3d"+key+"\x26tag\x3d"+tag+"\x26oneway\x3d"+oneway+"\x26group\x3d"+group+"\x26from\x3d"+
from+"\x26to\x3d"+to+"\x26minTripLength\x3d"+minTripLen+"\x26maxTripLength\x3d"+maxTripLen+"\x26minDepartureDate\x3d"+minDepDate+"\x26maxDepartureDate\x3d"+maxDepDate+"\x26alt\x3d"+alt;var deferred=$.Deferred();$.ajax({url:apiUrl+parmas,dataType:"jsonp",success:function(data){deferred.resolve(data)},error:function(data){console.warn(data)}});return deferred};Utils.MileageRules=function(itinerary){var data=itinerary.toJSON(),BKGCLS=[["P"],["F"],["J"],["R","C","D","I"],["Z"],["Y","B","M","S","H","E",
"K","L","U"],["G"],["Q","N","T"]],RATE=["200%","165%","135%","125%","100%","100%","80%","70%"],rules=[],ruleTxts="",ruleTxt="";_.each(data.bounds,function(bound){_.each(bound.flights,function(flight){if(flight.airlineCode=="KE")rules.push(flight.bookingClass)})});rules=_.uniq(_.flatten(rules));_.each(BKGCLS,function(clses,idx){_.each(rules,function(rule,index){if(_.indexOf(clses,rule[0])>-1){var cabin="";if(idx<2)cabin=Granite.I18n.get("FIRST-label");else if(idx>=2&&idx<5)cabin=Granite.I18n.get("PRESTIGE-label");
else if(idx>=5)cabin=Granite.I18n.get("ECONOMY-label");if(index>0)ruleTxt+=", "+cabin+" "+"("+rule[0]+")"+" : "+RATE[idx];else ruleTxt+=cabin+" "+"("+rule[0]+")"+" : "+RATE[idx]}})});ruleTxts=Granite.I18n.get("mileage-accumulate-rate-info")+" : "+ruleTxt;var isOnHoldPurchase=$(".onholdpurchase").index()>0||koreanair.router.isOnHoldPurchase;if(!data.isDomestic&&!data.award)if(data.isScheduleDriven)return ruleTxts;else if(isOnHoldPurchase)return ruleTxts};koreanair=koreanair||{};koreanair.utils=koreanair.utils||
{};koreanair.utils=_.extend(koreanair.utils,Utils);function contentRoleButton(){$(".cta-shaded, .small-overlay, .medium-overlay, .large-overlay").each(function(){if($(this).attr("target")!=="_blank")koreanair.common.utils.anchorToButton($(this))})}$(document).ready(function(){contentRoleButton()});$(document).on("slidersReady",function(event){contentRoleButton()})})(jQuery,koreanair,ixBand);
(function($){$.fn.extend({placeholder:function(options){if(options&&options.removeEvent){this.off("keyup focusout change placeholder:updated");this.each(function(){var $input=$(this),id=$input.attr("id"),$label=$input.siblings("[data-placeholder-id\x3d"+id+"]");$label.off("click")})}else this.each(function(){var $input=$(this),id=$input.attr("id"),$label=$input.siblings("[data-placeholder-id\x3d"+id+"]");if(!$input.hasClass("hiddenx"))$label.attr("aria-hidden",true);$input.on("keyup focusout change placeholder:updated",
function(e){var value=$input.val();if(value||value===0)$label.hide();else if(!$input.is(":focus"))$label.show()});$input.on("focusin",function(e){$label.hide()});$label.on("click",function(e){$input.focus()});if($input.val()&&$input.val().length>0)$label.hide()});return this}})})(jQuery);
(function($){$.fn.keSelectDisabled=function(disabled){if(disabled){this.prop("disabled",true);this.closest(".styled-select").addClass("disabled")}else{this.prop("disabled",false);this.closest(".styled-select").removeClass("disabled")}}})(jQuery);
(function($){$.fn.isOnScreen=function(x,y){if(x==null||typeof x=="undefined")x=1;if(y==null||typeof y=="undefined")y=1;var win=$(window);var viewport={top:win.scrollTop()+$("#top-sec").height()+10,left:win.scrollLeft()};viewport.right=viewport.left+win.width();viewport.bottom=viewport.top+win.height();var height=this.outerHeight();var width=this.outerWidth();if(!width||!height)return false;var bounds=this.offset();bounds.right=bounds.left+width;bounds.bottom=bounds.top+height;var visible=!(viewport.right<
bounds.left||viewport.left>bounds.right||viewport.bottom<bounds.top||viewport.top>bounds.bottom);if(!visible)return false;var deltas={top:Math.min(1,(bounds.bottom-viewport.top)/height),bottom:Math.min(1,(viewport.bottom-bounds.top)/height),left:Math.min(1,(bounds.right-viewport.left)/width),right:Math.min(1,(viewport.right-bounds.left)/width)};return deltas.left*deltas.right>=x&&deltas.top*deltas.bottom>=y}})(jQuery);
(function($,koreanair,$B){$(document).keyup(function(event){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($(":focus").closest("#content-area").size()<1)return;if(!$(":focus").isOnScreen()){var toScrollTop=$(":focus").offset().top-$("#top-sec").height()-10;$("html,body").animate({scrollTop:toScrollTop},100)}}});var setKeSelectbox=function(){$(".ke-selectbox").off("focus");$(".ke-selectbox").on("focus",function(){$(this).closest(".styled-select").addClass("focus")});
$(".ke-selectbox").off("focusout");$(".ke-selectbox").on("focusout",function(){$(this).closest(".styled-select").removeClass("focus")})};$(window).load(function(){setKeSelectbox()});var tabCirclularFocus=function(context){var tabbableElements="a[href], area[href], input:not([disabled]),"+"select:not([disabled]), textarea:not([disabled]),"+"button:not([disabled]), iframe, object, embed, *[tabindex],"+"*[contenteditable]";var allTabbableElements=context.find(tabbableElements);var firstTabbableElement=
allTabbableElements[0];var lastTabbableElement=allTabbableElements[allTabbableElements.length-1];var keyListener=function(event){var keyCode=event.which||event.keyCode;event.preventDefault=event.preventDefault||function(){event.returnValue=false};if(keyCode===9)if(event.target===lastTabbableElement&&!event.shiftKey){if(firstTabbableElement.offsetParent!==null){event.preventDefault();firstTabbableElement.focus()}}else if(event.target===firstTabbableElement&&event.shiftKey)if(lastTabbableElement.offsetParent!==
null){event.preventDefault();lastTabbableElement.focus()}};context.on("keydown",keyListener)};var closeSideNavBar=function(){if($(".side-nav").hasClass("closed")==false){$(".side-nav").addClass("closed",400,function(){$(".side-nav .desc").each(function(){$(this).closest("li").find("img").attr("alt",$(this).text());$(this).hide()})});var pageTitle=$(".icon-expand").data("page-title");var openText=Granite.I18n.get("WA-btn-detail-close");$(".icon-expand").attr("alt",Granite.I18n.get("UWA-sidenav-openclose",
[openText,pageTitle]))}};var Tabbable={checkin:function(){var $target=$("#checkin-search");this.makeFirstLastElementClass($target);if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;event.stopPropagation();var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.hasClass("firstTabbableContent")){$(".lastTabbableContent").focus();event.preventDefault();
return}}else if($focused.hasClass("lastTabbableContent")){$(".firstTabbableContent").focus();event.preventDefault();return}if(keyCode==$.ui.keyCode.ESCAPE){$target.html("");$("#checkin-item").removeClass("active");$("#top-nav-checkin").focus()}})}},searchAddress:function(){var $target=$("#cboxContent");var $region=$("#master-lookup-wrapper");this.makeFirstLastElementClass($target);if($region.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$region.is(":visible"))return;
event.stopPropagation();var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.ENTER)if($focused.is(".lastTabbableContent, .button")){koreanair.tabbable.addressButtonClicked=true;return}if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.attr("id")=="cboxClose"){$(".lastTabbableContent").focus();event.preventDefault()}}else{if(koreanair.tabbable.addressButtonClicked){$("#results-wrapper").find("a").first().focus();koreanair.tabbable.addressButtonClicked=
false;event.preventDefault();return}if($focused.hasClass("lastTabbableContent")&&!koreanair.tabbable.addressButtonClicked){$(".firstTabbableContent").focus();event.preventDefault()}}})}$("#master-lookup-wrapper").find(".grid").first().find('a[class\x3d"medium button on"]').focus()},sideNav:function(){var $target=$(".side-nav");var clickEnterKey=false;if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;var keyCode=window.event?event.which:
event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($(".side-nav").find(":tabbable").first().attr("id")==$focused.attr("id")||$(".side-nav").find(":tabbable").first().attr("id")==$focused.attr("id")){closeSideNavBar();return}if($focused.parents(".side-nav").length&&$focused.parents("li").index()==$focused.parents(".side-nav").find("li").last().index())return}else{if($focused.parents(".side-nav").length&&$focused.hasClass("active")&&clickEnterKey){clickEnterKey=
false;var sideIndex=$focused.parents("li").index();$("#skrollr-body section").eq(sideIndex).find(":tabbable").first().focus();closeSideNavBar();event.preventDefault();return}if($focused.parents(".side-nav").length&&$focused.parents("li").index()==$focused.parents(".side-nav").find("li").last().index()){$(".side-nav").nextAll().find(":tabbable").first().focus();closeSideNavBar();event.preventDefault();return}}if(keyCode==$.ui.keyCode.ESCAPE){closeSideNavBar();if($('[role\x3d"main"]').find("h1:visible:eq(0)").size()>
0){$('[role\x3d"main"]').find("h1:visible:eq(0)").attr("tabindex","-1").focus();$('[role\x3d"main"]').find("h1:visible:eq(0)").on("blur",function(e){$(e.currentTarget).removeAttr("tabindex")})}}})}},reservationPopup:function(){var $target=$(".popup");this.makeFirstLastElementClass($target);if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;event.stopPropagation();var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");
if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.hasClass("firstTabbableContent")){event.preventDefault();return}if($focused.hasClass("lastTabbableContent"));}else if($focused.hasClass("lastTabbableContent")){$(".firstTabbableContent").focus();event.preventDefault()}})}},advertisementTv:function(){var $target=$("#cboxContent");if($(".videoCarousel").is(":visible")){_.each($(".video-carousel").find(".bx-clone"),function(bxClone,index){$(bxClone).attr("tabindex",-1)});_.each($(".video-carousel").find("li").not(".bx-clone"),
function(bxClone,index){$(bxClone).attr("tabindex",0)});$(".video-carousel").find("li").not(".bx-clone").last().addClass("lastPic");$("#video0_html5_api").attr("tabindex",0);$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;koreanair.WA.removeFocusEvent();event.stopPropagation();var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.hasClass("bx-next")){$(".bx-prev").focus();
event.preventDefault();return}if($focused.attr("id")=="cboxClose"){$(".bx-next").focus();event.preventDefault()}}else{if($focused.hasClass("vjs-big-play-button")||$focused.hasClass("vjs-mute-control"))_.each(koreanair.carrousels,function(bxClone,index){bxClone.goToSlide(0)});if($focused.hasClass("lastPic")){$(".video-carousel").find("li").not(".bx-clone").first().focus();$(".bx-prev").focus();event.preventDefault();return}if($focused.hasClass("bx-next")){$("#cboxClose").focus();event.preventDefault()}}})}},
advertisementPrint:function(){var $target=$("#cboxContent");if($(".verticalImageCarousel").is(":visible")){_.each($(".vertical-carousel").find(".bx-clone"),function(bxClone,index){$(bxClone).attr("tabindex",-1)});_.each($(".vertical-carousel").find("li").not(".bx-clone"),function(bxClone,index){$(bxClone).attr("tabindex",0)});$(".vertical-carousel").find("li").not(".bx-clone").last().addClass("lastPic");$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;
koreanair.WA.removeFocusEvent();event.stopPropagation();var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.ENTER);if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.hasClass("bx-next")){$(".bx-prev").focus();event.preventDefault();return}if($focused.attr("id")=="cboxClose"){$(".bx-next").focus();event.preventDefault()}}else{if($focused.hasClass("download-link")||$focused.hasClass("vjs-mute-control"))_.each(koreanair.carrousels,function(bxClone,
index){bxClone.goToSlide(0)});if($focused.hasClass("lastPic")){$(".vertical-carousel").find("li").not(".bx-clone").first().focus();$(".bx-prev").focus();event.preventDefault();return}if($focused.hasClass("bx-next")){$("#cboxClose").focus();event.preventDefault()}}})}},myPage:function(){setKeSelectbox();koreanair.Profile.setH2Focus()},selectHotel:function(){setKeSelectbox()},quickBooking:function(){var $target=$("#tab-booking .booking-type");var clickEnterKey=false;if($target.is(":visible")){$target.off("keydown");
$target.on("keydown",function(event){if(!$target.is(":visible"))return;var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.attr("id")=="submit"&&$("#btn-passenger-discount-select").is(":visible")&&!$("#btn-passenger-discount-select").attr("disabled")){$("#btn-passenger-discount-select").focus();event.preventDefault();return}if($focused.attr("id")=="btn-passenger-discount-select"){$("#cabin").focus();event.preventDefault();
return}if($focused.attr("id")=="cabin"&&$("#etcInfantCounter").is(":visible")){$("#etcInfantCounter").focus();event.preventDefault()}}else{if($focused.attr("id")=="etcInfantCounter"){$("#cabin").focus();event.preventDefault();return}if($focused.attr("id")=="cabin"&&$("#btn-passenger-discount-select").is(":visible")&&!$("#btn-passenger-discount-select").attr("disabled")){$("#btn-passenger-discount-select").focus();event.preventDefault();return}if($focused.attr("id")=="btn-passenger-discount-select"){$("#submit").focus();
event.preventDefault()}}})}},popupDefault:function(){var $cboxOverlay=$("#cboxOverlay");var $target=$("#cboxContent");this.makeFirstLastElementClass($target);if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode!=$.ui.keyCode.ESCAPE)event.stopPropagation();if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.hasClass("firstTabbableContent")){$(".lastTabbableContent").focus();
event.preventDefault()}}else if($focused.hasClass("lastTabbableContent")){$(".firstTabbableContent").focus();event.preventDefault()}});$cboxOverlay.on("click",function(event){event.preventDefault();event.stopPropagation();$.colorbox.close()})}},popupMedia:function(){var $cboxOverlay=$("#cboxOverlay");var $target=$("#cboxContent");this.makeFirstLastElementClass($target,true);if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;var keyCode=
window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode!=$.ui.keyCode.ESCAPE)event.stopPropagation();if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.hasClass("firstTabbableContent")){$(".lastTabbableContent").focus();event.preventDefault()}}else if($focused.hasClass("lastTabbableContent")){$(".firstTabbableContent").focus();event.preventDefault()}});$cboxOverlay.on("click",function(event){event.preventDefault();event.stopPropagation();$.colorbox.close()})}},columnflow:function(){$.each($(".column-flow"),
function(index){var $target=$("#pageContent-"+index);if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.ENTER){if($focused.hasClass("bx-next")){setTimeout(function(){$focused.parent().children(".bx-prev").focus();event.preventDefault()},200);return}if($focused.hasClass("bx-prev"))setTimeout(function(){$focused.parent().children(".bx-next").focus();
event.preventDefault()},200)}})}})},fireFoxFocusInit:function(){$virtualDiv=$('\x3cdiv tabindex\x3d"-1" style\x3d"height:0"\x3e\x26nbsp;\x3c/div\x3e');$("body").prepend($virtualDiv);$virtualDiv.focus();$virtualDiv.on("focusout",function(e){$virtualDiv.remove()})},moveFocusInBookingGate:function(){var $target=$(".booking-form");if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;var keyCode=window.event?event.which:event.keyCode;
var $focused=$(":focus");if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.attr("id")=="submit"){var $arrowBtn=$(".discount-bk .btn-arrow");if($arrowBtn.length)if($arrowBtn.attr("aria-expanded")=="true"){if($(".viewContent").find(":tabbable").length>0)$(".viewContent").find(":tabbable").last().focus();else $arrowBtn.focus();event.preventDefault()}else if($arrowBtn.attr("aria-expanded")=="false"){var $discount=$arrowBtn.closest("#discount");if($discount.is(":visible")){$arrowBtn.focus();
event.preventDefault()}}}}else if($focused.hasClass("btn-arrow")&&$focused.closest(".discount-bk").length>0){if($focused.attr("aria-expanded")=="true")if($(".viewContent").find(":tabbable").length>0)$(".viewContent").find(":tabbable").first().focus();else $("#submit").focus();else if($focused.attr("aria-expanded")=="false")$("#submit").focus();event.preventDefault()}})}},AirportSelector:function(){var $cboxOverlay=$("#cboxOverlay");var $target=$("#cboxContent");var $focusBackup=$(":focus");$target.focus();
this.makeFirstLastElementClass($target);if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;if(keyCode==$.ui.keyCode.ESCAPE)return;var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if($focused.hasClass("firstTabbableContent")){$(".lastTabbableContent").focus();event.preventDefault()}}else if($focused.hasClass("lastTabbableContent")){$(".firstTabbableContent").focus();
event.preventDefault()}});$cboxOverlay.on("click",function(event){event.preventDefault();event.stopPropagation();$.colorbox.close()})}$focusBackup.focus()},calendarSelector:function(route){var $target=$(".modal-calendar");if(route==="bonusSeatView")$target=$("#bonusSeatView");var isSelectedDate=false;if($target.is(":visible")){$target.off("keydown");$target.on("keydown",function(event){if(!$target.is(":visible"))return;var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(keyCode!=
"27")event.stopPropagation();if(keyCode==$.ui.keyCode.ENTER)if($focused.parent("td").hasClass("available")){isSelectedDate=true;return}if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey)if($focused.hasClass("firstTabbableContent")){event.preventDefault();$(".lastTabbableContent").focus()}else{if($focused.hasClass("btn-next")){event.preventDefault();var $prev=$focused.siblings(".btn-pre");if($prev.hasClass("disabled"))$(".lastTabbableContent").focus();else $prev.focus()}}else{if($focused.parents(".from-calendar-area").hasClass("modal-calendar-0")&&
$focused.parent("td").hasClass("selected")&&isSelectedDate)if($(".calender-roundTrip .to-calendar-area").length>0){$(".to-calendar-area.modal-calendar-1").find(":tabbable").first().focus();isSelectedDate=false;event.preventDefault();return}else{$("button.btn-select").focus();isSelectedDate=false;event.preventDefault();return}if($focused.parents("li.to-calendar-area").hasClass("modal-calendar-1")&&$focused.parent("td").hasClass("selected")&&isSelectedDate){$("button.btn-select").focus();isSelectedDate=
false;event.preventDefault()}}})}},setTabindexInAvail:function(){var spanArray=$(".route span.ellipsis.tooltip-need");_.each(spanArray,function(span,index){var $span=$(span);if(span.clientWidth<span.scrollWidth)if($span.attr("data-selectable"))$span.attr("tabindex","0")});var spanAirplaneArray=$(".airplane span.ellipsis.tooltip-need");_.each(spanAirplaneArray,function(span,index){var $span=$(span);if(span.clientWidth<span.scrollWidth)$span.attr("tabindex","0")})},makeFirstLastElementClass:function($target,
withMedia){$(".firstTabbableContent").removeClass("firstTabbableContent");$(".lastTabbableContent").removeClass("lastTabbableContent");if(withMedia){$target.find(":tabbable,video,audio").first().addClass("firstTabbableContent");$target.find(":tabbable,video,audio").last().addClass("lastTabbableContent")}else{$target.find(":tabbable").first().addClass("firstTabbableContent");$target.find(":tabbable").last().addClass("lastTabbableContent")}}};koreanair=koreanair||{};koreanair.tabbable=koreanair.tabbable||
{};koreanair.tabbable=Tabbable;koreanair.setKeSelectbox=setKeSelectbox;koreanair.accessibility=koreanair.accessibility||{};koreanair.accessibility.tabCirclularFocus=tabCirclularFocus})(jQuery,koreanair,ixBand);
(function($,_){var WA_filtering={execFiltering:function(target){var $target=$(target);$("img").each(function(i,e){var $this=$(this);if($.trim($this.attr("title"))=="")$this.removeAttr("title");var trimAlt=$.trim($this.attr("alt"));if(trimAlt==""||trimAlt.toLowerCase()=="null"||trimAlt=='""')$this.attr("alt","")})}};function convert(obj){if(!$.trim(obj.innerHTML))$(obj).remove();else{var convertHtml="";switch(obj.tagName.toUpperCase()){case "U":convertHtml="\x3cspan style\x3d'text-decoration: underline'\x3e"+
$(obj).html()+"\x3c/span\x3e";break;case "I":convertHtml="\x3cem\x3e"+$(obj).html()+"\x3c/em\x3e";break;case "B":convertHtml="\x3cstrong\x3e"+$(obj).html()+"\x3c/strong\x3e";break;case "S":case "STRIKE":convertHtml="\x3cdel\x3e"+$(obj).html()+"\x3c/del\x3e";break}$(obj).replaceWith($(convertHtml))}}koreanair.accessibility=koreanair.accessibility||{};koreanair.accessibility.WA_filtering=WA_filtering})(jQuery,_);
(function($,_){function ariaHiddenRecurse(element,accum,first){var $el=$(element);var children=$el.children();var sibling=$el.next();if(element.tabIndex>=0)accum.push(element);if(children.length>0)ariaHiddenRecurse(children[0],accum);if(!first&&sibling.length>0)ariaHiddenRecurse(sibling[0],accum);return accum}var focusUtil={implicitAriaHiddenFields:function($root){return _.flatten(($root||$("body")).find("*[aria-hidden\x3dtrue]").map(function(id,elem){return ariaHiddenRecurse(elem,[],true)}))},explicitAriaHiddenFields:function($root){return _.flatten(($root||
$("body")).find("*[aria-hidden\x3dtrue]"))},commonParent:function(prior,current,after){var $prior=$(prior),$current=$(current),$after=$(after);var accum=[];return this.visited($(this.visited($prior,$current,accum)),$after,accum)},visited:function($a,$b,accum){var current=$a.parent();if(current.length>0){if(_.contains(accum,current[0]))return current;accum.push(current[0]);return this.visited($b,current,accum)}return this.visited($b,$a,accum)},tabbableFields:function($root,options){options=options||
{};return $.makeArray(($root||$("body")).find(options.testSelector||":tabbable"))}};koreanair.accessibility=koreanair.accessibility||{};koreanair.accessibility.focusUtil=focusUtil})(jQuery,_);
(function(koreanair){var arrayMethods=Array.prototype;var ELEMENT_NODE_TYPE=1;function TabState(){this.initialize.apply(this,arguments)}TabState.prototype.initialize=function(baseElement,testSelector){this.base=baseElement;this.testSelector=testSelector||":focusable"};TabState.prototype.next=function(domElement){return this.searchTabByDirection("next")(domElement)};TabState.prototype.previous=function(domElement){return this.searchTabByDirection("previous")(domElement)};TabState.prototype.hasHiddenParents=
function(domElement){if(!domElement)throw new Error("No dom element provided");if(!domElement.parentNode||domElement.parentNode===document.body||domElement.parentNode===this.base)return false;if(this.isAriaHidden(domElement.parentNode))return domElement.parentNode;return this.hasHiddenParents(domElement.parentNode)};TabState.prototype.isAriaHidden=function(domElement){if(!domElement)throw new Error("Is hidden on non-existent");};TabState.prototype.isFocusable=function(domElement){var tabCheck=this.testSelector||
":tabbable";if(domElement.tabIndex>=0&&!this.isAriaHidden(domElement)&&$(domElement).is(tabCheck))return true;return false};TabState.prototype.searchTabByDirection=function(direction){var siblingResolver=this.chooseSibling((direction||"next")+"Sibling");return function(domElement,initialElement){var result,nextSibling,hiddenParent;initialElement=initialElement||domElement;if(!domElement)return null;hiddenParent=this.hasHiddenParents(domElement);if(hiddenParent)return this.searchTabByDirection(direction)(siblingResolver(hiddenParent),
initialElement);if(!this.isAriaHidden(domElement)&&this.isFocusable(domElement)&&initialElement!==domElement)return domElement;result=this.searchTabByDirection(direction)(determineStartChildNode(direction,domElement),initialElement);if(result)return result;nextSibling=siblingResolver(domElement);return this.searchTabByDirection(direction)(nextSibling,initialElement)}.bind(this)};TabState.prototype.chooseSibling=function(direction){return function(domElement){if(!domElement)return null;if(domElement[direction]===
null)return this.chooseSibling(direction)(domElement.parentNode);var currentElement=domElement;while(currentElement[direction]!==null)if(currentElement[direction].nodeType!==ELEMENT_NODE_TYPE)currentElement=currentElement[direction];else return currentElement[direction];return this.chooseSibling(direction)(domElement.parentNode)}.bind(this)};function determineStartChildNode(direction,domElement){var children=nodeListToArray(domElement.childNodes);if(direction==="previous")children=arrayMethods.reverse.apply(children);
var elementNodes=arrayMethods.filter.call(children,function(node){return node.nodeType===ELEMENT_NODE_TYPE});if(elementNodes.length>0)return elementNodes[0];return null}function nodeListToArray(nodeList){var asArray=[];for(var i=0;i<nodeList.length;i++)asArray.push(nodeList[i]);return asArray}koreanair.accessibility.TabState=TabState})(koreanair);
(function($,_,focusUtil,TabState){var AriaTabManager=function(){this.initialize.apply(this,arguments)};_.extend(AriaTabManager.prototype,{initialize:function(parentDomElement,options){options=options||{};this.tabKey=9;this.tabState=options.tabState||new TabState;this.debug=options.debug;this.parentDomElement=parentDomElement;this.nameSpace=".aria"+Date.now()%1E9+(Math.random()*1E9>>>0);this.watchElements()},verifyActiveElement:function(){if(this.isElementToWatch(document.activeElement))this.setElementFocused(document.activeElement)},
debugLog:function(){if(this.debug)console.log.apply(console,arguments)},parentPreviousElement:function(){return this.parentDomElement},parentNextElement:function(){var result=this.tabState.next(this.parentDomElement.nextSibling);if(!result)return this.parentDomElement;return result},unionFocusable:function(){return[this.parentPreviousElement()].concat([this.parentDomElement]).concat([this.parentNextElement()])},nextTab:function(){if(this.focusedElement)return this.tabState.next(this.focusedElement)},
priorTab:function(){if(this.focusedElement){this.debugLog("Current focused",this.focusedElement);return this.tabState.previous(this.focusedElement)}},isElementToWatch:function(element){return _.contains([this.parentNextElement(),this.parentPreviousElement()],element)||$(this.parentDomElement).find(element).length>0},setElementFocused:function(element){$(element).addClass("tm-focused");this.focusedElement=element},watchElements:function(){this.commonParent=focusUtil.commonParent(this.parentNextElement(),
this.parentDomElement,this.parentPreviousElement());$(this.commonParent).on("focus"+this.nameSpace,":focusable,*[tabindex\x3d0]",_.bind(function(evt){var currentElement=evt.target;this.debugLog("Focus called",currentElement);if(this.isElementToWatch(currentElement)){this.debugLog("Focus with element",currentElement);this.setElementFocused(currentElement);return false}return true},this));$(this.commonParent).on("keydown"+this.nameSpace,$(this.commonParent),_.bind(function(evt){var currentElement=evt.target;
this.verifyActiveElement();if(!this.isElementToWatch(currentElement)){this.debugLog("Bailing");return true}switch(evt.keyCode){case this.tabKey:if(evt.shiftKey){if(currentElement===this.parentPreviousElement())return true;this.debugLog("Prior tab",this.priorTab());evt.preventDefault();$(this.priorTab()).focus()}else{if(currentElement===this.parentNextElement())return true;this.debugLog("This.nextTab",this.nextTab());var nextVisibleTab=this.nextTab();this.debugLog("Focusing on ",$(nextVisibleTab));
evt.preventDefault();$(nextVisibleTab).focus()}return false;default:return true}},this))},destroy:function(){$(this.commonParent).off(this.nameSpace)}});koreanair.accessibility=koreanair.accessibility||{};koreanair.accessibility.AriaTabManager=AriaTabManager})(jQuery,_,koreanair.accessibility.focusUtil,koreanair.accessibility.TabState);
(function(_,$,Backbone,I18n,koreanair,UtilityNav,ServiceApi,Cookie){function setLocale(language,country){window.koreanair.Lang=language;window.koreanair.Country=country;Cookie.set("lang",language);Cookie.set("country",country)}var context=window.ClientContext||{get:$.noop,set:$.noop};var currentCountry=(Cookie.get("country")||"kr").toLowerCase(),currentLang=(Cookie.get("lang")||"ko").toLowerCase(),currentRegion=(Cookie.get("region")||"korea").toLowerCase(),setClientContextLocale=function(country,
language){if(country)context.set("/profile/country",country.toLowerCase());if(language)context.set("/profile/language",language.toLowerCase())},getActiveUrl=function(url){if(url&&koreanair.isMobile){url=koreanair.BookingBar.HomePage;var tmp=url.split("/");tmp.pop();tmp.pop();if(window.koreanair.Country==="kr"&&window.koreanair.Lang==="ko")tmp.push("korea");else tmp.push("global");tmp.push(window.koreanair.Lang.replace("-","_")+".html");url=tmp.join("/")+koreanair.mobileAppUrlAddition}return url},
setAndMoveUrl=function(selectedCountry,selectedLang,thisRegion,toMoveUrl){if(selectedCountry&&selectedLang){setClientContextLocale(selectedCountry,selectedLang);Cookie.set("region",thisRegion);setLocale(selectedLang,selectedCountry);if(window.sessionStorage&&window.sessionStorage.removeItem)sessionStorage.removeItem("KOREANAIR_HOMEPAGE_MAIN_CMS_DATA");location.href=toMoveUrl}},changeLocale=function(e){var originalCountry=currentCountry,originalLang=currentLang,selectedCountry=$("#utilnav-country-selector").val(),
thisRegion=$('#utilnav-country-selector option[value\x3d"'+selectedCountry+'"]').data("region");selectedLang=$("#utilnav-language-selector").val(),toMoveUrl=$('#utilnav-language-selector option[value\x3d"'+selectedLang+'"]').data("langurl");setAndMoveUrl(selectedCountry,selectedLang,thisRegion,toMoveUrl)},quickLangClick=function(e){e.preventDefault();var $target=$(e.currentTarget),selectedCountry=$target.data("country"),selectedLang=$target.attr("lang"),url=$target.data("langurl"),thisRegion=$target.data("region");
setAndMoveUrl(selectedCountry,selectedLang,thisRegion,url)},sortedByLang=function(langs){if(langs.length==0)return[];var sortList=["ko","en"],sortLength=sortList.length,resultList=new Array(sortLength),etcList=[];_.each(langs,function(lang){var idx=_.indexOf(sortList,lang.langCode);if(idx>-1)resultList[idx]=lang;else etcList.push(lang)});if(resultList.length!=sortLength)resultList=_.compact(resultList);return resultList.concat(etcList)},highlightCurrentLocale=function(userInfo){currentCountry=(userInfo.country||
Cookie.get("country")||"kr").toLowerCase();currentLang=(userInfo.language||Cookie.get("lang")||"ko").toLowerCase();var siteSelectLangList=window.koreanair.siteSelectLangList;var langDatas=[];if(currentCountry=="tw"){langDatas.push({langText:"繁體中文",langCode:"zh-hk",langUrl:"/content/koreanair/global/zh_hk.html",region:"asiaPacific",country:"tw"});langDatas.push({langText:"한국어",langCode:"ko",langUrl:"/content/koreanair/global/ko.html",region:"asiaPacific",country:"tw"});langDatas.push({langText:"English",
langCode:"en",langUrl:"/content/koreanair/global/en.html",region:"asiaPacific",country:"tw"})}else for(var i=0;siteSelectLangList&&i<siteSelectLangList.length;i++){var tmpCountry=currentCountry;if(currentCountry=="ot")tmpCountry="kr";if(siteSelectLangList&&siteSelectLangList[i].country===tmpCountry)for(var x=0;x<siteSelectLangList[i].lang.length;x++)langDatas.push({langText:siteSelectLangList[i].lang[x].langText,langCode:siteSelectLangList[i].lang[x].langCode,langUrl:siteSelectLangList[i].lang[x].langUrl,
region:siteSelectLangList[i].region,country:siteSelectLangList[i].country})}langDatas=sortedByLang(langDatas);var $quickLang=$(".quick-lang-select");_.each(langDatas,function(data){var html="";if(data.langCode===currentLang){$("#regionSelectButtonTxt").html(data.langText+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("WA-selected")+"\x3c/span\x3e");html='\x3cli\x3e\x3cspan class\x3d"current-langs active"\x3e'+data.langText+'\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+Granite.I18n.get("WA-selected")+
"\x3c/span\x3e\x3c/li\x3e"}else html='\x3cli\x3e\x3cspan\x3e\x3ca class\x3d"current-langs" href\x3d"#" data-region\x3d"'+data.region+'" lang\x3d"'+data.langCode+'" data-langurl\x3d"'+data.langUrl+'" data-country\x3d"'+data.country+'"\x3e'+data.langText+"\x3c/a\x3e\x3c/span\x3e\x3c/li\x3e";$quickLang.append(html)});$quickLang.find("a").on("click",quickLangClick);$("#currentCountry").text(I18n.get(currentCountry+"-siteselect-label"));setClientContextLocale(currentCountry,currentLang)},setupCountrySelectBox=
function(){var country_list=window.koreanair.siteSelectLangList;if(country_list==null)return;for(var i=0;i<country_list.length;i++)country_list[i].countryName=Granite.I18n.get(country_list[i].country+"-siteselect-label");country_list=country_list.sort(function(a,b){if(a.countryName<b.countryName)return-1;else if(a.countryName>b.countryName)return 1;else return 0});country_list=koreanair.sortedCountrylist(country_list,["kr"]);var countrySelectOptions="";countrySelectOptions+='\x3coption value\x3d"ot"\x3e'+
Granite.I18n.get("country-selection-label")+"\x3c/option\x3e";for(var i=0;i<country_list.length;i++)countrySelectOptions+='\x3coption data-region\x3d"'+country_list[i].region+'" value\x3d"'+country_list[i].country+'"\x3e'+country_list[i].countryName+"\x3c/option\x3e";$("#utilnav-country-selector").html(countrySelectOptions);$("#utilnav-country-selector").on("change",function(event){var country=$(event.currentTarget).val();setupLangSelectBox(country)})},setupLangSelectBox=function(country){var langSelectOptions=
"";var siteSelectLangList=window.koreanair.siteSelectLangList;var langOrderMap={"jp":{"langOrder":["jp","ko","en"]},"cn":{"langOrder":["zh-cn","ko","en"]},"hk":{"langOrder":["zh-hk","ko","en"]},"tw":{"langOrder":["zh-hk","ko","en"]},"br":{"langOrder":["pt-br","ko","en"]},"mx":{"langOrder":["es","ko","en"]},"ar":{"langOrder":["es","ko","en"]},"de":{"langOrder":["de","ko","en"]},"ru":{"langOrder":["ru","ko","en"]},"ch":{"langOrder":["en","ko","de","fr"]},"es":{"langOrder":["es","ko","en"]},"at":{"langOrder":["de",
"ko","en"]},"fr":{"langOrder":["de","ko","en"]},"th":{"langOrder":["th","ko","en"]},"id":{"langOrder":["id","ko","en"]},"vn":{"langOrder":["vi","ko","en"]},"ot":{"langOrder":["ko","en"]}};var tmpCountry=country;if(country=="ot")tmpCountry="kr";for(var i=0;siteSelectLangList&&i<siteSelectLangList.length;i++){if(langOrderMap[tmpCountry]!=undefined){var sortingLangCodes=langOrderMap[tmpCountry];siteSelectLangList[i].lang=_.sortBy(siteSelectLangList[i].lang,function(obj){return _.indexOf(sortingLangCodes["langOrder"],
obj.langCode)})}if(tmpCountry===siteSelectLangList[i].country){for(var x=0;x<siteSelectLangList[i].lang.length;x++){var isoLangValue=getIsoLangCode(siteSelectLangList[i].lang[x].langCode);langSelectOptions+='\x3coption lang\x3d"'+isoLangValue+'" data-langurl\x3d"'+siteSelectLangList[i].lang[x].langUrl+'" value\x3d"'+siteSelectLangList[i].lang[x].langCode+'"\x3e'+window.koreanair.siteSelectLangList[i].lang[x].langText+"\x3c/option\x3e"}break}}$("#utilnav-language-selector").html(langSelectOptions)},
getIsoLangCode=function(homepageLangCode){if(homepageLangCode==="de")return"nl";else if(homepageLangCode==="pt-br")return"pt";else if(homepageLangCode==="zh-cn")return"zh-Hant";else if(homepageLangCode==="zh-hk")return"zh-Hans";else return homepageLangCode};var currentWindowHeightSiteSelect;var currentWindowWidthSiteSelect;function adjustZoomLevel(){var windowHeight=$(window).height();var windowWidth=$(window).width();if(currentWindowHeightSiteSelect==undefined||currentWindowHeightSiteSelect!=windowHeight||
currentWindowWidthSiteSelect==undefined||currentWindowWidthSiteSelect!=windowWidth){currentWindowHeightSiteSelect=windowHeight;currentWindowWidthSiteSelect=windowWidth;var zoomLevel=detectZoom.zoom()*100;$("html").removeClass("scale125").removeClass("scale150").removeClass("scale175").removeClass("scale200");if(zoomLevel>=111&&zoomLevel<=125){if($("html").hasClass("scale125")==false)$("html").addClass("scale125")}else if(zoomLevel>125&&zoomLevel<=150){if($("html").hasClass("scale150")==false)$("html").addClass("scale150")}else if(zoomLevel>
150&&zoomLevel<=175){if($("html").hasClass("scale175")==false)$("html").addClass("scale175")}else if(zoomLevel>175&&zoomLevel<=200)if($("html").hasClass("scale200")==false)$("html").addClass("scale200")}}$(window).resize(function(){adjustZoomLevel()});$(document).ready(function(){adjustZoomLevel();$("#regionSelectButton").keydown(function(event){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey)koreanair.closeRegionSelect(false)});$(".siteselect-btn-close").on("click",
function(){koreanair.closeRegionSelect(true)});$(".siteselect-btn-close").on("keydown",function(event){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.TAB)if(!event.shiftKey)koreanair.closeRegionSelect(false)});$(".quick-site-select").on("keydown",function(event){var keyCode=event.which||event.keyCode;if(keyCode==$.ui.keyCode.ESCAPE)koreanair.closeRegionSelect(true)});setupCountrySelectBox();var userInfoCall=koreanair.retrieveUserInfo||$.Deferred().resolve({isAuthenticated:true,
language:currentLang,country:currentCountry}).promise();userInfoCall.done(function(userInfo){var regionSelect_val=(koreanair.Country||"").toLowerCase();var regionSelect_path="/etc/clientlibs/koreanair/images/components/utilitynav/ico_region_"+regionSelect_val+".gif";$("#regionSelect").attr("src",regionSelect_path);var siteSelectLangList=window.koreanair.siteSelectLangList;var tmpCountry=currentCountry;var isExistCountry=false;for(var i=0;siteSelectLangList&&i<siteSelectLangList.length;i++)if(siteSelectLangList[i].country===
currentCountry)isExistCountry=true;if(!isExistCountry)tmpCountry="ot";$("#utilnav-country-selector").val(tmpCountry);$("#utilnav-country-selector").trigger("change");$("#utilnav-language-selector").val(currentLang);highlightCurrentLocale(userInfo)});$("#changeLocale").on("click",changeLocale)})})(_,jQuery,Backbone,Granite.I18n,koreanair,koreanair.UtilityNav,koreanair.ServiceApi,koreanair.Cookie);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["popup-template-confirm"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"confirm-message"\x3e    \x3cp class\x3d"msg-txt"\x3e';stack1=(stack1=depth0&&depth0.content,typeof stack1===
functionType?stack1.apply(depth0):stack1);if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"button-group-center"\x3e    \x3cbutton class\x3d"button-page-blue"\x3e'+escapeExpression((stack1=depth0&&depth0.confirmButtonLabel,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/button\x3e\x3c/div\x3e";return buffer});templates["popup-template-error"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=
this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1;buffer+='\x3cp class\x3d"key"\x3e'+escapeExpression((stack1=depth0&&depth0.key,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e";return buffer}function program3(depth0,data){var buffer="",stack1;buffer+='\x3cp aria-hidden\x3d"true" class\x3d"uuid"\x3e'+escapeExpression((stack1=depth0&&
depth0.uuid,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e";return buffer}buffer+='\x3cdiv class\x3d"error-message"\x3e    \x3cp class\x3d"msg-txt"\x3e';stack1=(stack1=depth0&&depth0.message,typeof stack1===functionType?stack1.apply(depth0):stack1);if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/p\x3e    ";stack1=helpers["if"].call(depth0,depth0&&depth0.key,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=
"    ";stack1=helpers["if"].call(depth0,depth0&&depth0.uuid,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e";return buffer});templates["popup-template-information"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function";buffer+='\x3cdiv class\x3d"information-message"\x3e    \x3cp class\x3d"msg-txt"\x3e';
stack1=typeof depth0===functionType?depth0.apply(depth0):depth0;if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/p\x3e\x3c/div\x3e";return buffer});templates["popup-template-warning"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"warninng-message"\x3e    \x3cp class\x3d"msg-txt"\x3e';
stack1=(stack1=depth0&&depth0.content,typeof stack1===functionType?stack1.apply(depth0):stack1);if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"button-group-center"\x3e    \x3cbutton class\x3d"button-page-gray"\x3e'+escapeExpression((stack1=depth0&&depth0.cancelButtonLabel,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/button\x3e    \x3cbutton class\x3d"button-page-blue"\x3e'+escapeExpression((stack1=depth0&&depth0.confirmButtonLabel,typeof stack1===
functionType?stack1.apply(depth0):stack1))+"\x3c/button\x3e\x3c/div\x3e";return buffer})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["award-passenger-list"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing,blockHelperMissing=helpers.blockHelperMissing;function program1(depth0,
data){var buffer="",stack1,helper,options;buffer+="\x3cli\x3e\x3cinput type\x3d'checkbox' id\x3d\"";if(helper=helpers.type)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.type;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"_"+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.isChecked,
{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=" data-passenger-type\x3d'";if(helper=helpers.passengerType)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.passengerType;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"' data-type\x3d'";if(helper=helpers.type)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.type;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"' data-first-name\x3d'";if(helper=helpers.firstName)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.firstName;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"' data-last-name\x3d'";if(helper=helpers.lastName)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.lastName;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"' data-frequent-flyer-number\x3d'";if(helper=helpers.skypassNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.skypassNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"'/\x3e\x3clabel for\x3d\"";if(helper=helpers.type)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&
depth0.type;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"_"+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((helper=helpers.passengerNameSpan||depth0&&depth0.passengerNameSpan,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"passengerNameSpan",depth0,options)))+"\x3c/label\x3e\x3c/li\x3e";
return buffer}function program2(depth0,data){return"checked"}function program4(depth0,data){var buffer="",stack1,helper,options;buffer+="\x3cli\x3e\x3cinput type\x3d'checkbox' id\x3d\"";if(helper=helpers.type)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.type;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"_"+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?
stack1.apply(depth0):stack1))+"\" data-passenger-type\x3d'";if(helper=helpers.passengerType)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.passengerType;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"' ";stack1=helpers["if"].call(depth0,depth0&&depth0.isChecked,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=" data-first-name\x3d'";if(helper=
helpers.firstName)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.firstName;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"' data-type\x3d'";if(helper=helpers.type)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.type;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"' data-last-name\x3d'";if(helper=helpers.lastName)stack1=
helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.lastName;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"' data-frequent-flyer-number\x3d'";if(helper=helpers.skypassNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.skypassNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"'/\x3e\x3clabel for\x3d\"";if(helper=
helpers.type)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.type;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"_"+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((helper=helpers.passengerNameSpan||depth0&&depth0.passengerNameSpan,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,
"passengerNameSpan",depth0,options)))+"\x3c/label\x3e\x3c/li\x3e";return buffer}stack1=helpers["with"].call(depth0,depth0&&depth0.user,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;options={hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data};if(helper=helpers.family)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.family;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.family)stack1=
blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer});templates["booking-bar-airport-messages"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,
data){var buffer="",stack1,helper,options;buffer+='        \x3ch2 class\x3d"modal-title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"train-noti-title-label",options):helperMissing.call(depth0,"i18n","train-noti-title-label",options)))+'\x3c/h2\x3e        \x3cul class\x3d"type1"\x3e            \x3cli\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"train-noti-list01",
options):helperMissing.call(depth0,"i18n","train-noti-list01",options)))+"\x3c/li\x3e            \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"train-noti-list02",options):helperMissing.call(depth0,"i18n","train-noti-list02",options)))+"\x3c/li\x3e            \x3cli\x3e";stack1=(helper=helpers.getRainAndFlyLink||depth0&&depth0.getRainAndFlyLink,options={hash:{},data:data},helper?helper.call(depth0,"train-noti-list03",options):
helperMissing.call(depth0,"getRainAndFlyLink","train-noti-list03",options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/li\x3e        \x3c/ul\x3e    ";return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3ch2 class\x3d"modal-title" id\x3d"CodeShareOAL"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"OAL-with-infant-tit",options):helperMissing.call(depth0,"i18n","OAL-with-infant-tit",
options)))+'\x3c/h2\x3e        \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"OAL-with-infant-label",options):helperMissing.call(depth0,"i18n","OAL-with-infant-label",options)))+"\x3c/p\x3e        \x3cul\x3e            ";stack1=helpers.each.call(depth0,depth0&&depth0.InfantOALNames,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/ul\x3e    ";
return buffer}function program4(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cli\x3e                    \x3cspan class\x3d"date"\x3e'+escapeExpression((stack1=depth0&&depth0.date,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x26nbsp;\x3c/span\x3e                    \x3cspan class\x3d"flight-num strong"\x3e'+escapeExpression((stack1=depth0&&depth0.flightNumber,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x26nbsp;\x3c/span\x3e                    \x3cspan class\x3d"data"\x3e                        \x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"from-location-label",options):helperMissing.call(depth0,"i18n","from-location-label",options)))+"\x26nbsp;\x3c/span\x3e"+escapeExpression((stack1=depth0&&depth0.departureAirport,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x26nbsp;                        \x3cspan aria-hidden\x3d"true"\x3e-\x26nbsp;\x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"to-label",options):helperMissing.call(depth0,"i18n","to-label",options)))+"\x26nbsp;\x3c/span\x3e"+escapeExpression((stack1=depth0&&depth0.destinationAirport,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x26nbsp;                    \x3c/span\x3e                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.originalAirlineName,{hash:{},inverse:self.noop,fn:self.program(5,
program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/li\x3e            ";return buffer}function program5(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cspan class\x3d"codeshare"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"operated-by-label",options):helperMissing.call(depth0,"i18n","operated-by-label",options)))+" : \x3cstrong\x3e"+escapeExpression((stack1=
depth0&&depth0.originalAirlineName,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/strong\x3e\x3c/span\x3e                    ";return buffer}function program7(depth0,data){var buffer="",stack1;buffer+="            ";stack1=helpers["if"].call(depth0,depth0&&depth0["codeshare-info-label"],{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0.CSairlineNames,{hash:{},
inverse:self.noop,fn:self.program(17,program17,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0["OAL-label"],{hash:{},inverse:self.noop,fn:self.program(25,program25,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0["oal-cabin-label"],{hash:{},inverse:self.noop,fn:self.program(27,program27,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";
stack1=helpers["if"].call(depth0,depth0&&depth0["3Dsecure-airline-info-label"],{hash:{},inverse:self.noop,fn:self.program(29,program29,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0["need-to-VISA-info"],{hash:{},inverse:self.noop,fn:self.program(35,program35,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0["same-fare-AdultNInfant-label"],
{hash:{},inverse:self.noop,fn:self.program(37,program37,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";return buffer}function program8(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3ch2 class\x3d"modal-title" id\x3d"codeSharingInfo"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-tit",options):helperMissing.call(depth0,"i18n","codeSharing-tit",options)))+'\x3c/h2\x3e            \x3cul class\x3d"type1"\x3e                \x3cli\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-noti-list01",options):helperMissing.call(depth0,"i18n","codeSharing-noti-list01",options)))+"\x3c/li\x3e                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-noti-list02",options):helperMissing.call(depth0,"i18n","codeSharing-noti-list02",options)))+"\x3c/li\x3e                \x3cli\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-noti-list03",options):helperMissing.call(depth0,"i18n","codeSharing-noti-list03",options)))+"\x3c/li\x3e                ";stack1=helpers.unless.call(depth0,depth0&&depth0.isOnlyLJ,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isLJ,{hash:{},
inverse:self.noop,fn:self.program(11,program11,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";stack1=helpers.unless.call(depth0,depth0&&depth0.isOnlyLJ,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-noti-list06",options):helperMissing.call(depth0,
"i18n","codeSharing-noti-list06",options)))+"\x3c/li\x3e                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isUCnotice,{hash:{},inverse:self.noop,fn:self.program(15,program15,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/ul\x3e        ";return buffer}function program9(depth0,data){var buffer="",helper,options;buffer+="                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"codeSharing-noti-list04",options):helperMissing.call(depth0,"i18n","codeSharing-noti-list04",options)))+"\x3c/li\x3e                ";return buffer}function program11(depth0,data){var buffer="",helper,options;buffer+="                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-noti-list04-lj01",options):helperMissing.call(depth0,"i18n","codeSharing-noti-list04-lj01",options)))+"\x3c/li\x3e                \x3cli\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-noti-list04-lj02",options):helperMissing.call(depth0,"i18n","codeSharing-noti-list04-lj02",options)))+"\x3c/li\x3e                ";return buffer}function program13(depth0,data){var buffer="",helper,options;buffer+="                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-noti-list04-1",
options):helperMissing.call(depth0,"i18n","codeSharing-noti-list04-1",options)))+"\x3c/li\x3e                ";return buffer}function program15(depth0,data){var buffer="",helper,options;buffer+="                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-noti-list05",options):helperMissing.call(depth0,"i18n","codeSharing-noti-list05",options)))+"\x3c/li\x3e                ";return buffer}function program17(depth0,
data){var buffer="",stack1,helper,options;buffer+='            \x3cbr\x3e            \x3ch3 class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"itinerary-detail-label",options):helperMissing.call(depth0,"i18n","itinerary-detail-label",options)))+"\x3c/h3\x3e            \x3cul\x3e                ";stack1=helpers.each.call(depth0,depth0&&depth0.CSairlineNames,{hash:{},inverse:self.noop,fn:self.program(18,program18,
data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/ul\x3e            ";stack1=helpers["if"].call(depth0,depth0&&depth0.isLJ,{hash:{},inverse:self.noop,fn:self.program(23,program23,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program18(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cli\x3e                        \x3cspan class\x3d"date"\x3e'+escapeExpression((stack1=depth0&&depth0.date,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x26nbsp;\x3c/span\x3e                        \x3cspan class\x3d"flight-num strong"\x3e'+escapeExpression((stack1=depth0&&depth0.flightNumber,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x26nbsp;\x3c/span\x3e                    \x3cspan class\x3d"data"\x3e                        \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"from-location-label",options):helperMissing.call(depth0,"i18n","from-location-label",options)))+"\x26nbsp;\x3c/span\x3e"+escapeExpression((stack1=depth0&&depth0.departureAirport,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x26nbsp;                        \x3cspan aria-hidden\x3d"true"\x3e-\x26nbsp;\x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"to-label",options):helperMissing.call(depth0,"i18n","to-label",options)))+"\x26nbsp;\x3c/span\x3e"+escapeExpression((stack1=depth0&&depth0.destinationAirport,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x26nbsp;                    \x3c/span\x3e                        \x3cspan class\x3d"codeshare"\x3e';stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(21,program21,data),fn:self.program(19,program19,data),data:data},helper?helper.call(depth0,
depth0&&depth0.airlineCode,"\x3d\x3d","9B",options):helperMissing.call(depth0,"compare",depth0&&depth0.airlineCode,"\x3d\x3d","9B",options));if(stack1||stack1===0)buffer+=stack1;buffer+=" : \x3cstrong\x3e"+escapeExpression((stack1=depth0&&depth0.originalAirlineName,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/strong\x3e\x3c/span\x3e                    \x3c/li\x3e                ";return buffer}function program19(depth0,data){var helper,options;return escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"operated-by-train-label",options):helperMissing.call(depth0,"i18n","operated-by-train-label",options)))}function program21(depth0,data){var helper,options;return escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"operated-by-label",options):helperMissing.call(depth0,"i18n","operated-by-label",options)))}function program23(depth0,data){var buffer="";buffer+="                        ";
return buffer}function program25(depth0,data){var buffer="",helper,options;buffer+='            \x3ch2 class\x3d"modal-title" id\x3d"CodeShareOAL"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"oal-rule-tit",options):helperMissing.call(depth0,"i18n","oal-rule-tit",options)))+'\x3c/h2\x3e            \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"CodeShare-OAL-label",options):helperMissing.call(depth0,"i18n","CodeShare-OAL-label",options)))+"\x3c/p\x3e        ";return buffer}function program27(depth0,data){var buffer="",helper,options;buffer+='            \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"oal-cabin-label",options):helperMissing.call(depth0,"i18n","oal-cabin-label",options)))+"\x3c/p\x3e        ";return buffer}function program29(depth0,
data){var buffer="",stack1;buffer+="            ";stack1=helpers.unless.call(depth0,depth0&&depth0.award,{hash:{},inverse:self.noop,fn:self.program(30,program30,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program30(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3ch2 class\x3d"modal-title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-subTit01",
options):helperMissing.call(depth0,"i18n","codeSharing-subTit01",options)))+"\x3c/h2\x3e                ";stack1=helpers["if"].call(depth0,depth0&&depth0["KTM-3Dsecure-airline-info-label"],{hash:{},inverse:self.program(33,program33,data),fn:self.program(31,program31,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                \x3ch2 class\x3d"sub-tit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-subTit02",
options):helperMissing.call(depth0,"i18n","codeSharing-subTit02",options)))+'\x3c/h2\x3e                \x3cul class\x3d"type2"\x3e                    \x3cli\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-3D-list01",options):helperMissing.call(depth0,"i18n","codeSharing-3D-list01",options)))+"\x26nbsp;\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"codeSharing-3D-list04",options):helperMissing.call(depth0,"i18n","codeSharing-3D-list04",options)))+"\x26nbsp;\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-3D-list02",options):helperMissing.call(depth0,"i18n","codeSharing-3D-list02",options)))+"\x26nbsp;\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-3D-list03",options):helperMissing.call(depth0,"i18n","codeSharing-3D-list03",options)))+"\x26nbsp;\x3c/li\x3e                \x3c/ul\x3e            ";return buffer}function program31(depth0,data){var buffer="",helper,options;buffer+='                    \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"KTM-3Dsecure-airline-info-label",
options):helperMissing.call(depth0,"i18n","KTM-3Dsecure-airline-info-label",options)))+"\x3c/p\x3e                ";return buffer}function program33(depth0,data){var buffer="",helper,options;buffer+='                    \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"codeSharing-desc01",options):helperMissing.call(depth0,"i18n","codeSharing-desc01",options)))+"\x3c/p\x3e                ";return buffer}function program35(depth0,
data){var buffer="",helper,options;buffer+='            \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"need-to-VISA-info",options):helperMissing.call(depth0,"i18n","need-to-VISA-info",options)))+"\x3c/p\x3e        ";return buffer}function program37(depth0,data){var buffer="",helper,options;buffer+='            \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"same-fare-AdultNInfant-label",options):helperMissing.call(depth0,"i18n","same-fare-AdultNInfant-label",options)))+"\x3c/p\x3e        ";return buffer}function program39(depth0,data){var buffer="",stack1;buffer+='\x3cdiv class\x3d"btn_cen"\x3e                ';stack1=helpers["if"].call(depth0,depth0&&depth0["same-fare-AdultNInfant-label"],{hash:{},inverse:self.program(42,program42,data),fn:self.program(40,program40,data),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+="\x3c/div\x3e    ";return buffer}function program40(depth0,data){var buffer="",helper,options;buffer+='            \x3ca class\x3d"medium button button-page-blue" href\x3d"#" id\x3d"popContinue" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/a\x3e        ";return buffer}function program42(depth0,data){var buffer=
"",helper,options;buffer+='            \x3ca class\x3d"medium button button-page-gray" href\x3d"#" id\x3d"popClose" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cancel-label",options):helperMissing.call(depth0,"i18n","cancel-label",options)))+'\x3c/a\x3e            \x3ca class\x3d"medium button button-page-blue" href\x3d"#" id\x3d"popContinue" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/a\x3e        ";return buffer}function program44(depth0,data){var buffer="",helper,options;buffer+='    \x3cdiv class\x3d"btn_cen"\x3e        \x3ca class\x3d"medium button button-page-blue" href\x3d"#" id\x3d"popContinue" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/a\x3e    \x3c/div\x3e    ";return buffer}buffer+='\x3c!-- template:booking-bar-airport-messages --\x3e\x3cdiv class\x3d"airport-messages codesharing"\x3e    ';stack1=helpers["if"].call(depth0,depth0&&depth0.isTrain,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";stack1=helpers["if"].call(depth0,depth0&&depth0.isOALwithINF,{hash:{},inverse:self.program(7,
program7,data),fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";stack1=helpers.unless.call(depth0,depth0&&depth0.isOALwithINF,{hash:{},inverse:self.program(44,program44,data),fn:self.program(39,program39,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e\x3c!-- // template:booking-bar-airport-messages --\x3e";return buffer});templates["booking-bar-airports-dropdown-smartmenus"]=template(function(Handlebars,depth0,helpers,partials,
data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper;buffer+='\x3cli\x3e\x3ca href\x3d"#"\x3e';if(helper=helpers.name)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.name;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):
helper}buffer+=escapeExpression(stack1)+'\x3c/a\x3e\x3cul class\x3d""\x3e        ';stack1=helpers["if"].call(depth0,depth0&&depth0.onlineAirports,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0.offlineAirports,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/ul\x3e\x3c/li\x3e";return buffer}function program2(depth0,
data){var buffer="",stack1,helper,options;buffer+='            \x3cli class\x3d"sub-menu-header online"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"online-label",options):helperMissing.call(depth0,"i18n","online-label",options)))+"\x3c/li\x3e            ";stack1=helpers.each.call(depth0,depth0&&depth0.onlineAirports,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;
buffer+="        ";return buffer}function program3(depth0,data){var buffer="",stack1,helper;buffer+='            \x3cli\x3e                \x3ca href\x3d"#" data-option\x3d"';if(helper=helpers.code)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.code;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.name)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.name;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/a\x3e            \x3c/li\x3e            ";return buffer}function program5(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3cli class\x3d"sub-menu-header offline"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"offline-label",options):helperMissing.call(depth0,"i18n","offline-label",options)))+
"\x3c/li\x3e            ";stack1=helpers.each.call(depth0,depth0&&depth0.offlineAirports,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}stack1=helpers.each.call(depth0,depth0&&depth0.regions,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)return stack1;else return""});templates["booking-bar-airports-dropdown"]=template(function(Handlebars,depth0,helpers,partials,
data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1;buffer+="    ";stack1=helpers.each.call(depth0,depth0&&depth0.regions,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer}function program2(depth0,
data){var buffer="",stack1,helper;buffer+='        \x3cli\x3e            \x3ca href\x3d"#" data-option\x3d"';if(helper=helpers.code)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.code;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.name)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.name;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},
data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/a\x3e        \x3c/li\x3e    ";return buffer}function program4(depth0,data){var buffer="",stack1;buffer+="    ";stack1=helpers.each.call(depth0,depth0&&depth0.regions,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer}function program5(depth0,data){var buffer="",stack1,helper;buffer+='        \x3cli\x3e            \x3ca href\x3d"#"\x3e';if(helper=helpers.name)stack1=helper.call(depth0,
{hash:{},data:data});else{helper=depth0&&depth0.name;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/a\x3e            \x3cul class\x3d"second-level-menu"\x3e                ';stack1=helpers["if"].call(depth0,depth0&&depth0.onlineAirports,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.offlineAirports,
{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/ul\x3e        \x3c/li\x3e    ";return buffer}function program6(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cli class\x3d"sub-menu-header online"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"online-label",options):helperMissing.call(depth0,"i18n","online-label",
options)))+"\x3c/li\x3e                    ";stack1=helpers.each.call(depth0,depth0&&depth0.onlineAirports,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program7(depth0,data){var buffer="",stack1,helper;buffer+='                        \x3cli\x3e                            \x3ca href\x3d"#" data-option\x3d"';if(helper=helpers.code)stack1=helper.call(depth0,{hash:{},data:data});else{helper=
depth0&&depth0.code;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.name)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.name;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/a\x3e                        \x3c/li\x3e                    ";return buffer}function program9(depth0,data){var buffer="",stack1,helper,
options;buffer+='                    \x3cli class\x3d"sub-menu-header offline"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"offline-label",options):helperMissing.call(depth0,"i18n","offline-label",options)))+"\x3c/li\x3e                    ";stack1=helpers.each.call(depth0,depth0&&depth0.offlineAirports,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";
return buffer}stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(4,program4,data),fn:self.program(1,program1,data),data:data},helper?helper.call(depth0,depth0&&depth0.regionType,"\x3d\x3d\x3d","domestic",options):helperMissing.call(depth0,"compare",depth0&&depth0.regionType,"\x3d\x3d\x3d","domestic",options));if(stack1||stack1===0)return stack1;else return""});templates["booking-bar-base"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=
[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"m_book-flight-label",options):helperMissing.call(depth0,"i18n","m_book-flight-label",options)))+
"                    ";return buffer}function program3(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"book-flight-label",options):helperMissing.call(depth0,"i18n","book-flight-label",options)))+"                    ";return buffer}function program5(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"m_check-in-label",options):helperMissing.call(depth0,"i18n","m_check-in-label",options)))+"                    ";return buffer}function program7(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"check-in-label",options):helperMissing.call(depth0,"i18n","check-in-label",options)))+"                    ";
return buffer}function program9(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"m_flight-status-label",options):helperMissing.call(depth0,"i18n","m_flight-status-label",options)))+"                    ";return buffer}function program11(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"flight-status-label",options):helperMissing.call(depth0,"i18n","flight-status-label",options)))+"                    ";return buffer}function program13(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"m_my-flights-label",options):helperMissing.call(depth0,"i18n","m_my-flights-label",options)))+"                    ";
return buffer}function program15(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"my-flights-label",options):helperMissing.call(depth0,"i18n","my-flights-label",options)))+"                    ";return buffer}function program17(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"m_menu-label",options):helperMissing.call(depth0,"i18n","m_menu-label",options)))+"                    ";return buffer}function program19(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"menu-label",options):helperMissing.call(depth0,"i18n","menu-label",options)))+"                    ";return buffer}buffer+='\x3cdiv class\x3d"logoNav"\x3e    \x3cnav id\x3d"topNav" role\x3d"navigation" aria-label\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-main",options):helperMissing.call(depth0,"i18n","UWA-main",options)))+'"\x3e        \x3cul class\x3d"navi-area"\x3e            \x3cli id\x3d"book-a-flight-item"\x3e                \x3ca class\x3d"topNavItem" id\x3d"top-nav-book" href\x3d"#"\x3e                    \x3cstrong\x3e';stack1=helpers["if"].call(depth0,depth0&&depth0.notPC,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,
program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                    \x3c/strong\x3e                \x3c/a\x3e            \x3c/li\x3e            \x3cli id\x3d"checkin-item"\x3e                \x3cbutton class\x3d"topNavItem" id\x3d"top-nav-checkin"\x3e                    \x3cstrong\x3e';stack1=helpers["if"].call(depth0,depth0&&depth0.notPC,{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=
'                    \x3c/strong\x3e                \x3c/button\x3e            \x3c/li\x3e            \x3cli id\x3d"status-item"\x3e                \x3ca class\x3d"topNavItem" id\x3d"top-nav-status" href\x3d"#"\x3e                    \x3cstrong\x3e';stack1=helpers["if"].call(depth0,depth0&&depth0.notPC,{hash:{},inverse:self.program(11,program11,data),fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                    \x3c/strong\x3e                \x3c/a\x3e            \x3c/li\x3e            \x3cli id\x3d"my-flights-item"\x3e                \x3ca class\x3d"topNavItem" id\x3d"top-nav-my-flights" href\x3d"#"\x3e                    \x3cstrong\x3e';
stack1=helpers["if"].call(depth0,depth0&&depth0.notPC,{hash:{},inverse:self.program(15,program15,data),fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                    \x3c/strong\x3e                \x3c/a\x3e            \x3c/li\x3e            \x3cli id\x3d"menu-item"\x3e                \x3cbutton class\x3d"topNavItem" id\x3d"top-nav-menu"  aria-expanded\x3d"false" aria-owns\x3d"mainmenu"\x3e                    \x3cstrong\x3e';stack1=helpers["if"].call(depth0,
depth0&&depth0.notPC,{hash:{},inverse:self.program(19,program19,data),fn:self.program(17,program17,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                    \x3c/strong\x3e                \x3c/button\x3e            \x3c/li\x3e        \x3c/ul\x3e    \x3c/nav \x3e            \x3cdiv class\x3d"booking-start"\x3e\x3c/div\x3e        \x3cdiv id\x3d"bookingDropDown"\x3e        \x3cdiv id\x3d"topHeaderShadow"\x3e\x3c/div\x3e        \x3cdiv id\x3d"bookingSteps"\x3e\x3c/div\x3e        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/drop_end.bmp" style\x3d"display:none"\x3e    \x3c/div\x3e    \x3cdiv id\x3d"myFlightsDropDown"\x3e        \x3cdiv id\x3d"myFlightsContainer"\x3e\x3c/div\x3e        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/menu_end.bmp" style\x3d"display:none"\x3e    \x3c/div\x3e\x3c/div\x3e';
return buffer});templates["booking-bar-discount-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var stack1,helper,options;stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,
fn:self.program(2,program2,data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"!\x3d\x3d","INFANT",options):helperMissing.call(depth0,"compare",depth0&&depth0.type,"!\x3d\x3d","INFANT",options));if(stack1||stack1===0)return stack1;else return""}function program2(depth0,data){var buffer="",stack1,helper,options;buffer+='\x3cli class\x3d"passengerDiscountSelect"\x3e';stack1=helpers["if"].call(depth0,depth0&&depth0.firstName,{hash:{},inverse:self.program(5,program5,data),fn:self.program(3,
program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3cselect class\x3d"scrollable" ageClass\x3d"'+escapeExpression((stack1=depth0&&depth0.type,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" placeholder\x3d"Loading..."        title\x3d"'+escapeExpression((helper=helpers.passengerClass||depth0&&depth0.passengerClass,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.type,options):helperMissing.call(depth0,"passengerClass",depth0&&depth0.type,options)))+
" "+escapeExpression((stack1=depth0&&depth0.number,typeof stack1===functionType?stack1.apply(depth0):stack1))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"np-promo-lp-coupon-select",options):helperMissing.call(depth0,"i18n","np-promo-lp-coupon-select",options)))+'" disabled \x3e\x3coption value\x3d""\x3eLoading...\x3c/option\x3e\x3c/select\x3e\x3cp class\x3d"discount-info"\x3e\x3c/p\x3e\x3c/li\x3e';return buffer}function program3(depth0,
data){var buffer="",helper,options;buffer+='\x3cp class\x3d"passengerType"\x3e'+escapeExpression((helper=helpers.passengerName||depth0&&depth0.passengerName,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"passengerName",depth0,options)))+"\x3c/p\x3e";return buffer}function program5(depth0,data){var buffer="",stack1,helper,options;buffer+='\x3cp class\x3d"passengerType"\x3e'+escapeExpression((helper=helpers.passengerClass||depth0&&depth0.passengerClass,
options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.type,options):helperMissing.call(depth0,"passengerClass",depth0&&depth0.type,options)))+" "+escapeExpression((stack1=depth0&&depth0.number,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e";return buffer}function program7(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv class\x3d"disclaimers"\x3e\x3cul\x3e\x3cli\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"book-seperately-for-multiple-discounts-label",options):helperMissing.call(depth0,"i18n","book-seperately-for-multiple-discounts-label",options)))+"\x3c/li\x3e\x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discounts-may-not-be-applied-label",options):helperMissing.call(depth0,"i18n","discounts-may-not-be-applied-label",options)))+"\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e";return buffer}buffer+='\x3cdiv id\x3d"discountSelectionContainer" class\x3d"custom-form"\x3e\x3ch3\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"passenger-discount-label",options):helperMissing.call(depth0,"i18n","passenger-discount-label",options)))+":\x3c/h3\x3e\x3cul\x3e";stack1=helpers.each.call(depth0,depth0&&depth0.travellers,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/ul\x3e\x3cdiv id\x3d"nextStepContainer"\x3e\x3ca id\x3d"nextStepButton" class\x3d"medium button flight-search" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"find-flights-label",options):helperMissing.call(depth0,"i18n","find-flights-label",options)))+'\x3c/a\x3e        \x3ca href\x3d"#cancel" class\x3d"cancelChanges"\x3eCancel\x3c/a\x3e\x3c/div\x3e';stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.bookingType,"\x3d\x3d\x3d",
"revenue",options):helperMissing.call(depth0,"compare",depth0&&depth0.bookingType,"\x3d\x3d\x3d","revenue",options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e";return buffer});templates["booking-bar-find-flights-button"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,self=this,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;
function program1(depth0,data){return"inactive"}buffer+='\x3ca id\x3d"nextStepButton" class\x3d"medium button flight-search ';stack1=helpers.unless.call(depth0,depth0&&depth0.passengerLength,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"find-flights-label",options):helperMissing.call(depth0,"i18n",
"find-flights-label",options)))+"\x3c/a\x3e";return buffer});templates["booking-bar-flight-status"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};return'\x3cdiv id\x3d"flightStatusWelcome"\x3e\x3ch4\x3eWelcome Ben\x3c/h4\x3e\x3cp\x3eThis is Photoshop\'s version  of Lorem Ipsum. Proin gravida nibh vel velit auctor. Quis bibendum auctor, nisi elit consequat ipsum, nec sagittis sem nibh id elit.\x3c/p\x3e\x3ca href\x3d"#" id\x3d"flightStatusWelcomeClose"\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-closeBtn.png"/\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"flightStatusListContainer"\x3e    \x3cdiv id\x3d"flightStatusTypeContainer"\x3e        \x3cul id\x3d"flightStatusTypeSelector"\x3e            \x3cli id\x3d"flightStatusReservationSelector"\x3e                \x3ca class\x3d"sortSelector selected" href\x3d"#" data\x3d"reservation"\x3eReservation\x3c/a\x3e            \x3c/li\x3e            \x3cli id\x3d"flightStatusTicketSelector"\x3e                \x3ca class\x3d"sortSelector" href\x3d"#" data\x3d"ticket"\x3eTickets\x3c/a\x3e            \x3c/li\x3e            \x3cdiv id\x3d"flightStatusSelectionArrow"\x3e\x3c/div\x3e        \x3c/ul\x3e    \x3c/div\x3e    \x3cdiv class\x3d"loadingMessage"\x3e    \x3cp id\x3d"msg"\x3e\x26nbsp;\x3c/p\x3e    \x3c/div\x3e    \x3ctable id\x3d"flightStatusList"\x3e\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d"reservationNumber" data-sort\x3d"int"\x3eReservation #\x3c/th\x3e\x3cth class\x3d"ticketNumber" data-sort\x3d"int"\x3eTicket #\x3c/th\x3e\x3cth data-sort\x3d"string"\x3eReservation Name\x3c/th\x3e\x3cth data-sort\x3d"string"\x3eDeparture Flight\x3c/th\x3e\x3cth data-sort\x3d"int"\x3eDepart Date\x3c/th\x3e\x3cth data-sort\x3d"int"\x3e# of Seats\x3c/th\x3e\x3cth data-sort\x3d"string"\x3eStatus\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd class\x3d"reservationNumber"\x3e1234567\x3c/td\x3e\x3ctd class\x3d"ticketNumber"\x3e43123412\x3c/td\x3e\x3ctd class\x3d"reservationName"\x3e\x3cinput type\x3d"text" value\x3d"Dream Trip" disabled\x3e\x3c/td\x3e\x3ctd\x3eLos Angeles (LAX)\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-right.png"/\x3eShanghai (PVG)\x3c/td\x3e\x3ctd data-sort-value\x3d"1335798463"\x3eSaturday, 09/28/13\x3c/td\x3e\x3ctd\x3e4\x3c/td\x3e\x3ctd class\x3d"status"\x3ePay By 9/20/2013\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"reservationNumber"\x3e2345678\x3c/td\x3e\x3ctd class\x3d"ticketNumber"\x3e43123411\x3c/td\x3e\x3ctd class\x3d"reservationName"\x3e\x3cinput type\x3d"text" value\x3d"Family Trip" disabled\x3e\x3c/td\x3e\x3ctd\x3eNew York (JFK)\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-right.png"/\x3eHong Kong (HKG)\x3c/td\x3e\x3ctd data-sort-value\x3d"1335798461"\x3eFriday, 09/17/13\x3c/td\x3e\x3ctd\x3e4\x3c/td\x3e\x3ctd class\x3d"status"\x3ePay For Me Sent\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"reservationNumber"\x3e3456789\x3c/td\x3e\x3ctd class\x3d"ticketNumber"\x3e43123419\x3c/td\x3e\x3ctd class\x3d"reservationName"\x3e\x3cinput type\x3d"text" value\x3d"Enter Name" disabled\x3e\x3c/td\x3e\x3ctd\x3eGimpo (GMP)\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-right.png"/\x3eGimhae (PUS)\x3c/td\x3e\x3ctd data-sort-value\x3d"1335798460"\x3eSunday, 09/15/13\x3c/td\x3e\x3ctd\x3e1\x3c/td\x3e\x3ctd class\x3d"status"\x3ePaid\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"reservationNumber"\x3e4567890\x3c/td\x3e\x3ctd class\x3d"ticketNumber"\x3e43123414\x3c/td\x3e\x3ctd class\x3d"reservationName"\x3e\x3cinput type\x3d"text" value\x3d"Business" disabled\x3e\x3c/td\x3e\x3ctd\x3eGimhae (PUS)\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-right.png"/\x3eGimpo (GMP)\x3c/td\x3e\x3ctd data-sort-value\x3d"1335798462"\x3eSunday, 09/22/13\x3c/td\x3e\x3ctd\x3e1\x3c/td\x3e\x3ctd class\x3d"status"\x3eOn Hold\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e    \x3c/table\x3e\x3c/div\x3e'});
templates["booking-bar-my-flights-tables"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1;buffer+='    \x3ctable\x3e\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d"reservationNumber" data-sort\x3d"int"\x3eReservation #\x3c/th\x3e\x3cth class\x3d"reservationName" data-sort\x3d"string"\x3eReservation Name\x3c/th\x3e\x3cth class\x3d"departureCity" data-sort\x3d"string"\x3eDeparture City\x3c/th\x3e\x3cth class\x3d"arrivalCity" data-sort\x3d"string"\x3eArrival City\x3c/th\x3e\x3cth class\x3d"departureDate" data-sort\x3d"int"\x3eDepart Date\x3c/th\x3e\x3cth class\x3d"passengerCount" data-sort\x3d"int"\x3e# of Seats\x3c/th\x3e\x3cth class\x3d"status" data-sort\x3d"string"\x3eStatus\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e';
stack1=helpers.each.call(depth0,depth0&&depth0.reservations,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/tbody\x3e    \x3c/table\x3e";return buffer}function program2(depth0,data){var buffer="",stack1,helper,options;buffer+='\x3ctr\x3e\x3ctd class\x3d"reservationNumber"\x3e\x3ca href\x3d"#"\x3e';if(helper=helpers.reservationNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.reservationNumber;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/a\x3e\x3c/td\x3e\x3ctd class\x3d"reservationName"\x3e\x3cinput type\x3d"text" value\x3d"';if(helper=helpers.aliasName)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.aliasName;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.aliasName,
{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3e\x3c/td\x3e\x3ctd class\x3d"departureCity"\x3e                        '+escapeExpression((helper=helpers.cityName||depth0&&depth0.cityName,options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),options):helperMissing.call(depth0,
"cityName",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),options)))+" ("+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),typeof stack1===functionType?stack1.apply(depth0):stack1))+')                    \x3c/td\x3e\x3ctd class\x3d"arrivalCity"\x3e                        '+
escapeExpression((helper=helpers.cityName||depth0&&depth0.cityName,options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),options):helperMissing.call(depth0,"cityName",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),options)))+
" ("+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),typeof stack1===functionType?stack1.apply(depth0):stack1))+')                    \x3c/td\x3e\x3ctd class\x3d"departureDate" data-sort-value\x3d"'+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.itinerary,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.arival),
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"dddd, MM/DD/YY"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:
stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options)))+'\x3c/td\x3e\x3ctd class\x3d"passengerCount"\x3e'+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.passengerCount),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/td\x3e";stack1=helpers["if"].call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:
stack1[0]),stack1==null||stack1===false?stack1:stack1.status),{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/tr\x3e";return buffer}function program3(depth0,data){return"disabled"}function program5(depth0,data){var buffer="",stack1;buffer+='\x3ctd class\x3d"status"\x3e'+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||
stack1===false?stack1:stack1.status),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/td\x3e";return buffer}function program7(depth0,data){return'\x3ctd class\x3d"status"\x3e - \x3c/td\x3e'}function program9(depth0,data){return'    \x3cdiv class\x3d"center"\x3eNo Reservations Found.\x3c/div\x3e'}function program11(depth0,data){var buffer="",stack1;buffer+='    \x3ctable\x3e\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d"ticketNumber" data-sort\x3d"int"\x3eTicket #\x3c/th\x3e\x3cth class\x3d"passengerName" data-sort\x3d"string"\x3ePassenger Name\x3c/th\x3e\x3cth class\x3d"departureDate" data-sort\x3d"int"\x3eDepart Date\x3c/th\x3e\x3cth class\x3d"departureCity" data-sort\x3d"string"\x3eDeparture City\x3c/th\x3e\x3cth class\x3d"arrivalCity" data-sort\x3d"string"\x3eArrival City\x3c/th\x3e\x3cth class\x3d"status" data-sort\x3d"string"\x3eStatus\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e';
stack1=helpers.each.call(depth0,depth0&&depth0.tickets,{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/tbody\x3e    \x3c/table\x3e";return buffer}function program12(depth0,data){var buffer="",stack1,helper,options;buffer+='     \x3ctr\x3e\x3ctd class\x3d"ticketNumber"\x3e'+escapeExpression((stack1=depth0&&depth0.ticketNumber,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/td\x3e\x3ctd class\x3d"passengerName"\x3e'+
escapeExpression((stack1=(stack1=depth0&&depth0.passenger,stack1==null||stack1===false?stack1:stack1.lastName),typeof stack1===functionType?stack1.apply(depth0):stack1))+", "+escapeExpression((stack1=(stack1=depth0&&depth0.passenger,stack1==null||stack1===false?stack1:stack1.firstName),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/td\x3e\x3ctd class\x3d"departureDate" data-sort-value\x3d"'+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.bounds,stack1==null||stack1===false?
stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.arrival),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"dddd, MM/DD/YY"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.bounds,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.arrival),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.bounds,
stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.arrival),options)))+'\x3c/td\x3e\x3ctd class\x3d"departureCity"\x3e'+escapeExpression((helper=helpers.cityName||depth0&&depth0.cityName,options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.bounds,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),options):helperMissing.call(depth0,"cityName",(stack1=(stack1=depth0&&depth0.bounds,
stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),options)))+" ("+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.bounds,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),typeof stack1===functionType?stack1.apply(depth0):stack1))+')\x3c/td\x3e\x3ctd class\x3d"arrivalCity"\x3e'+escapeExpression((helper=helpers.cityName||depth0&&depth0.cityName,options={hash:{},data:data},
helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.bounds,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),options):helperMissing.call(depth0,"cityName",(stack1=(stack1=depth0&&depth0.bounds,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),options)))+" ("+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.bounds,stack1==null||stack1===false?stack1:stack1[0]),
stack1==null||stack1===false?stack1:stack1.destinationAirportCode),typeof stack1===functionType?stack1.apply(depth0):stack1))+")\x3c/td\x3e";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.ticketingInfo,stack1==null||stack1===false?stack1:stack1.description),{hash:{},inverse:self.program(7,program7,data),fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/tr\x3e";return buffer}function program13(depth0,data){var buffer="",stack1;buffer+='\x3ctd class\x3d"status"\x3e'+
escapeExpression((stack1=(stack1=depth0&&depth0.ticketingInfo,stack1==null||stack1===false?stack1:stack1.description),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/td\x3e";return buffer}function program15(depth0,data){return'    \x3cdiv class\x3d"center"\x3eNo Tickets Found.\x3c/div\x3e'}buffer+='\x3cdiv class\x3d"custom-form"\x3e    \x3cdiv id\x3d"reservationStatusList"\x3e  ';stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.reservations,stack1==null||stack1===false?stack1:
stack1.length),{hash:{},inverse:self.program(9,program9,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3c/div\x3e    \x3cdiv id\x3d"ticketStatusList"\x3e    ';stack1=helpers["if"].call(depth0,depth0&&depth0.tickets,{hash:{},inverse:self.program(15,program15,data),fn:self.program(11,program11,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/div\x3e\x3c/div\x3e";return buffer});templates["booking-bar-my-flights"]=template(function(Handlebars,
depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression;buffer+='\x3cdiv id\x3d"flightStatusWelcome"\x3e\x3ch4\x3eWelcome '+escapeExpression((stack1=depth0&&depth0.firstName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/h4\x3e\x3cp\x3eThis is Photoshop\'s version  of Lorem Ipsum. Proin gravida nibh vel velit auctor. Quis bibendum auctor, nisi elit consequat ipsum, nec sagittis sem nibh id elit.\x3c/p\x3e\x3ca href\x3d"#" id\x3d"flightStatusWelcomeClose"\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-closeBtn.png"/\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"flightStatusListContainer"\x3e    \x3cdiv id\x3d"flightStatusTypeContainer" class\x3d"tabbar"\x3e        \x3cul id\x3d"flightStatusTypeSelector"\x3e            \x3cli id\x3d"flightStatusReservationSelector" class\x3d"tabbar-option"\x3e                \x3ca class\x3d"sortSelector selected" href\x3d"#" data\x3d"reservation"\x3eReservation\x3c/a\x3e            \x3c/li\x3e            \x3cli id\x3d"flightStatusTicketSelector" class\x3d"tabbar-option"\x3e                \x3ca class\x3d"sortSelector" href\x3d"#" data\x3d"ticket"\x3eTickets\x3c/a\x3e            \x3c/li\x3e            \x3cdiv class\x3d"tabbar-arrow"\x3e\x3c/div\x3e        \x3c/ul\x3e    \x3c/div\x3e    \x3cdiv class\x3d"loadingMessage"\x3e    \x3cp id\x3d"msg"\x3e\x26nbsp;\x3c/p\x3e    \x3c/div\x3e    \x3cdiv id\x3d"flightStatusListScrollingContainer"\x3e    \x3c/div\x3e\x3c/div\x3e';
return buffer});templates["booking-bar-next-button"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,self=this,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;function program1(depth0,data){return"inactive"}buffer+='\x3ca id\x3d"nextStepButton" class\x3d"medium button choose-discounts ';stack1=helpers.unless.call(depth0,depth0&&
depth0.passengerLength,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" href\x3d"#select-discounts"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"next-label",options):helperMissing.call(depth0,"i18n","next-label",options)))+"\x3c/a\x3e";return buffer});templates["booking-bar-passenger-selector-skypass"]=template(function(Handlebars,depth0,helpers,partials,
data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='        \x3cli id\x3d"infantsListItem"\x3e            \x3ch4\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"infants-label",
options):helperMissing.call(depth0,"i18n","infants-label",options)))+'\x3c/h4\x3e\x3ca id\x3d"bookingbar-infants-info" href\x3d"#choose-passengers" class\x3d"moreInfoIcon"\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/more-info-icon.png"\x3e\x3c/a\x3e            \x3cspan id\x3d"infantNumber"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,"0",options):helperMissing.call(depth0,"numberFormat","0",
options)))+'\x3c/span\x3e            \x3cdiv class\x3d"plus-minus"\x3e                \x3ca href\x3d"#" id\x3d"minusInfant" class\x3d"bookingMinus"\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-minus.gif"\x3e\x3c/a\x3e\x3ca href\x3d"#" id\x3d"plusInfant" class\x3d"bookingPlus"\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-plus.gif"\x3e\x3c/a\x3e            \x3c/div\x3e        \x3c/li\x3e        ';return buffer}buffer+='\x3cdiv id\x3d"seatSelectionContainer" class\x3d"award"\x3e\x3cul\x3e\x3cli id\x3d"cabinClassItem"\x3e\x3ch4\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cabin-class-label",options):helperMissing.call(depth0,"i18n","cabin-class-label",options)))+'\x3c/h4\x3e\x3cul\x3e\x3cli data\x3d"economy"\x3e\x3cimg height\x3d"104" src\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.images,stack1==null||stack1===false?stack1:stack1.economy),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"  alt\x3d"'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"economy-class-label",options):helperMissing.call(depth0,"i18n","economy-class-label",options)))+'"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"economy-class-label",options):helperMissing.call(depth0,"i18n","economy-class-label",options)))+'\x3c/p\x3e\x3c/li\x3e\x3cli data\x3d"prestige"\x3e\x3cimg src\x3d"'+escapeExpression((stack1=(stack1=depth0&&
depth0.images,stack1==null||stack1===false?stack1:stack1.prestige),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"  alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-class-label",options):helperMissing.call(depth0,"i18n","prestige-class-label",options)))+'"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-class-label",
options):helperMissing.call(depth0,"i18n","prestige-class-label",options)))+'\x3c/p\x3e\x3c/li\x3e\x3cli data\x3d"first"\x3e\x3cimg src\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.images,stack1==null||stack1===false?stack1:stack1.firstclass),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"  alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"first-class-label",options):helperMissing.call(depth0,"i18n","first-class-label",
options)))+'"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"first-class-label",options):helperMissing.call(depth0,"i18n","first-class-label",options)))+'\x3c/p\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"seatSelector"\x3e\x3ca href\x3d"#" class\x3d"cabinLeft"\x3e\x3cimg id\x3d"cabinSelectLeft" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-left.png"\x3e\x3c/a\x3e\x3ca href\x3d"#" class\x3d"cabinRight"\x3e\x3cimg id\x3d"cabinSelectRight" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-right.png"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/li\x3e\x3cli id\x3d"passengerListItem"\x3e\x3ch4\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"choose-award-passengers-label",options):helperMissing.call(depth0,"i18n","choose-award-passengers-label",options)))+'\x3c/h4\x3e\x3ca href\x3d"#" class\x3d"bookingPlus"\x3e\x3cimg class\x3d"info-link" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"choose-award-passengers-extended-label",options):helperMissing.call(depth0,
"i18n","choose-award-passengers-extended-label",options)))+'" src\x3d"/etc/clientlibs/koreanair/images/icon-question-mark-sm.png"\x3e\x3c/a\x3e\x3cdiv id\x3d"passengerListContainer"\x3e\x3ca href\x3d"#" id\x3d"passengerSelectUpArrow" class\x3d"inactive arrow" data-direction\x3d"up"\x3e\x3cimg id\x3d"passengerSelectUp" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-up-gray.png"\x3e\x3c/a\x3e\x3cdiv id\x3d"passengerListScrollContainer"\x3e\x3cul class\x3d\'passengers\'\x3e\x3cli\x3e\x3cdiv class\x3d"loading-bar"\x3e\x3cdiv class\x3d"loading-bar-animation"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3ca href\x3d"#" id\x3d"passengerSelectDownArrow" class\x3d"arrow" data-direction\x3d"down"\x3e\x3cimg id\x3d"passengerSelectDown" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-down-gray.png"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/li\x3e        ';
stack1=helpers["if"].call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/ul\x3e\x3cdiv class\x3d"adultChild"\x3e \x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"accompanying-adult-18-label",options):helperMissing.call(depth0,"i18n","accompanying-adult-18-label",options)))+'\x3c/p\x3e \x3c/div\x3e \x3cdiv class\x3d"onlyChild"\x3e    \x3cp\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"unaccompanied-child-disclaimer",options):helperMissing.call(depth0,"i18n","unaccompanied-child-disclaimer",options)))+'\x3c/p\x3e    \x3c/div\x3e\x3cdiv class\x3d"loneChild"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"unaccompanied-child-disclaimer",options):helperMissing.call(depth0,"i18n","unaccompanied-child-disclaimer",
options)))+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"loneInfant"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"infant-must-be-with-adult-disclaimer",options):helperMissing.call(depth0,"i18n","infant-must-be-with-adult-disclaimer",options)))+'\x3c/p\x3e\x3c/div\x3e\x3cdiv id\x3d"nextStepContainer"\x3e'+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?helper.call(depth0,
"booking-bar-find-flights-button",options):helperMissing.call(depth0,"include","booking-bar-find-flights-button",options)))+'\x3ca href\x3d"#cancel" class\x3d"cancelChanges"\x3eCancel\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e';return buffer});templates["booking-bar-passenger-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,
escapeExpression=this.escapeExpression,self=this,functionType="function";function program1(depth0,data){var stack1;stack1=helpers.unless.call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)return stack1;else return""}function program2(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv class\x3d"bonusUpgrade"\x3e\x3clabel for\x3d"isBonusUpgrade" class\x3d"checkbox-wrapper"\x3e\x3cinput type\x3d"checkbox" name\x3d"isBonusUpgrade" id\x3d"isBonusUpgrade" class\x3d"css-checkbox"\x3e\x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bonus-upgrade-fare-search-label",options):helperMissing.call(depth0,"i18n","bonus-upgrade-fare-search-label",options)))+"\x3c/label\x3e\x3c/div\x3e";return buffer}buffer+='\x3cdiv id\x3d"seatSelectionContainer"\x3e\x3cul\x3e\x3cli id\x3d"cabinClassItem"\x3e\x3ch3\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cabin-class-label",
options):helperMissing.call(depth0,"i18n","cabin-class-label",options)))+'\x3ca id\x3d"cabin-class-info" href\x3d"#" class\x3d"moreInfoIcon"\x3e\x3cimg  alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"more-info",options):helperMissing.call(depth0,"i18n","more-info",options)))+'" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/more-info-icon.png"\x3e\x3c/a\x3e\x3c/h3\x3e\x3cul\x3e\x3cli data\x3d"economy"\x3e\x3cimg height\x3d"104"  alt\x3d"" src\x3d"'+
escapeExpression((stack1=(stack1=depth0&&depth0.images,stack1==null||stack1===false?stack1:stack1.economy),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"economy-class-label",options):helperMissing.call(depth0,"i18n","economy-class-label",options)))+'\x3c/p\x3e\x3c/li\x3e\x3cli data\x3d"prestige"\x3e\x3cimg alt\x3d"" src\x3d"'+escapeExpression((stack1=(stack1=
depth0&&depth0.images,stack1==null||stack1===false?stack1:stack1.prestige),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-class-label",options):helperMissing.call(depth0,"i18n","prestige-class-label",options)))+'\x3c/p\x3e\x3c/li\x3e\x3cli data\x3d"first"\x3e\x3cimg alt\x3d"" src\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.images,stack1==
null||stack1===false?stack1:stack1.firstclass),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"first-class-label",options):helperMissing.call(depth0,"i18n","first-class-label",options)))+'\x3c/p\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"seatSelector"\x3e\x3ca href\x3d"#" class\x3d"cabinLeft"\x3e\x3cimg id\x3d"cabinSelectLeft" alt\x3d"previous cabin class option" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-left.png"\x3e\x3c/a\x3e\x3ca href\x3d"#" class\x3d"cabinRight"\x3e\x3cimg id\x3d"cabinSelectRight" alt\x3d"next cabin class option" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-right.png"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/li\x3e\x3cli id\x3d"adultsListItem"\x3e\x3ch3\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adults-label",options):helperMissing.call(depth0,"i18n","adults-label",options)))+'\x3c/h3\x3e\x3cspan id\x3d"adultNumber"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,"1",options):helperMissing.call(depth0,"numberFormat","1",options)))+'\x3c/span\x3e\x3cdiv class\x3d"plus-minus"\x3e\x3ca href\x3d"#" id\x3d"minusAdult" class\x3d"bookingMinus"\x3e\x3cimg alt\x3d"subtract one adult" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-minus.gif"\x3e\x3c/a\x3e\x3ca href\x3d"#" id\x3d"plusAdult" class\x3d"bookingPlus"\x3e\x3cimg alt\x3d"add one adult" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-plus.gif"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/li\x3e\x3cli id\x3d"childrenListItem"\x3e\x3ch3\x3e'+
escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"children-label",depth0&&depth0.domesticity,options):helperMissing.call(depth0,"i18nConcat","children-label",depth0&&depth0.domesticity,options)))+'\x3c/h3\x3e\x3ca id\x3d"bookingbar-children-info" href\x3d"#choose-passengers" class\x3d"moreInfoIcon"\x3e\x3cimg  alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"more-info",options):helperMissing.call(depth0,"i18n","more-info",options)))+'" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/more-info-icon.png"\x3e\x3c/a\x3e\x3cspan id\x3d"childNumber"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,"0",options):helperMissing.call(depth0,"numberFormat","0",options)))+'\x3c/span\x3e\x3cdiv class\x3d"plus-minus"\x3e\x3ca href\x3d"#" id\x3d"minusChild" class\x3d"bookingMinus"\x3e\x3cimg alt\x3d"subtract one child" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-minus.gif"\x3e\x3c/a\x3e\x3ca href\x3d"#" id\x3d"plusChild" class\x3d"bookingPlus"\x3e\x3cimg alt\x3d"add one child" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-plus.gif"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/li\x3e        \x3cli id\x3d"infantsListItem"\x3e            \x3ch3\x3e'+
escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"infants-label",depth0&&depth0.domesticity,options):helperMissing.call(depth0,"i18nConcat","infants-label",depth0&&depth0.domesticity,options)))+'\x3c/h3\x3e\x3ca id\x3d"bookingbar-infants-info"  href\x3d"#choose-passengers" class\x3d"moreInfoIcon"\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/more-info-icon.png"  alt\x3d"'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"more-info",options):helperMissing.call(depth0,"i18n","more-info",options)))+'"\x3e\x3c/a\x3e            \x3cspan id\x3d"infantNumber"\x3e'+escapeExpression((helper=helpers.numberFormat||depth0&&depth0.numberFormat,options={hash:{},data:data},helper?helper.call(depth0,"0",options):helperMissing.call(depth0,"numberFormat","0",options)))+'\x3c/span\x3e            \x3cdiv class\x3d"plus-minus"\x3e                \x3ca href\x3d"#" id\x3d"minusInfant" class\x3d"bookingMinus"\x3e\x3cimg alt\x3d"subtract one infant" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-minus.gif"\x3e\x3c/a\x3e\x3ca href\x3d"#" id\x3d"plusInfant" class\x3d"bookingPlus"\x3e\x3cimg alt\x3d"add one infant" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-plus.gif"\x3e\x3c/a\x3e            \x3c/div\x3e        \x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"loneChild"\x3e\x3cp\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"unaccompanied-child-disclaimer",options):helperMissing.call(depth0,"i18n","unaccompanied-child-disclaimer",options)))+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"accompanyingAdult"\x3e\x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"accompanying-adult-18-label",options):helperMissing.call(depth0,"i18n","accompanying-adult-18-label",
options)))+"\x3c/p\x3e\x3c/div\x3e";stack1=helpers["if"].call(depth0,depth0&&depth0.isPrimeBooking,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3cdiv id\x3d"nextStepContainer"\x3e'+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?helper.call(depth0,"booking-bar-next-button",options):helperMissing.call(depth0,"include","booking-bar-next-button",options)))+'\x3ca href\x3d"#cancel" class\x3d"cancelChanges"\x3eCancel\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e';
return buffer});templates["booking-bar-payment-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};return'\x3cdiv id\x3d"paymentSelectionContainer"\x3e\x3ch3\x3eHow would you like to pay for your trip?\x3c/h3\x3e\x3cul\x3e\x3cli\x3e\x3ca href\x3d"#book-a-flight" class\x3d"medium button" id\x3d"payWithCashButton"\x3ePay With Cash\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"#book-a-flight" class\x3d"medium button" id\x3d"payWithMilesButton"\x3ePay With Miles\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e'});
templates["booking-bar-progress-bar-award"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1;stack1=helpers.unless.call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.program(4,program4,data),fn:self.program(2,
program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program2(depth0,data){var buffer="",helper,options;buffer+='        \x3cli class\x3d"stepContainer flightSelectStep currentStep flexcont1-5 " id\x3d"step-flightselect" \x3e            \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-currentStep",options):helperMissing.call(depth0,"i18n","UWA-currentStep",
options)))+'\x3c/span\x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number2" data-step\x3d"2"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flex-dates-selection-label",options):helperMissing.call(depth0,"i18n","flex-dates-selection-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont2-5" id\x3d"step-options" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number3" data-step\x3d"3"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"fare-schedule-selection-label",options):helperMissing.call(depth0,"i18n","fare-schedule-selection-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont3-5" id\x3d"step-travellerinfo" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number4" data-step\x3d"4"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"traveller-info-label",options):helperMissing.call(depth0,"i18n","traveller-info-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont4-5" id\x3d"step-payment" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number5" data-step\x3d"5"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"payment-label",options):helperMissing.call(depth0,"i18n","payment-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont5-5" id\x3d"step-confirm" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number6" data-step\x3d"6"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        ";return buffer}function program4(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cli class\x3d"stepContainer flightSelectStep currentStep  flexcont1-4" id\x3d"step-options"\x3e            \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-currentStep",options):helperMissing.call(depth0,"i18n","UWA-currentStep",options)))+'\x3c/span\x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number2" data-step\x3d"2"\x3e                    ';stack1=helpers["if"].call(depth0,depth0&&depth0.isFlightAndFareSelection,{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===
0)buffer+=stack1;buffer+='                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep  flexcont2-4 " id\x3d"step-travellerinfo" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number3" data-step\x3d"3"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"traveller-info-label",options):helperMissing.call(depth0,
"i18n","traveller-info-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont3-4 " id\x3d"step-payment" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number4" data-step\x3d"4"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"payment-label",options):helperMissing.call(depth0,"i18n","payment-label",
options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep  flexcont4-4" id\x3d"step-confirm" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number5" data-step\x3d"5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        ";
return buffer}function program5(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-fare-selection-label",options):helperMissing.call(depth0,"i18n","flight-fare-selection-label",options)))+"                    ";return buffer}function program7(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-selection-label",options):helperMissing.call(depth0,"i18n","flight-selection-label",options)))+"                    ";return buffer}buffer+='\x3cdiv class\x3d"bookingProgressBar newMenu"\x3e    \x3col id\x3d"bookingHUD"  class\x3d"newbookingHUD white-bar"\x3e        \x3cli class\x3d"flightSelectStep step-st1" id\x3d"step1container"\x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number1" data-step\x3d"1"\x3e                    \x3ca class\x3d"book-a-flight" href\x3d"javascript:;" role\x3d"button"\x3e                        \x3cul class\x3d"step-2depth"\x3e                            \x3cli id\x3d"startOverItem" role\x3d"presentation" \x3e\x3cspan\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-start-icon.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"itinerary-overview-label",options):helperMissing.call(depth0,"i18n","itinerary-overview-label",options)))+'"\x3e\x3c/span\x3e\x3c/li\x3e                            \x3cli class\x3d"stepContainer step-st2 step-st2-1" id\x3d"tripFlightItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"1"\x3e\x3c/span\x3e\x3c/li\x3e                            \x3cli class\x3d"stepContainer step-st2 step-st2-2" id\x3d"tripDateItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"2"\x3e\x3c/span\x3e\x3c/li\x3e                            \x3cli class\x3d"stepContainer step-st2 step-st2-3" id\x3d"tripPassengerItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"3"\x3e\x3c/span\x3e\x3c/li\x3e                        \x3c/ul\x3e                    \x3c/a\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        ';
stack1=helpers["if"].call(depth0,depth0&&depth0.isDateSelect,{hash:{},inverse:self.program(4,program4,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/ol\x3e\x3c/div\x3e";return buffer});templates["booking-bar-progress-bar-onholdpurchase"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,
escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"bookingProgressBar newMenu"\x3e    \x3col id\x3d"bookingHUD"  class\x3d"newbookingHUD white-bar"\x3e        \x3cli class\x3d"flightSelectStep step-st1" id\x3d"step1container"\x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number1" data-step\x3d"1"\x3e                                        \x3cul class\x3d"step-2depth"\x3e                        \x3cli id\x3d"startOverItem" role\x3d"presentation" \x3e\x3cspan\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-start-icon.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"itinerary-overview-label",options):helperMissing.call(depth0,"i18n","itinerary-overview-label",options)))+'"\x3e\x3c/span\x3e\x3c/li\x3e                        \x3cli class\x3d"stepContainer step-st2 step-st2-1" id\x3d"tripFlightItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"1"\x3e\x3c/span\x3e\x3c/li\x3e                        \x3cli class\x3d"stepContainer step-st2 step-st2-2" id\x3d"tripDateItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"2"\x3e\x3c/span\x3e\x3c/li\x3e                        \x3cli class\x3d"stepContainer step-st2 step-st2-3" id\x3d"tripPassengerItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"3"\x3e\x3c/span\x3e\x3c/li\x3e                    \x3c/ul\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep currentStep  flexcont1-3" id\x3d"step-travellerinfo" \x3e        \x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-currentStep",options):helperMissing.call(depth0,"i18n","UWA-currentStep",options)))+'\x3c/span\x3e        \x3cdiv class\x3d"step-info"\x3e            \x3cdiv class\x3d"bookingStep number2" data-step\x3d"2"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"traveller-info-label",options):helperMissing.call(depth0,"i18n",
"traveller-info-label",options)))+'\x3c/div\x3e        \x3c/div\x3e    \x3c/li\x3e    \x3cli class\x3d"stepContainer flightSelectStep inactiveStep  flexcont2-3" id\x3d"step-payment" \x3e        \x3cdiv class\x3d"step-info"\x3e            \x3cdiv class\x3d"bookingStep number3" data-step\x3d"3"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"payment-label",options):helperMissing.call(depth0,"i18n","payment-label",options)))+'\x3c/div\x3e        \x3c/div\x3e    \x3c/li\x3e    \x3cli class\x3d"stepContainer flightSelectStep inactiveStep  flexcont3-3" id\x3d"step-confirm" \x3e        \x3cdiv class\x3d"step-info"\x3e            \x3cdiv class\x3d"bookingStep number4" data-step\x3d"4"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/div\x3e        \x3c/div\x3e    \x3c/li\x3e\x3c/ol\x3e\x3c/div\x3e";return buffer});templates["booking-bar-progress-bar"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,
helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='        \x3cli class\x3d"stepContainer flightSelectStep currentStep flexcont1-5 " id\x3d"step-flightselect" \x3e                        \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-currentStep",options):helperMissing.call(depth0,
"i18n","UWA-currentStep",options)))+'\x3c/span\x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number2" data-step\x3d"2"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-selection-label",options):helperMissing.call(depth0,"i18n","flight-selection-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont2-5" id\x3d"step-options" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number3" data-step\x3d"3"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"options-label",options):helperMissing.call(depth0,"i18n","options-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont3-5" id\x3d"step-travellerinfo" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number4" data-step\x3d"4"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"traveller-info-label",options):helperMissing.call(depth0,"i18n","traveller-info-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont4-5" id\x3d"step-payment" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number5" data-step\x3d"5"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"payment-label",options):helperMissing.call(depth0,"i18n","payment-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont5-5" id\x3d"step-confirm" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number6" data-step\x3d"6"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        ";return buffer}function program3(depth0,data){var buffer="",stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0.isFlex,{hash:{},inverse:self.program(6,program6,data),fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}
function program4(depth0,data){var buffer="",helper,options;buffer+='        \x3cli class\x3d"stepContainer flightSelectStep currentStep flexcont1-5 " id\x3d"step-flightselect" \x3e            \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-currentStep",options):helperMissing.call(depth0,"i18n","UWA-currentStep",options)))+'\x3c/span\x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number2" data-step\x3d"2"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flex-dates-selection-label",options):helperMissing.call(depth0,"i18n","flex-dates-selection-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont2-5" id\x3d"step-options" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number3" data-step\x3d"3"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"fare-schedule-selection-label",options):helperMissing.call(depth0,"i18n","fare-schedule-selection-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont3-5" id\x3d"step-travellerinfo" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number4" data-step\x3d"4"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"traveller-info-label",options):helperMissing.call(depth0,"i18n","traveller-info-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont4-5" id\x3d"step-payment" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number5" data-step\x3d"5"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"payment-label",options):helperMissing.call(depth0,"i18n","payment-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont5-5" id\x3d"step-confirm" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number6" data-step\x3d"6"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        ";return buffer}function program6(depth0,data){var buffer="",helper,options;buffer+='        \x3cli class\x3d"stepContainer flightSelectStep currentStep flexcont1-4" id\x3d"step-options" \x3e            \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"UWA-currentStep",options):helperMissing.call(depth0,"i18n","UWA-currentStep",options)))+'\x3c/span\x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number2" data-step\x3d"2"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"fare-schedule-selection-label",options):helperMissing.call(depth0,"i18n","fare-schedule-selection-label",options)))+
'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont2-4" id\x3d"step-travellerinfo" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number3" data-step\x3d"3"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"traveller-info-label",options):helperMissing.call(depth0,"i18n","traveller-info-label",options)))+
'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont3-4" id\x3d"step-payment" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number4" data-step\x3d"4"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"payment-label",options):helperMissing.call(depth0,"i18n","payment-label",options)))+'\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli class\x3d"stepContainer flightSelectStep inactiveStep flexcont4-4" id\x3d"step-confirm" \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number5" data-step\x3d"5"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-label",options):helperMissing.call(depth0,"i18n","confirm-label",options)))+"\x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        ";return buffer}buffer+='\x3cdiv class\x3d"bookingProgressBar newMenu "\x3e    \x3col id\x3d"bookingHUD" class\x3d"newbookingHUD white-bar"\x3e        \x3cli class\x3d"flightSelectStep step-st1 " id\x3d"step1container"  \x3e            \x3cdiv class\x3d"step-info"\x3e                \x3cdiv class\x3d"bookingStep number1" data-step\x3d"1"\x3e                    \x3ca class\x3d"book-a-flight" href\x3d"javascript:;" role\x3d"button"\x3e                        \x3cul class\x3d"step-2depth"\x3e                            \x3cli id\x3d"startOverItem" role\x3d"presentation"\x3e\x3cspan\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/booking-start-icon.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"itinerary-overview-label",options):helperMissing.call(depth0,"i18n","itinerary-overview-label",options)))+'"\x3e\x3c/span\x3e\x3c/li\x3e                            \x3cli class\x3d"stepContainer step-st2 step-st2-1" id\x3d"tripFlightItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"1"\x3e\x3c/span\x3e\x3c/li\x3e                            \x3cli class\x3d"stepContainer step-st2 step-st2-2" id\x3d"tripDateItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"2"\x3e\x3c/span\x3e\x3c/li\x3e                            \x3cli class\x3d"stepContainer step-st2 step-st2-3" id\x3d"tripPassengerItem"\x3e\x3cspan class\x3d"bookingStep" data-step\x3d"3"\x3e\x3c/span\x3e\x3c/li\x3e                        \x3c/ul\x3e                    \x3c/a\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e                ';
stack1=helpers["if"].call(depth0,depth0&&depth0.isDefault,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/ol\x3e\x3c/div\x3e";return buffer});templates["booking-bar-student-discount-link"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,functionType="function",escapeExpression=
this.escapeExpression;buffer+='\x3ca href\x3d"#" class\x3d"student-discount-link"\x3e';if(helper=helpers.text)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.text;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/a\x3e";return buffer});templates["booking-bar-to-from-date-smartmenus"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,
Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"individualTripDetailsContainer"\x3e\x3cul class\x3d"tripDetailsSelector"\x3e\x3cli class\x3d"fromSelector flight-select-third ui-front"\x3e\x3cdiv class\x3d"autoFillHolder"\x3e\x3ca href\x3d"#" tabindex\x3d"-1" class\x3d\'displayFlyout\'\x3e\x3cimg class\x3d"fromTarget" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/place-icon.png" alt\x3d"Click to open menu of places"/\x3e\x3c/a\x3e\x3cdiv style\x3d"position:relative"\x3e                    \x3clabel class\x3d"offscreen" for\x3d"from-input"\x3eDeparting City\x3c/label\x3e\x3cinput class\x3d"fromInput" type\x3d"text" value\x3d"" placeholder\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"from-location-label",options):helperMissing.call(depth0,"i18n","from-location-label",options)))+'" \x3e                    \x3cul class\x3d"fromFlyout sm sm-simple floating"\x3e                        \x3cli\x3e\x3ca href\x3d\'#\' class\x3d\'placeholder\'\x3ea\x3c/a\x3e                             \x3cul class\x3d"fromFlyout regions"\x3e                                \x3cli\x3e\x3ca href\x3d"#"\x3eLoading\x3c/a\x3e\x3c/li\x3e                                \x3cli\x3e\x3ca href\x3d"#"\x3eAirports\x3c/a\x3e\x3c/li\x3e                                \x3cli\x3e\x3ca href\x3d"#"\x3eNow\x3c/a\x3e\x3c/li\x3e                            \x3c/ul\x3e                        \x3c/li\x3e                    \x3c/ul\x3e\x3c/div\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"toSelector flight-select-third ui-front"\x3e\x3cdiv class\x3d"autoFillHolder"\x3e\x3ca href\x3d"#" tabindex\x3d"-1" class\x3d\'displayFlyout\'\x3e\x3cimg class\x3d"toTarget" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/place-icon.png" alt\x3d"Click to open menu of places"/\x3e\x3c/a\x3e\x3cdiv style\x3d"position:relative"\x3e                    \x3clabel class\x3d"offscreen" for\x3d"to-input"\x3eArrival City\x3c/label\x3e\x3cinput class\x3d"toInput" type\x3d"text" value\x3d"" placeholder\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"to-label",options):helperMissing.call(depth0,"i18n","to-label",options)))+'" \x3e                    \x3cul class\x3d"fromFlyout sm sm-simple floating"\x3e                    \x3cli\x3e\x3ca href\x3d\'#\' class\x3d\'placeholder\'\x3ea\x3c/a\x3e                             \x3cul class\x3d"fromFlyout regions"\x3e                                \x3cli\x3e\x3ca href\x3d"#"\x3eLoading\x3c/a\x3e\x3c/li\x3e                                \x3cli\x3e\x3ca href\x3d"#"\x3eAirports\x3c/a\x3e\x3c/li\x3e                                \x3cli\x3e\x3ca href\x3d"#"\x3eNow\x3c/a\x3e\x3c/li\x3e                            \x3c/ul\x3e                        \x3c/li\x3e                    \x3c/ul\x3e\x3c/div\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"dateSelector flight-select-third"\x3e\x3cdiv\x3e\x3ca class\x3d"dateSelectorButton" href\x3d"#" tabindex\x3d"-1"\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/date-picker-icon.png" alt\x3d"Using the calendar tool, select return date followed by departure date.  You may also enter these dates manually in form field that follows."/\x3e\x3c/a\x3e\x3cinput class\x3d"dateInput" type\x3d"text" placeholder\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"depart-return-label-double",options):helperMissing.call(depth0,"i18n","depart-return-label-double",options)))+'"\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"calendarContainer" aria-hidden\x3d"true"\x3e\x3c/div\x3e\x3c/div\x3e';return buffer});templates["booking-bar-to-from-date"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];
helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"individualTripDetailsContainer"\x3e\x3cul class\x3d"tripDetailsSelector"\x3e\x3cli class\x3d"fromSelector flight-select-third ui-front"\x3e\x3cdiv class\x3d"autoFillHolder"\x3e\x3ca href\x3d"#" tabindex\x3d"-1"\x3e\x3cimg class\x3d"fromTarget" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/place-icon.png" alt\x3d"Click to open menu of places"/\x3e\x3c/a\x3e\x3cdiv style\x3d"position:relative"\x3e\x3clabel class\x3d"offscreen" for\x3d"from-input"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"departure-city-label",options):helperMissing.call(depth0,"i18n","departure-city-label",options)))+'\x3c/label\x3e\x3cinput class\x3d"fromInput" type\x3d"text" value\x3d"" placeholder\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"from-location-label",options):helperMissing.call(depth0,"i18n","from-location-label",
options)))+'" \x3e\x3cul class\x3d"fromFlyout flyout" data-max\x3d"4" data-label\x3d".fromInput" data-target\x3d".fromTarget"\x3e\x3cli\x3e\x3ca href\x3d"#"\x3eLoading\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"#"\x3eAirports\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"#"\x3eNow\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"toSelector flight-select-third ui-front"\x3e\x3cdiv class\x3d"autoFillHolder"\x3e\x3ca href\x3d"#" tabindex\x3d"-1"\x3e\x3cimg class\x3d"toTarget" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/place-icon.png" alt\x3d"Click to open menu of places"/\x3e\x3c/a\x3e\x3cdiv style\x3d"position:relative"\x3e\x3clabel class\x3d"offscreen" for\x3d"to-input"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"arrival-city-label",options):helperMissing.call(depth0,"i18n","arrival-city-label",options)))+'\x3c/label\x3e\x3cinput class\x3d"toInput" type\x3d"text" value\x3d"" placeholder\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"to-label",options):helperMissing.call(depth0,"i18n","to-label",options)))+'" \x3e\x3cul class\x3d"toFlyout flyout" data-max\x3d"4" data-label\x3d".toInput" data-target\x3d".toTarget"\x3e\x3cli\x3e\x3ca href\x3d"#"\x3eLoading\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"#"\x3eAirports\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"#"\x3eNow\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"dateSelector flight-select-third"\x3e\x3cdiv\x3e\x3ca class\x3d"dateSelectorButton" href\x3d"#" tabindex\x3d"-1"\x3e\x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/date-picker-icon.png" alt\x3d"Using the calendar tool, select return date followed by departure date.  You may also enter these dates manually in form field that follows."/\x3e\x3c/a\x3e\x3clabel\x3e\x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"enter-date-label",options):helperMissing.call(depth0,"i18n","enter-date-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-format-label",options):helperMissing.call(depth0,"i18n","date-format-label",options)))+'\x3c/span\x3e\x3cinput class\x3d"dateInput" type\x3d"text" placeholder\x3d"'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"depart-return-label-double",options):helperMissing.call(depth0,"i18n","depart-return-label-double",options)))+'"\x3e\x3c/label\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"calendarContainer" aria-hidden\x3d"true"\x3e\x3c/div\x3e\x3c/div\x3e';return buffer});templates["booking-bar-trip-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=
this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv id\x3d"changeResrevationTitle"\x3e\x3ch2\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"change-reservation-label",options):helperMissing.call(depth0,"i18n","change-reservation-label",
options)))+"\x3c/h2\x3e\x3c/div\x3e";return buffer}function program3(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv id\x3d"tripTypeContainer" class\x3d"tabbar"\x3e\x3cul id\x3d"regionTypeSelector"\x3e\x3cli\x3e            \x3cdiv class\x3d"trip-region"\x3e                \x3cinput id\x3d"trip-region-dom" type\x3d"radio" data-region\x3d"domestic" name\x3d"selected-region" value\x3d""/\x3e                \x3clabel for\x3d"trip-region-dom"\x3e\x3cspan\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"region-dom-label",options):helperMissing.call(depth0,"i18n","region-dom-label",options)))+'\x3c/span\x3e\x3c/label\x3e            \x3c/div\x3e\x3c/li\x3e\x3cli\x3e            \x3cdiv class\x3d"trip-region"\x3e                \x3cinput id\x3d"trip-region-intl" type\x3d"radio" data-region\x3d"international" name\x3d"selected-region" value\x3d""/\x3e                \x3clabel for\x3d"trip-region-intl"\x3e\x3cspan\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"region-intl-label",options):helperMissing.call(depth0,"i18n","region-intl-label",options)))+'\x3c/span\x3e\x3c/label\x3e            \x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3cul id\x3d"tripTypeSelector" role\x3d"tablist" tabindex\x3d"0" aria-label\x3d"Select the type of trip you would like to take"\x3e\x3cli class\x3d"tabbar-option" id\x3d"oneWaySelector" role\x3d"tab"\x3e\x3ca class\x3d"typeSelector" href\x3d"#" data\x3d"'+
escapeExpression((helper=helpers.jsConstant||depth0&&depth0.jsConstant,options={hash:{},data:data},helper?helper.call(depth0,"koreanair.Booking.TRIP_TYPES.ONE_WAY",options):helperMissing.call(depth0,"jsConstant","koreanair.Booking.TRIP_TYPES.ONE_WAY",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"one-way-label",options):helperMissing.call(depth0,"i18n","one-way-label",options)))+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"tabbar-option" id\x3d"roundTripSelector" role\x3d"tab" aria-selected\x3d"true"\x3e\x3ca class\x3d"typeSelector selected" href\x3d"#" data\x3d"'+
escapeExpression((helper=helpers.jsConstant||depth0&&depth0.jsConstant,options={hash:{},data:data},helper?helper.call(depth0,"koreanair.Booking.TRIP_TYPES.ROUND_TRIP",options):helperMissing.call(depth0,"jsConstant","koreanair.Booking.TRIP_TYPES.ROUND_TRIP",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"roundtrip-label",options):helperMissing.call(depth0,"i18n","roundtrip-label",options)))+'\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"tabbar-option" id\x3d"multiCitySelector" role\x3d"tab" \x3e\x3ca class\x3d"typeSelector" href\x3d"#" data\x3d"'+
escapeExpression((helper=helpers.jsConstant||depth0&&depth0.jsConstant,options={hash:{},data:data},helper?helper.call(depth0,"koreanair.Booking.TRIP_TYPES.MULTI_CITY",options):helperMissing.call(depth0,"jsConstant","koreanair.Booking.TRIP_TYPES.MULTI_CITY",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-open-label",options):helperMissing.call(depth0,"i18n","multi-open-label",options)))+'\x3cspan class\x3d\'info-button\'\x3e?\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"tabbar-option" id\x3d"myTrips" role\x3d"tab"\x3e\x3c/li\x3e\x3cdiv class\x3d"tabbar-arrow"\x3e\x3c/div\x3e\x3c/ul\x3e\x3c/div\x3e';
return buffer}function program5(depth0,data){var buffer="";return buffer}function program7(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv class\x3d"additionalFeatures custom-form"\x3e\x3clabel for\x3d"isAward" class\x3d"bookWithMiles checkbox-wrapper"\x3e\x3cinput type\x3d"checkbox" name\x3d"isAward" id\x3d"isAward" class\x3d"css-checkbox" /\x3e\x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"book-with-miles-label",options):helperMissing.call(depth0,"i18n","book-with-miles-label",options)))+'\x3c/label\x3e\x3clabel for\x3d"isFlex" class\x3d"checkbox-wrapper"\x3e\x3cinput type\x3d"checkbox" name\x3d"isFlex" id\x3d"isFlex" class\x3d"css-checkbox" /\x3e\x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flex-dates-option-label",options):helperMissing.call(depth0,"i18n","flex-dates-option-label",
options)))+"\x3c/label\x3e\x3c/div\x3e";return buffer}stack1=(helper=helpers.checkOr||depth0&&depth0.checkOr,options={hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data},helper?helper.call(depth0,depth0&&depth0.isChange,depth0&&depth0.isReissue,options):helperMissing.call(depth0,"checkOr",depth0&&depth0.isChange,depth0&&depth0.isReissue,options));if(stack1||stack1===0)buffer+=stack1;buffer+='\x3cdiv id\x3d"flightError" class\x3d"error center" tabindex\x3d"0"\x3eThere was no error. If you are seeing this, It is okay. Please continue.\x3c/div\x3e\x3cdiv id\x3d"tripDetailsContainer"\x3e'+
escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?helper.call(depth0,"booking-bar-to-from-date",options):helperMissing.call(depth0,"include","booking-bar-to-from-date",options)))+'\x3c/div\x3e\x3cdiv id\x3d"bookingbarDefaultLabel" class\x3d"center default-text"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bookingbar-default-front-label",options):helperMissing.call(depth0,"i18n",
"bookingbar-default-front-label",options)))+' \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/place-icon.png"  alt\x3d"Click to icon" /\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bookingbar-default-back-label",options):helperMissing.call(depth0,"i18n","bookingbar-default-back-label",options)))+'\x3c/div\x3e\x3cdiv id\x3d"nextStepContainer"\x3e';stack1=(helper=helpers.checkOr||depth0&&depth0.checkOr,options=
{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data},helper?helper.call(depth0,depth0&&depth0.isChange,depth0&&depth0.isReissue,options):helperMissing.call(depth0,"checkOr",depth0&&depth0.isChange,depth0&&depth0.isReissue,options));if(stack1||stack1===0)buffer+=stack1;buffer+='\x3ca id\x3d"nextStepButton" class\x3d"medium button choose-passengers" href\x3d"#choose-passengers" role\x3d"button" \x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"next-label",options):helperMissing.call(depth0,"i18n","next-label",options)))+'\x3c/a\x3e    \x3ca href\x3d"#cancel" class\x3d"cancelChanges"\x3eCancel\x3c/a\x3e\x3c/div\x3e';return buffer})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["add-skypass-number"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this,blockHelperMissing=helpers.blockHelperMissing;function program1(depth0,
data){var buffer="",stack1,helper,options;buffer+='            \x3cul class\x3d"radio-area" role\x3d"group" aria-label\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nc-pop-member-typeselect",options):helperMissing.call(depth0,"i18n","nc-pop-member-typeselect",options)))+'"\x3e                \x3cli class\x3d"posR" role\x3d"presentation"\x3e                    \x3cinput id\x3d"myskypass" name\x3d"memskypass" type\x3d"radio" class\x3d"required"/\x3e                    \x3cspan class\x3d"radiobox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"myskypass"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-skypass-input",options):helperMissing.call(depth0,"i18n","rsrv-search-login-skypass-input",options)))+" ("+escapeExpression((stack1=depth0&&depth0.userNewSkypass,typeof stack1===functionType?stack1.apply(depth0):stack1))+')\x3c/label\x3e                \x3c/li\x3e                \x3cli class\x3d"posR" role\x3d"presentation"\x3e                    \x3cinput id\x3d"directinput" name\x3d"memskypass" type\x3d"radio" class\x3d"required" /\x3e                    \x3cspan class\x3d"radiobox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"directinput"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-membership-direct-input",options):helperMissing.call(depth0,"i18n","rsrv-search-login-membership-direct-input",options)))+"\x3c/label\x3e                \x3c/li\x3e            \x3c/ul\x3e            ";return buffer}function program3(depth0,data){var buffer="",helper,options;buffer+="                                        "+escapeExpression((helper=helpers["airline-code-options"]||
depth0&&depth0["airline-code-options"],options={hash:{},data:data},helper?helper.call(depth0,"airline-name",options):helperMissing.call(depth0,"airline-code-options","airline-name",options)))+"                                    ";return buffer}function program5(depth0,data){var buffer="",stack1,helper;buffer+="                                        ";if(helper=helpers["airline-code-options-mobilezone"])stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0["airline-code-options-mobilezone"];
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"                                    ";return buffer}buffer+='\x3c!--layerpopup--\x3e\x3cdiv class\x3d"arrow-up"\x3e\x3c/div\x3e    \x3cdiv class\x3d"layer-pop skypass" id\x3d"skypassnum-edit"\x3e        \x3ch2 class\x3d"modal-title" id\x3d"mem-skypass"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nc-pop-member",
options):helperMissing.call(depth0,"i18n","nc-pop-member",options)))+'\x3c/h2\x3e        \x3cform id\x3d"frequentFlyerForm" class\x3d"custom-form keForm"\x3e            ';stack1=helpers["if"].call(depth0,depth0&&depth0.isShowSkypass,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3cdiv class\x3d"division frequent-flyer passenger-frequent-flyer"\x3e                \x3cdl role\x3d"presentation"\x3e                    \x3cdt\x3e                        \x3cspan id\x3d"user_number_info_'+
escapeExpression((stack1=depth0&&depth0.type,typeof stack1===functionType?stack1.apply(depth0):stack1))+"_"+escapeExpression((stack1=depth0&&depth0.number,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"label_title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"ff-passenger-num",options):helperMissing.call(depth0,"i18n","ff-passenger-num",options)))+'\x3c/span\x3e                    \x3c/dt\x3e                    \x3cdd role\x3d"group" aria-labelledby\x3d"user_number_info_'+
escapeExpression((stack1=depth0&&depth0.type,typeof stack1===functionType?stack1.apply(depth0):stack1))+"_"+escapeExpression((stack1=depth0&&depth0.number,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e                        \x3cdiv class\x3d"select-with-info"\x3e                            \x3cdiv class\x3d"styled-select airlineselect"\x3e                                \x3cselect name\x3d"membershipCode" id\x3d"'+escapeExpression((stack1=depth0&&depth0.type,typeof stack1===functionType?
stack1.apply(depth0):stack1))+"_"+escapeExpression((stack1=depth0&&depth0.number,typeof stack1===functionType?stack1.apply(depth0):stack1))+'_frequentFlyerInfo" class\x3d"title vFFTypeRequired ffProgram ke-selectbox"  data-value\x3d\'\' title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"pe-mileage-airline",options):helperMissing.call(depth0,"i18n","pe-mileage-airline",options)))+'"\x3e                                    \x3coption value\x3d""\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"retroclaim-choose-airline",options):helperMissing.call(depth0,"i18n","retroclaim-choose-airline",options)))+"\x3c/option\x3e                                    ";options={hash:{},inverse:self.program(5,program5,data),fn:self.program(3,program3,data),data:data};if(helper=helpers.isNotMobileZone)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.isNotMobileZone;stack1=typeof helper===
functionType?helper.call(depth0,options):helper}if(!helpers.isNotMobileZone)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.program(5,program5,data),fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                \x3c/select\x3e                            \x3c/div\x3e                        \x3c/div\x3e                        \x3cdiv class\x3d"posR"\x3e                            \x3cspan class\x3d"placeholder" id\x3d"placeholder_'+
escapeExpression((stack1=depth0&&depth0.type,typeof stack1===functionType?stack1.apply(depth0):stack1))+"_"+escapeExpression((stack1=depth0&&depth0.number,typeof stack1===functionType?stack1.apply(depth0):stack1))+'_flyerNumber" data-placeholder-id\x3d"'+escapeExpression((stack1=depth0&&depth0.type,typeof stack1===functionType?stack1.apply(depth0):stack1))+"_"+escapeExpression((stack1=depth0&&depth0.number,typeof stack1===functionType?stack1.apply(depth0):stack1))+'_flyerNumber"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"pe-member-entry",options):helperMissing.call(depth0,"i18n","pe-member-entry",options)))+'\x3c/span\x3e                            \x3cinput type\x3d"text" name\x3d"membershipNumber" id\x3d"'+escapeExpression((stack1=depth0&&depth0.type,typeof stack1===functionType?stack1.apply(depth0):stack1))+"_"+escapeExpression((stack1=depth0&&depth0.number,typeof stack1===functionType?stack1.apply(depth0):stack1))+'_flyerNumber" class\x3d"membershipNumber " value\x3d"" maxlength\x3d"12" title\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"pe-member-optional",options):helperMissing.call(depth0,"i18n","pe-member-optional",options)))+'" /\x3e                        \x3c/div\x3e                    \x3c/dd\x3e                \x3c/dl\x3e            \x3c/div\x3e            \x3cdiv id\x3d"divValidation" class\x3d"errorMessageContainer"\x3e\x3c/div\x3e            \x3cdiv class\x3d"btn-area"\x3e                \x3cbutton name\x3d"cancel-membership" class\x3d"button-page-gray" type\x3d"button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nc-btn-cancel",options):helperMissing.call(depth0,"i18n","nc-btn-cancel",options)))+'\x3c/button\x3e                \x3cbutton name\x3d"save-membership" class\x3d"button-page-blue" \x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nc-btn-input",options):helperMissing.call(depth0,"i18n","nc-btn-input",options)))+'\x3c/button\x3e            \x3c/div\x3e        \x3c/form\x3e    \x3c/div\x3e\x3cbutton class\x3d"popup-close"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Close",options):helperMissing.call(depth0,"i18n","Close",options)))+"\x3c/button\x3e\x3c!--//layerpopup--\x3e";return buffer});templates["date-selector-base"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=
this.escapeExpression;buffer+='\x3ca href\x3d"#" class\x3d"searchDateSelectorButton"\x3e    \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/date-picker-icon.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select-date",options):helperMissing.call(depth0,"i18n","WA-btn-select-date",options)))+'" /\x3e\x3c/a\x3e\x3cdiv class\x3d"searchCalendarContainer singleDate"\x3e\x3c/div\x3e';return buffer});templates["pager"]=
template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="";buffer+='\x3cdiv class\x3d"paging"\x3e        \x3c/div\x3e';return buffer})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["pr-input-email"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?
helper.call(depth0,"input-email-address-entered",options):helperMissing.call(depth0,"i18n","input-email-address-entered",options)))+'\x3c/h4\x3e\x3cform action class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"email-address-label",options):helperMissing.call(depth0,"i18n","email-address-label",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" name\x3d"email-address"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"input-email-submit" class\x3d"medium button" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"submit-label",options):helperMissing.call(depth0,"i18n","submit-label",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-korean-password-sv"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,
options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"how-look-up-password",options):helperMissing.call(depth0,"i18n","how-look-up-password",options)))+'\x3c/h4\x3e\x3ca id\x3d"i-pin-auth" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"i-pin-auth",options):helperMissing.call(depth0,"i18n","i-pin-auth",options)))+'\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3ca id\x3d"mobile-auth" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"mobile-auth",options):helperMissing.call(depth0,"i18n","mobile-auth",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"or-with-personal",options):helperMissing.call(depth0,"i18n","or-with-personal",options)))+'\x3c/h4\x3e\x3cdiv class\x3d"pr-error"\x3e\x3c/div\x3e\x3cform action id\x3d"password-form" class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-id",options):helperMissing.call(depth0,"i18n","user-id",
options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"user-id-field" name\x3d"user-id-field"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"last-name",options):helperMissing.call(depth0,"i18n","last-name",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"last-name"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+'\x3c/label\x3e\x3cdiv class\x3d"compound-input"\x3e\x3cinput id\x3d"year" name\x3d"year" type\x3d"text" placeholder\x3d"YYYY" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,
"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"year-label",options):helperMissing.call(depth0,"i18n","year-label",options)))+'"\x3e\x3cinput id\x3d"month" name\x3d"month" type\x3d"text" placeholder\x3d"MM" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",
options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"month-label",options):helperMissing.call(depth0,"i18n","month-label",options)))+'"\x3e\x3cinput id\x3d"day" name\x3d"day" type\x3d"text" placeholder\x3d"DD" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"days-label",options):helperMissing.call(depth0,"i18n","days-label",options)))+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"password-submit" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"submit-label",options):helperMissing.call(depth0,
"i18n","submit-label",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-korean-skypass-sv"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"how-look-up-skypass",options):helperMissing.call(depth0,"i18n","how-look-up-skypass",options)))+'\x3c/h4\x3e\x3ca id\x3d"i-pin-auth" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"i-pin-auth",options):helperMissing.call(depth0,"i18n","i-pin-auth",options)))+'\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3ca id\x3d"mobile-auth" class\x3d"medium button" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"mobile-auth",options):helperMissing.call(depth0,"i18n","mobile-auth",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"or-with-personal",options):helperMissing.call(depth0,"i18n","or-with-personal",options)))+'\x3c/h4\x3e\x3cdiv class\x3d"pr-error"\x3e\x3c/div\x3e\x3cform action id\x3d"skypass-form" class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"last-name",options):helperMissing.call(depth0,"i18n","last-name",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"last-name"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"first-name",options):
helperMissing.call(depth0,"i18n","first-name",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"first-name"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"email",options):helperMissing.call(depth0,"i18n","email",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"email" name\x3d"email"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+'\x3c/label\x3e\x3cdiv class\x3d"compound-input"\x3e\x3cinput id\x3d"year" name\x3d"year" type\x3d"text" placeholder\x3d"YYYY" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,
"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"year-label",options):helperMissing.call(depth0,"i18n","year-label",options)))+'"\x3e\x3cinput id\x3d"month" name\x3d"month" type\x3d"text" placeholder\x3d"MM" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",
options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"month-label",options):helperMissing.call(depth0,"i18n","month-label",options)))+'"\x3e\x3cinput id\x3d"day" name\x3d"day" type\x3d"text" placeholder\x3d"DD" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"days-label",options):helperMissing.call(depth0,"i18n","days-label",options)))+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"skypass-search" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"search",options):helperMissing.call(depth0,
"i18n","search",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-korean-user-id-sv"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"how-look-up-user-id",options):helperMissing.call(depth0,"i18n","how-look-up-user-id",options)))+'\x3c/h4\x3e\x3ca id\x3d"i-pin-auth" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"i-pin-auth",options):helperMissing.call(depth0,"i18n","i-pin-auth",options)))+'\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3ca id\x3d"mobile-auth" class\x3d"medium button" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"mobile-auth",options):helperMissing.call(depth0,"i18n","mobile-auth",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"or-with-personal",options):helperMissing.call(depth0,"i18n","or-with-personal",options)))+'\x3c/h4\x3e\x3cdiv class\x3d"pr-error"\x3e\x3c/div\x3e\x3cform action class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3cdiv class\x3d"vertical"\x3e\x3cinput id\x3d"skypass-lookup" type\x3d"radio" name\x3d"how-look-up"\x3e\x3c/input\x3e\x3clabel for\x3d"skypass-lookup"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"skypass-member-num",options):helperMissing.call(depth0,"i18n","skypass-member-num",options)))+'\x3c/label\x3e\x3cinput id\x3d"email-lookup" type\x3d"radio" name\x3d"how-look-up"\x3e\x3c/input\x3e\x3clabel for\x3d"email-lookup"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"email",options):helperMissing.call(depth0,
"i18n","email",options)))+"\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-password-reset-confirm"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"password-reset-success",options):helperMissing.call(depth0,"i18n","password-reset-success",options)))+"\x3c/h4\x3e";return buffer});templates["pr-password-reset"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"in-order-to-reset",options):helperMissing.call(depth0,"i18n","in-order-to-reset",options)))+'\x3c/h4\x3e\x3cp class\x3d"please-refer-setting-password"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"please-refer-setting-password",options):helperMissing.call(depth0,"i18n","please-refer-setting-password",options)))+"\x3c/p\x3e\x3cp\x3e"+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"password-length-must-be",options):helperMissing.call(depth0,"i18n","password-length-must-be",options)))+"\x3c/p\x3e\x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"must-contain-one-or-more",options):helperMissing.call(depth0,"i18n","must-contain-one-or-more",options)))+"\x3c/p\x3e\x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"must-not-contain-six",options):helperMissing.call(depth0,"i18n","must-not-contain-six",options)))+"\x3c/p\x3e\x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"may-not-be-user-id",options):helperMissing.call(depth0,"i18n","may-not-be-user-id",options)))+"\x3c/p\x3e\x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"may-not-be-user-phone",options):helperMissing.call(depth0,"i18n","may-not-be-user-phone",options)))+'\x3c/p\x3e\x3cdiv class\x3d"pr-error"\x3e\x3c/div\x3e\x3cform action id\x3d"new-password-form" class\x3d"custom-form" method\x3d"post"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"new-password",options):helperMissing.call(depth0,
"i18n","new-password",options)))+'\x3c/label\x3e            \x3cinput type\x3d"password" id\x3d"new-password" name\x3d"new-password" autocomplete\x3d"off"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-new-password",options):helperMissing.call(depth0,"i18n","confirm-new-password",options)))+'\x3c/label\x3e\x3cinput type\x3d"password" id\x3d"confirm-new-password" name\x3d"confirm-new-password" autocomplete\x3d"off"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"reset-password-submit" class\x3d"medium button" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"reset-password",options):helperMissing.call(depth0,"i18n","reset-password",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-password-sv"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,
helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"provide-password-information",options):helperMissing.call(depth0,"i18n","provide-password-information",options)))+'\x3c/h4\x3e\x3cdiv class\x3d"pr-error"\x3e\x3c/div\x3e\x3cform action id\x3d"password-form" class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-id",options):helperMissing.call(depth0,"i18n","user-id",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"user-id-field" name\x3d"user-id-field"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"last-name",options):helperMissing.call(depth0,"i18n","last-name",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"last-name" name\x3d"last-name"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+'\x3c/label\x3e\x3cdiv class\x3d"compound-input"\x3e\x3cinput id\x3d"year" name\x3d"year" type\x3d"text" placeholder\x3d"YYYY" title\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"year-label",options):helperMissing.call(depth0,"i18n","year-label",options)))+'"\x3e\x3cinput id\x3d"month" name\x3d"month" type\x3d"text" placeholder\x3d"MM" title\x3d"'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"month-label",options):helperMissing.call(depth0,"i18n","month-label",options)))+'"\x3e\x3cinput id\x3d"day" name\x3d"day" type\x3d"text" placeholder\x3d"DD" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"days-label",options):helperMissing.call(depth0,"i18n","days-label",options)))+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"password-submit" class\x3d"medium button" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"submit-label",options):helperMissing.call(depth0,"i18n","submit-label",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-reset-confirm"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,
helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"reset-password-complete",options):helperMissing.call(depth0,"i18n","reset-password-complete",options)))+'\x3c/h4\x3e\x3ca id\x3d"back-to-login" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"login",options):helperMissing.call(depth0,"i18n","login",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e";return buffer});templates["pr-reset-link-confirm"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"reset-password-link-sent",options):helperMissing.call(depth0,"i18n","reset-password-link-sent",options)))+'\x3c/h4\x3e\x3ca id\x3d"back-to-login" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"login",options):helperMissing.call(depth0,"i18n","login",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e";return buffer});templates["pr-retrieved-user-id"]=
template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function";buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-id-success",options):helperMissing.call(depth0,"i18n","user-id-success",
options)))+'\x3c/h4\x3e\x3cspan id\x3d"user-id-label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-id",options):helperMissing.call(depth0,"i18n","user-id",options)))+': \x3c/span\x3e\x3cspan id\x3d"user-id-placeholder"\x3e';if(helper=helpers.userId)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.userId;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+
'\x3c/span\x3e\x3ca id\x3d"back-to-login" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"login",options):helperMissing.call(depth0,"i18n","login",options)))+'\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3ca id\x3d"find-skypass-or-password" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"find-skypass-or-password",options):
helperMissing.call(depth0,"i18n","find-skypass-or-password",options)))+"\x3c/a\x3e";return buffer});templates["pr-sec-quest"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function";buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"answer-security-question",options):helperMissing.call(depth0,"i18n","answer-security-question",options)))+'\x3c/h4\x3e\x3cdiv class\x3d"pr-error"\x3e\x3c/div\x3e\x3cform action id\x3d"security-question-form" class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"no-sec-quest" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"no-security-question",options):helperMissing.call(depth0,"i18n","no-security-question",options)))+"\x3c/a\x3e\x3cp\x3e";if(helper=helpers.securityQuestion)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.securityQuestion;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"security-answer",options):helperMissing.call(depth0,"i18n","security-answer",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"security-answer" name\x3d"security-answer"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"security-answer-submit" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"submit",options):helperMissing.call(depth0,"i18n","submit",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-skypass-sent"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;
buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"skypass-number-sent",options):helperMissing.call(depth0,"i18n","skypass-number-sent",options)))+'\x3c/h4\x3e\x3ca id\x3d"back-to-login" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"login",options):helperMissing.call(depth0,"i18n","login",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e";
return buffer});templates["pr-skypass-sv"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"provide-skypass-information",options):helperMissing.call(depth0,
"i18n","provide-skypass-information",options)))+'\x3c/h4\x3e\x3cp class\x3d"pr-error"\x3e\x3c/p\x3e\x3cform action id\x3d"skypass-form" class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"last-name",options):helperMissing.call(depth0,"i18n","last-name",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"last-name" name\x3d"last-name"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"first-name",options):helperMissing.call(depth0,"i18n","first-name",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"first-name" name\x3d"first-name"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"email",options):helperMissing.call(depth0,"i18n","email",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"email" name\x3d"email"\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+'\x3c/label\x3e\x3cdiv class\x3d"compound-input"\x3e\x3cinput id\x3d"year" name\x3d"year" type\x3d"text" placeholder\x3d"YYYY" title\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"year-label",options):helperMissing.call(depth0,"i18n","year-label",options)))+'"\x3e\x3cinput id\x3d"month" name\x3d"month" type\x3d"text" placeholder\x3d"MM" title\x3d"'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"month-label",options):helperMissing.call(depth0,"i18n","month-label",options)))+'"\x3e\x3cinput id\x3d"day" name\x3d"day" type\x3d"text" placeholder\x3d"DD" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"days-label",options):helperMissing.call(depth0,"i18n","days-label",options)))+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"skypass-search" class\x3d"medium button" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"search",options):helperMissing.call(depth0,"i18n","search",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-user-id-fields"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=
helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv id\x3d"pr-error"\x3e\x3c/div\x3e\x3cform action class\x3d"custom-form" id\x3d"user-id-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3cinput type\x3d"text" id\x3d"skypass-or-email" name\x3d"skypass-or-email" required\x3e\x3c/input\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3clabel\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+'\x3c/label\x3e\x3cdiv class\x3d"compound-input"\x3e\x3cinput id\x3d"year" name\x3d"year" type\x3d"text" placeholder\x3d"YYYY" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"year-label",options):helperMissing.call(depth0,"i18n","year-label",options)))+'"\x3e\x3cinput id\x3d"month" name\x3d"month" type\x3d"text" placeholder\x3d"MM" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"month-label",options):helperMissing.call(depth0,"i18n","month-label",options)))+'"\x3e\x3cinput id\x3d"day" name\x3d"day" type\x3d"text" placeholder\x3d"DD" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"days-label",options):helperMissing.call(depth0,"i18n","days-label",options)))+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3ca id\x3d"user-id-submit" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"submit",options):helperMissing.call(depth0,"i18n","submit",options)))+"\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";
return buffer});templates["pr-user-id-sv"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"how-look-up-user-id",options):helperMissing.call(depth0,"i18n",
"how-look-up-user-id",options)))+'\x3c/h4\x3e\x3cdiv class\x3d"pr-error"\x3e\x3c/div\x3e\x3cform action class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3cdiv class\x3d"vertical"\x3e\x3cinput id\x3d"skypass-lookup" type\x3d"radio" name\x3d"how-look-up"\x3e\x3clabel for\x3d"skypass-lookup"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"skypass-member-num",options):helperMissing.call(depth0,
"i18n","skypass-member-num",options)))+'\x3c/label\x3e\x3cinput id\x3d"email-lookup" type\x3d"radio" name\x3d"how-look-up"\x3e\x3clabel for\x3d"email-lookup"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"email",options):helperMissing.call(depth0,"i18n","email",options)))+"\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer});templates["pr-what-to-find"]=template(function(Handlebars,depth0,helpers,partials,
data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+="\x3ch4\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"what-to-find",options):helperMissing.call(depth0,"i18n","what-to-find",options)))+'\x3c/h4\x3e\x3cform action class\x3d"custom-form"\x3e\x3cdiv class\x3d"form-row"\x3e\x3cdiv class\x3d"form-column-6"\x3e\x3cdiv class\x3d"vertical"\x3e\x3cinput id\x3d"user-id" type\x3d"radio" name\x3d"what-to-find" value\x3d\'ID\'\x3e\x3clabel for\x3d"user-id"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-id",options):helperMissing.call(depth0,"i18n","user-id",options)))+'\x3c/label\x3e\x3cinput id\x3d"skypass" type\x3d"radio" name\x3d"what-to-find" value\x3d\'FP\'\x3e\x3clabel for\x3d"skypass"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"skypass",options):helperMissing.call(depth0,"i18n","skypass",options)))+
'\x3c/label\x3e\x3cinput id\x3d"password" type\x3d"radio" name\x3d"what-to-find" value\x3d\'PU\'\x3e\x3clabel for\x3d"password"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"password",options):helperMissing.call(depth0,"i18n","password",options)))+"\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e";return buffer})})();
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["changePassword"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv id\x3d"change-password-wrapper" class\x3d"change-pw-wrap"\x3e    \x3ch2 class\x3d"modal-title"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"change-password",options):helperMissing.call(depth0,"i18n","change-password",options)))+'\x3c/h2\x3e    \x3cform class\x3d\'custom-form\' autocomplete\x3d"off" method\x3d"post"\x3e        \x3cdiv class\x3d"vSpace"\x3e            \x3clabel for\x3d"currentPasswordUpdate"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"current-password",options):helperMissing.call(depth0,"i18n","current-password",options)))+'\x3c/label\x3e            \x3cinput type\x3d"password" id\x3d"currentPasswordUpdate" name\x3d"currentPasswordUpdate"/\x3e        \x3c/div\x3e        \x3cdiv class\x3d"vSpace"\x3e            \x3clabel for\x3d"newPasswordUpdate" class\x3d"password-con"\x3e\x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"new-password",options):helperMissing.call(depth0,
"i18n","new-password",options)))+'\x3c/span\x3e                \x3cspan class\x3d"addtext" \x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"password-length-must-be",options):helperMissing.call(depth0,"i18n","password-length-must-be",options)))+'\x3c/span\x3e            \x3c/label\x3e            \x3cinput type\x3d"password" id\x3d"newPasswordUpdate" name\x3d"newPasswordUpdate" autocomplete\x3d"off"/\x3e        \x3c/div\x3e        \x3cdiv class\x3d"vSpace"\x3e            \x3clabel for\x3d"confirmNewPasswordUpdate"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-new-password",options):helperMissing.call(depth0,"i18n","confirm-new-password",options)))+'\x3c/label\x3e            \x3cinput type\x3d"password" id\x3d"confirmNewPasswordUpdate" name\x3d"confirmNewPasswordUpdate" autocomplete\x3d"off"/\x3e        \x3c/div\x3e        \x3cdiv id\x3d"changePasswordError"\x3e\x3c/div\x3e        \x3cdiv id\x3d"changePasswordArea"\x3e\x3c/div\x3e         \x3cdiv class\x3d"vSpace ac"\x3e            \x3cbutton id\x3d"changePasswordSubmit" class\x3d"medium button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"submit-label",options):helperMissing.call(depth0,"i18n","submit-label",options)))+"\x3c/button\x3e        \x3c/div\x3e    \x3c/form\x3e\x3c/div\x3e";return buffer});templates["cookie-alert"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=
helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"cookie-wrap"\x3e    \x3cdiv class\x3d"info-cookie"\x3e        \x3cdiv class\x3d"info-txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"info-cookie",options):helperMissing.call(depth0,"i18n","info-cookie",options)))+'\x3c/div\x3e\x3cdiv\x3e\x3cbutton id\x3d"cookiePolicyAlert" class\x3d"button-gray-round"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"info-cookie-confirm",options):helperMissing.call(depth0,"i18n","info-cookie-confirm",options)))+"\x3c/button\x3e\x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer});templates["pw-change-popup"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=
this.escapeExpression;buffer+='\x3cdiv class\x3d"modal-wrapper pwchange-wrap"\x3e    \x3ch2 class\x3d"modal-title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"change-password-label",options):helperMissing.call(depth0,"i18n","change-password-label",options)))+'\x3c/h2\x3e    \x3cp class\x3d"subtitle"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"change-password-des-label",
options):helperMissing.call(depth0,"i18n","change-password-des-label",options)))+'\x3c/p\x3e    \x3cdiv class\x3d"contents"\x3e        \x3cdiv class\x3d"password-change"\x3e            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"change-password-sixmonth-alert-label",options):helperMissing.call(depth0,"i18n","change-password-sixmonth-alert-label",options)))+'            \x3cdiv class\x3d"btn-area"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cbutton class\x3d"button-page-gray "\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-next-change-password",options):helperMissing.call(depth0,"i18n","btn-next-change-password",options)))+'\x3c/button\x3e\x3c/li\x3e                    \x3cli\x3e\x3cbutton class\x3d"button-page-blue "\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-now-change-password",options):helperMissing.call(depth0,"i18n",
"btn-now-change-password",options)))+'\x3c/button\x3e\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e        \x3c/div\x3e        \x3cdiv  class\x3d"info-update"\x3e            \x3cp class\x3d"subtxt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"change-password-update-des-label",options):helperMissing.call(depth0,"i18n","change-password-update-des-label",options)))+'\x3c/p\x3e            \x3cdiv class\x3d"user_info"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cstrong\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"RENAME-CUSTOMER-NAME",options):helperMissing.call(depth0,"i18n","RENAME-CUSTOMER-NAME",options)))+"\x3c/strong\x3e : 장정민 / JANG JUNGMIN\x3c/li\x3e                    \x3cli\x3e\x3cstrong\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nc-contact-email",options):helperMissing.call(depth0,"i18n","nc-contact-email",options)))+
"\x3c/strong\x3e : jang@korenair.com\x3c/li\x3e                    \x3cli\x3e\x3cstrong\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"phone-number-label",options):helperMissing.call(depth0,"i18n","phone-number-label",options)))+'\x3c/strong\x3e : 010-8570-3040\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e            \x3cbutton class\x3d"button-small-white"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"btn-update-info",options):helperMissing.call(depth0,"i18n","btn-update-info",options)))+"\x3c/button\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer});templates["utility-nav-user-drop-down"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=
this.escapeExpression,helperMissing=helpers.helperMissing;buffer+='\x3cdiv id\x3d"drop-down-close"\x3e    \x3ca href\x3d"#"\x3eX\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"drop-down-item"\x3e    \x3ca href\x3d"';if(helper=helpers.profilePagePath)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.profilePagePath;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'#view-profile"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"my-profile-label",options):helperMissing.call(depth0,"i18n","my-profile-label",options)))+'\x3c/a\x3e\x3c/div\x3e\x3chr\x3e\x3cdiv class\x3d"drop-down-item"\x3e    \x3ca href\x3d"';if(helper=helpers.profilePagePath)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.profilePagePath;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'#miles"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"my-dashboard-label",options):helperMissing.call(depth0,"i18n","my-dashboard-label",options)))+'\x3c/a\x3e\x3c/div\x3e\x3chr\x3e\x3cdiv class\x3d"drop-down-item"\x3e    \x3ca id\x3d"drop-down-change-password" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"change-password-label",options):helperMissing.call(depth0,
"i18n","change-password-label",options)))+'\x3c/a\x3e\x3c/div\x3e\x3chr\x3e\x3cdiv id\x3d"drop-down-logout" class\x3d"drop-down-item"\x3e    \x3ca href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"log-out-label",options):helperMissing.call(depth0,"i18n","log-out-label",options)))+"\x3c/a\x3e\x3c/div\x3e";return buffer});templates["WA_infomationModal"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=
[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function";buffer+='\x3cdiv class\x3d"alert_optimization_info"\x3e    \x3ch1\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-user-accessibility-info",options):helperMissing.call(depth0,"i18n","WA-user-accessibility-info",
options)))+'\x3c/h1\x3e    \x3cul class\x3d"info_cont"\x3e        \x3cli\x3e'+escapeExpression((stack1=depth0&&depth0.label1_1,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3cspan class\x3d"jawsIcon"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-screen-reader-jaws",options):helperMissing.call(depth0,"i18n","WA-screen-reader-jaws",options)))+"\x3c/span\x3e"+escapeExpression((stack1=depth0&&depth0.label1_2,typeof stack1===
functionType?stack1.apply(depth0):stack1))+"\x3c/li\x3e        \x3cli\x3e"+escapeExpression((stack1=depth0&&depth0.label2_1,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3cspan class\x3d"jawsIcon"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-screen-reader-jaws",options):helperMissing.call(depth0,"i18n","WA-screen-reader-jaws",options)))+"\x3c/span\x3e"+escapeExpression((stack1=depth0&&depth0.label2_2,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'\x3c/li\x3e    \x3c/ul\x3e    \x3cp class\x3d"btn-c"\x3e\x3cbutton class\x3d"medium-3 btn-select lastTabbableContent"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"ok-confirm-label",options):helperMissing.call(depth0,"i18n","ok-confirm-label",options)))+"\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e";return buffer})})();
(function(ke,api){var showRegionSelect=function(e){if($("#regionSelectButton").hasClass("open"))closeRegionSelect();else{$(".current-langs-wrap").show(10,function(){$(document).on("click.siteselect",function(evt){if($(evt.target).closest("#site-select").size()>0);else koreanair.closeRegionSelect()})});$("#site-select").attr("aria-hidden",false);$("#regionSelectButton").attr("aria-expanded",true);$("#regionSelectButton").addClass("open")}},closeRegionSelect=function(focusToSelectBtn){if($("#regionSelectButton").hasClass("open")){$(".current-langs-wrap").hide(10,
function(){$(document).off("click.siteselect")});$("#site-select").attr("aria-hidden",true);$("#regionSelectButton").attr("aria-expanded",false);$("#regionSelectButton").removeClass("open");if(focusToSelectBtn)$("#regionSelectButton").focus()}},sortedCountrylist=function(countryList,topPriorityList){var topPriorityCountries=new Array(topPriorityList.length),etcCounties=[];_.each(countryList,function(country){var idx=_.indexOf(topPriorityList,country.country);if(idx>-1)topPriorityCountries[idx]=country;
else etcCounties.push(country)});if(topPriorityCountries.length!=topPriorityList.length)topPriorityCountries=_.compact(topPriorityCountries);return topPriorityCountries.concat(etcCounties)},showLoginModal=function(event,deferred){koreanair.Cookie.set("memberInfoChangeFromMain",true);event.preventDefault();deferred=deferred||$.Deferred();koreanair.Login.authenticated.done(function(){koreanair.viewHelpers.checkSkypassEnable().done(_.bind(function(rval){if(rval)location.href=koreanair.Account.profilePage},
this))}).fail(function(){ke.loginModal(deferred)})},clickWishListBtn=function(event,deferred){event.preventDefault();deferred=deferred||$.Deferred();koreanair.viewHelpers.checkSkypassEnable().done(_.bind(function(rval){if(rval)koreanair.Login.authenticated.done(function(){location.href=koreanair.Account.profilePage+"#wish-list"}).fail(function(){location.href=koreanair.Account.profilePage.split("/").slice(0,-1).join("/")+"/wishlist-login.html"})},this))},WA_infomationModal=function(event,deferred){event.preventDefault();
var label1=Granite.I18n.get("WA-accessibility-info-contents-first");var label2=Granite.I18n.get("WA-screen-reader for accsesibility");var WA_infomationModal=Handlebars.templates["WA_infomationModal"]({"label1_1":label1.split("{0}")[0],"label1_2":label1.split("{0}")[1],"label2_1":label2.split("{0}")[0],"label2_2":label2.split("{0}")[1]});koreanair.Modal.standard(WA_infomationModal,{onComplete:function(){$(".alert_optimization_info").find(".btn-select").on("click",function(){$.colorbox.close()})}})},
showPasswordChangeModal=function(){koreanair.Modal.standard(null,{html:(new ke.UtilityNav.ChangePasswordView).render().el,inline:false,height:468,width:585,onComplete:function(){$.colorbox.resize();koreanair.tabbable.popupDefault()}})},goRegistration=function(){koreanair.viewHelpers.checkSkypassEnable(false).done(_.bind(function(rval){if(rval)$.ajax({url:koreanair.UtilityNav.loginModalRef.split(".")[0]+".json",success:function(data){var domain=window.location.host;if(domain==="kr.koreanair.com"||
domain==="www.koreanair.com")location.href=data["registration-link"].replace("/content/koreanair","")+".html";else location.href=data["registration-link"]+".html"},error:function(){return false}})},this))},showWhenUserNotLoginStateButtons=function(){var html='\x3cli\x3e\x3cbutton class\x3d"link_button" id\x3d"skypassLoginButton"\x3e'+Granite.I18n.get("util-login-label")+"\x3c/button\x3e\x3c/li\x3e"+'\x3cli\x3e\x3ca href\x3d"#" id\x3d"skypassApplyButton"\x3e'+Granite.I18n.get("util-register-label")+
"\x3c/a\x3e\x3c/li\x3e"+'\x3cli\x3e\x3ca href\x3d"#" id\x3d"myFlightsAtUtilNav"\x3e'+Granite.I18n.get("my-flights-label")+"\x3c/a\x3e\x3c/li\x3e";if(location.pathname.indexOf("/korea/ko")>-1)html+='\x3cli\x3e\x3ca href\x3d"#" id\x3d"gnbWishListBtn"\x3e'+Granite.I18n.get("gnb-wishlist-label")+"\x3c/a\x3e\x3c/li\x3e";$("#siteUtilities .utilMenu").html(html);$("#skypassLoginButton").on("click",showLoginModal);$("#skypassApplyButton").on("click",goRegistration);$("#myFlightsAtUtilNav").attr("href",koreanair.Navigation.Booking.misc.reservationSearch).off("click");
$("#gnbWishListBtn").off("click").on("click",clickWishListBtn)},showLoginStateButtons=function(){var html='\x3cli\x3e\x3ca href\x3d"#" id\x3d"myRsrvButton"\x3e'+Granite.I18n.get("utility-nav-my-page-label")+"\x3c/a\x3e\x3c/li\x3e"+'\x3cli\x3e\x3ca href\x3d"#" id\x3d"myFlightsAtUtilNav"\x3e'+Granite.I18n.get("my-flights-label")+"\x3c/a\x3e\x3c/li\x3e";if(location.pathname.indexOf("/korea/ko")>-1)html+='\x3cli\x3e\x3ca href\x3d"#" id\x3d"gnbWishListBtn"\x3e'+Granite.I18n.get("gnb-wishlist-label")+"\x3c/a\x3e\x3c/li\x3e";
html+='\x3cli\x3e\x3cbutton class\x3d"link_button" id\x3d"skypassLogoutButton"\x3e'+Granite.I18n.get("log-out-label")+"\x3c/button\x3e\x3c/li\x3e";$("#siteUtilities .utilMenu").html(html);$("#myRsrvButton").on("click",showLoginModal);$("#skypassLogoutButton").on("click",koreanair.Login.logoutUser);$("#myFlightsAtUtilNav").attr("href",koreanair.Navigation.Booking.misc.reservationSearch).off("click");$("#gnbWishListBtn").off("click").on("click",clickWishListBtn)};ke.UtilityNav.skypassLoginHandler=function(){var userID=
ke.skypass.getUserID();showLoginStateButtons();if(ke.UtilityNav.updateChat)ke.UtilityNav.updateChat(userID)};ke.UtilityNav.refreshUserData=function(){return api.skypassInfo.get({data:{force:true}}).done(function(){ke.UtilityNav.skypassLoginHandler()})};ke.showPasswordChangeModal=showPasswordChangeModal;ke.WA_infomationModal=WA_infomationModal;ke.showLoginModal=showLoginModal;ke.showSiteSelect=showRegionSelect;ke.closeRegionSelect=closeRegionSelect;ke.sortedCountrylist=sortedCountrylist;ke.Login.authenticated.done(function(){ke.UtilityNav.skypassLoginHandler()}).fail(function(){showWhenUserNotLoginStateButtons()});
ke.UtilityNav.skipToContentSetup=function(){if($('[role\x3d"main"]').find("h1:visible:eq(0)").size()>0)$('[role\x3d"main"]').find("h1:visible:eq(0)").attr("id","firstH1");$("#skipToNavigation").on("focus",function(){$(".open-menu").hide().attr("aria-hidden",true);$(".open-menu button").prop("disabled",true);$("#top-sec").css("top","0px")});$("#skipToNavigation").on("click",function(evt){evt.preventDefault();if($('[role\x3d"main"]').find("h1:visible:eq(0)").size()>0){$('[role\x3d"main"]').find("h1").removeAttr("id");
var $firstH1=$('[role\x3d"main"]').find("h1:visible:eq(0)");$firstH1.attr("id","firstH1")}else $("#skipToNavigation").attr("href",$('[role\x3d"main"]').attr("id"));var targetId=$("#skipToNavigation").attr("href");if(targetId!=""){var tabIndex=$(targetId).attr("tabindex");if(typeof tabIndex!==typeof undefined)$(targetId).focus();else{$(targetId).attr("tabindex",-1);$(targetId).focus();$(targetId).off("blur");$(targetId).on("blur",function(e){$(e.currentTarget).removeAttr("tabindex")})}}})};ke.UtilityNav.setupSearchBar=
function(){$("#searchForm").submit(function(){if($("#h-search-field").val().length==0){koreanair.Modal.alert(Granite.I18n.get("search-please-input"),{ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm"),returnFocus:false}).done(function(){$("#h-search-field").focus()});return false}});$("#h-search-field").placeholder();$("#h-search-field").on("focus",function(e){$(".search-box").addClass("on");$(".searchnav").addClass("on")}).on("blur",function(e){if($("#h-search-field").val().length==0){$("#utilnavClearSearchBtn").remove();
$(".search-box").removeClass("on");$(".searchnav").removeClass("on")}});$("#h-search-field").on("keyup",function(e){var keyCode=window.event?e.which:e.keyCode;if(keyCode!=$.ui.keyCode.ENTER){e.stopPropagation();if($("#h-search-field").val().length==0){if($("#h-search-field").is(":focus"))$("#utilnavClearSearchBtn").remove()}else if($("#utilnavClearSearchBtn").length==0){var delAllBtn='\x3cbutton type\x3d"button" id\x3d"utilnavClearSearchBtn" class\x3d"del_all"\x3e\x3cspan class\x3d"offscreen"\x3e'+
Granite.I18n.get("search-placeholder-del-label")+"\x3c/span\x3e\x3c/button\x3e";$(".search-box .input_box").append(delAllBtn);$("#utilnavClearSearchBtn").on("click",function(){$("#utilnavClearSearchBtn").remove();$("#h-search-field").val("");$("#h-search-field").focus()})}}})};$(document).ready(function(){$("#regionSelectButton").on("click",showRegionSelect);$("#WA_infomation").on("click",WA_infomationModal);ke.UtilityNav.setupSearchBar()});$(window).load(function(){ke.UtilityNav.skipToContentSetup()})})(koreanair,
koreanair.ServiceApi);
(function(Backbone,Templates,$,I18n,ServiceApi,koreanair){$.validator.addMethod("one-english-letter",function(value,element,params){return/[a-zA-Z]+/i.test(value)},I18n.get("one-english-letter"));$.validator.addMethod("less-than-four-identical",function(value,element,params){return!(_(value).countBy().values().max().value()>3)},I18n.get("must-not-contain-four"));$.validator.addMethod("less-than-four-consecutive",function(value,element,params){var movingSubgroups=function(array,groupSize){var subgroupList=
[];for(var i=0;i<array.length-(groupSize-1);i++)subgroupList.push(array.slice(i,i+groupSize));return subgroupList};return!_(movingSubgroups(value.toLowerCase().split(""),4)).map(function(group){return _(movingSubgroups(group,2)).map(function(pair){return pair[1].charCodeAt(0)===pair[0].charCodeAt(0)+1}).all()}).any()},I18n.get("must-not-contain-four-consecutive"));var getPasswordResetData=function(){return{"password":$('input[name\x3d"currentPasswordUpdate"]').val(),"newPassword":$('input[name\x3d"newPasswordUpdate"]').val()}};
var ChangePasswordView=Backbone.View.extend({template:Templates["changePassword"],events:{"click #changePasswordSubmit":function(e){e.preventDefault();var form=this.$("form");form.validate({"rules":{"currentPasswordUpdate":{required:true},"newPasswordUpdate":{"required":true,"rangelength":[8,20],"one-english-letter":true,"less-than-four-identical":true,"must-not-contain-user-id":true,"must-not-contain-phone-number":true,"must-not-contain-date-of-birth":true,"less-than-four-consecutive":true},confirmNewPasswordUpdate:{required:true,
"passwords-do-not-match":true}},"messages":{"currentPasswordUpdate":{"required":I18n.get("required-error"),"rangelength":I18n.get("password-length-must-be")},newPasswordUpdate:{"required":I18n.get("required-error")},confirmNewPasswordUpdate:{required:I18n.get("required-error")}},invalidHandler:function(form,validator){var errors=validator.numberOfInvalids();if(errors)validator.errorList[0].element.focus()},onfocusout:function(element,event){if(_.contains(["currentPasswordUpdate"],element.name))return false;
if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element)))this.element(element)}});if(!form.valid()){$.colorbox.resize();this.moveFocusInput();return}if($('input[name\x3d"newPasswordUpdate"]').val()!==$('input[name\x3d"confirmNewPasswordUpdate"]').val()){$("#changePasswordError").text(I18n.get("passwords-do-not-match"));$.colorbox.resize();this.moveFocusInput();return}ServiceApi.profilePasswordReset.post({data:JSON.stringify(getPasswordResetData()),success:function(data){$("#colorbox").removeAttr("aria-labelledby");
$("#colorbox").attr("aria-label","Please confirm");$("#cboxLoadedContent").find("div").remove();$("#cboxLoadedContent").find("#cboxClose").before('\x3cdiv id\x3d"changePasswordArea" class\x3d"more-info"\x3e\x3cp\x3e'+I18n.get("password-updated")+'\x3c/p\x3e\x3cdiv class\x3d"t-center"\x3e\x3cbutton class\x3d"button-main-blue firstTabbableContent"\x3e'+I18n.get("Confirm")+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e");$(".button-main-blue").focus();$("#changePasswordArea button").on("click",function(e){e.preventDefault();
$.colorbox.close()});$.colorbox.resize()},error:function(jqXHR,textStatus){$("#currentPasswordUpdate").removeClass("valid").addClass("error").after(koreanair.utils.buildErrorElement(I18n.get("failed-update-profile"),$("#currentPasswordUpdate"))).focus()}})}},moveFocusInput:function(){_.each($("label[class\x3derror]"),function(label,index){if($(label).is(":visible")){$(label).prev().focus();return false}})},initialize:function(){if(koreanair.skypass.authenticated())koreanair.ServiceApi.fullDetails.get().then(function(details){$.validator.addMethod("passwords-do-not-match",
function(){if($('input[name\x3d"newPasswordUpdate"]').val()!==$('input[name\x3d"confirmNewPasswordUpdate"]').val())return false;return true},I18n.get("passwords-do-not-match"));$.validator.addMethod("must-not-contain-user-id",function(value,element,params){if(!!details.userId)return-1===value.toUpperCase().search(details.userId.toUpperCase());return true},I18n.get("must-not-contain-userid"));$.validator.addMethod("must-not-contain-phone-number",function(value,element,params){return(!details.representPhoneNumber||
-1===value.search(details.representPhoneNumber))&&(!details.officeNo||-1===value.search(details.officeNo))},I18n.get("must-not-contain-phone-number"));$.validator.addMethod("must-not-contain-date-of-birth",function(value,element,params){return-1===value.search(details.dateOfBirth)&&-1===value.search(details.dateOfBirth.replace(/-/g,""))},I18n.get("must-not-contain-date-of-birth"))})},render:function(){this.$el.html(this.template());return this}});koreanair.UtilityNav=koreanair.UtilityNav||{};koreanair.UtilityNav.ChangePasswordView=
ChangePasswordView})(Backbone,Handlebars.templates,jQuery,Granite.I18n,koreanair.ServiceApi,koreanair);
(function($,Backbone,koreanair,I18n,Templates){var UserDropDown=Backbone.View.extend({template:Templates["utility-nav-user-drop-down"],id:"user-drop-down",events:{"click a":function(){koreanair.UtilityNav.userDropDownActive=false;this.$el.slideUp()},"click #drop-down-change-password":function(e){e.preventDefault();koreanair.showPasswordChangeModal()},"click #drop-down-logout":"logoutUser"},render:function(){this.$el.html(this.template());return this},logoutUser:function(){koreanair.Login.logoutUser()}});
koreanair.UtilityNav=koreanair.UtilityNav||{};koreanair.UtilityNav.UserDropDown=UserDropDown;koreanair.UtilityNav.userDropDownActive=false})(jQuery,Backbone,koreanair,Granite.I18n,Handlebars.templates);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["loading-screen-fullscreen"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"loading-wrapper"\x3e\x3cdiv class\x3d"loading-card"\x3e\x3cdiv class\x3d"loading-message"\x3e\x3ch2\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.headerKey,options):helperMissing.call(depth0,"i18n",depth0&&depth0.headerKey,options)))+"\x3c/h2\x3e\x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.bodyKey,options):helperMissing.call(depth0,"i18n",depth0&&depth0.bodyKey,options)))+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"loading-bar"\x3e\x3cdiv class\x3d"loading-bar-animation"\x3e\x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"loading-label",options):helperMissing.call(depth0,"i18n","loading-label",options)))+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";return buffer});templates["loading-screen-modal"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=
helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"modal-loading-wrapper"\x3e\x3cdiv class\x3d"modal-loading-message"\x3e\x3ch2\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.headerKey,options):helperMissing.call(depth0,"i18n",depth0&&depth0.headerKey,options)))+"\x3c/h2\x3e\x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?
helper.call(depth0,depth0&&depth0.bodyKey,options):helperMissing.call(depth0,"i18n",depth0&&depth0.bodyKey,options)))+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"loading-bar"\x3e\x3cdiv class\x3d"loading-bar-animation"\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"loading-label",options):helperMissing.call(depth0,"i18n","loading-label",options)))+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
return buffer})})();
(function($,Backbone,_,koreanair,Templates){var FullpageLoadingScreen=koreanair.View.inherits({el:".loading-fullscreen",className:"loading-fullscreen",template:"loading-screen-fullscreen",options:{headerKey:"thank-you",bodyKey:"wait-while-processing",color:""},render:function(opts,delRoleTime){if(delRoleTime==undefined)delRoleTime=3E3;var hideRoleAlert=opts?opts.hideAlert:false;if($("#loadingFullWrap").attr("role")=="alert")return;$("#loadingFullWrap").html(this.$el);$(".faux-body.loading").attr("aria-hidden",
false);$("#bookingContent2355").attr("aria-hidden",true);var html=Templates[this.template]({headerKey:this.options.headerKey,bodyKey:this.options.bodyKey});this.$el.removeClass("blue").addClass(this.options.color);if(this.options.withTransparentBackground)this.$el.addClass("withTransparentBackground");if(this.options.withWhiteBackground)this.$el.addClass("withWhiteBackground");this.$el.html(html);this.show(hideRoleAlert,delRoleTime);$("#top-sec").attr("aria-hidden",true);$(".limit-area").hide()},
setElement:function(element){if($(element).length===0){this.el=null;this._ensureElement();return}else koreanair.View.prototype.setElement.apply(this,arguments)},remove:function(){this.removeBindings();this._super.prototype.remove.apply(this,arguments);$("#loadingFullWrapEnd span").remove();var loadingMsg=Granite.I18n.get("UWA-loading-end");$("#loadingFullWrapEnd").append('\x3cspan class\x3d"offscreen"\x3e'+loadingMsg+"\x3c/span\x3e");setTimeout(_.bind(function(){$("#loadingFullWrapEnd span").remove()},
this),6E3);$("#top-sec").attr("aria-hidden",false);$(".limit-area").show();$(".faux-body.loading").attr("aria-hidden",false);$("#bookingContent2355").attr("aria-hidden",false)},stop:function(){if(this.hideProgress){this.hideProgress=false;this.$el.stop(false,true)}return this},show:function(hideRoleAlert,delRoleTime){if(delRoleTime==undefined)delRoleTime=3E3;if($("#loadingFullWrap").attr("role")=="alert")return;if(!hideRoleAlert)$("#loadingFullWrap").attr("role","alert");this.$el.fadeIn();if(!hideRoleAlert)setTimeout(_.bind(function(){$("#loadingFullWrap").removeAttr("role")},
this),delRoleTime)},hide:function(delTime){if($("#loadingFullWrap span:visible").length>0){if(delTime==undefined)delTime=3E3;if(this.hideProgress)return;this.hideProgress=true;$("#loadingFullWrapEnd span").remove();$("#loadingFullWrap span").remove();var loadingMsg=Granite.I18n.get("UWA-loading-end");$("#loadingFullWrapEnd").append('\x3cspan class\x3d"offscreen"\x3e'+loadingMsg+"\x3c/span\x3e");setTimeout(_.bind(function(){$("#loadingFullWrapEnd span").remove()},this),delTime);this.$el.fadeOut(_.bind(function(){this.hideProgress=
false;this.$el.remove()},this));$("#top-sec").attr("aria-hidden",false);$(".limit-area").show();$(".faux-body.loading").attr("aria-hidden",false);$("#bookingContent2355").attr("aria-hidden",false)}}});var QPXLoadingScreen=koreanair.View.inherits({el:"#loadingWrap",className:"#loadingWrap",template:"loading-screen-fullscreen",options:{headerKey:"thank-you",bodyKey:"wait-while-processing",color:""},render:function(){$(".modalPop-new").attr("aria-hidden",false);var html=Templates[this.template]({headerKey:this.options.headerKey,
bodyKey:this.options.bodyKey});this.$el.addClass("withTransparentBackground onlycalendar");this.$el.html(html);this.show()},remove:function(){this.removeBindings();$("#loadingWrapEnd").children().remove();var loadingMsg=Granite.I18n.get("UWA-loading-end");$("#loadingWrapEnd").html('\x3cspan class\x3d"offscreen"\x3e'+loadingMsg+"\x3c/span\x3e");setTimeout(_.bind(function(){$("#loadingWrapEnd span").remove();$("#loadingWrap").html("")},this),500);$(".modalPop-new").attr("aria-hidden",false)},show:function(){if($("#loadingWrap").attr("role")==
"alert")return;$("#loadingWrap").attr("role","alert");setTimeout(_.bind(function(){$("#loadingWrap").removeAttr("role")},this),3E3)}});koreanair.FullpageLoadingScreen=FullpageLoadingScreen;koreanair.QPXLoadingScreen=QPXLoadingScreen;koreanair.fullpageLoadingScreen={show:function(options){if(!$.colorbox.isOpen()){var closeFunc=function(){$("#loadingFullWrapEnd span").remove();var loadingMsg=Granite.I18n.get("UWA-loading-end");$("#loadingFullWrapEnd").append('\x3cspan class\x3d"offscreen"\x3e'+loadingMsg+
"\x3c/span\x3e");$("#loadingFullWrapEnd span").remove();koreanair.loadingScreenView.$el.remove();$("#top-sec").attr("aria-hidden",false);$(".faux-body.loading").attr("aria-hidden",false);$("#bookingContent2355").attr("aria-hidden",false)};if(koreanair.loadingScreenView)closeFunc();if(options&&options.deferred)deferred.done(closeFunc);koreanair.loadingScreenView=new FullpageLoadingScreen(options);koreanair.loadingScreenView.render();return koreanair.loadingScreenView}},hide:function(){if(koreanair.loadingScreenView){koreanair.loadingScreenView.hide();
koreanair.loadingScreenView=null}}};koreanair.fpLoadingScreen=function(){var keies=[];var loading=new FullpageLoadingScreen;return{show:function(opts,delRoleTime){return _show(opts,delRoleTime)},hide:function(key,delRoleTime){return _hide(key,delRoleTime)},status:function(){return _status()}};function _show(opts,delRoleTime){var key=_getUUID();_addKey(key);_updateDisplay(true,opts,delRoleTime);return key}function _hide(key,delRoleTime){if(key){_removeKey(key);_updateDisplay(false,null,delRoleTime)}}
function _status(){return _.extend([],keies)}function _guid(){return _s4()+_s4()}function _s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function _getUUID(format){return format?format.replace("{0}",_guid()):_guid()}function _addKey(key){keies.push(key)}function _removeKey(key){var idx=keies.indexOf(key);if(idx>-1)keies.splice(idx,1)}function _updateDisplay(isShow,opts,delRoleTime){if(isShow)if(keies.length>1){if(loading.hideProgress)loading.stop().render(opts,delRoleTime)}else if(keies.length==
1)loading.stop().render(opts,delRoleTime);else;else if(keies.length>0);else if(keies.length==0)loading.hide(delRoleTime);else;}}()})(jQuery,Backbone,_,koreanair,Handlebars.templates);
(function($,I18n){var gnbView={flyMode:false,adjustAlertTop:function(){var utilNavHeight=$(".utilnav").outerHeight();var gnbHeight=$(".gnb").outerHeight();var alertTop=utilNavHeight+gnbHeight;$(".alertbanner").css("top",alertTop)},showMenu:function(e,$this){var activeMenuId=$(".devTopMenu.active").data("href");var clickedMenuId=$this.data("href");if(activeMenuId===clickedMenuId){gnbView.closeMenu(true);return}$(".devTopMenu").removeClass("active").attr("aria-expanded",false);$(".devSubMenuPanel").attr("aria-hidden",
true).hide();$this.addClass("active").attr("aria-expanded",true);$this.closest("li").find(".devSubMenuPanel").attr("aria-hidden",false).show(10,function(){$(document).on("click.mainmenu",function(evt){if($(evt.target).closest(".menuSec").size()>0);else gnbView.closeMenu()})});$(".gnbSec").removeClass("show-menu1").removeClass("show-menu2").removeClass("show-menu3").removeClass("show-menu4");var menuIndex=$this.attr("data-menu-index");$(".gnbSec").addClass("show-menu"+menuIndex);var menuSecHeight=
$(".menuSec").outerHeight();$(".gnbSec").css("min-height",menuSecHeight)},closeMenu:function(restoreFocus){var $activeMenu=$(".devTopMenu.active");$activeMenu.attr("aria-expanded",false).removeClass("active");if(restoreFocus)$activeMenu.focus();$(".devSubMenuPanel").hide(10,function(){$(document).off("click.mainmenu")});$(".devSubMenuPanel").attr("aria-hidden",true);$(".gnbSec").removeClass("show-menu1").removeClass("show-menu2").removeClass("show-menu3").removeClass("show-menu4")},initGnb:function(){$(".devSubMenuPanel").keydown(function(event){var keyCode=
window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.ESCAPE){gnbView.closeMenu(true);event.preventDefault();event.stopPropagation()}});$(".devTopMenu").keydown(function(event){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.ESCAPE){gnbView.closeMenu(true);event.preventDefault();event.stopPropagation()}});$(".gnbMenuClose").click(function(e){gnbView.closeMenu(true);e.preventDefault()});$(".gnbMenuClose").on("keydown",function(event){var keyCode=window.event?event.which:
event.keyCode;if(keyCode==$.ui.keyCode.TAB)if(!event.shiftKey){var $activeMenu=$(".devTopMenu.active");if($activeMenu.length==0);else if($activeMenu.data("menu-index")==$activeMenu.closest("ul").find(".devTopMenu").size()){if($(".side-nav").size()>0){if(gnbView.flyMode)gnbView.hideGnb()}else if($('[role\x3d"main"]').find(".first-tabbable-el").size()>0){$('[role\x3d"main"]').find(".first-tabbable-el").first().focus();event.preventDefault()}else if($('[role\x3d"main"]').find(":tabbable").first().size()>
0){$('[role\x3d"main"]').find(":tabbable").first().focus();event.preventDefault()}gnbView.closeMenu(false)}else{var nextMenuNumber=$activeMenu.data("menu-index");$activeMenu.closest("ul").find(".devTopMenu:eq("+nextMenuNumber+")").focus();gnbView.closeMenu(false);event.preventDefault()}}});$(".devTopMenu").click(function(e){gnbView.showMenu(e,$(this));e.preventDefault();e.stopPropagation()}).keydown(function(event){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.TAB)if($(".devTopMenu.active").size()>
0){if(event.shiftKey)gnbView.closeMenu(false)}else if(!event.shiftKey)if($(event.currentTarget).data("menu-index")==$(".devTopMenu").length)if($(".side-nav").size()>0){if(gnbView.flyMode)gnbView.hideGnb()}else if($('[role\x3d"main"]').find(".first-tabbable-el").size()>0){$('[role\x3d"main"]').find(".first-tabbable-el").first().focus();event.preventDefault()}else if($('[role\x3d"main"]').find(":tabbable:eq(0)").size()>0){$('[role\x3d"main"]').find(":tabbable:eq(0)").focus();event.preventDefault();
event.stopPropagation()}})},hideGnb:function(){$(".open-menu").show().attr("aria-hidden",false);$(".open-menu button").prop("disabled",false);var topSecHeight=$("#top-sec").outerHeight();$("#top-sec").css("top","-"+topSecHeight+"px")},showGnb:function(){$(".open-menu").hide().attr("aria-hidden",true);$(".open-menu button").prop("disabled",true);$("#top-sec").css("top","0px")}};$(document).ready(function(){gnbView.initGnb();if($(".side-nav").size()>0){$(window).scroll(function(){var scroll=$(window).scrollTop();
if(scroll>5){$("#top-sec").css("position","fixed");gnbView.hideGnb()}else{$("#top-sec").css("position","");gnbView.flyMode=false;gnbView.showGnb()}});$(".open-menu").on("click",function(){$("#top-sec").css("position","fixed");gnbView.flyMode=true;gnbView.showGnb();$(":focusable:eq(1)").focus()}).keydown(function(event){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){gnbView.showGnb();$(".devTopMenu:last").focus();event.preventDefault()}})}})})(jQuery,
Granite.I18n);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["alert"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='\x3cli class\x3d"alert ';if(helper=
helpers.priority)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.priority;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" data-order\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e            ';stack1=(helper=helpers.chkLinkTypeIsOverlay||depth0&&depth0.chkLinkTypeIsOverlay,options={hash:{},inverse:self.noop,fn:self.program(2,
program2,data),data:data},helper?helper.call(depth0,depth0&&depth0.linkType,options):helperMissing.call(depth0,"chkLinkTypeIsOverlay",depth0&&depth0.linkType,options));if(stack1||stack1===0)buffer+=stack1;buffer+="        ";stack1=(helper=helpers.chkLinkTypeIsWin||depth0&&depth0.chkLinkTypeIsWin,options={hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.linkType,options):helperMissing.call(depth0,"chkLinkTypeIsWin",depth0&&depth0.linkType,
options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/li\x3e";return buffer}function program2(depth0,data){var buffer="",stack1,helper;buffer+="            ";stack1=helpers["if"].call(depth0,depth0&&depth0.link,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3cstrong\x3e";if(helper=helpers.message)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.message;stack1=typeof helper===functionType?
helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/strong\x3e            ";stack1=helpers["if"].call(depth0,depth0&&depth0.link,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program3(depth0,data){var buffer="",stack1,helper;buffer+='\x3cbutton class\x3d"alert-cta" data-link\x3d"';if(helper=helpers.link)stack1=helper.call(depth0,{hash:{},data:data});else{helper=
depth0&&depth0.link;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" data-size\x3d"';if(helper=helpers.linkWidth)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.linkWidth;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"-";if(helper=helpers.linkHeight)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.linkHeight;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';return buffer}function program5(depth0,data){return"\x3c/button\x3e"}function program7(depth0,data){var buffer="",stack1,helper,options;buffer+="            ";stack1=helpers["if"].call(depth0,depth0&&depth0.link,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3cstrong\x3e";if(helper=helpers.message)stack1=
helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.message;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/strong\x3e            ";stack1=(helper=helpers.chkLinkTypeIsBlank||depth0&&depth0.chkLinkTypeIsBlank,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.linkType,options):helperMissing.call(depth0,"chkLinkTypeIsBlank",depth0&&depth0.linkType,options));if(stack1||stack1===0)buffer+=stack1;
buffer+="            ";stack1=helpers["if"].call(depth0,depth0&&depth0.link,{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program8(depth0,data){var buffer="",stack1,helper;buffer+='\x3ca class\x3d"alert-cta-link" href\x3d"';if(helper=helpers.link)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.link;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):
helper}buffer+=escapeExpression(stack1)+'" target\x3d"';if(helper=helpers.linkType)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.linkType;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';return buffer}function program10(depth0,data){return"\x3c/a\x3e"}stack1=helpers.each.call(depth0,depth0&&depth0.alerts,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===
0)return stack1;else return""});templates["session-pop-type-1"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv class\x3d"session-prolongation-popup" role\x3d"document"\x3e    \x3cdiv class\x3d"modalPop-new" \x3e        \x3cdiv class\x3d"session"\x3e            \x3ch1 class\x3d"tit dialog-title"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"auto-login-info-tit-label",options):helperMissing.call(depth0,"i18n","auto-login-info-tit-label",options)))+'\x3c/h1\x3e            \x3cdiv  class\x3d"session-info dialog-text"\x3e                \x3cp class\x3d"time"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"keepng-login-label",options):helperMissing.call(depth0,
"i18n","keepng-login-label",options)))+" : "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Remaining time",options):helperMissing.call(depth0,"i18n","Remaining time",options)))+' \x3cspan class\x3d"countDown"\x3e\x3c/span\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"session-seconds-label",options):helperMissing.call(depth0,"i18n","session-seconds-label",options)))+
'\x3c/p\x3e                \x3cp id\x3d"popup-message" class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"login-guide-txt1-label",options):helperMissing.call(depth0,"i18n","login-guide-txt1-label",options)))+'\x3c/p\x3e                \x3cp class\x3d"btn-c-2"\x3e                    \x3cbutton class\x3d"btnCancel medium-4"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?
helper.call(depth0,"btn-login-not-prolongation-label",options):helperMissing.call(depth0,"i18n","btn-login-not-prolongation-label",options)))+'\x3c/button\x3e                    \x3cbutton class\x3d"btnRenew medium-5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-login-prolongation-label",options):helperMissing.call(depth0,"i18n","btn-login-prolongation-label",options)))+"\x3c/button\x3e                \x3c/p\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";
return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='\x3cdiv class\x3d"session-prolongation-popup" role\x3d"document"\x3e    \x3cdiv class\x3d"modalPop-new" \x3e        \x3cdiv class\x3d"session"\x3e            \x3ch1  class\x3d"tit dialog-title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"session-info-tit-label",options):helperMissing.call(depth0,"i18n","session-info-tit-label",options)))+
' \x3c/h1\x3e            \x3cdiv class\x3d"session-info dialog-text"\x3e                ';stack1=helpers["if"].call(depth0,depth0&&depth0.isConfirm,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isFinal,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";
return buffer}function program4(depth0,data){var buffer="",helper,options;buffer+='                \x3cp class\x3d"time"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"auto-reset-label",options):helperMissing.call(depth0,"i18n","auto-reset-label",options)))+" : "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Remaining time",options):helperMissing.call(depth0,
"i18n","Remaining time",options)))+' \x3cspan class\x3d"countDown"\x3e\x3c/span\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"session-seconds-label",options):helperMissing.call(depth0,"i18n","session-seconds-label",options)))+'\x3c/p\x3e                \x3cp id\x3d"popup-message" class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"session-guide-txt1-label",
options):helperMissing.call(depth0,"i18n","session-guide-txt1-label",options)))+'\x3c/p\x3e                \x3cp class\x3d"btn-c-2"\x3e                    \x3cbutton class\x3d"btnCancel medium-4"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-session-not-prolongation-label",options):helperMissing.call(depth0,"i18n","btn-session-not-prolongation-label",options)))+'\x3c/button\x3e                    \x3cbutton class\x3d"btnRenew medium-5"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-session-prolongation-label",options):helperMissing.call(depth0,"i18n","btn-session-prolongation-label",options)))+"\x3c/button\x3e                \x3c/p\x3e                ";return buffer}function program6(depth0,data){var buffer="",helper,options;buffer+='                \x3cp class\x3d"time"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"auto-reset-label",options):helperMissing.call(depth0,"i18n","auto-reset-label",options)))+" : "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Remaining time",options):helperMissing.call(depth0,"i18n","Remaining time",options)))+' \x3cspan class\x3d"countDown"\x3e\x3c/span\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"session-seconds-label",
options):helperMissing.call(depth0,"i18n","session-seconds-label",options)))+'\x3c/p\x3e                \x3cp id\x3d"popup-message" class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"session-guide-txt2-label",options):helperMissing.call(depth0,"i18n","session-guide-txt2-label",options)))+'\x3c/p\x3e                \x3cp class\x3d"btn-c-2"\x3e                    \x3cbutton class\x3d"btnCancel medium-4"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-session-prolongation-notice-label-n",options):helperMissing.call(depth0,"i18n","btn-session-prolongation-notice-label-n",options)))+'\x3c/button\x3e                    \x3cbutton class\x3d"btnOk medium-5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-session-prolongation-notice-label-y",options):helperMissing.call(depth0,"i18n","btn-session-prolongation-notice-label-y",
options)))+"\x3c/button\x3e                \x3c/p\x3e                ";return buffer}stack1=helpers["if"].call(depth0,depth0&&depth0.isLogin,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.isOneA,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer});templates["session-pop-type-2"]=template(function(Handlebars,depth0,helpers,
partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv class\x3d"session-expiration-popup" role\x3d"document"\x3e    \x3cdiv class\x3d"modalPop-new" \x3e        \x3cdiv class\x3d"session"\x3e            \x3ch1  class\x3d"tit dialog-title"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"auto-login-info-tit-label",options):helperMissing.call(depth0,"i18n","auto-login-info-tit-label",options)))+'\x3c/h1\x3e            \x3cdiv  class\x3d"session-info dialog-text"\x3e                \x3cp id\x3d"popup-message" class\x3d"txt-2"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"login-expiration-txt-label",options):helperMissing.call(depth0,
"i18n","login-expiration-txt-label",options)))+'\x3c/p\x3e                \x3cp class\x3d"btn-c-2"\x3e                    \x3cbutton class\x3d"btnOk medium-5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"ok-label",options):helperMissing.call(depth0,"i18n","ok-label",options)))+"\x3c/button\x3e                \x3c/p\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer}function program3(depth0,
data){var buffer="",helper,options;buffer+='\x3cdiv class\x3d"session-expiration-popup" role\x3d"document"\x3e    \x3cdiv class\x3d"modalPop-new"\x3e        \x3cdiv class\x3d"session"\x3e            \x3ch1 class\x3d"tit dialog-title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"session-info-tit-label",options):helperMissing.call(depth0,"i18n","session-info-tit-label",options)))+'\x3c/h1\x3e            \x3cdiv class\x3d"session-info dialog-text"\x3e                \x3cp id\x3d"popup-message" class\x3d"txt-2"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"session-expiration-txt-label",options):helperMissing.call(depth0,"i18n","session-expiration-txt-label",options)))+'\x3c/p\x3e                \x3cp class\x3d"btn-c-2"\x3e                    \x3cbutton class\x3d"btnOk medium-5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"ok-label",options):helperMissing.call(depth0,
"i18n","ok-label",options)))+"\x3c/button\x3e                \x3c/p\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer}stack1=helpers["if"].call(depth0,depth0&&depth0.isLogin,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.isOneA,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer})})();
(function($,koreanair,Cookie){Handlebars.registerHelper("chkLinkTypeIsOverlay",function(linkType,options){if(linkType==undefined||linkType=="overlay")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("chkLinkTypeIsWin",function(linkType,options){if(linkType=="_blank"||linkType=="_self")return options.fn(this);else return options.inverse(this)});Handlebars.registerHelper("chkLinkTypeIsBlank",function(linkType){if(linkType=="_blank")return'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;('+
Granite.I18n.get("wal-openWindow")+")\x3c/span\x3e";else return""});var showModal=function(link){$.ajax({url:$(link).attr("data-link"),dataType:"html",cache:false}).then(function(data){var wh=$(link).attr("data-size");var aryWH,w,h;if(wh!=null)aryWH=wh.split("-");if(aryWH==null||wh=="0-0")$.modal.standard('\x3cdiv id\x3d"alert-wrapper"\x3e'+data+"\x3c/div\x3e",{width:"50%"});else{w=aryWH[0];h=aryWH[1];$.modal.standard('\x3cdiv id\x3d"alert-wrapper"\x3e'+data+"\x3c/div\x3e",{height:h,width:w})}}).fail(function(jqXHR){console.log(jqXHR.responseText)})};
var onlyActive=function(alertArray){if(_.isEmpty(alertArray))return[];var getCookie=function(cookieName){if(cookieName=="lang"){var str=document.cookie.split("; ");_.each(str,function(list){var arr=list.split("\x3d");if(arr[0]==cookieName)if(/^[a-z]{2}$|^[a-z]{2}-[a-z]{2}$/.test(arr[1]))return arr[1];else return null})}else{var cookieRegex=new RegExp("\\b"+cookieName+"\\\x3d([^;]+)");var cookieMatch=cookieRegex.exec(document.cookie);return cookieMatch?cookieMatch[1]:null}};var country=getCookie("country")||
"kr";alertArray=_.filter(alertArray,function(alert){if(alert.country==null||alert.country==undefined||alert.country.length==0)return true;else if(_.contains(alert.country,country))return true;else return false});return alertArray};koreanair.Alert={delay:4E3,alertBannerTimer:null,latest:undefined,alerts:undefined,init:function(url,delay){$("#alert-marquee .prev").on("click",_.bind(this._movePrevItem,this));$("#alert-marquee .next").on("click",_.bind(this._moveNextItem,this));$("#alert-control").on("click",
_.bind(this.alertControl,this));$("#alertbanner-close").on("click",_.bind(this.clear,this));koreanair.common.utils.anchorToButton($("#alertbanner-close"));this.url=url;this.delay=delay;this.isAlert=0;var self=this;$.ajax(this.url,{cache:false,success:function(data){data.alerts=onlyActive(data.alerts);if(!Cookie.get("hide-alerts")&&data.alerts&&data.alerts.length){$("#alert-marquee").show();$("#alert-marquee").attr("data-height",$("#alert-marquee").height());self.alerts=data.alerts;self.latest=(new Date(data.date)).getDay();
koreanair.Alert.buildRotator(data)}else $("#alert-marquee").remove()}})},buildRotator:function(data,callback){var html=Handlebars.templates["alert"](data);$("#alert-marquee .alert-container").html(html);var marqueeClass="";if($(".alert-container\x3eli:eq(0)").hasClass("medium"))marqueeClass="medium";else if($(".alert-container\x3eli:eq(0)").hasClass("high"))marqueeClass="high";else marqueeClass="";$("#alert-bar-info").addClass(marqueeClass);$("#alertbanner-close").addClass(marqueeClass);if($("#alert-marquee .alert-container .alert").size()<
2){$("#alert-marquee .alert-container .alert").addClass("single");$("#alert-marquee .playapplication").parent().remove()}else koreanair.Alert.playAlertBanner();$("#alert-marquee").show();$(".alert-container").on("click",".alert-cta",function(e){e.preventDefault();showModal(this)});$(".alert-container").on("focus",".alert-cta",function(e){koreanair.Alert.stopAlertBanner()});if(callback&&typeof callback==="function")callback();koreanair.Alert.contentsDown()},playAlertBanner:function(){$("#alert-control").removeClass("play").addClass("pausenstop");
$("#alert-control").find("span").text(Granite.I18n.get("UWA-pause"));koreanair.Alert.alertBannerTimer=setInterval(function(){koreanair.Alert.rotate()},koreanair.Alert.delay)},stopAlertBanner:function(){$("#alert-control").removeClass("pausenstop").addClass("play");$("#alert-control").find("span").text(Granite.I18n.get("UWA-play"));clearInterval(koreanair.Alert.alertBannerTimer)},alertControl:function(e){if($("#alert-control").hasClass("pausenstop"))koreanair.Alert.stopAlertBanner();else koreanair.Alert.playAlertBanner()},
rotate:function(){if(!Cookie.get("hide-alerts")){var $items=$("#alert-marquee .alert-container .alert");if($items.length>1)koreanair.Alert._moveAndRemove()}},_moveAndRemove:function(){this._moveAnimation("next")},_movePrevItem:function(){this.stopAlertBanner();this._moveAnimation("prev")},_moveNextItem:function(){this.stopAlertBanner();this._moveAnimation("next")},_moveAnimation:function(direction){var $items=$("#alert-marquee .alert-container .alert");var activeItem=null;var newItem=null;var height=
$("#alert-marquee .alert-container .alert").outerHeight();var slidingSpeed=1E3;var buttonDisableChange=function(){var firstIndex=$("#alert-marquee .alert:first").data("order");if(firstIndex==0){$("#alert-marquee .prev").addClass("disabled").prop("disabled",true).prop("aria-disabled",true);$("#alert-marquee .next").removeClass("disabled").prop("disabled",false).prop("aria-disabled",false)}else if(firstIndex==$("#alert-marquee .alert").size()-1){$("#alert-marquee .prev").removeClass("disabled").prop("disabled",
false).prop("aria-disabled",false);$("#alert-marquee .next").addClass("disabled").prop("disabled",true).prop("aria-disabled",true)}else{$("#alert-marquee .prev").removeClass("disabled").prop("disabled",false).prop("aria-disabled",false);$("#alert-marquee .next").removeClass("disabled").prop("disabled",false).prop("aria-disabled",false)}if($("#alert-marquee .alert:eq(0)").hasClass("high"))$("#alert-bar-info").removeClass("medium").removeClass("high").addClass("high");else $("#alert-bar-info").removeClass("medium").removeClass("high").addClass("medium")};
if(direction=="prev"){$("#alert-marquee .alert:last").remove().insertBefore($("#alert-marquee .alert:first"));$("#alert-marquee .alert").css("top",-1*height);activeItem=$("#alert-marquee .alert:eq(1)");newItem=$("#alert-marquee .alert:eq(0)");$(newItem).animate({"top":0},slidingSpeed);$(activeItem).animate({"top":0},slidingSpeed,function(){$("#alert-marquee .alert").css("top","0px");buttonDisableChange()})}else{activeItem=$("#alert-marquee .alert:eq(0)");newItem=$("#alert-marquee .alert:eq(1)");$(newItem).animate({"top":-1*
height},slidingSpeed);$(activeItem).animate({"top":-1*height},slidingSpeed,function(){$("#alert-marquee .alert:first").remove().insertAfter($("#alert-marquee .alert:last"));$("#alert-marquee .alert").css("top","0px");buttonDisableChange()})}},clear:function(e){e.preventDefault();if($("#alert-bar-checkbox").is(":checked"))Cookie.set("hide-alerts",true,60*24);if(this.interval)clearInterval(this.interval);koreanair.Alert.contentsUp()},contentsDown:function(){this.isAlert=1;$("#content-area, #bookingSteps, .booking-flow, .side-nav, #flight-status-search-panel, #mainmenuClose").addClass("isalert");
$(".main-contents").addClass("addalert");koreanair.Alert.adjustGnbBar()},contentsUp:function(){this.isAlert=0;$("#content-area, #bookingSteps, .booking-flow, .side-nav, #flight-status-search-panel, #mainmenuClose").removeClass("isalert");$(".main-contents").removeClass("addalert");$("#alert-marquee").remove();koreanair.Alert.adjustGnbBar()},adjustGnbBar:function(){var whiteBarHeight=0;if($(".white-bar").size()>0)whiteBarHeight=72;else whiteBarHeight=$(".gnb").outerHeight();var h=Math.floor(whiteBarHeight/
2-$("#navLogo").outerHeight()/2)+$("#top-sec .utilitynav").outerHeight();$(".top-position").css("top",h+"px");$(".white-bar").css("top",$("#top-sec .utilitynav").outerHeight()+"px");$(".gnb").css("top",$("#top-sec .utilitynav").outerHeight()+"px")},getAlertStatus:function(){return this.isAlert}};$(document).ready(function(){if(window.koreanair.AlertData&&window.koreanair.AlertData.Url!="")window.koreanair.Alert.init(window.koreanair.AlertData.Url,window.koreanair.AlertData.Delay)})})(jQuery,koreanair,
koreanair.Cookie);
(function($,koreanair,Cookie){function initCookieInfoAlert(){var nations=["nl","de","ru","ch","es","gb","at","eg","uz","it","cz","ke","tr","fr","dk","se","no","gr"];var getCookie=function(cookieName){var cookieRegex=new RegExp("\\b"+cookieName+"\\\x3d([^;]+)");var cookieMatch=cookieRegex.exec(document.cookie);return cookieMatch?cookieMatch[1]:null};var country=getCookie("country")||"kr";var hideAlert=getCookie("hideCookieAlert")||false;if(_.contains(nations,country)&&hideAlert==false)if(!koreanair.isMobile){var html=
Handlebars.templates["cookie-alert"]();$("#cookie-info-alert").html(html);$("#content-area, #bookingSteps, .booking-flow, .side-nav, #flight-status-search-panel, #mainmenuClose").addClass("iscookie");$(".main-contents").addClass("addcookie");koreanair.Alert.adjustGnbBar();$("#cookie-info-alert").find("#cookiePolicyAlert").on("click",function(){$("#cookie-info-alert").html("");$("#content-area, #bookingSteps, .booking-flow, .side-nav, #flight-status-search-panel, #mainmenuClose").removeClass("iscookie");
$(".main-contents").removeClass("addcookie");koreanair.Alert.adjustGnbBar();var expiration_date=new Date;expiration_date.setFullYear(expiration_date.getFullYear()+1);var cookie_string="hideCookieAlert\x3dtrue; path\x3d/; expires\x3d"+expiration_date.toUTCString();document.cookie=cookie_string})}else{var html=Handlebars.templates["cookie-alert"]();$("#cookie-info-alert").html(html);$("#cookie-info-alert").find("#cookiePolicyAlert").on("click",function(){$("#cookie-info-alert").html("");var expiration_date=
new Date;expiration_date.setFullYear(expiration_date.getFullYear()+1);var cookie_string="hideCookieAlert\x3dtrue; path\x3d/; expires\x3d"+expiration_date.toUTCString();document.cookie=cookie_string})}}$(document).ready(function(){initCookieInfoAlert()})})(jQuery,koreanair,koreanair.Cookie);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["mainpage-login-after"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function";buffer+='\x3csection class\x3d"loginfo"\x3e    \x3cp class\x3d"log-message"\x3e        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"imm_greeting-label",options):helperMissing.call(depth0,"i18n","imm_greeting-label",options)))+" \x3cstrong\x3e"+escapeExpression((stack1=depth0&&depth0.userId,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/strong\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"imm_sir",options):helperMissing.call(depth0,
"i18n","imm_sir",options)))+'    \x3c/p\x3e    \x3cdl class\x3d"log-mileage-info"\x3e        \x3cdt\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"redeem-limo-redeemable-miles",options):helperMissing.call(depth0,"i18n","redeem-limo-redeemable-miles",options)))+"\x3c/dt\x3e        \x3cdd\x3e\x3cem\x3e"+escapeExpression((helper=helpers.comma||depth0&&depth0.comma,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.skypassMiles,
options):helperMissing.call(depth0,"comma",depth0&&depth0.skypassMiles,options)))+"\x3c/em\x3e\x3cspan\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"redeem-limo-miles",options):helperMissing.call(depth0,"i18n","redeem-limo-miles",options)))+'\x3c/span\x3e\x3c/dd\x3e    \x3c/dl\x3e    \x3cul class\x3d"mylinkbt"\x3e        \x3cli\x3e\x3ca href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"imm_my-trips-label",options):helperMissing.call(depth0,"i18n","imm_my-trips-label",options)))+'\x3c/a\x3e\x3c/li\x3e        \x3cli\x3e\x3ca href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"utility-nav-my-page-label",options):helperMissing.call(depth0,"i18n","utility-nav-my-page-label",options)))+"\x3c/a\x3e\x3c/li\x3e    \x3c/ul\x3e\x3c/section\x3e";return buffer});templates["mainpage-login-before"]=
template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3csection class\x3d"login custom-form keForm" id\x3d"mainLoginForm"\x3e    \x3ch2\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"util-login-label",options):
helperMissing.call(depth0,"i18n","util-login-label",options)))+'\x3c/h2\x3e    \x3cdiv class\x3d"mylink-form"\x3e        \x3cfieldset\x3e            \x3clegend class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-login-type",options):helperMissing.call(depth0,"i18n","select-login-type",options)))+'\x3c/legend\x3e            \x3cdiv class\x3d"radio-area"\x3e                \x3cdiv class\x3d"radiostyle"\x3e\x3cinput type\x3d"radio" name\x3d"how-to-login-quick" id\x3d"loginUserId" value\x3d"username" checked\x3e\x3cspan class\x3d"radiobox"\x3e\x3c/span\x3e\x3clabel for\x3d"loginUserId"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-id",options):helperMissing.call(depth0,"i18n","user-id",options)))+'\x3c/label\x3e\x3c/div\x3e                \x3cdiv class\x3d"radiostyle"\x3e\x3cinput type\x3d"radio" name\x3d"how-to-login-quick" id\x3d"loginSkypass" value\x3d"skypass"\x3e\x3cspan class\x3d"radiobox"\x3e\x3c/span\x3e\x3clabel for\x3d"loginSkypass"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"skypass",options):helperMissing.call(depth0,"i18n","skypass",options)))+'\x3c/label\x3e\x3c/div\x3e            \x3c/div\x3e        \x3c/fieldset\x3e        \x3cdiv\x3e            \x3cdiv class\x3d"input-area"\x3e                \x3clabel for\x3d"mainUsernameInput" class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-id",options):helperMissing.call(depth0,
"i18n","rsrv-search-login-id",options)))+'\x3c/label\x3e                \x3cspan class\x3d"placeholder" data-placeholder-id\x3d"mainUsernameInput"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-id-ph",options):helperMissing.call(depth0,"i18n","rsrv-search-login-id-ph",options)))+'\x3c/span\x3e                \x3cinput type\x3d"text" id\x3d"mainUsernameInput"\x3e            \x3c/div\x3e            \x3cdiv class\x3d"pw-area"\x3e                \x3clabel for\x3d"mainPasswordInput" class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"password-label",options):helperMissing.call(depth0,"i18n","password-label",options)))+'\x3c/label\x3e                \x3cspan class\x3d"placeholder" data-placeholder-id\x3d"mainPasswordInput"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-password-ph",options):helperMissing.call(depth0,"i18n","rsrv-search-login-password-ph",
options)))+'\x3c/span\x3e                \x3cinput type\x3d"password" id\x3d"mainPasswordInput" \x3e            \x3c/div\x3e        \x3c/div\x3e        \x3cdiv\x3e            \x3cbutton type\x3d"submit" class\x3d"main-blue-btn" id\x3d"loginSubmit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"util-login-label",options):helperMissing.call(depth0,"i18n","util-login-label",options)))+'\x3c/button\x3e        \x3c/div\x3e        \x3cdiv class\x3d"main-link"\x3e            \x3ca href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"util-register-label",options):helperMissing.call(depth0,"i18n","util-register-label",options)))+'\x3c/a\x3e\x3ca href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"newmain-login-idpwfind",options):helperMissing.call(depth0,"i18n","newmain-login-idpwfind",options)))+"\x3c/a\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/section\x3e";
return buffer});templates["mainpage-mainbanner"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3cli\x3e                \x3cbutton class\x3d"bannerIndexButton '+
escapeExpression((helper=helpers.bannerButtonActiveDeactive||depth0&&depth0.bannerButtonActiveDeactive,options={hash:{},data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,options):helperMissing.call(depth0,"bannerButtonActiveDeactive",data==null||data===false?data:data.index,options)))+'" data-index\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=
helpers.mainBannerIndText||depth0&&depth0.mainBannerIndText,options={hash:{},data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,options):helperMissing.call(depth0,"mainBannerIndText",data==null||data===false?data:data.index,options)))+"\x3c/span\x3e\x3c/button\x3e            \x3c/li\x3e        ";return buffer}function program3(depth0,data){var buffer="",stack1;buffer+="    ";stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),
data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";return buffer}function program4(depth0,data){var buffer="",stack1,helper,options;buffer+='    \x3cli style\x3d"left:0; '+escapeExpression((helper=helpers.mainBannerBackgroundImageCss||depth0&&depth0.mainBannerBackgroundImageCss,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.backgroundOption,depth0&&depth0.backgroundColor,depth0&&depth0.backgroundImagePath,options):helperMissing.call(depth0,"mainBannerBackgroundImageCss",
depth0&&depth0.backgroundOption,depth0&&depth0.backgroundColor,depth0&&depth0.backgroundImagePath,options)))+" "+escapeExpression((helper=helpers.mainBannerHideWhenZero||depth0&&depth0.mainBannerHideWhenZero,options={hash:{},data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,options):helperMissing.call(depth0,"mainBannerHideWhenZero",data==null||data===false?data:data.index,options)))+'"\x3e    \x3cdiv class\x3d"img-insert" style\x3d"'+escapeExpression((helper=helpers.mainBannerForegroundImageCss||
depth0&&depth0.mainBannerForegroundImageCss,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.bannerImagePath,depth0&&depth0.bannerImageTabletPath,options):helperMissing.call(depth0,"mainBannerForegroundImageCss",depth0&&depth0.bannerImagePath,depth0&&depth0.bannerImageTabletPath,options)))+'"\x3e\x3c/div\x3e    \x3cdiv class\x3d"main-banner ';if(helper=helpers.textAlignment)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.textAlignment;stack1=typeof helper===
functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+" ";if(helper=helpers.textColor)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.textColor;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e        \x3cdiv class\x3d"main-banner-container" tabindex\x3d"-1"\x3e            \x3ch2 id\x3d"mainbannerHeading'+escapeExpression((stack1=data==null||data===false?data:data.index,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e';if(helper=helpers.title)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.title;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/h2\x3e            \x3cp class\x3d"description"\x3e';stack1=(helper=helpers.bannerCaption||depth0&&depth0.bannerCaption,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.caption,
options):helperMissing.call(depth0,"bannerCaption",depth0&&depth0.caption,options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/p\x3e            ";stack1=helpers["if"].call(depth0,depth0&&depth0.bannerImageAltText,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=helpers["if"].call(depth0,depth0&&depth0.url,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+="        \x3c/div\x3e    \x3c/div\x3e    \x3c/li\x3e    ";return buffer}function program5(depth0,data){var buffer="",stack1,helper;buffer+='            \x3cdiv class\x3d"offscreen"\x3e';if(helper=helpers.bannerImageAltText)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.bannerImageAltText;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e            ";return buffer}function program7(depth0,
data){var buffer="",stack1,helper,options;buffer+='            \x3ca href\x3d"';if(helper=helpers.url)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.url;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" tabindex\x3d"-1" target\x3d"';if(helper=helpers.target)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.target;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):
helper}buffer+=escapeExpression(stack1)+'" aria-describedby\x3d"mainbannerHeading'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"mainbanner-btn ';if(helper=helpers.buttonTextColor)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.buttonTextColor;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.buttonText)stack1=
helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.buttonText;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1);stack1=(helper=helpers.mainbannerOpenNewWin||depth0&&depth0.mainbannerOpenNewWin,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.target,options):helperMissing.call(depth0,"mainbannerOpenNewWin",depth0&&depth0.target,options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/a\x3e            ";
return buffer}function program9(depth0,data){var buffer="";buffer+='        \x3cli style\x3d"left:0;background:#fff;"\x3e        \x3cdiv class\x3d"img-insert"\x3e        \x3c/div\x3e        \x3cdiv class\x3d"main-banner right blue"\x3e            \x3cbr/\x3e\x3cbr/\x3e            \x3ch1\x3eNo Main banner!\x3cbr\x3eClick Edit button and add new banner!\x3c/h1\x3e            \x3cp class\x3d"description"\x3e\x3c/p\x3e        \x3c/div\x3e    \x3c/li\x3e        ';return buffer}buffer+='\x3cdiv class\x3d"btn-area"\x3e    \x3cul class\x3d"banner-btn"\x3e        ';
stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3cli\x3e\x3cbutton class\x3d"stop"\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Stop",options):helperMissing.call(depth0,"i18n","Stop",options)))+'\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e        \x3cli\x3e\x3cbutton class\x3d"pause play-pause"\x3e\x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-pause",options):helperMissing.call(depth0,"i18n","UWA-pause",options)))+'\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e    \x3c/ul\x3e\x3c/div\x3e\x3cul class\x3d"new-carousel"\x3e    ';stack1=helpers["if"].call(depth0,depth0,{hash:{},inverse:self.program(9,program9,data),fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/ul\x3e";return buffer});
templates["mainpage-promotion-item"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;buffer+='\x3ca href\x3d"';if(helper=helpers.link)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.link;stack1=typeof helper===functionType?helper.call(depth0,
{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" target\x3d"';if(helper=helpers.linkTarget)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.linkTarget;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e    \x3cdiv class\x3d"cont"\x3e        \x3cdiv class\x3d"img"\x3e            \x3cspan class\x3d"toparrow"\x3e\x3c/span\x3e            \x3cimg src\x3d"';if(helper=helpers.imagePath)stack1=helper.call(depth0,
{hash:{},data:data});else{helper=depth0&&depth0.imagePath;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" alt\x3d"" /\x3e        \x3c/div\x3e        \x3cdiv class\x3d"desc"\x3e            \x3ch4\x3e';if(helper=helpers.subTitle)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.subTitle;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}if(stack1||stack1===0)buffer+=stack1;
buffer+="\x3c/h4\x3e            \x3cp\x3e";if(helper=helpers.caption)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.caption;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/p\x3e        \x3c/div\x3e    \x3c/div\x3e    ";stack1=(helper=helpers.promotionOpenNewWin||depth0&&depth0.promotionOpenNewWin,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.linkTarget,options):helperMissing.call(depth0,
"promotionOpenNewWin",depth0&&depth0.linkTarget,options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/a\x3e";return buffer});templates["mainpage-specialink"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1,
helper,options;buffer+="        ";stack1=(helper=helpers.ifOdd||depth0&&depth0.ifOdd,options={hash:{},inverse:self.program(4,program4,data),fn:self.program(2,program2,data),data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,options):helperMissing.call(depth0,"ifOdd",data==null||data===false?data:data.index,options));if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3cdiv\x3e                ";stack1=(helper=helpers.xif||depth0&&depth0.xif,options={hash:{},inverse:self.noop,
fn:self.program(6,program6,data),data:data},helper?helper.call(depth0,"this.imagePosition \x3d\x3d 'left' ",options):helperMissing.call(depth0,"xif","this.imagePosition \x3d\x3d 'left' ",options));if(stack1||stack1===0)buffer+=stack1;buffer+='                \x3cdiv class\x3d"inner"\x3e                    \x3ch4 class\x3d"tit"\x3e';if(helper=helpers.title)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.title;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},
data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/h4\x3e                    \x3cp class\x3d"cont"\x3e';if(helper=helpers.caption)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.caption;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                    \x3ca href\x3d"';if(helper=helpers.linkURL)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.linkURL;stack1=typeof helper===
functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" class\x3d"button-small-white" target\x3d"';if(helper=helpers.linkTarget)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.linkTarget;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e\x3cspan class\x3d"offscreen"\x3e';if(helper=helpers.title)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&
depth0.title;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+" - \x3c/span\x3e";if(helper=helpers.buttonText)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.buttonText;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1);stack1=(helper=helpers.specialLinkOpenNewWin||depth0&&depth0.specialLinkOpenNewWin,options={hash:{},data:data},helper?helper.call(depth0,
depth0&&depth0.linkTarget,options):helperMissing.call(depth0,"specialLinkOpenNewWin",depth0&&depth0.linkTarget,options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/a\x3e                \x3c/div\x3e                ";stack1=(helper=helpers.xif||depth0&&depth0.xif,options={hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data},helper?helper.call(depth0,"this.imagePosition \x3d\x3d 'right' ",options):helperMissing.call(depth0,"xif","this.imagePosition \x3d\x3d 'right' ",options));
if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/div\x3e        \x3c/li\x3e        ";return buffer}function program2(depth0,data){return'        \x3cli class\x3d"even"\x3e            '}function program4(depth0,data){return'        \x3cli class\x3d"odd"\x3e            '}function program6(depth0,data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.imagePath,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program7(depth0,data){var buffer="",stack1,helper;buffer+='                \x3cspan class\x3d"img"\x3e\x3cimg src\x3d"';if(helper=helpers.imagePath)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.imagePath;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" alt\x3d"';if(helper=helpers.imageAltText)stack1=helper.call(depth0,{hash:{},
data:data});else{helper=depth0&&depth0.imageAltText;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" /\x3e\x3c/span\x3e                ';return buffer}buffer+='\x3cdiv class\x3d"special-link-set"\x3e    \x3cul\x3e        ';stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/ul\x3e\x3c/div\x3e";return buffer})})();
(function(_,$,Backbone,Templates,koreanair,MainPromotion,moment,I18n){var MainLoginBeforeView=Backbone.View.extend({el:"#login-section",template:Handlebars.templates["mainpage-login-before"],afterTemplate:Handlebars.templates["mainpage-login-after"],events:{"click #loginSubmit":"loginSubmitProc","click #mainLoginForm .main-link a:eq(0)":"registLink","click #mainLoginForm .main-link a:eq(1)":"findIdLink","change [name\x3dhow-to-login-quick]":"selectLoginType"},render:function(){_.bindAll(this);this.$el.html(this.template());
this.$el.find("input").not("[type\x3dradio]").keydown(function(event){if(event.keyCode===13){event.preventDefault();$("#loginSubmit").click()}});if(!koreanair.isMobile){this.$el.find("input").not("[type\x3dradio]").placeholder();$("#mainUsernameInput").on("change",function(e){setTimeout(function(){try{if($("#mainPasswordInput:-webkit-autofill").length>0){var $input=$("#mainPasswordInput"),id=$input.attr("id"),$label=$input.siblings("[data-placeholder-id\x3d"+id+"]");$label.hide()}}catch(ex){return false}},
200)})}},initialize:function(){},selectLoginType:function(e){if($(e.currentTarget).val()=="skypass"){$("[data-placeholder-id\x3dmainUsernameInput]").html(I18n.get("rsrv-search-login-skypass-input"));$("[for\x3dmainUsernameInput]").html(I18n.get("rsrv-search-login-skypass"))}else{$("[data-placeholder-id\x3dmainUsernameInput]").html(I18n.get("rsrv-search-login-id-ph"));$("[for\x3dmainUsernameInput]").html(I18n.get("rsrv-search-login-id"))}},loginSubmitProc:function(e){e.preventDefault();$(e.currentTarget).addClass("disabled");
var that=this;koreanair.Login.callLoginService($("#mainLoginForm input[name\x3dhow-to-login-quick]:checked").val(),$("#mainUsernameInput").val(),$("#mainPasswordInput").val()).done(function(data){that.$el.html(that.afterTemplate(data))}).fail(function(data){if(data!=="closed"){koreanair.Modal.sized("#",{html:'\x3cdiv class\x3d"info-message"\x3e \x3cp\x3e'+Granite.I18n.get("unauthorized-login-label")+"\x3c/p\x3e\x3c/div\x3e",inline:false,shouldReadAll:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-alert"),
onClosed:function(){$("#mainUsernameInput").focus()}});$.colorbox.resize()}$(e.currentTarget).removeClass("disabled")})},registLink:function(e){e.preventDefault();if(_.contains(window.koreanair.Account.accountRegistration,".html"))location.href=window.koreanair.Account.accountRegistration;else location.href=window.koreanair.Account.accountRegistration+".html"},findIdLink:function(e){e.preventDefault();if(_.contains(window.koreanair.Account.accountRecovery,".html"))location.href=window.koreanair.Account.accountRecovery;
else location.href=window.koreanair.Account.accountRecovery+".html"}});koreanair.MainLogin=koreanair.MainLogin||{};koreanair.MainLogin.BeforeView=MainLoginBeforeView})(_,jQuery,Backbone,Handlebars.templates,koreanair,koreanair.MainPromotion,moment,Granite.I18n);
(function(_,$,Backbone,Templates,koreanair,MainPromotion,moment,I18n){var MainLoginAfterView=Backbone.View.extend({el:"#login-section",template:Handlebars.templates["mainpage-login-after"],events:{"click .loginfo .mylinkbt a:eq(0)":"myResvLink","click .loginfo .mylinkbt a:eq(1)":"myProfileLink"},render:function(){_.bindAll(this);this.$el.html(this.template(this.options))},initialize:function(){},myResvLink:function(e){e.preventDefault();if(_.contains(window.koreanair.MainLogin.myResv,".html"))location.href=
window.koreanair.MainLogin.myResv;else location.href=window.koreanair.MainLogin.myResv+".html"},myProfileLink:function(e){e.preventDefault();if(_.contains(window.koreanair.Account.profilePage,".html"))location.href=window.koreanair.Account.profilePage;else location.href=window.koreanair.Account.profilePage+".html"}});koreanair.MainLogin=koreanair.MainLogin||{};koreanair.MainLogin.AfterView=MainLoginAfterView})(_,jQuery,Backbone,Handlebars.templates,koreanair,koreanair.MainPromotion,moment,Granite.I18n);
(function($,MainLogin,koreanair){var mainLogin=function(){if(koreanair.skypass.get("passengers").user){if(!this.loginAfterView)this.loginAfterView=new MainLogin.AfterView(koreanair.skypass.get("passengers").user);this.loginAfterView.render();if(koreanair.quick&&!_.isEmpty(koreanair.quick.quickCheckin))koreanair.quick.quickCheckin.changeCheckinView()}else{if(!this.loginBeforeView)this.loginBeforeView=new MainLogin.BeforeView;this.loginBeforeView.render()}};koreanair.MainLogin=koreanair.MainLogin||
{};koreanair.MainLogin.MainView=mainLogin})(jQuery,koreanair.MainLogin,koreanair);
(function(_,Backbone,I18n,koreanair){koreanair.Booking={ALL_PRICES:I18n.get("any-price-label"),DOMESTIC_SEATING_CLASSES:["economy","prestige"],INTL_SEATING_CLASSES:["economy","prestige","first"],CABIN_CLASS:{ECONOMY:"economy",PRESTIGE:"prestige",FIRST:"first"},TRIP_DIRECTION:{DEPATURE:"departure",ARRIVAL:"arrival"},PAGE:{BOOKING_GATE:"bookingGate",BOOKING_FUNNEL:"bookingFunnel",REISSUE_GATE:"reissueGate",CHANGE_GATE:"changeGate",RESERVATION_CHANGE:"reservationChange",CHECKIN:"checkin",SCHEDULE_FLIGHT:"scheduleFlight",
MY_RESERVATION:"myReservation"},STORAGE_KEY:{BOOKING_GATE:"BOOKING_GATE",REISSUE_GATE:"REISSUE_GATE",CHANGE_GATE:"CHANGE_GATE",RESERVATION_CHANGE:"RESERVATION_CHANGE",FLIGHT_SELECT:"FLIGHT_SELECT",MILEAGE_UPGRADE:"MILEAGE_UPGRADE",SEARCH_SCHEDULE:"SEARCH_SCHEDULE",SEARCH_FLIGHTS:"SEARCH_FLIGHTS"},ACTIONS:{PRIME:"PRIME",CHANGE:"CHANGE",REISSUE:"REISSUE",UPGRADE:"UPGRADE"},FLIGHT_TYPE:{ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_CITY:"multi"},TRIP_TYPES:{ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_CITY:"multi",
OPEN_JAW:"openjaw",DOMESTIC:"domestic",INTERNATIONAL:"international",RECENTSEARCHES:"recentSearches"},PAYMENT_TYPES:{REVENUE:"revenue",AWARD:"award"},BOOKING_STEPS:{FLIGHT_SELECTION:"step-flightselect",OPTIONS:"step-options",TRAVELLER_INFO:"step-travellerinfo",PAYMENT:"step-payment",CONFIRM:"step-confirm"},FLEX_DAYS:0,FLIGHT_SEARCH:{DATE_FORMAT:"YYYY-MM-DD"},INPUT:{DATE_FORMAT:"YYYY.MM.DD",DATE_FORMAT_SLASH:"YYYY/MM/DD"},DISCOUNT_SEARCH:{DATE_FORMAT:"MM-DD"},PASSENGER_TYPE_CODES:{ADULT:"ADULT",CHILD:"CHILD",
INFANT:"INFANT"},IBE_PASSENGER_TYPE_CODE_CROSS_REF:{ADT:"ADULT",CHD:"CHILD",INF:"INFANT"},IBE_PASSENGER_TYPE_CODES:{ADULT:"ADT",CHILD:"CHD",INFANT:"INF",SINFANT:"INS"},CALENDAR_MONTHS:[I18n.get("january-label"),I18n.get("february-label"),I18n.get("march-label"),I18n.get("april-label"),I18n.get("may-label"),I18n.get("june-label"),I18n.get("july-label"),I18n.get("august-label"),I18n.get("september-label"),I18n.get("october-label"),I18n.get("november-label"),I18n.get("december-label")],CALENDAR_DAY_ABBREVIATIONS:[I18n.get("sunday-abbr-label"),
I18n.get("monday-abbr-label"),I18n.get("tuesday-abbr-label"),I18n.get("wednesday-abbr-label"),I18n.get("thursday-abbr-label"),I18n.get("friday-abbr-label"),I18n.get("saturday-abbr-label")],OKCASHBAG:"/api/booking/okcashbag",callBookingRulesService:function(origin,destination,paymentType){return $.ajax(koreanair.Navigation.Booking.ruleservice,{cache:true,path:{origin:origin,destination:destination,bookingType:paymentType}})},getBookingRule:function(bounds,paymentType,tripType){var tripRegions=[],deferreds=
[],deferred=$.Deferred();deferreds=_.map(bounds,_.bind(function(bound){tripRegions.push(bound.departureRegion);tripRegions.push(bound.arrivalRegion);return this.callBookingRulesService(bound.departureAirport,bound.arrivalAirport,paymentType)},this));$.when.apply($,deferreds).done(function(){var args=bounds.length>1?arguments:[arguments],isScheduleDriven=_.some(args,function(arg){return arg[0].scheduleDriven});if(tripType&&bounds.length==2){tripRegions=_.compact(_.uniq(tripRegions));if(tripRegions.length>
2)isScheduleDriven=true}deferred.resolve({"isScheduleDriven":isScheduleDriven})}).fail(function(){deferred.reject()});return deferred.promise()},checkAirportMessages:function(bookingModel,regionsMessage,cptTem,multiCity){var deferred=$.Deferred(),paymentType=bookingModel.award?koreanair.Booking.PAYMENT_TYPES.AWARD:koreanair.Booking.PAYMENT_TYPES.REVENUE,bounds=bookingModel.bounds,hasCaptcha=false,hasTitle=true;if(bookingModel.isSTA)paymentType="awardSTA";var isUK=false;var checkMsg=Granite.I18n.get("system-reacom-flag").split("^"),
fromTimes=[],toTimes=[];fromTimes.push(checkMsg[0]);toTimes.push(checkMsg[1]);var current=moment().zone("+09:00").format("YYYY-MM-DDTHH:mm"),inTimes=false;if(fromTimes.length>0&&toTimes.length>0)inTimes=_.some(fromTimes,function(time,idx){return moment(current).isAfter(time)&&moment(current).isBefore(toTimes[idx])||moment(current).isSame(time)||moment(current).isSame(toTimes[idx])});else inTimes=true;if(inTimes){var isReacomMsg=_.some(bounds,function(bound){return moment(bound.departure).isAfter(moment("2018-03-31T00:00:00+00:00"),
"days")});if(isReacomMsg&&!bookingModel.isDomestic&&!bookingModel.award&&bounds[0].cabinClass.toUpperCase()=="FIRST"){koreanair.Modal.alert(I18n.get("system-reacom-message"));return deferred.promise()}}koreanair.Airports.getAirportMessages(bounds,paymentType).done(_.bind(function(datas,isBlocking){if(!bookingModel.isDomestic)koreanair.Airports.getRegionGroupAirportList(bookingModel.tripType,"revenue").done(_.bind(function(airports){isUK=_.some(bounds,function(bound){var departure=bound.departureAirport,
cabinClass=bound.cabinClass.toLowerCase();return koreanair.Airports.isGB(airports,departure)&&cabinClass=="economy"})},this));if(regionsMessage&&regionsMessage.length>0)_.each(regionsMessage,function(message){datas.unshift(message)});if(multiCity)datas.unshift(multiCity);if(cptTem){hasCaptcha=true;if(datas.length==0)hasTitle=false;datas.push(cptTem);$("#colorbox").on("click","#captcha-refresh",_.bind(function(e){this.reloadCaptcha(e)},this));$("#colorbox").on("click","#captcha-voice",_.bind(function(e){this.getCptSound(e)},
this));$("#captcha").live("keypress",function(){$("#colorbox").find(".errorMessageContainer").html("");$("#captcha").attr("aria-describedby","captcha-placeholder")})}if(datas&&datas.length>0){var html=Handlebars.templates["booking-gate-airport-messages"]({messages:datas,hasTitle:hasTitle,isBlocking:isBlocking});koreanair.Modal.confirm(koreanair.utils.htmlDecode(html),{width:"70%",button:true,confirmLabel:I18n.get("continue-label"),cancelLabel:I18n.get("cancel-upper"),hasCaptcha:hasCaptcha,focusFirstElement:true,
onComplete:function(){koreanair.common.utils.anchorToButton($("#colorbox").find('a:not([id*\x3dbtnModalPopup],[href*\x3d"http"])'));if(isUK&&bookingModel.adults>0)$("#colorbox").find("a:not([id*\x3dbtnModalPopup])").off("click").on("click",function(){deferred.reject("select-discount")});$("#cboxClose").remove();$("#airpmessage-check").appendTo("#cboxLoadedContent");if(isBlocking){$("#btnModalPopupNo").remove();$("#btnModalPopupYes").text(I18n.get("ok-label"))}},onCompleteAfter:function(){$("#airpmessage-checkbox").change(function(e){e.preventDefault();
koreanair.messageCookies.check=$(e.currentTarget).is(":checked")})}}).done(function(){if(koreanair.messageCookies.check){if(ixBand.utils.cookie("KE_MSG")){var msgCookies=decodeURIComponent(ixBand.utils.cookie("KE_MSG")).split(",");koreanair.messageCookies.data.push(_.uniq(_.union(msgCookies,koreanair.messageCookies.data)))}ixBand.utils.cookie("KE_MSG",koreanair.messageCookies.data.toString(),999999)}koreanair.messageCookies.check=false;koreanair.messageCookies.data=[];if(isBlocking)deferred.reject("cancel");
else deferred.resolve("confirm")}).fail(function(){koreanair.messageCookies.check=false;koreanair.messageCookies.data=[];deferred.reject("cancel")})}else deferred.resolve("no-data")},this)).fail(function(){if(bookingModel.isSTA){var datas=[];if(multiCity)datas.push(multiCity);if(datas&&datas.length>0){var html=Handlebars.templates["booking-gate-airport-messages"]({messages:datas,hasTitle:false});koreanair.Modal.confirm(koreanair.utils.htmlDecode(html),{width:"70%",button:true,confirmLabel:I18n.get("ok-label"),
cancelLabel:I18n.get("cancel-upper"),hasCaptcha:hasCaptcha,focusFirstElement:true}).done(function(){koreanair.messageCookies.check=false;koreanair.messageCookies.data=[];deferred.resolve("confirm")}).fail(function(){koreanair.messageCookies.check=false;koreanair.messageCookies.data=[];deferred.reject("cancel")})}else deferred.resolve("confirm")}else deferred.reject("net-fail")});return deferred.promise()},reloadCaptcha:function(e){var that=this;var imgSrc="/api/captcha/getImage?_\x3d"+Math.random(99999);
$(".captcha-img \x3e img").removeAttr("src");$(".captcha-img \x3e img").attr("src",imgSrc)},getCptSound:function(e){e.preventDefault();if(ixBand.ua.MSIE){var soundSrc="/api/captcha/getAudio?_\x3d"+Math.random(99999);$("#captcha-voice").append('\x3cbgsound src\x3d"'+soundSrc+'"\x3e')}else{if(!this.voiceCapt)this.voiceCapt=new Audio("/api/captcha/getAudio");this.voiceCapt.src="/api/captcha/getAudio?_\x3d"+Math.random(99999);this.voiceCapt.play()}},getParamData:function(itinerary){var datas={bookingType:itinerary.get("bookingType").toUpperCase(),
tripType:itinerary.get("tripType"),adults:itinerary.get("adults"),children:itinerary.get("children"),infants:itinerary.get("infants"),isFlex:itinerary.get("isFlex"),isDomestic:itinerary.get("isDomestic"),award:itinerary.get("award"),isScheduleDriven:itinerary.get("isScheduleDriven"),isChange:itinerary.isChange(),isReissue:itinerary.isReissue(),isSTA:itinerary.get("isSTA"),qpxPrice:itinerary.get("qpxPrice"),qpxTagName:itinerary.get("qpxTagName"),originInBKS:itinerary.get("originInBKS"),originOutBKS:itinerary.get("originOutBKS"),
originInFLT:itinerary.get("originInFLT"),originOutFLT:itinerary.get("originOutFLT"),originalRecordLocator:itinerary.get("recordLocator")||itinerary.get("originalRecordLocator"),originalReservationNumber:itinerary.get("reservationNumber")||itinerary.get("originalReservationNumber"),originalPassengerNameRecordForm:itinerary.get("originalPassengerNameRecordForm")||"",originalCabinClass:itinerary.get("bounds").toJSON()[0].cabinClass.toUpperCase()||"",currency:itinerary.get("currency"),pnrSessionId:itinerary.get("pnrSessionId"),
purchaseThirdPerson:itinerary.get("purchaseThirdPerson"),isUpgradeableCabin:itinerary.get("isUpgradeableCabin")||false,contactPoint:itinerary.get("contactPoint").toJSON(),inflowroute:itinerary.get("inflowroute"),answer:koreanair.answer?koreanair.answer.toString():""};if(itinerary.isChange()||itinerary.isReissue()){datas.bounds=itinerary.get("bounds").stripBookingClass().toJSON();if(itinerary.isReissue())datas.ticketingInfo=itinerary.get("ticketingInfo")}else datas.bounds=itinerary.get("bounds").toJSON();
return datas},getBookingFunnelUrl:function(itinerary){var URL_REG=/(\/)x(\w*.html)?/;var isGlobal=koreanair.Country!=="kr",isAward=itinerary.get("award"),isDomestic=itinerary.get("isDomestic"),isScheduleDriven=itinerary.get("isScheduleDriven");var BookingPages=koreanair.Navigation.Booking,bounds=itinerary.get("bounds"),bookingType=itinerary.get("bookingType"),tripType=isDomestic?this.TRIP_TYPES.DOMESTIC:this.TRIP_TYPES.INTERNATIONAL,flightType=itinerary.get("tripType"),baseUrl="";if(bounds.length>
2){baseUrl=BookingPages[bookingType][flightType];if(bookingType===this.PAYMENT_TYPES.REVENUE)baseUrl=baseUrl.replace("/mc.html","/ximt.html");else if(bookingType===this.PAYMENT_TYPES.AWARD)baseUrl=baseUrl.replace("/mc.html","/xaimt.html")}else if(itinerary.isOpenJaw())baseUrl=BookingPages[bookingType][this.TRIP_TYPES.ROUND_TRIP][tripType];else baseUrl=BookingPages[bookingType][flightType][tripType];var isXurl=URL_REG.test(baseUrl),hashString="#flight-select";if(itinerary.get("isFlex")&&!isAward&&
!isScheduleDriven){var isPass=true;if(!isXurl)isPass=itinerary.isRoundTrip()||itinerary.isOpenJaw()?true:false;if(isPass&&!isDomestic)hashString="#date-select"}return baseUrl+hashString},resetTripType:function(bounds){if(bounds.length>1)if(bounds[0].departureAirport!=bounds[1].arrivalAirport||bounds[0].arrivalAirport!=bounds[1].departureAirport)return"multi";else return"roundtrip";else return"oneway"}}})(_,Backbone,Granite.I18n,koreanair);
(function(_,$,Backbone,Templates,koreanair){var SimpleCalendar=Backbone.View.extend({className:"date-search",events:{"click .searchDateSelectorButton":"searchDateCalendarClicked","keypress .searchDateSelectorButton":"searchDateCalendarClicked","click":"stopProp"},initialize:function(options){this.template=Templates["date-selector-base"];this.rcid=this.cid+(Math.random()+"").substr(3);this.$boundInput=options.boundInput;this.render();this.$calendarContainer=this.$(".searchCalendarContainer");this.defaultOverrides=
options.defaultOverrides||{}},stopProp:function(e){e.stopPropagation()},valid:function(){return this.validateSearchDateInput()},closeCalendar:function(){if(this.onHide)this.onHide();this.$calendarContainer.fadeOut(250);this.$calendarContainer.datepicker("hide");$(document).off("click."+this.rcid)},activateSearchCalendarListeners:function(clickedDate,calendarInstance){var clickedDateObject=moment(clickedDate);this.buildDateFormat(clickedDateObject);this.$boundInput.trigger("change");this.getFullDateMoment();
$(".ui-state-active").addClass("selectedDay");this.closeCalendar()},buildDateFormat:function(clickedDateObject){if(this.$boundInput.is("input[type\x3dtext]"))return this.$boundInput.val(clickedDateObject.format("YYYY-MM-DD"));else return this.$boundInput.val(clickedDateObject.year()+"-"+(clickedDateObject.month()+1)+"-"+clickedDateObject.date())},getFullDateMoment:function(){var tempDateInput=this.$boundInput.val();var tempMomentDate=moment(tempDateInput,"YYYY-MM-DD");this.$boundInput.css("border-color",
tempMomentDate.isValid()?koreanair.Colors.keIGray5:koreanair.Colors.keIAlert);return tempMomentDate},getFullDateValue:function(){return this.getFullDateMoment().format("YYYY-MM-DD")},validateSearchDateInput:function(){return this.getFullDateMoment().isValid()},buildCalendar:function(){var datePicker;this.datePicker=this.$calendarContainer;datePicker=this.datePicker;var params={numberOfMonths:1,minDate:-1,nextText:"",prevText:"",dateFormat:"yy-mm-dd",monthNames:koreanair.Booking.CALENDAR_MONTHS,dayNamesMin:koreanair.Booking.CALENDAR_DAY_ABBREVIATIONS,
showMonthAfterYear:true,onSelect:_.bind(this.activateSearchCalendarListeners,this)};_.extend(params,this.defaultOverrides);if(this.initialSearchCalendarDate)params.defaultDate=this.initialSearchCalendarDate;datePicker.datepicker(params);return datePicker},searchDateCalendarClicked:function(e){if(e.type=="click"||e.type=="keypress"&&(e.keyCode===32||e.keyCode===0&&e.which===32)){e.preventDefault();e.stopPropagation();if(!this.datePicker)this.buildCalendar(this.options.uniqueParams);if(this.onShow)this.onShow();
this.$calendarContainer.show();this.datePicker.datepicker("setDate",this.getFullDateValue());this.datePicker.datepicker("show");$(document).on("click."+this.rcid,_.bind(function(eV){if(eV.currentTarget!==this.$(".ui-datepicker-prev")&&eV.currentTarget!==this.$(".ui-datepicker-next")&&eV.currentTarget!==this.$(".searchDateSelectorButton"))this.closeCalendar()},this));$(".ui-datepicker-prev, .ui-datepicker-next").attr("href","#")}},render:function(){var html=this.template();this.$el.html(html);this.$boundInput.before(this.$el);
return this},remove:function(){$(document).off("click."+this.rcid);Backbone.View.prototype.remove.apply(this,arguments)}});koreanair.common=koreanair.common||{};koreanair.common.views=koreanair.common.views||{};koreanair.common.views.SimpleCalendar=SimpleCalendar})(_,jQuery,Backbone,Handlebars.templates,koreanair);
(function($,_,koreanair,Booking,Utils){var pathName=location.pathname||"";var isMobileUrl=pathName.indexOf("mobile")>-1,isAddEngAirports=false;var allArrivalUSAirports=$.Deferred(),allArrivalCAAirports=$.Deferred();var cache={award:{depart:$.Deferred(),arrive:$.Deferred()},revenue:{depart:$.Deferred(),arrive:$.Deferred()},eng_award:{depart:$.Deferred(),arrive:$.Deferred()},eng_revenue:{depart:$.Deferred(),arrive:$.Deferred()}};function groupByRegions(airports,bookingType,direction){var regionMap=
{},regions=[];var grouped=_.groupBy(airports,function(airport){var regionCode=airport[bookingType].code;regionMap[regionCode]=airport[bookingType];return regionCode});_.each(grouped,function(airports,regionCode){var region=regionMap[regionCode];switch(direction){case "depart":regions.push(_.extend({airports:_.where(airports,{departure:true})},region));break;case "arrive":regions.push(_.extend({airports:_.where(airports,{arrival:true})},region));break;default:regions.push(_.extend({airports:airports},
region));break}});if(regions.length>1){var jpList="",cnList="";_.each(regions,function(region){if(region.code=="Japan")jpList=region.airports;if(region.code=="China")cnList=region.airports});var JPCN=_.union(jpList,cnList);JPCN=_.sortBy(JPCN,"name");_.each(regions,function(region){if(region.code=="Japan")region.airports=JPCN;if(region.code=="China")region.airports=JPCN})}return regions}var Airports=_.extend(koreanair.Airports,{TRIP_DIRECTIONS:{ORIGIN:"depart",DESTINATION:"arrive"},cache:cache,initialized:false,
isAward:false,useAwardOnline:false,originAirports:[],destinationAirports:[],originAirportsByRegion:[],destinationAirportsByRegion:[],engOriginAirports:[],engDestinationAirports:[],engOriginAirportsByRegion:[],engDestinationAirportsByRegion:[],_init:function(bookingType,direction,language,cacheLang,callback){this.isAward=bookingType===koreanair.Booking.PAYMENT_TYPES.AWARD;bookingType=this.isAward?Booking.PAYMENT_TYPES.AWARD:Booking.PAYMENT_TYPES.REVENUE;if(!this.airportListUrl)throw new Error("Airport list URL not defined");
if(this.initialized)return this._cachedRequest(bookingType,direction,cacheLang,callback);return this._nonCachedRequest(bookingType,direction,language,callback)},_nonCachedRequest:function(bookingType,direction,language,callback){var pathdata={bookingtype:bookingType.toLowerCase(),direction:direction,language:language};return koreanair.CMS.get(this.airportListUrl,{path:pathdata,dataType:"json",cache:true}).done(callback)},_cachedRequest:function(bookingType,direction,cacheLang,callback){if(cacheLang)bookingType=
cacheLang+"_"+bookingType;return this.cache[bookingType.toLowerCase()][direction].done(callback).promise()},_getAirportMessage:function(bound,paymentType){var pathdata={bookingType:paymentType==="awardSTA"?paymentType:paymentType.toLowerCase(),departureAirport:bound.departureAirport,arrivalAirport:bound.arrivalAirport,lang:koreanair.Language};return koreanair.CMS.get(koreanair.AirportMessage.messageURL,{path:pathdata,dataType:"json"})},setAirportList:function(bookingType){this.getOrigins(bookingType,
_.bind(function(airparts){this.originAirports=airparts},this));this.getDestinations(bookingType,_.bind(function(airparts){this.destinationAirports=airparts},this));this.getOriginsByRegion(bookingType,_.bind(function(airparts){this.originAirportsByRegion=airparts},this));this.getDestinationsByRegion(bookingType,_.bind(function(airparts){this.destinationAirportsByRegion=airparts},this));if(koreanair.Lang!=="en"){this.getEngOrigins(bookingType,_.bind(function(airparts){this.engOriginAirports=airparts},
this));this.getEngDestinations(bookingType,_.bind(function(airparts){this.engDestinationAirports=airparts},this));this.getEngOriginsByRegion(bookingType,_.bind(function(airparts){this.engOriginAirportsByRegion=airparts},this));this.getEngDestinationsByRegion(bookingType,_.bind(function(airparts){this.engDestinationAirportsByRegion=airparts},this))}},concatEngAirports:function(propName){var orgin=this[propName],engPropName="eng"+propName.replace(/\b([a-z])/g,function(val){return val.toUpperCase()});
return orgin.concat(this[engPropName])},getOrigins:function(bookingType,callback){return this._init(bookingType,this.TRIP_DIRECTIONS.ORIGIN,koreanair.Language,null,callback)},getOriginsByRegion:function(bookingType,callback){var regionLoader=$.Deferred();this.getOrigins(bookingType).done(function(airports){var regions=groupByRegions(airports,bookingType);if(callback)callback(regions);regionLoader.resolve(regions)}).fail(function(){regionLoader.reject()});return regionLoader.promise()},getDestinations:function(bookingType,
callback){return this._init(bookingType,this.TRIP_DIRECTIONS.DESTINATION,koreanair.Language,null,callback)},getDestinationsByRegion:function(bookingType,callback){var regionLoader=$.Deferred();this.getDestinations(bookingType).done(function(airports){var regions=groupByRegions(airports,bookingType);if(callback)callback(regions);regionLoader.resolve(regions)}).fail(function(){regionLoader.reject()});return regionLoader.promise()},getEngOrigins:function(bookingType,callback){return this._init(bookingType,
this.TRIP_DIRECTIONS.ORIGIN,"en-us","eng",callback)},getEngOriginsByRegion:function(bookingType,callback){var regionLoader=$.Deferred();this.getEngOrigins(bookingType).done(function(airports){var regions=groupByRegions(airports,bookingType);if(callback)callback.call(this,regions);regionLoader.resolve(regions)}).fail(function(){regionLoader.reject()});return regionLoader.promise()},getEngDestinations:function(bookingType,callback){return this._init(bookingType,this.TRIP_DIRECTIONS.DESTINATION,"en-us",
"eng",callback)},getEngDestinationsByRegion:function(bookingType,callback){var regionLoader=$.Deferred();this.getEngDestinations(bookingType).done(function(airports){var regions=groupByRegions(airports,bookingType);if(callback)callback.call(this,regions);regionLoader.resolve(regions)}).fail(function(){regionLoader.reject()});return regionLoader.promise()},getDomestic:function(airportsByRegion){return _.findWhere(airportsByRegion,{code:"Korea"}).airports},isDomestic:function(airportsByRegion,airportCode){return!_.isUndefined(_.findWhere(this.getDomestic(airportsByRegion),
{"code":airportCode}))},getRegion:function(airportsByRegion,region){return _.findWhere(airportsByRegion,{code:region}).airports},isRegion:function(airportsByRegion,airportCode,region){return!_.isUndefined(_.findWhere(this.getRegion(airportsByRegion,region),{"code":airportCode}))},getAmericas:function(airportsByRegion){return _.findWhere(airportsByRegion,{code:"Americas"}).airports},getSoutheastAsiaIndia:function(airportsByRegion){return _.findWhere(airportsByRegion,{code:"Southeast Asia/India"}).airports},
getOceaniaGuam:function(airportsByRegion){return _.findWhere(airportsByRegion,{code:"Oceania/Guam"}).airports},getJapan:function(airportsByRegion){return _.findWhere(airportsByRegion,{code:"Japan"}).airports},getChina:function(airportsByRegion){return _.findWhere(airportsByRegion,{code:"China"}).airports},getFrance:function(airportsByRegion){return _.findWhere(airportsByRegion,{code:"Europe"}).airports},isUSA:function(airportsByRegion,airportCode){var usaList=_.some(this.getAmericas(airportsByRegion),
function(americas){return americas.country.code=="UNITED STATES"&&americas.code==airportCode});return usaList},getUK:function(airportsByRegion){return _.findWhere(airportsByRegion,{code:"Europe"}).airports},isGB:function(airportsByRegion,airportCode){var euList=_.some(this.getUK(airportsByRegion),function(eu){return eu.country.code=="UNITED KINGDOM"&&eu.code==airportCode});return euList},isCA:function(airportsByRegion,airportCode){var caList=_.some(this.getAmericas(airportsByRegion),function(ca){return ca.country.code==
"CANADA"&&ca.code==airportCode});return caList},isID:function(airportsByRegion,airportCode){var isID=_.some(this.getSoutheastAsiaIndia(airportsByRegion),function(id){return id.country.code=="INDONESIA"&&id.code==airportCode});return isID},isNZ:function(airportsByRegion,airportCode){var isNZ=_.some(this.getOceaniaGuam(airportsByRegion),function(nz){return nz.country.code=="NEW ZEALAND"&&nz.code==airportCode});return isNZ},isJP:function(airportsByRegion,airportCode){var isJP=_.some(this.getJapan(airportsByRegion),
function(jp){return jp.country.code=="JAPAN"&&jp.code==airportCode});return isJP},isCN:function(airportsByRegion,airportCode){var isCN=_.some(this.getChina(airportsByRegion),function(cn){return cn.country.code=="CHINA"&&cn.code==airportCode});return isCN},isFR:function(airportsByRegion,airportCode){var isFR=_.some(this.getFrance(airportsByRegion),function(fr){return fr.country.code=="FRANCE"&&fr.code==airportCode});return isFR},setDeparture:function(airportCode){var bookingType=this.isAward?Booking.PAYMENT_TYPES.AWARD:
Booking.PAYMENT_TYPES.REVENUE;airportCode=airportCode.toUpperCase();return this._init(bookingType,this.TRIP_DIRECTIONS.ORIGIN,koreanair.Language).done(function(airports){var airport=_.find(airports,function(airport){return airport.code===airportCode});if(!airport)throw new Error("Airport not found : "+airportCode);numeral.currency(airport.currency)})},getAdvancedBookingDays:function(airportCode,triptype){var completeAirportList=this.completeAirportList();triptype=triptype||"";if(airportCode)if(triptype===
koreanair.Booking.TRIP_TYPES.MULTI_CITY)return _.findWhere(completeAirportList,{code:airportCode}).bookAvailable||0;else return _.findWhere(this.originAirports,{code:airportCode}).bookAvailable||0;else return 0},populateUSAirports:function(){var deferred=allArrivalUSAirports;allArrivalUSAirports.numberOfAttempts=allArrivalUSAirports.numberOfAttempts||0;if(deferred.state()==="resolved")return deferred;this.getDestinations().done(_.bind(function(data){this.usAirports=_.pluck(_.filter(data,{country:{code:"UNITED STATES"}}),
"code");this.guamAirports=_.pluck(_.filter(data,{country:{code:"GUAM"}}),"code");this.usAirports=this.usAirports.concat(this.guamAirports);deferred.resolve(this.usAirports)},this)).fail(_.bind(function(){if(deferred.numberOfAttempts===2){console.log("Unable to retrieve airports US");deferred.reject.apply(this,arguments)}else{deferred.numberOfAttempts++;this.populateUSAirports()}},this));return deferred},populateCAAirports:function(){var deferred=allArrivalCAAirports;allArrivalCAAirports.numberOfAttempts=
allArrivalCAAirports.numberOfAttempts||0;if(deferred.state()==="resolved")return deferred;this.getDestinations().done(_.bind(function(data){this.caAirports=_.pluck(_.filter(data,{country:{code:"CANADA"}}),"code");deferred.resolve(this.caAirports)},this)).fail(_.bind(function(){if(deferred.numberOfAttempts===2){console.log("Unable to retrieve airports CA");deferred.reject.apply(this,arguments)}else{deferred.numberOfAttempts++;this.populateCAAirports()}},this));return deferred},containsUSAirports:function(bounds){var boundsContainUSAirports=
$.Deferred();this.populateUSAirports().done(_.bind(function(){boundsContainUSAirports.resolve(this.flightsVisitUS(bounds,this.usAirports))},this)).fail(function(){console.log("Unable to retrieve airports, setting all as US");boundsContainUSAirports.reject()});return boundsContainUSAirports},containsCAAirports:function(bounds){var boundsContainCAAirports=$.Deferred();this.populateCAAirports().done(_.bind(function(){boundsContainCAAirports.resolve(this.flightsVisitUS(bounds,this.caAirports))},this)).fail(function(){console.log("Unable to retrieve airports, setting all as CA");
boundsContainCAAirports.reject()});return boundsContainCAAirports},flightsVisitUS:function(bounds,airList){var containsUSAirport=false,airports=airList;_.forEach(bounds,_.bind(function(bound){var flights=bound.flights;_.forEach(flights,_.bind(function(flight){var validAirports=[flight.departureAirportCode,flight.destinationAirportCode];containsUSAirport=_.any(validAirports,_.partial(_.contains,airports))||containsUSAirport},this))},this));return containsUSAirport},containsDestinationUSAirports:function(bounds,
isCheckin){var boundsContainUSAirports=$.Deferred();this.populateUSAirports().done(_.bind(function(){boundsContainUSAirports.resolve(this.flightsDestinationUSAirports(bounds,isCheckin))},this)).fail(function(){console.log("Unable to retrieve airports, setting all as US");boundsContainUSAirports.reject()});return boundsContainUSAirports},flightsDestinationUSAirports:function(bounds,isCheckin){var containsUSAirport=false,airports=this.usAirports;_.forEach(bounds,_.bind(function(bound){var flights=bound.flights;
_.forEach(flights,_.bind(function(flight){var validAirports=[flight.destinationAirportCode];if(isCheckin)if(_.isArray(flight.flightLegId)&&flight.flightLegId.length>0){var connectingAirport=/\w{3}$/.test(flight.flightLegId[0])?/\w{3}$/.exec(flight.flightLegId[0])[0]:undefined;validAirports.push(connectingAirport);validAirports=_.compact(_.unique(validAirports))}containsUSAirport=_.any(validAirports,_.partial(_.contains,airports))||containsUSAirport},this))},this));return containsUSAirport},completeAirportList:function(){return _.uniq(this.originAirports.concat(this.destinationAirports),
"code")},engCompleteAirportList:function(){var completeAirports=this.completeAirportList(),enCompleteAiorports=_.uniq(this.engOriginAirports.concat(this.engDestinationAirports),"code");return completeAirports.concat(enCompleteAiorports)},completeAirportListByRegion:function(){return _.map(this.originAirportsByRegion,function(region){var matchingRegion=_.filter(this.destinationAirportsByRegion,{code:region.code});return _.extend(region,matchingRegion[0])})},getAirportMessages:function(bounds,paymentType,
multiCity,dateMessage){var deferred=$.Deferred(),deferreds=[],bounds=_.flatten([bounds]);deferreds=_.map(bounds,_.bind(function(bound){return this._getAirportMessage(bound,paymentType)},this));$.when.apply($,deferreds).done(_.bind(function(){var datas=[],args=bounds.length>1?arguments:[arguments],messageList=[];_.each(args,function(arg){datas=datas.concat(arg[0])});_.each(datas,_.bind(function(data){_.each(data.messageList,_.bind(function(message){if(this.checkDateRange(bounds,message,data.fromAirport,
data.toAirport))messageList.push(message)},this))},this));var dataMessage=[],dataKeys=[],isBlocking=false;_.each(_.sortBy(messageList,"messageId"),_.bind(function(message){if(ixBand.utils.cookie("KE_MSG")){var msgCookies=decodeURIComponent(ixBand.utils.cookie("KE_MSG")).split(",");if(_.indexOf(msgCookies,message.messageId)<0){dataMessage.push(message.message);if(message.blocking)isBlocking=true;else dataKeys.push(message.messageId)}}else{dataMessage.push(message.message);if(message.blocking)isBlocking=
true;else dataKeys.push(message.messageId)}},this));datas=dataMessage;koreanair.messageCookies.data.push(dataKeys);if(dateMessage)datas.unshift(dateMessage);if(multiCity)datas.unshift(multiCity);deferred.resolve(_.uniq(datas),isBlocking)},this)).fail(function(){deferred.reject()});return deferred.promise()},sortedDropdownAirports:function(regions){var sortedRegions=[],lang=koreanair.Lang,favoriteRegions=[];if(lang==="ko")favoriteRegions=["Korea","Japan","China","Southeast Asia/India","Americas","Europe",
"Oceania/Guam","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="en"||lang==="pt-br")favoriteRegions=["Korea","Americas","Southeast Asia/India","Japan","China","Oceania/Guam","Europe","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="ja")favoriteRegions=["Korea","Japan","Americas","Europe","China","Southeast Asia/India","Oceania/Guam","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="zh-cn"||lang==="zh-hk")favoriteRegions=["Korea","China","Americas",
"Europe","Japan","Southeast Asia/India","Oceania/Guam","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="fr"||lang==="de"||lang==="es")favoriteRegions=["Korea","Europe","Southeast Asia/India","Japan","China","Americas","Oceania/Guam","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="ru")favoriteRegions=["Korea","Russia/Mongolia/Central Asia","Japan","Americas","China","Southeast Asia/India","Oceania/Guam","Europe","Middle East/Africa"];regions=this.sortedFavoriteRegions(regions,
favoriteRegions);_.each(regions,_.bind(function(region){if(region.code==="Korea")region.airports=this.sortedFavoriteAirports(region.airports,["ICN","GMP","PUS","CJU"]);if(region.code==="Japan"&&koreanair.Lang=="ja"){region.airports=this.sortedFavoriteAirports(region.airports,["AOJ","OIT","KIX","OKJ","OKA","KOJ","KKJ","KMQ","CTS","TYO","NRT","HND","NGO","KIJ","FUK"]);region.airports=_.compact(region.airports)}region.onlineAirports=_.filter(region.airports,function(airport){return airport.online===
true&&!airport.isRailroad});region.offlineAirports=_.filter(region.airports,function(airport){return airport.online!==true&&!airport.isRailroad});region.trainStations=_.filter(region.airports,function(airport){return airport.isRailroad});sortedRegions.push(region)},this));return sortedRegions},sortedDropdownAirportsContactKal:function(regions){var sortedRegions=[],lang=koreanair.Lang,favoriteRegions=[];if(lang==="ko")favoriteRegions=["Korea","Northeast Asia","Japan","China","Southeast Asia/India",
"Americas","Europe","Oceania/Guam","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="en"||lang==="pt-br")favoriteRegions=["Korea","Americas","Southeast Asia/India","Northeast Asia","Japan","China","Oceania/Guam","Europe","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="ja")favoriteRegions=["Korea","Northeast Asia","Japan","Americas","Europe","China","Southeast Asia/India","Oceania/Guam","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="zh-cn"||
lang==="zh-hk")favoriteRegions=["Korea","Northeast Asia","China","Americas","Europe","Japan","Southeast Asia/India","Oceania/Guam","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="fr"||lang==="de"||lang==="es")favoriteRegions=["Korea","Europe","Southeast Asia/India","Northeast Asia","Japan","China","Americas","Oceania/Guam","Russia/Mongolia/Central Asia","Middle East/Africa"];else if(lang==="ru")favoriteRegions=["Korea","Russia/Mongolia/Central Asia","Northeast Asia","Japan","Americas",
"China","Southeast Asia/India","Oceania/Guam","Europe","Middle East/Africa"];regions=this.sortedFavoriteRegions(regions,favoriteRegions);_.each(regions,_.bind(function(region){if(region!==undefined){if(region.code==="Korea")region.airports=this.sortedFavoriteAirports(region.airports,["ICN","GMP","PUS","CJU"]);region.onlineAirports=_.filter(region.airports,function(airport){return airport.online===true&&!airport.isRailroad});region.offlineAirports=_.filter(region.airports,function(airport){return airport.online!==
true&&!airport.isRailroad});region.trainStations=_.filter(region.airports,function(airport){return airport.isRailroad});sortedRegions.push(region)}},this));return sortedRegions},sortedDropdownDomAirports:function(regions){return this.sortedFavoriteAirports(regions,["GMP","PUS","CJU"])},sortedFavoriteAirports:function(airports,favoriteAirportCodes){var favoriteLength=favoriteAirportCodes.length,resultAirports=new Array(favoriteLength),etcAirports=[];_.each(airports,function(airport){var idx=_.indexOf(favoriteAirportCodes,
airport.code);if(idx>-1)resultAirports[idx]=airport;else etcAirports.push(airport)});if(resultAirports.length!=favoriteLength)resultAirports=_.compact(resultAirports);return resultAirports.concat(etcAirports)},sortedFavoriteRegions:function(regions,favoriteRegions){var favoriteLength=favoriteRegions.length,resultRegions=new Array(favoriteLength),etcRegions=[];_.each(regions,function(region){var idx=_.indexOf(favoriteRegions,region.code);if(idx>-1)resultRegions[idx]=region;else etcRegions.push(region)});
if(resultRegions.length!=favoriteLength)resultRegions=_.compact(resultRegions);return resultRegions.concat(etcRegions)},getAirportList:function(tripType,paymentType,tripDirection,addEngAirports,isBookingGate,useAwardOnline,isGift){addEngAirports=isAddEngAirports?addEngAirports:false;var deferred=$.Deferred();if(tripType===Booking.TRIP_TYPES.DOMESTIC&&isGift)return this.getDomesticAirportList(tripType,paymentType,addEngAirports);else{var methodName=tripDirection===this.TRIP_DIRECTIONS.ORIGIN?"fromAirportList":
"allAirportList";this.useAwardOnline=useAwardOnline||false;this[methodName](paymentType,addEngAirports).done(_.bind(function(airports){if(window.location.href.indexOf("bookingGate")<0&&window.location.href.indexOf("-gate")<0&&window.location.href.indexOf("flight-select")<0&&window.location.href.indexOf("multiGate-revenue")<0&&!isBookingGate)airports=this.filterCityAirports(airports);deferred.resolve(airports)},this)).fail(function(){deferred.reject()})}return deferred.promise()},getRegionGroupAirportList:function(tripType,
paymentType,dir,useAwardOnline){if(tripType===Booking.TRIP_TYPES.DOMESTIC){var deferred=$.Deferred();this.getDomesticAirportList(tripType,paymentType).done(_.bind(function(airports){airports=this.filterCityAirports(airports);airports=this.filterYNYAirports(airports);var allRegions=groupByRegions(airports,paymentType);allRegions[0].onlineAirports=_.filter(airports,function(airport){return airport.online===true&&!airport.isRailroad});allRegions[0].offlineAirports=_.filter(airports,function(airport){return airport.online!==
true&&!airport.isRailroad});allRegions[0].trainStations=_.filter(airports,function(airport){return airport.isRailroad});deferred.resolve(allRegions)},this)).fail(function(){deferred.reject()});return deferred}else{this.useAwardOnline=useAwardOnline||false;return this.allRegionGroupAirportList(paymentType,dir)}},getDomesticAirportList:function(tripType,paymentType,addEngAirports){addEngAirports=isAddEngAirports?addEngAirports:false;var deferred=$.Deferred(),engDeferred=$.Deferred();var sortList=tripType===
Booking.TRIP_TYPES.DOMESTIC?["GMP","PUS","CJU"]:["ICN","GMP","PUS","CJU"];this.getDestinationsByRegion(paymentType).done(_.bind(function(airportsByRegion){var korAirports=this.getDomestic(airportsByRegion);korAirports=this.sortedFavoriteAirports(korAirports,sortList);korAirports=this.filterCityAirports(korAirports);korAirports=this.filterYNYAirports(korAirports);deferred.resolve(korAirports)},this)).fail(function(){deferred.reject()});if(addEngAirports){this.getEngDestinationsByRegion(paymentType).done(_.bind(function(airportsByRegion){var korAirports=
this.getDomestic(airportsByRegion);korAirports=this.sortedFavoriteAirports(korAirports,sortList);korAirports=this.filterCityAirports(korAirports);korAirports=this.filterYNYAirports(korAirports);engDeferred.resolve(korAirports)},this)).fail(function(){engDeferred.reject()});return this.whenConcatAirports(deferred,engDeferred)}else return deferred.promise()},fromAirportList:function(paymentType,addEngAirports){addEngAirports=isAddEngAirports?addEngAirports:false;var deferred=$.Deferred(),engDeferred=
$.Deferred();this.getOrigins(paymentType).done(_.bind(function(airports){if(paymentType===Booking.PAYMENT_TYPES.AWARD)airports=this.filterOnlineAirports(airports);airports=this.filterYNYAirports(airports);deferred.resolve(airports)},this)).fail(function(){deferred.reject()});if(addEngAirports){this.getEngOrigins(paymentType).done(_.bind(function(airports){if(paymentType===Booking.PAYMENT_TYPES.AWARD)airports=this.filterOnlineAirports(airports);airports=this.filterYNYAirports(airports);engDeferred.resolve(airports)},
this)).fail(function(){engDeferred.reject()});return this.whenConcatAirports(deferred,engDeferred)}else return deferred.promise()},allAirportList:function(paymentType,addEngAirports,firstDeferred){addEngAirports=isAddEngAirports?addEngAirports:false;var fromDeferred=$.Deferred(),toDeferred=$.Deferred(),allDeferred=$.Deferred();var fromMethodName="getOrigins",toMethodName="getDestinations";if(firstDeferred){fromMethodName="getEngOrigins";toMethodName="getEngDestinations"}this[fromMethodName](paymentType).done(_.bind(function(airports){fromDeferred.resolve(airports)},
this)).fail(function(){fromDeferred.reject()});this[toMethodName](paymentType).done(_.bind(function(airports){toDeferred.resolve(airports)},this)).fail(function(){toDeferred.reject()});this.whenConcatAirports(fromDeferred,toDeferred).done(_.bind(function(airports){airports=_.uniq(airports,"code");if(paymentType===Booking.PAYMENT_TYPES.AWARD)airports=this.filterOnlineAirports(airports);allDeferred.resolve(airports)},this)).fail(function(){allDeferred.reject()});if(firstDeferred){var allEngDeferred=
$.Deferred();this.whenConcatAirports(firstDeferred,allDeferred).done(function(airports){allEngDeferred.resolve(airports)}).fail(function(){allEngDeferred.reject()});return allEngDeferred.promise()}else if(addEngAirports)return this.allAirportList(paymentType,null,allDeferred);else return allDeferred.promise()},allRegionGroupAirportList:function(paymentType,dir){var deferred=$.Deferred();this.allAirportList(paymentType).done(_.bind(function(airports){airports=this.filterCityAirports(airports);airports=
this.filterYNYAirports(airports);var allRegions=groupByRegions(airports,paymentType,dir);allRegions=this.sortedDropdownAirports(allRegions);deferred.resolve(allRegions)},this)).fail(function(){deferred.reject()});return deferred.promise()},filterOnlineAirports:function(airports){return _.filter(airports,_.bind(function(airport){if(this.useAwardOnline)return airport.awardOnline==true;else return airport.online==true},this))},filterCityAirports:function(airports){return _.filter(airports,function(airport){return airport.code!=
"SEL"&&airport.code!="TYO"})},filterYNYAirports:function(airports){if(moment(moment().format("YYYY-MM-DD")).isAfter(moment("2018-02-27","YYYY-MM-DD")))return _.filter(airports,function(airport){return airport.code!="YNY"});else return airports},filterWishListCityAirports:function(regions){var denyAirportCode=["SEL","KUV","KWJ","WJU","MFM","KHH","VTE","CRK","BKI","DTW","SPN","GRU","NBO"];return _.each(regions,function(region){region.onlineAirports=_.filter(region.onlineAirports,function(airport){return _.indexOf(denyAirportCode,
airport.code)===-1})})},filterWishListAirports:function(originAirports,airportsType){var denyAirportCode=["SEL","KUV","KWJ","WJU","MFM","KHH","VTE","CRK","BKI","DTW","SPN","GRU","NBO"];var airports=Utils.cloneObject(originAirports);var result=[];if(airportsType==="depart")_.each(airports,function(airport){if(airport.award.code==="Korea"&&_.indexOf(denyAirportCode,airport.code)===-1)result.push(airport)});else _.each(airports,function(airport){if(airport.award.code!=="Korea"&&_.indexOf(denyAirportCode,
airport.code)===-1)result.push(airport)});return result},filterAirports:function(originAirports,filterAirportCodes){var airports=Utils.cloneObject(originAirports),filterCodes=Utils.cloneObject(filterAirportCodes),filterCodeLength=isAddEngAirports?filterCodes.length*2:filterCodes.length,result=[],resultAirportLength=0;_.some(airports,function(airport){_.each(filterCodes,function(filterCode){if(filterCode===airport.code){result.push(airport);resultAirportLength++}});return filterCodeLength===resultAirportLength});
return result},filterRegionAirports:function(originRegions,filterAirportCodes){var regions=Utils.cloneObject(originRegions),filterCodes=Utils.cloneObject(filterAirportCodes),filterCodeLength=filterCodes.length,result=[],resultAirportLength=0;_.some(regions,_.bind(function(region){var airports=this.filterAirports(region.airports,filterCodes),airportLength=airports.length;if(airportLength){region.airports=airports;region.offlineAirports=this.filterAirports(region.offlineAirports,filterCodes);region.onlineAirports=
this.filterAirports(region.onlineAirports,filterCodes);result.push(region)}resultAirportLength+=airportLength;return filterCodeLength===airportLength},this));return result},whenConcatAirports:function(deferred,toDeferred){var multiDeferred=$.Deferred();$.when(deferred,toDeferred).done(function(airports,toAirports){multiDeferred.resolve(airports.concat(toAirports))}).fail(function(){multiDeferred.resolve()});return multiDeferred.promise()},airportStringReplace:function(airportStr,regionCode){var result=
airportStr,checkRegions=["Korea","Japan","China"];result=airportStr.replace(/([^,]* -|,[^,-]*$)/,"");return result},checkDateRange:function(bounds,message,fromAirport,toAirport){var currentDate=moment().format("YYYY-MM-DD");var isNoticeRange=false,isDepartureRange=false;_.each(bounds,function(bound){if(bound.departureAirport==fromAirport&&bound.arrivalAirport==toAirport){if(moment(currentDate).isAfter(moment(message.effectiveDate).add(-1,"days"))&&moment(currentDate).isBefore(moment(message.terminationDate).add(+1,
"days")))isNoticeRange=true;if(moment(bound.departure).isAfter(moment(message.startDate).add(-1,"days"))&&moment(bound.departure).isBefore(moment(message.endDate).add(+1,"days")))isDepartureRange=true}});return isNoticeRange&&isDepartureRange}});Airports.cache.revenue.depart=Airports.getOrigins("revenue");Airports.cache.revenue.arrive=Airports.getDestinations("revenue");Airports.cache.award.depart=Airports.getOrigins("award");Airports.cache.award.arrive=Airports.getDestinations("award");if(isAddEngAirports){Airports.cache.eng_revenue.depart=
Airports.getEngOrigins("revenue");Airports.cache.eng_revenue.arrive=Airports.getEngDestinations("revenue");Airports.cache.eng_award.depart=Airports.getEngOrigins("award");Airports.cache.eng_award.arrive=Airports.getEngDestinations("award")}else{Airports.cache.eng_revenue.depart.resolve([]);Airports.cache.eng_revenue.arrive.resolve([]);Airports.cache.eng_award.depart.resolve([]);Airports.cache.eng_award.arrive.resolve([])}Airports.initialized=true;koreanair.isAward=false;koreanair.Airports=Airports})(jQuery,
_,koreanair,koreanair.Booking,koreanair.utils);
(function($,_,koreanair,Booking,Utils){var cache={skyTeamAward:$.Deferred()};var STAirports=_.extend(koreanair.STAirports,{cache:cache,initialized:false,_init:function(callback){if(window.location.href.indexOf("booking")>-1){if(this.initialized)return this._cachedRequest(callback);return this._nonCachedRequest(callback)}},_nonCachedRequest:function(callback){var lang=koreanair.Lang;if(lang=="vi"||lang=="th"||lang=="id")lang="en";return koreanair.ServiceApi.retroSkyteamAirport.post({data:JSON.stringify({"lang":lang,
"type":"N"}),cache:true}).done(callback)},_cachedRequest:function(callback){return this.cache.skyTeamAward.done(callback).promise()},getOrigins:function(callback){return this._init(callback)},sortedDropdownAirports:function(regions){var sortedRegions=[],favoriteRegions=["ASA","NUS","MUS","SUS","EUR","MID","AFC","OCE"],favoriteCountry=["KR"];regions=this.sortedFavoriteRegions(regions,favoriteRegions);_.each(regions,_.bind(function(region){region=_.sortBy(region,"countryName");region=this.sortedFavoriteCountry(region,
favoriteCountry);_.each(region,_.bind(function(country){if(country.countryCode=="KR")country.airports=this.sortedFavoriteAirports(country.airports,["ICN","GMP","PUS","CJU"])},this));sortedRegions.push(region)},this));return sortedRegions},sortedFavoriteAirports:function(airports,favoriteAirportCodes){var favoriteLength=favoriteAirportCodes.length,resultAirports=new Array(favoriteLength),etcAirports=[];_.each(airports,function(airport){var idx=_.indexOf(favoriteAirportCodes,airport.airportCode);if(idx>
-1)resultAirports[idx]=airport;else etcAirports.push(airport)});resultAirports=_.compact(resultAirports);return resultAirports.concat(etcAirports)},sortedFavoriteCountry:function(airports,favoriteAirportCodes){var favoriteLength=favoriteAirportCodes.length,resultCountries=new Array(favoriteLength),etcAirports=[];_.each(airports,function(airport){var idx=_.indexOf(favoriteAirportCodes,airport.countryCode);if(idx>-1)resultCountries[idx]=airport;else etcAirports.push(airport)});resultCountries=_.compact(resultCountries);
return resultCountries.concat(etcAirports)},sortedFavoriteRegions:function(regions,favoriteRegions){var favoriteLength=favoriteRegions.length,resultRegions=new Array(favoriteLength),etcRegions=[];_.each(regions,function(region){var idx=_.indexOf(favoriteRegions,region[0].regionCode||region);if(idx>-1)resultRegions[idx]=region;else etcRegions.push(region)});resultRegions=_.compact(resultRegions);return resultRegions.concat(etcRegions)},getAirportList:function(){var deferred=$.Deferred();this.allAirportList().done(_.bind(function(airports){deferred.resolve(airports)},
this)).fail(function(){deferred.reject()});return deferred.promise()},allAirportList:function(){var deferred=$.Deferred();this.getOrigins().done(_.bind(function(airports){deferred.resolve(airports)},this)).fail(function(){deferred.reject()});return deferred.promise()},allRegionGroupAirportList:function(){var deferred=$.Deferred();this.allAirportList().done(_.bind(function(airports){if(koreanair.Country==="br")airports.airportInfo=_.filter(airports.airportInfo,function(airport){return airport.countryCode!==
"BR"});airports.airportInfo=_.sortBy(airports.airportInfo,"airportName");var regions=this.getRegionGroupSTA(airports.airportInfo),allRegions=this.getCountryGroupSTA(airports.airportInfo);allRegions=_.sortBy(allRegions,"countryName");regions=this.sortedDropdownAirports(regions);regions.unshift(allRegions);deferred.resolve(regions)},this)).fail(function(){deferred.reject()});return deferred.promise()},getRegionList:function(){var deferred=$.Deferred();var regionMap={},regions=[];this.getOrigins().done(_.bind(function(airports){if(koreanair.Country===
"br")airports.airportInfo=_.filter(airports.airportInfo,function(airport){return airport.countryCode!=="BR"});var grouped=_.groupBy(airports.airportInfo,function(airport){var regionCode=airport.regionCode;regionMap[regionCode]=airport;return regionCode});regions=_.keys(grouped);regions=this.sortedFavoriteRegions(regions,["ASA","NUS","MUS","SUS","EUR","MID","AFC","OCE"]);regions.unshift("ALL");deferred.resolve(regions)},this)).fail(function(){deferred.reject()});return deferred.promise()},getRegionGroupSTA:function(airports){var regionMap=
{},regions=[];var grouped=_.groupBy(airports,function(airport){var regionCode=airport.regionCode;regionMap[regionCode]=airport;return regionCode});_.each(grouped,_.bind(function(airports,regionCode){var region=_.extend({airports:airports},regionMap[regionCode]);regions.push(this.getCountryGroupSTA(region.airports))},this));return regions},getCountryGroupSTA:function(airports){var countryMap={},countries=[];var grouped=_.groupBy(airports,function(region){var countryCode=region.countryCode;countryMap[countryCode]=
region;return countryCode});_.each(grouped,_.bind(function(airports,countryCode){countries.push(_.extend({airports:airports},countryMap[countryCode]))},this));return countries}});STAirports.cache.skyTeamAward=STAirports.getOrigins();STAirports.initialized=true;koreanair.STAirports=STAirports})(jQuery,_,koreanair,koreanair.Booking,koreanair.utils);
(function($,_,koreanair){function defaultableList(name,promise,defaultValues){var value=defaultValues;promise.then(function(newValue){value=newValue});return $.extend(function(){if(promise.state()!=="resolved")console.warn(name+" not loaded, returning static values");return _.sortBy(value,function(data){return data.text})},promise)}koreanair.defaultableList=defaultableList;koreanair.countries=koreanair.defaultableList("Countries",$.get(koreanair.Navigation.Booking.countries),[]);koreanair.nationalities=
koreanair.defaultableList("Nationalities",$.get(koreanair.Navigation.Booking.countries),[]);var statesByCountry={};koreanair.states=function(stateCode){var statePath=_.initial(koreanair.Navigation.Booking.countries.split("/")).concat(["list",stateCode,"list.states.json"]).join("/");if(!statesByCountry[stateCode])statesByCountry[stateCode]=koreanair.defaultableList("States",$.get(statePath),[]);return statesByCountry[stateCode]};var airlineCodes=$.get(koreanair.Navigation.Booking.airlineCodes).then(function(data){return _.pluck(data,
"code")});koreanair.airlineCodes=koreanair.defaultableList("Airline Codes",airlineCodes,["KE","BK"]);koreanair.airlineCodes()})(jQuery,_,koreanair);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["adv-JV-Intl-popup"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"layerpopup promopopup keForm newpromo"\x3e    \x3ch2 class\x3d"modal-title normal_weight"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adv-JV-popup-title",options):helperMissing.call(depth0,"i18n","adv-JV-popup-title",options)))+'\x3c/h2\x3e    \x3cp class\x3d"modal-text-center"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adv-JV-popup-subtitle",options):helperMissing.call(depth0,"i18n","adv-JV-popup-subtitle",options)))+"\x3c/p\x3e    \x3cul\x3e        \x3cli\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adv-JV-popup-list1",options):helperMissing.call(depth0,"i18n","adv-JV-popup-list1",options)))+"\x3c/li\x3e        \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adv-JV-popup-list2",options):helperMissing.call(depth0,"i18n","adv-JV-popup-list2",options)))+"\x3c/li\x3e        \x3cli\x3e"+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adv-JV-popup-list3",options):helperMissing.call(depth0,"i18n","adv-JV-popup-list3",options)))+'\x3c/li\x3e    \x3c/ul\x3e    \x3cdiv class\x3d"btn-area tcenter"\x3e        \x3cbutton class\x3d"button-page-blue"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Confirm",options):helperMissing.call(depth0,"i18n","Confirm",options)))+'\x3c/button\x3e    \x3c/div\x3e    \x3cdiv id\x3d"airpmessage-check" class\x3d"session-area keForm"\x3e        \x3clabel for\x3d"popsession-checkbox"\x3e            \x3cinput type\x3d"checkbox" id\x3d"popsession-checkbox" /\x3e            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e            '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"today-nomore-see",options):helperMissing.call(depth0,"i18n","today-nomore-see",options)))+"        \x3c/label\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer});templates["booking-gate-airport-messages"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helperMissing=
helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='            \x3ch2 class\x3d"modal-title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"airport-messages-label",options):helperMissing.call(depth0,"i18n","airport-messages-label",options)))+"\x3c/h2\x3e        ";return buffer}function program3(depth0,data){var buffer=
"";buffer+="                "+escapeExpression(typeof depth0===functionType?depth0.apply(depth0):depth0)+"            ";return buffer}function program5(depth0,data){var buffer="",stack1;buffer+="            ";stack1=helpers.unless.call(depth0,depth0&&depth0.isBlocking,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program6(depth0,data){var buffer="",helper,options;buffer+='            \x3cdiv id\x3d"airpmessage-check" class\x3d"session-area keForm"\x3e                \x3cdiv class\x3d"posR"\x3e                    \x3cinput type\x3d"checkbox" id\x3d"airpmessage-checkbox" /\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"airpmessage-checkbox"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"today-nomore-see",options):helperMissing.call(depth0,"i18n","today-nomore-see",options)))+"\x3c/label\x3e                \x3c/div\x3e            \x3c/div\x3e            ";return buffer}buffer+='\x3c!-- template:booking-gate-airport-messages.html --\x3e\x3cdiv class\x3d"airport-information"\x3e    \x3cdiv class\x3d"information-container"\x3e        ';stack1=helpers["if"].call(depth0,depth0&&
depth0.hasTitle,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3cdiv class\x3d"message-box"\x3e            ';stack1=helpers.each.call(depth0,depth0&&depth0.messages,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/div\x3e        ";stack1=helpers["if"].call(depth0,depth0&&depth0.hasTitle,{hash:{},inverse:self.noop,fn:self.program(5,program5,
data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/div\x3e\x3c/div\x3e\x3c!--// template:booking-gate-airport-messages.html --\x3e";return buffer});templates["booking-gate-cabin-class"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;
function program1(depth0,data){return'disabled\x3d"disabled"'}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cli role\x3d"presentation"\x3e                    \x3cinput id\x3d"first_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" type\x3d"radio" name\x3d"cabin-class" ';stack1=helpers["if"].call(depth0,depth0&&depth0.disable,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+=' value\x3d"first" /\x3e\x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e                    \x3clabel for\x3d"first_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"checkboxLabel"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"first-class-label",options):helperMissing.call(depth0,"i18n","first-class-label",options)))+
"\x3c/label\x3e                \x3c/li\x3e                ";return buffer}buffer+='\x3c!-- template:booking-gate-cabin-class --\x3e\x3cdiv class\x3d"cabin-class keForm"\x3e    \x3cdl role\x3d"presentation"\x3e        \x3cdt id\x3d"group-tit-cabinclass"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-search-label-cabinClass",options):helperMissing.call(depth0,"i18n","viewBonusSeat-search-label-cabinClass",options)))+
'\x3c/dt\x3e        \x3cdd\x3e            \x3cul role\x3d"group" aria-labelledby\x3d"group-tit-cabinclass"\x3e                \x3cli role\x3d"presentation"\x3e                    \x3cinput id\x3d"economy_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" type\x3d"radio" name\x3d"cabin-class" checked\x3d"checked" ';stack1=helpers["if"].call(depth0,depth0&&depth0.disable,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+=' value\x3d"economy" /\x3e\x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e                    \x3clabel for\x3d"economy_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"checkboxLabel on"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"economy-class-label",options):helperMissing.call(depth0,"i18n","economy-class-label",
options)))+'\x3c/label\x3e                \x3c/li\x3e                \x3cli role\x3d"presentation"\x3e                    \x3cinput id\x3d"prestige_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" type\x3d"radio" name\x3d"cabin-class" ';stack1=helpers["if"].call(depth0,depth0&&depth0.disable,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' value\x3d"prestige" /\x3e\x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e                    \x3clabel for\x3d"prestige_'+
escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"checkboxLabel"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-class-label",options):helperMissing.call(depth0,"i18n","prestige-class-label",options)))+"\x3c/label\x3e                \x3c/li\x3e                ";stack1=helpers["if"].call(depth0,depth0&&depth0.firstRadio,{hash:{},inverse:self.noop,fn:self.program(3,
program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3c/ul\x3e        \x3c/dd\x3e        \x3cdd class\x3d"fl-r"\x3e            \x3cdiv class\x3d"bonus-upgrade-search checkbox-wrapper"\x3e                \x3cinput type\x3d"checkbox" id\x3d"upgradable" class\x3d"css-checkbox"/\x3e                \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                \x3clabel for\x3d"upgradable" class\x3d"bookWithMiles label-checkbox-bk"\x3e                    '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bonus-upgrade-fare-find-label",options):helperMissing.call(depth0,"i18n","bonus-upgrade-fare-find-label",options)))+'                \x3c/label\x3e               \x3c!-- \x3cbutton class\x3d"query-s bonus-upgrade-info"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bonus-upgrade-fare-find-label",options):helperMissing.call(depth0,"i18n","bonus-upgrade-fare-find-label",
options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-detail-information",options):helperMissing.call(depth0,"i18n","WA-detail-information",options)))+'\x3c/button\x3e--\x3e            \x3c/div\x3e        \x3c/dd\x3e        \x3cdd id\x3d"bonus-upgrade-info-message" class\x3d"upgrade-info info-message dp-none"\x3e\x3cdiv aria-live\x3d"assertive"\x3e\x3c/div\x3e\x3c/dd\x3e            \x3c/dl\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-cabin-class --\x3e';
return buffer});templates["booking-gate-discount-list"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1;buffer+='        \x3cli data-idx\x3d"'+escapeExpression((stack1=depth0&&depth0.dataIndex,typeof stack1===functionType?stack1.apply(depth0):stack1))+
'" data-discount-code\x3d"'+escapeExpression((stack1=depth0&&depth0.discountCode,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e            \x3cdl role\x3d"presentation"\x3e                \x3cdt class\x3d"passenger-type"\x3e'+escapeExpression((stack1=depth0&&depth0.lastName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" "+escapeExpression((stack1=depth0&&depth0.firstName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x26nbsp;\x3c/dt\x3e                \x3cdd class\x3d"discount-label"\x3e'+
escapeExpression((stack1=depth0&&depth0.discountLabel,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/dd\x3e            \x3c/dl\x3e        \x3c/li\x3e    ";return buffer}buffer+='\x3c!-- template:booking-gate-discount-lsit --\x3e\x3cdiv class\x3d"into-style-wrap"\x3e    \x3cul class\x3d"list-area"\x3e    ';stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3c/ul\x3e    \x3cdiv class\x3d"discount-info-agree"\x3e\x3c/div\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-discount-list --\x3e';
return buffer});templates["booking-gate-discount-messages"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1;buffer+='        \x3ch2\x3e\x3cspan aria-hidden\x3d"true"\x3e[\x3c/span\x3e '+escapeExpression((stack1=
depth0&&depth0.title,typeof stack1===functionType?stack1.apply(depth0):stack1))+' \x3cspan aria-hidden\x3d"true"\x3e]\x3c/span\x3e\x3c/h2\x3e        \x3cdiv class\x3d"info-discount"\x3e'+escapeExpression((stack1=depth0&&depth0.message,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/div\x3e        ";return buffer}buffer+='\x3c!-- template:booking-gate-discount-messages --\x3e\x3cdiv class\x3d"modalPop-new discount-info-pop"\x3e\x3ch1 class\x3d"tit-pop"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-discount-info",options):helperMissing.call(depth0,"i18n","btn-discount-info",options)))+'\x3c/h1\x3e    \x3cdiv class\x3d"title-message"\x3e        ';stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/div\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-discount-messages --\x3e";return buffer});
templates["booking-gate-discount"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="";buffer+='\x3c!-- template:booking-gate-discount --\x3e\x3c!-- US DOT �輳�� --\x3e\x3cdiv class\x3d"discount-bk " \x3e        \x3cdiv class\x3d"viewContent"\x3e        \x3cdiv class\x3d"list-area-wrap"\x3e\x3c/div\x3e        \x3cdiv id\x3d"booking-gate-discount-error-wrapper" class\x3d"errorMessageContainer"\x3e\x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-discount --\x3e';
return buffer});templates["booking-gate-modal-discount-selector-list"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='\x3coption value\x3d"'+escapeExpression((stack1=depth0&&depth0.value,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=(helper=helpers.compare||depth1&&depth1.compare,options={hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data},helper?helper.call(depth0,depth1&&depth1.discountCode,"\x3d\x3d",depth0&&depth0.value,options):helperMissing.call(depth0,"compare",depth1&&depth1.discountCode,"\x3d\x3d",depth0&&depth0.value,options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3e"+escapeExpression((stack1=depth0&&depth0.label,typeof stack1===
functionType?stack1.apply(depth0):stack1))+"\x3c/option\x3e";return buffer}function program2(depth0,data){return'selected\x3d"selected"'}buffer+='\x3c!-- template:booking-gate-modal-discount-selector-list --\x3e\x3coption value\x3d""\x3e'+escapeExpression((stack1=depth0&&depth0.defaultLabel,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/option\x3e";stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.programWithDepth(1,program1,data,depth0),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+="\x3c!-- /template:booking-gate-modal-discount-selector-list --\x3e";return buffer});templates["booking-gate-modal-discount-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var helper,
options;return escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"travellers-discount-modify",options):helperMissing.call(depth0,"i18n","travellers-discount-modify",options)))}function program3(depth0,data){var helper,options;return escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"travellers-discount-select",options):helperMissing.call(depth0,"i18n","travellers-discount-select",
options)))}function program5(depth0,data){var buffer="",stack1;buffer+="            ";stack1=helpers.each.call(depth0,depth0&&depth0.discountMembers,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program6(depth0,data){var buffer="",stack1,helper,options;buffer+="                ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(7,program7,
data),data:data},helper?helper.call(depth0,depth0&&depth0.passengerType,"\x3d\x3d","ADULT",options):helperMissing.call(depth0,"compare",depth0&&depth0.passengerType,"\x3d\x3d","ADULT",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program7(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cli data-idx\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+
'" data-passenger-type\x3d"'+escapeExpression((stack1=depth0&&depth0.passengerType,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.loginUser,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3e                     \x3clabel for\x3d"'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"passenger-name" ';
stack1=helpers["if"].call(depth0,depth0&&depth0.isKoreanName,{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3e"+escapeExpression((helper=helpers.fullNameForBookingGate||depth0&&depth0.fullNameForBookingGate,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"fullNameForBookingGate",depth0,options)))+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WCAG-book-discount-select-title",options):helperMissing.call(depth0,"i18n","WCAG-book-discount-select-title",options)))+"\x3c/span\x3e\x3c/label\x3e                                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.isAward,{hash:{},inverse:self.program(12,program12,data),fn:self.program(12,program12,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/li\x3e                ";
return buffer}function program8(depth0,data){return'data-login-user\x3d"true"'}function program10(depth0,data){return' lang\x3d"ko"'}function program12(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cdiv class\x3d"styled-select oldsize"\x3e                        \x3cselect id\x3d"'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"ke-selectbox"\x3e                            \x3coption value\x3d""\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"data-loading-label",options):helperMissing.call(depth0,"i18n","data-loading-label",options)))+"\x3c/option\x3e                        \x3c/select\x3e                    \x3c/div\x3e                    ";return buffer}function program14(depth0,data){var buffer="",stack1;buffer+="            ";stack1=helpers.each.call(depth0,depth0&&depth0.discountMembers,{hash:{},inverse:self.noop,fn:self.program(15,
program15,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program15(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3cli data-idx\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-passenger-type\x3d"'+escapeExpression((stack1=depth0&&depth0.passengerType,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,
depth0&&depth0.loginUser,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3e                \x3clabel for\x3d"'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"passenger-name" ';stack1=helpers["if"].call(depth0,depth0&&depth0.isKoreanName,{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=
"\x3e"+escapeExpression((helper=helpers.fullNameForBookingGate||depth0&&depth0.fullNameForBookingGate,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"fullNameForBookingGate",depth0,options)))+'\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WCAG-book-discount-select-title",options):helperMissing.call(depth0,"i18n","WCAG-book-discount-select-title",
options)))+"\x3c/span\x3e\x3c/label\x3e                                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isAward,{hash:{},inverse:self.program(18,program18,data),fn:self.program(16,program16,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/li\x3e            ";return buffer}function program16(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cdiv class\x3d"styled-select oldsize longsize"\x3e                    \x3cselect id\x3d"'+
escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"ke-selectbox"\x3e                        \x3coption value\x3d""\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"data-loading-label",options):helperMissing.call(depth0,"i18n","data-loading-label",options)))+"\x3c/option\x3e                    \x3c/select\x3e                \x3c/div\x3e                ";return buffer}
function program18(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cdiv class\x3d"styled-select oldsize  longsize"\x3e                    \x3cselect id\x3d"'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"ke-selectbox"\x3e                        \x3coption value\x3d""\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"data-loading-label",
options):helperMissing.call(depth0,"i18n","data-loading-label",options)))+"\x3c/option\x3e                    \x3c/select\x3e                \x3c/div\x3e                ";return buffer}function program20(depth0,data){var buffer="",helper,options;buffer+='                \x3cp class\x3d"txt-c" id\x3d"dialog-info-discount"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"m_domestic-award-discount-label",options):helperMissing.call(depth0,
"i18n","m_domestic-award-discount-label",options)))+"\x3c/p\x3e            ";return buffer}function program22(depth0,data){var buffer="",helper,options;buffer+='        \x3cdiv class\x3d"notice"\x3e            \x3ch3\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"notice-label",options):helperMissing.call(depth0,"i18n","notice-label",options)))+'\x3c/h3\x3e            \x3cul class\x3d"list"\x3e                \x3cli\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"booking-discount-notice-list1",options):helperMissing.call(depth0,"i18n","booking-discount-notice-list1",options)))+"\x3c/li\x3e                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"booking-discount-notice-list2",options):helperMissing.call(depth0,"i18n","booking-discount-notice-list2",options)))+"\x3c/li\x3e            \x3c/ul\x3e        \x3c/div\x3e        ";
return buffer}buffer+='\x3c!-- template:booking-gate-modal-discount-selector --\x3e\x3cdiv class\x3d"modalPop-new"\x3e    \x3cdiv class\x3d"contents"\x3e        \x3ch2 class\x3d"tit-pop-2"  id\x3d"dialog-tit-discount"\x3e';stack1=helpers["if"].call(depth0,depth0&&depth0.isModify,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/h2\x3e        \x3cul class\x3d"discount-list"\x3e        ';stack1=helpers["if"].call(depth0,
depth0&&depth0.onlyAdult,{hash:{},inverse:self.program(14,program14,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3c/ul\x3e        \x3cdiv class\x3d"info-label"\x3e                        ';stack1=helpers["if"].call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.noop,fn:self.program(20,program20,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3c/div\x3e        \x3cdiv class\x3d"errorMessageContainer txt-c" id\x3d"err-student-txt" \x3e\x3c/div\x3e        \x3cp class\x3d"btn-c-2"\x3e            \x3cbutton class\x3d"medium-2 btn-cancel" id\x3d"modal-discount-btn-cancel"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"common.mobile.cancel-label",options):helperMissing.call(depth0,"i18n","common.mobile.cancel-label",options)))+'\x3c/button\x3e            \x3cbutton class\x3d"medium-3 btn-ok" id\x3d"modal-discount-btn-ok"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Apply",options):helperMissing.call(depth0,"i18n","Apply",options)))+
"\x3c/button\x3e        \x3c/p\x3e        ";stack1=helpers.unless.call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/div\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-modal-discount-selector --\x3e";return buffer});templates["booking-gate-passenger-discount-list"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,
Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1;buffer+='        \x3cli data-idx\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e            \x3cdiv class\x3d"checkbox-wrapper"\x3e                \x3cinput type\x3d"checkbox" id\x3d"'+escapeExpression((stack1=
depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"css-checkbox" data-login-user\x3d"'+escapeExpression((stack1=depth0&&depth0.loginUser,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-idx\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-discount-code\x3d"'+escapeExpression((stack1=depth0&&depth0.discountCode,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" data-date-of-birth\x3d"'+escapeExpression((stack1=depth0&&depth0.dateOfBirth,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.isChecked,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=" ";stack1=helpers["if"].call(depth0,depth0&&depth0.discountLabel,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;
buffer+='/\x3e                \x3cspan class\x3d"checkbox mg-r5"\x3e\x3c/span\x3e                \x3clabel for\x3d"'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"bookWithMiles checkbox-wrapper label-checkbox-bk"\x3e                    ';stack1=helpers["if"].call(depth0,depth0&&depth0.isChange,{hash:{},inverse:self.program(9,program9,data),fn:self.program(6,program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=
"                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.discountLabel,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/label\x3e                ";stack1=helpers["if"].call(depth0,depth0&&depth0.discountLabel,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/div\x3e        \x3c/li\x3e        ";return buffer}
function program2(depth0,data){return'checked\x3d"checked"'}function program4(depth0,data){var buffer="",stack1;buffer+=' aria-describedby\x3d"select-'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"';return buffer}function program6(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cspan class\x3d"name" ';stack1=helpers["if"].call(depth0,depth0&&depth0.isKoreanName,{hash:{},inverse:self.noop,fn:self.program(7,
program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3e"+escapeExpression((helper=helpers.fullNameForBookingGate||depth0&&depth0.fullNameForBookingGate,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"fullNameForBookingGate",depth0,options)))+" / "+escapeExpression((helper=helpers.passengerTypeLabel||depth0&&depth0.passengerTypeLabel,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.type,options):helperMissing.call(depth0,
"passengerTypeLabel",depth0&&depth0.type,options)))+"\x3c/span\x3e                    ";return buffer}function program7(depth0,data){return' lang\x3d"ko" '}function program9(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cspan class\x3d"name" ';stack1=helpers["if"].call(depth0,depth0&&depth0.isKoreanName,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' data-type\x3d"'+escapeExpression((stack1=depth0&&
depth0.type,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((helper=helpers.fullNameForBookingGate||depth0&&depth0.fullNameForBookingGate,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"fullNameForBookingGate",depth0,options)))+"\x3c/span\x3e                    ";return buffer}function program11(depth0,data){var buffer="",stack1;buffer+='                        \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((stack1=
depth0&&depth0.discountLabel,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/span\x3e                    ";return buffer}function program13(depth0,data){var buffer="",stack1;buffer+='                \x3cp class\x3d"select-discount-label" aria-hidden\x3d"true" id\x3d"select-'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((stack1=depth0&&depth0.discountLabel,typeof stack1===functionType?stack1.apply(depth0):
stack1))+"\x3c/p\x3e                ";return buffer}buffer+='\x3c!-- template:booking-gate-passenger-discount-list --\x3e\x3cdiv class\x3d"into-style-wrap"\x3e    \x3cul class\x3d"passenger-check passenger-area"\x3e        ';stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/ul\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-passenger-discount-list --\x3e";return buffer});templates["booking-gate-passenger-discount"]=
template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3c!-- template:booking-gate-passenger-discount --\x3e\x3cdiv id\x3d"passengerListItem" class\x3d"passenger-enrollment keForm"\x3e    \x3cp class\x3d"guidance-txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"choose-award-passengers-label",options):helperMissing.call(depth0,"i18n","choose-award-passengers-label",options)))+'\x3cbutton class\x3d"passenger-select-info query-s"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-passenger",options):helperMissing.call(depth0,"i18n","WA-passenger",options)))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"WA-detail-information",options):helperMissing.call(depth0,"i18n","WA-detail-information",options)))+'\x3c/button\x3e\x3c/p\x3e    \x3cdiv class\x3d" upgrade-info info-message" id\x3d"airports-date-select-info"\x3e\x3c!--클래스 추가--\x3e        \x3cp class\x3d"txt-belt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bonus-passenger-info-warning-label",options):helperMissing.call(depth0,"i18n",
"bonus-passenger-info-warning-label",options)))+'\x3c/p\x3e        \x3cp class\x3d"txt-belt airports-date-select" id\x3d"airports-date-select-info-message"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"choose-airports-date-alert",options):helperMissing.call(depth0,"i18n","choose-airports-date-alert",options)))+'\x3c/p\x3e    \x3c/div\x3e    \x3cdiv class\x3d"passenger-area-warp"\x3e\x3c/div\x3e    \x3cdiv class\x3d"additional-infant"\x3e    \x3c/div\x3e    \x3cdiv class\x3d"acomm-notice-info keForm" id\x3d"child-infant-agree-div"\x3e\x3c/div\x3e    \x3cdiv class\x3d"info-message upgrade-info2 info-message-bottom"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"discount-area "\x3e    \x3cdiv class\x3d"button-area btn-c3"\x3e        \x3cbutton id\x3d"btn-discount-select" class\x3d"medium-5" data-isModify\x3d"false"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"travellers-discount-select",options):helperMissing.call(depth0,"i18n","travellers-discount-select",options)))+'\x3c/button\x3e    \x3c/div\x3e    \x3cdiv class\x3d"discount-info-agree"\x3e        \x3cdiv class\x3d"checkbox-wrapper"\x3e            \x3cinput type\x3d"checkbox" id\x3d"discount-info-agree" class\x3d"css-checkbox w-15"\x3e            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e            \x3clabel for\x3d"discount-info-agree" class\x3d"bookWithMiles  label-checkbox-bk"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-agree-checked",options):helperMissing.call(depth0,"i18n","discount-agree-checked",options)))+'\x3c/label\x3e            \x3cbutton class\x3d"btn-discount-info medium-6"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-discount-info",options):helperMissing.call(depth0,"i18n","btn-discount-info",options)))+
'\x3c/button\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cdiv id\x3d"booking-gate-passenger-discount-error-wrapper" class\x3d"errorMessageContainer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-passenger-discount --\x3e';return buffer});templates["booking-gate"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,
escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){return'    \x3cdiv class\x3d"ribbon " id\x3d"giftTicketBanner" style\x3d"display:none;"\x3e    \x3cimg src\x3d"/content/dam/koreanair/Global/gift-ticket/sub-gift-ribbon.png" alt\x3d"" /\x3e    \x3c/div\x3e        '}function program3(depth0,data,depth1){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth1&&depth1.isGiftTicketDomestic,{hash:{},inverse:self.program(6,program6,data),fn:self.program(4,
program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program4(depth0,data){var buffer="",helper,options;buffer+="                    \x3ch1\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gift-ticket-domestic-title",options):helperMissing.call(depth0,"i18n","gift-ticket-domestic-title",options)))+"\x3c/h1\x3e                ";return buffer}function program6(depth0,data){var buffer=
"",helper,options;buffer+="                    \x3ch1\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gift-ticket-international-title",options):helperMissing.call(depth0,"i18n","gift-ticket-international-title",options)))+"\x3c/h1\x3e                ";return buffer}function program8(depth0,data){var buffer="",helper,options;buffer+="                \x3ch1\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"book-flight-label",options):helperMissing.call(depth0,"i18n","book-flight-label",options)))+"\x3c/h1\x3e            ";return buffer}function program10(depth0,data){var buffer="",stack1,helper,options;buffer+='    \x3cdiv class\x3d"gift-ticket notice" id\x3d"giftTicketNotice" style\x3d"display: none;"\x3e        \x3ch3\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gift-ticket-notice",
options):helperMissing.call(depth0,"i18n","gift-ticket-notice",options)))+'\x3c/h3\x3e        \x3cul\x3e            \x3cli class\x3d"list"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gift-ticket-notice-2",options):helperMissing.call(depth0,"i18n","gift-ticket-notice-2",options)))+'\x3c/li\x3e            \x3cli class\x3d"list"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?
helper.call(depth0,"gift-ticket-notice-3",options):helperMissing.call(depth0,"i18n","gift-ticket-notice-3",options)))+"\x3c/li\x3e            ";stack1=helpers.unless.call(depth0,depth0&&depth0.isGiftTicketDomestic,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/ul\x3e    \x3c/div\x3e    ";return buffer}function program11(depth0,data){var buffer="",helper,options;buffer+='            \x3cli class\x3d"list"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gift-ticket-notice-4",options):helperMissing.call(depth0,"i18n","gift-ticket-notice-4",options)))+'\x3c/li\x3e            \x3cli class\x3d"list"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gift-ticket-notice-5",options):helperMissing.call(depth0,"i18n","gift-ticket-notice-5",options)))+"\x3c/li\x3e            ";return buffer}buffer+='\x3c!-- template:booking-gate --\x3e\x3cdiv class\x3d"flight-container"\x3e    \x3cdiv class\x3d"flight-wrapper"\x3e        ';
stack1=helpers["if"].call(depth0,depth0&&depth0.isGiftTicket,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3cdiv class\x3d"flight-tit" id\x3d"bookingTitle"\x3e            ';stack1=helpers["if"].call(depth0,depth0&&depth0.isGiftTicket,{hash:{},inverse:self.program(8,program8,data),fn:self.programWithDepth(3,program3,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cimg src\x3d"/mediaResource/images/ke_gblogo.bmp" style\x3d"display:none;" alt\x3d"" aria-hidden\x3d"true"\x3e        \x3c/div\x3e                        \x3cdiv class\x3d"booking-form" id\x3d"domestic_flight"\x3e            \x3cdiv id\x3d"booking-type" role\x3d"group" aria-label\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-booking-type",options):helperMissing.call(depth0,"i18n","UWA-booking-type",options)))+'"\x3e                \x3cp class\x3d"tab-btn"\x3e                    \x3cbutton data-name\x3d"revenue" class\x3d"on" aria-pressed\x3d"true"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"revenue-booking-label",options):helperMissing.call(depth0,
"i18n","revenue-booking-label",options)))+'\x3c/button\x3e                    \x3cbutton data-name\x3d"award"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"award-booking-label",options):helperMissing.call(depth0,"i18n","award-booking-label",options)))+'\x3c/button\x3e                \x3c/p\x3e            \x3c/div\x3e                        \x3cdiv id\x3d"skyteamAirline"\x3e\x3c/div\x3e                        \x3cdiv id\x3d"from-to-chooser" class\x3d"section-block"\x3e\x3c/div\x3e            \x3cdiv id\x3d"cabin-class" class\x3d"section-block"\x3e\x3c/div\x3e            \x3cdiv id\x3d"passenger-count" class\x3d"section-block"\x3e\x3c/div\x3e            \x3cdiv id\x3d"passenger-discount" class\x3d"section-block"\x3e\x3c/div\x3e            \x3cdiv id\x3d"discount" class\x3d"section-block"\x3e\x3c/div\x3e            \x3cp class\x3d"btn-c-border"\x3e\x3cbutton id\x3d"submit" class\x3d"medium-4"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"afind-flights-label",options):helperMissing.call(depth0,"i18n","afind-flights-label",options)))+"\x3c/button\x3e\x3c/p\x3e        \x3c/div\x3e            \x3c/div\x3e    ";stack1=helpers["if"].call(depth0,depth0&&depth0.isGiftTicket,{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e\x3c!-- /template:booking-gate --\x3e";
return buffer});templates["captcha-pop"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function";buffer+='\x3c!-- template : captcha-pop.html --\x3e\x3cdiv id\x3d"captcha-pop"\x3e    \x3ch2\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"captcha-title",options):helperMissing.call(depth0,"i18n","captcha-title",options)))+'\x3c/h2\x3e    \x3cp class\x3d"captcha-txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"captcha-pre-txt",options):helperMissing.call(depth0,"i18n","captcha-pre-txt",options)))+'\x3c/p\x3e    \x3cfieldset\x3e        \x3clegend class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"captcha-legend",options):helperMissing.call(depth0,"i18n","captcha-legend",options)))+'\x3c/legend\x3e        \x3cp class\x3d"captcha-img"\x3e\x3cimg src\x3d"';if(helper=helpers.imgsrc)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.imgsrc;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" alt\x3d"" /\x3e\x3c/p\x3e        \x3cdiv class\x3d"captcha-form"\x3e            \x3clabel for\x3d"captcha"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"captcha-input-label",options):helperMissing.call(depth0,"i18n","captcha-input-label",options)))+'\x3c/label\x3e            \x3cdiv class\x3d"captcha-func"\x3e                \x3cspan class\x3d"placeholder-wrap"\x3e                    \x3cspan class\x3d"placeholder" id\x3d"captcha-placeholder" data-placeholder-id\x3d"captcha"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"captcha-input-placeholder",options):helperMissing.call(depth0,"i18n","captcha-input-placeholder",options)))+'\x3c/span\x3e                    \x3cinput type\x3d"text" name\x3d"" value\x3d"" id\x3d"captcha" class\x3d"hiddenx" aria-describedby\x3d"captcha-placeholder" /\x3e                \x3c/span\x3e                \x3cspan class\x3d"captcha-btn"\x3e                    \x3cbutton id\x3d"captcha-refresh"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"captcha-button-refresh",options):helperMissing.call(depth0,"i18n","captcha-button-refresh",options)))+'\x3c/button\x3e                    \x3cbutton id\x3d"captcha-voice"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"captcha-button-voice",options):helperMissing.call(depth0,"i18n","captcha-button-voice",options)))+'\x3c/button\x3e                \x3c/span\x3e            \x3c/div\x3e            \x3cdiv class\x3d"errorMessageContainer"\x3e\x3c/div\x3e        \x3c/div\x3e    \x3c/fieldset\x3e\x3c/div\x3e\x3c!--// template : captcha-pop.html --\x3e';
return buffer});templates["dom-promotion-popup"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};return'\x3cdiv class\x3d"layerpopup promopopup keForm newpromo"\x3e    \x3ch2 class\x3d"modal-title"\x3e모바일에서 구매하고 \x3cstrong\x3e5%\x3c/strong\x3e 쿠폰 할인 받으세요!\x3c/h2\x3e    \x3cul class\x3d"info_cont"\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e노선\x26nbsp;\x3c/strong\x3e국내선 전 노선 (인천 출도착 제외)\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e운임\x26nbsp;\x3c/strong\x3e일반석 (정상운임(Y) 제외)\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e구매\x26nbsp;\x3c/strong\x3e2017년 10월 19일 ~ 11월 10일\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e탑승\x26nbsp;\x3c/strong\x3e2017년 10월 19일 ~ 12월 20일\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e대상\x26nbsp;\x3c/strong\x3e대한항공 모바일에서 예매하시는 홈페이지 회원 누구나 \x3cspan class\x3d"inbrspan"\x3e(로그인 필수)\x3c/span\x3e \x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e혜택\x26nbsp;\x3c/strong\x3e모바일 예매 시 결제 화면에서 쿠폰 번호‘\x3cem class\x3d"point"\x3eMOBILE\x3c/em\x3e’입력하면 운임의 5% 할인 \x3c/li\x3e            \x3c/ul\x3e    \x3cdiv class\x3d"btn-area tcenter"\x3e        \x3cbutton class\x3d"button-page-blue"\x3e확인\x3c/button\x3e    \x3c/div\x3e    \x3cdiv class\x3d"notice noheading"\x3e        \x3ch3 class\x3d"offscreen"\x3e쿠폰 사용 유의사항\x3c/h3\x3e        \x3cul class\x3d"notice-list"\x3e            \x3cli class\x3d"list"\x3e쿠폰 사용 유의사항 및 참여 이벤트 경품은 이벤트 페이지를 통해 꼭 확인하세요.                (\x3ca href\x3d"https://kr.koreanair.com/content/koreanair/korea/ko/promotions/mobile2017.html" target\x3d"_blank"\x3e\x26nbsp;바로가기\x26nbsp;\x3cspan class\x3d"offscreen"\x3e새창으로 열림\x3c/span\x3e\x3c/a\x3e)\x3c/li\x3e            \x3cli class\x3d"list"\x3e왕복 중 쿠폰 할인 불가한 항공편이 포함된 경우, 가는 편/오는 편을 따로 구매하시면 쿠폰할인 대상 항공편에 대해 할인을 받으실 수 있습니다.\x3c/li\x3e        \x3c/ul\x3e    \x3c/div\x3e    \x3cdiv id\x3d"popsession-check" class\x3d"session-area"\x3e        \x3cinput type\x3d"checkbox" id\x3d"popsession-checkbox" /\x3e        \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e        \x3clabel for\x3d"popsession-checkbox"\x3e더 이상 보지 않기\x3c/label\x3e    \x3c/div\x3e\x3c/div\x3e'});
templates["modal-discount-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3c!-- template:modal-discount-selector --\x3e\x3cdiv class\x3d"new-discount-guide" id\x3d"student_guide"\x3e    \x3cp class\x3d"text"\x3e        '+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"dialogtit-studentguide-info1",options):helperMissing.call(depth0,"i18n","dialogtit-studentguide-info1",options)))+'    \x3c/p\x3e    \x3ctable class\x3d"table-row-style"\x3e        \x3ccaption\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"dialogtit-studentguide-tablecaption",options):helperMissing.call(depth0,"i18n","dialogtit-studentguide-tablecaption",
options)))+'\x3c/span\x3e\x3c/caption\x3e        \x3ctbody\x3e        \x3ctr\x3e            \x3cth scope\x3d"row"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"guide-apply-to",options):helperMissing.call(depth0,"i18n","guide-apply-to",options)))+"\x3c/th\x3e            \x3ctd\x3e                "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-dialogtit-studentguide-ageinfo",
options):helperMissing.call(depth0,"i18n","UWA-dialogtit-studentguide-ageinfo",options)))+'            \x3c/td\x3e        \x3c/tr\x3e        \x3ctr\x3e            \x3cth scope\x3d"row"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"period-terms1",options):helperMissing.call(depth0,"i18n","period-terms1",options)))+"\x3c/th\x3e            \x3ctd\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"period-terms1-info1",options):helperMissing.call(depth0,"i18n","period-terms1-info1",options)))+'\x3c/td\x3e        \x3c/tr\x3e        \x3ctr\x3e            \x3cth scope\x3d"row"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"period-terms2",options):helperMissing.call(depth0,"i18n","period-terms2",options)))+'\x3c/th\x3e            \x3ctd\x3e                \x3cul class\x3d"discount-list"\x3e                    \x3cli\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"period-terms2-info1",options):helperMissing.call(depth0,"i18n","period-terms2-info1",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"period-terms2-info2",options):helperMissing.call(depth0,"i18n","period-terms2-info2",options)))+"\x3c/li\x3e                    \x3cli\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"period-terms2-info3",options):helperMissing.call(depth0,"i18n","period-terms2-info3",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"period-terms2-info4",options):helperMissing.call(depth0,"i18n","period-terms2-info4",options)))+'\x3c/li\x3e                \x3c/ul\x3e            \x3c/td\x3e        \x3c/tr\x3e        \x3ctr\x3e            \x3cth scope\x3d"row"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-document",options):helperMissing.call(depth0,"i18n","discount-document",options)))+'\x3c/th\x3e            \x3ctd\x3e                \x3cspan class\x3d"discount-info"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info1",options):helperMissing.call(depth0,"i18n","discount-docu-info1",options)))+
'\x3c/span\x3e                \x3cul class\x3d"discount-list"\x3e                    \x3cli\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info2",options):helperMissing.call(depth0,"i18n","discount-docu-info2",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info3",options):helperMissing.call(depth0,
"i18n","discount-docu-info3",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info4",options):helperMissing.call(depth0,"i18n","discount-docu-info4",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info5",options):helperMissing.call(depth0,
"i18n","discount-docu-info5",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info6",options):helperMissing.call(depth0,"i18n","discount-docu-info6",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info7",options):helperMissing.call(depth0,
"i18n","discount-docu-info7",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info8",options):helperMissing.call(depth0,"i18n","discount-docu-info8",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info9",options):helperMissing.call(depth0,
"i18n","discount-docu-info9",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-docu-info10",options):helperMissing.call(depth0,"i18n","discount-docu-info10",options)))+'\x3c/li\x3e                \x3c/ul\x3e                \x3cspan class\x3d"discount-legend"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"discount-docu-info12",options):helperMissing.call(depth0,"i18n","discount-docu-info12",options)))+"\x3c/span\x3e            \x3c/td\x3e        \x3c/tr\x3e        \x3c/tbody\x3e    \x3c/table\x3e\x3c/div\x3e\x3c!-- /template:modal-discount-selector --\x3e";return buffer});templates["promotion-BC-popup"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="";buffer+='\x3cdiv class\x3d"layerpopup promopopup keForm newpromo"\x3e    \x3ch2 class\x3d"modal-title"\x3e매주 월요일,  BC카드로 결제하고\x3cbr\x3e미주노선 쿠폰 할인 받으세요!\x3c/h2\x3e    \x3cul class\x3d"info_cont"\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e노선\x26nbsp;\x3c/strong\x3e한국 발 미주 행 대한항공 직항 노선\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e운임\x26nbsp;\x3c/strong\x3e탑승/예약 클래스 제한 없음 \x3cspan class\x3d"inbrspan"\x3e(보너스 항공권 제외)\x3c/span\x3e\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e구매\x26nbsp;\x3c/strong\x3e2017년 9월 4일 ~ 12월 25일 매주 월요일  \x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e탑승\x26nbsp;\x3c/strong\x3e2017년 9월 4일 ~ 2018년 3월 31일 \x3cspan class\x3d"inbrspan"\x3e(출발일 기준 9월 27일 ~ 10월 5일, 2018년 1월 1일 ~ 1월 9일 제외)\x3c/span\x3e\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e대상\x26nbsp;\x3c/strong\x3e대한항공 홈페이지/모바일에서 BC 카드로 예매하시는 모든 고객 \x3c/li\x3e        \x3cli class\x3d"list"\x3e            \x3cstrong\x3e혜택\x26nbsp;\x3c/strong\x3e                \x3col class\x3d"ol-list" style\x3d"margin-bottom:5px;"\x3e                    \x3cli\x3e                        결제 화면에서 BC카드 선택 후 쿠폰 번호 ‘\x3cem class\x3d"point2"\x3eMONDAY\x3cspan class\x3d"red"\x3eBC\x3c/span\x3e\x3c/em\x3e’ 입력 시 운임의 \x3cspan class\x3d"red"\x3e3%\x3c/span\x3e 할인                    \x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"red"\x3eBC\x3c/span\x3e 카드 결제 시 월요일 결제 금액의 \x3cspan class\x3d"red"\x3e7%\x3c/span\x3e캐시백 제공 \x3cspan class\x3d"inbrspan"\x3e(법인/기프트카드 제외)\x3c/span\x3e\x3c/li\x3e                \x3c/ol\x3e            \x3c/li\x3e    \x3c/ul\x3e    \x3cdiv class\x3d"btn-area tcenter"\x3e        \x3cbutton class\x3d"button-page-blue"\x3e확인\x3c/button\x3e    \x3c/div\x3e    \x3cdiv class\x3d"notice noheading"\x3e        \x3ch3 class\x3d"offscreen"\x3e쿠폰 사용 유의사항\x3c/h3\x3e        \x3cul class\x3d"notice-list"\x3e            \x3cli class\x3d"list"\x3e쿠폰 사용 및 캐시백 유의사항은 이벤트 페이지를 통해 반드시 확인해 주세요.\x3cbr/\x3e                (\x3ca href\x3d"https://micro.koreanair.com/mainevent/201708/bccard/bccard.html?xcid\x3dpc_bookinggate" target\x3d"_blank"\x3e\x26nbsp;바로가기\x26nbsp;\x3cspan class\x3d"offscreen"\x3e새창으로 열림\x3c/span\x3e\x3c/a\x3e)            \x3c/li\x3e        \x3c/ul\x3e    \x3c/div\x3e    \x3cdiv id\x3d"popsession-check" class\x3d"session-area"\x3e        \x3cinput type\x3d"checkbox" id\x3d"popsession-checkbox" /\x3e        \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e        \x3clabel for\x3d"popsession-checkbox"\x3e더 이상 보지 않기\x3c/label\x3e    \x3c/div\x3e\x3c/div\x3e';
return buffer});templates["promotion-Intl-popup"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="";buffer+='\x3cdiv class\x3d"layerpopup promopopup keForm newpromo"\x3e    \x3ch2 class\x3d"modal-title"\x3e\x3cstrong\x3eCalifornia Vibes! California Breeze!\x3c/strong\x3e\x3c/h2\x3e    \x3cul class\x3d"info_cont"\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e노선\x26nbsp;\x3c/strong\x3e한국 발 샌프란시스코, 로스앤젤레스행 직항 노선\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e운임\x26nbsp;\x3c/strong\x3e탑승/예약 클래스 제한 없음\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e구매\x26nbsp;\x3c/strong\x3e~ 2018년 4월 20일\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e탑승\x26nbsp;\x3c/strong\x3e2018년 5월 1일 ~ 6월 30일\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e대상\x26nbsp;\x3c/strong\x3e대한항공 홈페이지/모바일에서 샌프란시스코, 로스앤젤레스행 항공권 구매하시는 한국 지역 회원 \x3cspan class\x3d"inbrspan"\x3e(로그인 필수)\x3c/span\x3e \x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e혜택\x26nbsp;\x3c/strong\x3e추첨을 통해 \x3cspan class\x3d"red"\x3e허츠렌터카 3일 무료 이용권\x3c/span\x3e or \x3cspan class\x3d"red"\x3e Apolis 와인 토트백\x3c/span\x3e을 드립니다.\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e응모\x26nbsp;\x3c/strong\x3e            \x3col\x3e                \x3cli\x3e항공권 구매 완료 화면에서 ‘프로모션 혜택 및 추가 정보’ 배너 클릭\x3c/li\x3e                \x3cli\x3e‘California Vibes!’ 항공권 구매 이벤트 클릭\x3c/li\x3e                \x3cli\x3e경품 수령을 위한 개인정보 수집/이용 동의 및 개인 정보 입력 후 응모하기\x3c/li\x3e            \x3c/ol\x3e        \x3c/li\x3e    \x3c/ul\x3e    \x3cdiv class\x3d"btn-area tcenter"\x3e        \x3cbutton class\x3d"button-page-blue"\x3e확인\x3c/button\x3e    \x3c/div\x3e    \x3cdiv class\x3d"notice noheading"\x3e        \x3ch3 class\x3d"offscreen"\x3e유의사항\x3c/h3\x3e        \x3cul class\x3d"notice-list"\x3e            \x3cli class\x3d"list"\x3e자세한 이벤트 내용 및 유의사항은 이벤트 페이지를 통해 꼭 확인하세요.                (\x3ca href\x3d"https://kr.koreanair.com/content/koreanair/korea/ko/promotions/californiah.html?xcid\x3dhertzcalifornia_kr_KR_201803_bookinggatepopup" target\x3d"_blank"\x3e\x26nbsp;바로가기\x26nbsp;\x3cspan class\x3d"offscreen"\x3e새창으로 열림\x3c/span\x3e\x3c/a\x3e)            \x3c/li\x3e        \x3c/ul\x3e    \x3c/div\x3e    \x3cdiv id\x3d"popsession-check" class\x3d"session-area"\x3e        \x3cinput type\x3d"checkbox" id\x3d"popsession-checkbox" /\x3e        \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e        \x3clabel for\x3d"popsession-checkbox"\x3e더 이상 보지 않기\x3c/label\x3e    \x3c/div\x3e\x3c/div\x3e';
return buffer});templates["promotion-popup"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="";buffer+='\x3cdiv class\x3d"layerpopup promopopup keForm newpromo"\x3e    \x3ch2 class\x3d"modal-title"\x3e모바일에서 구매하고 \x3cstrong\x3e5%\x3c/strong\x3e 쿠폰 할인 받으세요!\x3c/h2\x3e    \x3cul class\x3d"info_cont"\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e노선\x26nbsp;\x3c/strong\x3e국내선 전 노선 (인천 출도착 제외)\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e운임\x26nbsp;\x3c/strong\x3e일반석 (정상운임(Y) 제외)\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e구매\x26nbsp;\x3c/strong\x3e2017년 10월 19일 ~ 11월 10일\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e탑승\x26nbsp;\x3c/strong\x3e2017년 10월 19일 ~ 12월 20일\x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e대상\x26nbsp;\x3c/strong\x3e대한항공 모바일에서 예매하시는 홈페이지 회원 누구나 \x3cspan class\x3d"inbrspan"\x3e(로그인 필수)\x3c/span\x3e \x3c/li\x3e        \x3cli class\x3d"list"\x3e\x3cstrong\x3e혜택\x26nbsp;\x3c/strong\x3e모바일 예매 시 결제 화면에서 쿠폰 번호‘\x3cem class\x3d"point"\x3eMOBILE\x3c/em\x3e’입력하면 운임의 5% 할인 \x3c/li\x3e    \x3c/ul\x3e    \x3cdiv class\x3d"btn-area tcenter"\x3e        \x3cbutton class\x3d"button-page-blue"\x3e확인\x3c/button\x3e    \x3c/div\x3e    \x3cdiv class\x3d"notice noheading"\x3e        \x3ch3 class\x3d"offscreen"\x3e쿠폰 사용 유의사항\x3c/h3\x3e        \x3cul class\x3d"notice-list"\x3e            \x3cli class\x3d"list"\x3e쿠폰 사용 유의사항 및 참여 이벤트 경품은 이벤트 페이지를 통해 꼭 확인하세요.                (\x3ca href\x3d"https://kr.koreanair.com/content/koreanair/korea/ko/promotions/mobile2017.html" target\x3d"_blank"\x3e\x26nbsp;바로가기\x26nbsp;\x3cspan class\x3d"offscreen"\x3e새창으로 열림\x3c/span\x3e\x3c/a\x3e)\x3c/li\x3e            \x3cli class\x3d"list"\x3e왕복 중 쿠폰 할인 불가한 항공편이 포함된 경우, 가는 편/오는 편을 따로 구매하시면 쿠폰할인 대상 항공편에 대해 할인을 받으실 수 있습니다.\x3c/li\x3e        \x3c/ul\x3e    \x3c/div\x3e    \x3cdiv id\x3d"popsession-check" class\x3d"session-area"\x3e        \x3cinput type\x3d"checkbox" id\x3d"popsession-checkbox" /\x3e        \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e        \x3clabel for\x3d"popsession-checkbox"\x3e더 이상 보지 않기\x3c/label\x3e    \x3c/div\x3e\x3c/div\x3e';
return buffer})})();
(function(koreanair,Booking){var CabinClassModel=Backbone.Model.extend({defaults:{tripType:Booking.TRIP_TYPES.DOMESTIC,paymentType:Booking.PAYMENT_TYPES.REVENUE,cabinClass:"economy",isUpgradeableCabin:false,isReissue:false,isChange:false}});koreanair.bookingGate=koreanair.bookingGate||{};koreanair.bookingGate.CabinClassModel=CabinClassModel})(koreanair,koreanair.Booking);
(function($,koreanair,Templates,Booking,I18n){var CabinClass=koreanair.View.extend({el:"#cabin-class",template:Templates["booking-gate-cabin-class"],events:{"change input[type\x3dradio]":"radioHandler"},moduleName:"cabin-class",initialize:function(options){this.model=new koreanair.bookingGate.CabinClassModel;this.render();return this},render:function(){var html=this.template({firstRadio:this.model.get("tripType")=="international",disable:this.options.disable,randomId:this.randomId()});this.$el.html(html)},
infoClick:function(e){koreanair.Modal.info('\x3cp class\x3d"txt-belt"\x3e'+I18n.get("bonus-upgrade-info-label")+"\x3c/p\x3e"+I18n.get("bonus-upgrade-info-link-label"))},radioHandler:function(e){this.setCabinClass(this.$(e.currentTarget).val())},checkboxHandler:function(e){var isChecked=this.$("#upgradable").attr("checked")==="checked";this.setBonusUpgrade(isChecked,false,true)},setCabinClass:function(type,silent){if(type)type=type.toLowerCase();var oldCabinClass=this.model.get("cabinClass");$(".cabin-class").find("input").attr("checked",
false).prop("checked",false);$(".cabin-class").find("input").closest("li").find("label").removeClass("on");$(".cabin-class").find('input[value\x3d"'+type+'"]').attr("checked",true).prop("checked",true);$(".cabin-class").find("input:checked").closest("li").find("label").addClass("on");this.model.set("cabinClass",type);this.setBonusUpgrade(this.model.get("isUpgradeableCabin"),true);if(!silent&&oldCabinClass!==this.model.get("cabinClass"))this.dispatchEvent("input:change")},setBonusUpgrade:function(status,
silent,isCheckboxClick){var isInternational=this.model.get("tripType")===Booking.TRIP_TYPES.INTERNATIONAL,isRevenue=this.model.get("paymentType")===Booking.PAYMENT_TYPES.REVENUE,oldUpgradeable=this.model.set("isUpgradeableCabin"),isReissue=this.model.get("isReissue"),isMultiCity=this.model.get("isMultiCity");if(!isReissue&&isInternational&&isRevenue&&$("ul.airports-multi").length<2)if(this.model.get("cabinClass")===Booking.CABIN_CLASS.ECONOMY&&!isMultiCity){if(!isCheckboxClick){var upgradabel_html=
'\x3cinput type\x3d"checkbox" id\x3d"upgradable" class\x3d"css-checkbox"/\x3e'+'\x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e '+'\x3clabel for\x3d"upgradable" class\x3d"bookWithMiles label-checkbox-bk"\x3e'+I18n.get("bonus-upgrade-fare-find-label")+"\x3c/label\x3e";this.$(".bonus-upgrade-search").html(upgradabel_html);this.$el.find("#upgradable").off("click").on("click",this.checkboxHandler.bind(this));this.$el.find(".bonus-upgrade-info").off("click").on("click",this.infoClick.bind(this))}}else{status=
false;this.$(".bonus-upgrade-search").html("")}else this.$(".bonus-upgrade-search").html("");this.$("#upgradable").attr("checked",status);this.model.set("isUpgradeableCabin",status);var upgradeInfo='\x3cp class\x3d"txt-belt" id\x3d"bonus-upgrade-info-message-area"\x3e'+I18n.get("bonus-upgrade-info-label")+"\x3c/p\x3e";if(status){this.$("#bonus-upgrade-info-message").removeClass("dp-none");this.$("#bonus-upgrade-info-message div").html(upgradeInfo);this.$("#bonus-upgrade-info-message a").remove();
this.$("#bonus-upgrade-info-message").append(I18n.get("bonus-upgrade-info-link-label"));this.$("#upgradable").attr("aria-describedby","bonus-upgrade-info-message-area")}else{this.$("#bonus-upgrade-info-message").addClass("dp-none");this.$("#bonus-upgrade-info-message div").html("");this.$("#bonus-upgrade-info-message a").remove();this.$("#upgradable").removeAttr("aria-describedby")}if(!silent&&oldUpgradeable!==status)this.dispatchEvent("input:change")},dispatchEvent:function(type){this.trigger(type,
{type:type,moduleName:this.moduleName,data:this.getData()})},resetModel:function(options){var options=options||{},defaults=this.model.defaults;this.model.set("tripType",options.tripType||defaults.tripType);this.model.set("paymentType",options.paymentType||defaults.paymentType);this.model.set("cabinClass",options.cabinClass||defaults.cabinClass);this.model.set("isUpgradeableCabin",options.isUpgradeableCabin||defaults.isUpgradeableCabin);this.model.set("isChange",options.isChange||defaults.isChange);
this.model.set("isReissue",options.isReissue||defaults.isReissue);this.model.set("isMultiCity",options.isMultiCity||false)},validate:function(){return true},reset:function(options){this.resetModel(options);this.render();this.setCabinClass(this.model.get("cabinClass"),options.silent||null)},getData:function(){return this.model.toJSON()}});koreanair.bookingGate=koreanair.bookingGate||{};koreanair.bookingGate.CabinClass=CabinClass})(jQuery,koreanair,Handlebars.templates,koreanair.Booking,Granite.I18n);
(function(_,$,Backbone,Templates,ServiceApi,koreanair){var RequiredActionBehavior=koreanair.View.inherits({el:"",events:{"click .requiredAction .continue-button":"continueClick"},initialize:function(options){this.template=Templates["modal-schedule-change"];this.deferred=options.deferred||$.Deferred()},onColorboxOpen:function(){$(".loading-fullscreen").hide();$(".reservation-search div:first").show()},onClose:function(){this.deferred.reject("Closed");this.remove()},continueClick:function(e){e.preventDefault();
$(e.currentTarget).addClass("disabled");this.actionRemediation(this.model)},actionType:function(){return},render:function(){var modelData=_.clone(this.model),templateHTML;modelData.actionType=this.actionType();templateHTML=this.template(modelData);this.$el.empty();this.undelegateEvents();this.$el.append(templateHTML);this.$el.find(".button").addClass("wide");this.delegateEvents();koreanair.Modal.standard("",{inline:false,html:this.$el,onOpen:_.bind(this.onColorboxOpen,this),shouldReadAll:true,onComplete:function(){if(koreanair.isMobile)$("#cboxLoadedContent").addClass("schedule-popup")},
onClosed:_.bind(this.onClose,this)});return this},userAcknowledgement:function(model){var departureDate=_.first(model.bounds)&&model.bounds[0].departure?model.bounds[0].departure.substring(0,10):undefined;var data=_.extend({recordLocator:model.recordLocator,reservationNumber:model.reservationNumber,bounds:model.bounds,departureDate:departureDate},this.options.extraData||{});return ServiceApi.reservationScheduleCheck.post({data:JSON.stringify(data),error:_.identity}).always(this.closeColorBox)},closeColorBox:function(){$.colorbox.close();
$.colorbox.remove()},actionRemediation:function(model){this.userAcknowledgement(model).done(_.bind(function(data){this.deferred.resolve(data)},this)).fail(_.bind(function(jqXHR){koreanair.Modal.error(new koreanair.Error(jqXHR.responseJSON||jqXHR.responseText));this.deferred.reject.apply(this,arguments)},this))},remove:function(){Backbone.View.prototype.remove.apply(this,arguments)}});var mobileAppDataCheck=function(){if(koreanair.mobileAppData)window.location=koreanair.mobileAppUrls.cancel};koreanair.ReservationSearch=
koreanair.ReservationSearch||{};koreanair.ReservationSearch.RequiredActionBehavior=RequiredActionBehavior;koreanair.ReservationSearch.ScheduleChangeBehavior=koreanair.ReservationSearch.RequiredActionBehavior;koreanair.ReservationSearch.WaitListedBehavior=koreanair.ReservationSearch.RequiredActionBehavior;koreanair.ReservationSearch.ScheduleChangeUnavailableBehavior=koreanair.ReservationSearch.RequiredActionBehavior.inherits({actionType:function(){return"RESCHEDULED_UNAVAILABLE"},actionRemediation:function(){mobileAppDataCheck();
this.closeColorBox();this.deferred.reject("Please contact the service center.")}});koreanair.ReservationSearch.CancelBehavior=koreanair.ReservationSearch.RequiredActionBehavior.inherits({actionRemediation:function(){mobileAppDataCheck();this.closeColorBox();this.deferred.reject("No remediation step for Cancelled flights")}});koreanair.ReservationSearch.DelayedBehavior=koreanair.ReservationSearch.RequiredActionBehavior.inherits({actionRemediation:function(model){this.userAcknowledgement(model).always(function(){mobileAppDataCheck();
this.deferred.reject("No remediation step for Delayed flights")}.bind(this))}})})(_,jQuery,Backbone,Handlebars.templates,koreanair.ServiceApi,koreanair);
(function(_,$,Backbone,Templates,ServiceApi,koreanair){var actionData={RESCHEDULED:{view:koreanair.ReservationSearch.ScheduleChangeBehavior},UNWAITLISTED:{view:koreanair.ReservationSearch.WaitListedBehavior},CANCELLED:{view:koreanair.ReservationSearch.CancelBehavior,success:"fail"},RESCHEDULED_UNAVAILABLE:{view:koreanair.ReservationSearch.ScheduleChangeUnavailableBehavior},DELAYED:{view:koreanair.ReservationSearch.DelayedBehavior}};var wrapRequiredAction=function(originalFunction,optionFunction,optionalActionFunc){return function(data){var extendedActionData=
_.extend(actionData,optionalActionFunc?optionalActionFunc.call(this):{});var TentativeView=data.requiredAction&&extendedActionData[data.requiredAction]?extendedActionData[data.requiredAction].view:undefined;if(TentativeView){var options=optionFunction.call(this);var requiredDialog=new TentativeView({model:data,extraData:options.extraData||{}});requiredDialog.render();requiredDialog.deferred.fail(_.bind(options.fail,this));requiredDialog.deferred.done(_.bind(options[TentativeView.success]||options.done,
this));return requiredDialog.deferred}else return originalFunction.apply(this,arguments)}};koreanair.ReservationSearch.wrapRequiredAction=wrapRequiredAction})(_,$,Backbone,Handlebars.templates,koreanair.ServiceApi,koreanair);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["boarding-pass"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){return'    \x3cmeta name\x3d"viewport" content\x3d"width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d1, user-scalable\x3d0, viewport-fit\x3dcover"\x3e    '}
function program3(depth0,data){var buffer="",stack1,helper;buffer+='    \x3clink rel\x3d"stylesheet" href\x3d"';if(helper=helpers.href)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.href;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" type\x3d"text/css"\x3e    ';return buffer}function program5(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+="            ";stack1=(helper=helpers.bindEach||
depth0&&depth0.bindEach,options={hash:{"bindTo":"itineraryInfo"},inverse:self.noop,fn:self.programWithDepth(6,program6,data,depth1),data:data},helper?helper.call(depth0,depth0&&depth0.itineraryInformationList,options):helperMissing.call(depth0,"bindEach",depth0&&depth0.itineraryInformationList,options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program6(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='            \x3cdiv class\x3d"individual-boarding-pass"\x3e                \x3cdiv class\x3d"row header"\x3e                    \x3cdiv class\x3d"thirty logo"\x3e                        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/boarding-pass/KELogo_color.png" alt\x3d"Korean Air. SkyTeam" /\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"seventy"\x3e                        ';
stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(9,program9,data),fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.boardingPassEligible,true,options):helperMissing.call(depth0,"compare",depth0&&depth0.boardingPassEligible,true,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                    \x3c/div\x3e                \x3c/div\x3e                ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options=
{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data},helper?helper.call(depth0,depth0&&depth0.boardingPassEligible,false,options):helperMissing.call(depth0,"compare",depth0&&depth0.boardingPassEligible,false,options));if(stack1||stack1===0)buffer+=stack1;buffer+='                \x3cdiv class\x3d"wrap-pad"\x3e                    \x3cdiv class\x3d"row passenger"\x3e                        \x3cdiv class\x3d"name"\x3e                            \x3ch2\x3e                                ';
stack1=helpers["if"].call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.program(15,program15,data),fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.program(19,program19,data),fn:self.program(17,program17,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3c/h2\x3e                        \x3c/div\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"row boarding-class ';
stack1=helpers.unless.call(depth0,depth0&&depth0.isSkyteamPriority,{hash:{},inverse:self.noop,fn:self.program(21,program21,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e                        \x3cdiv class\x3d"sixty"\x3e                            \x3cdiv class\x3d"barcode"\x3e                                ';stack1=helpers["if"].call(depth0,depth0&&depth0.boardingPassEligible,{hash:{},inverse:self.program(32,program32,data),fn:self.program(23,program23,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3c/div\x3e                        \x3c/div\x3e                        \x3cdiv class\x3d"forty flight-class"\x3e                                    \x3ch3 class\x3d"label"\x3e                                        '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-class-label",options):helperMissing.call(depth0,"i18n","boarding-pass-class-label",
options)))+':                                    \x3c/h3\x3e                                    \x3cspan class\x3d"f-class"\x3e                                        '+escapeExpression((helper=helpers.cabinClassLabel||depth0&&depth0.cabinClassLabel,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.cabinClass,options):helperMissing.call(depth0,"cabinClassLabel",depth0&&depth0.cabinClass,options)))+"                                    \x3c/span\x3e\x3cbr/\x3e                            ";
stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(39,program39,data),data:data},helper?helper.call(depth0,depth0&&depth0.loungeService,"true",options):helperMissing.call(depth0,"compare",depth0&&depth0.loungeService,"true",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,depth2&&depth2.hasInfant,{hash:{},inverse:self.noop,fn:self.program(41,program41,data),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+='                        \x3c/div\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"row itinerary"\x3e                        \x3cul\x3e                            \x3cli class\x3d"forty sixty from-loc airplane"\x3e                                \x3cdiv\x3e                                    \x3cspan class\x3d"label dpinline-block"\x3e                                        '+escapeExpression((helper=helpers.i18n||depth2&&depth2.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"boarding-pass-from-label",options):helperMissing.call(depth0,"i18n","boarding-pass-from-label",options)))+':                                    \x3c/span\x3e                                    \x3cspan class\x3d"airport"\x3e                                        ';if(helper=helpers.departureAirportCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.departureAirportCode;stack1=typeof helper===functionType?helper.call(depth0,
{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'                                    \x3c/span\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"airport-name"\x3e                                    '+escapeExpression((helper=helpers.airportLabel||depth0&&depth0.airportLabel,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.departureAirportCode,options):helperMissing.call(depth0,"airportLabel",depth0&&depth0.departureAirportCode,
options)))+'                                \x3c/div\x3e                                \x3cdiv class\x3d"date"\x3e                                    '+escapeExpression((helper=helpers.dateFormatLocal||depth0&&depth0.dateFormatLocal,options={hash:{"withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.departure,options):helperMissing.call(depth0,"dateFormatLocal",depth0&&depth0.departure,options)))+' \x3cspan class\x3d"hidden" aria-hidden\x3d"true"\x3e|\x3c/span\x3e '+escapeExpression((helper=
helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"HH:mm","withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.departure,options):helperMissing.call(depth0,"dateFormat",depth0&&depth0.departure,options)))+"                                \x3c/div\x3e                                ";stack1=helpers["if"].call(depth0,depth0&&depth0.checkinCounter,{hash:{},inverse:self.noop,fn:self.program(43,program43,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=
'                            \x3c/li\x3e                            \x3cli class\x3d"forty to-loc"\x3e                                \x3cdiv\x3e                                    \x3cspan class\x3d"label  dpinline-block"\x3e                                        '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-to-label",options):helperMissing.call(depth0,"i18n","boarding-pass-to-label",options)))+':                                    \x3c/span\x3e                                    \x3cspan class\x3d"airport"\x3e                                        ';
if(helper=helpers.destinationAirportCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.destinationAirportCode;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'                                    \x3c/span\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"airport-name"\x3e                                    '+escapeExpression((helper=helpers.airportLabel||depth0&&
depth0.airportLabel,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.destinationAirportCode,options):helperMissing.call(depth0,"airportLabel",depth0&&depth0.destinationAirportCode,options)))+'                                \x3c/div\x3e                                \x3cdiv class\x3d"date"\x3e                                    '+escapeExpression((helper=helpers.dateFormatLocal||depth0&&depth0.dateFormatLocal,options={hash:{"withZone":"true"},data:data},helper?helper.call(depth0,
depth0&&depth0.arrival,options):helperMissing.call(depth0,"dateFormatLocal",depth0&&depth0.arrival,options)))+' \x3cspan class\x3d"hidden" aria-hidden\x3d"true"\x3e|\x3c/span\x3e '+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"HH:mm","withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.arrival,options):helperMissing.call(depth0,"dateFormat",depth0&&depth0.arrival,options)))+'                                \x3c/div\x3e                            \x3c/li\x3e                        \x3c/ul\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"row boarding-info"\x3e                        \x3cul\x3e                            \x3cli class\x3d"twenty first"\x3e                                \x3cdiv class\x3d"inner"\x3e                                    \x3ch3 class\x3d"label full"\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-flight-label",options):helperMissing.call(depth0,"i18n","boarding-pass-flight-label",options)))+'                                    \x3c/h3\x3e                                    \x3cdiv class\x3d"data-value"\x3e                                        ';if(helper=helpers.flightNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightNumber;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'                                    \x3c/div\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"twenty seat"\x3e                                \x3cdiv class\x3d"inner"\x3e                                    \x3ch3 class\x3d"label full"\x3e                                        '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-seat-label",options):helperMissing.call(depth0,"i18n","boarding-pass-seat-label",options)))+'                                    \x3c/h3\x3e                                    \x3cdiv class\x3d"data-value" style\x3d"'+escapeExpression((helper=helpers.ckinInfSeatStyle||depth0&&depth0.ckinInfSeatStyle,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.seats,options):helperMissing.call(depth0,
"ckinInfSeatStyle",depth0&&depth0.seats,options)))+'"\x3e                                        '+escapeExpression((helper=helpers.ckinInfSeat||depth0&&depth0.ckinInfSeat,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.seats,options):helperMissing.call(depth0,"ckinInfSeat",depth0&&depth0.seats,options)))+'                                    \x3c/div\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"twenty boarding-time"\x3e                                \x3cdiv class\x3d"time inner"\x3e                                    \x3ch3 class\x3d"label full"\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-boarding-time",options):helperMissing.call(depth0,"i18n","boarding-pass-boarding-time",options)))+'                                    \x3c/h3\x3e                                    \x3cdiv class\x3d"data-value"\x3e                                        '+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"HH:mm","withZone":"true"},
data:data},helper?helper.call(depth0,depth0&&depth0.boardingTime,options):helperMissing.call(depth0,"dateFormat",depth0&&depth0.boardingTime,options)))+'                                    \x3c/div\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"twenty terminal gate"\x3e                                \x3cdiv class\x3d"inner"\x3e                                    \x3ch3 class\x3d"label full"\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-terminal-label",options):helperMissing.call(depth0,"i18n","boarding-pass-terminal-label",options)))+'                                    \x3c/h3\x3e                                    \x3cdiv class\x3d"data-value ffserif"\x3e                                        '+escapeExpression((helper=helpers.terminalDashes||depth0&&depth0.terminalDashes,options={hash:{},data:data},
helper?helper.call(depth0,depth0&&depth0.departureTerminal,options):helperMissing.call(depth0,"terminalDashes",depth0&&depth0.departureTerminal,options)))+'                                    \x3c/div\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"twenty gate"\x3e                                \x3cdiv class\x3d"inner"\x3e                                    \x3ch3 class\x3d"label full"\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-gate-label",options):helperMissing.call(depth0,"i18n","boarding-pass-gate-label",options)))+'                                    \x3c/h3\x3e                                    \x3cdiv class\x3d"data-value"\x3e                                        '+escapeExpression((helper=helpers.boardingPassDashes||depth0&&depth0.boardingPassDashes,options={hash:{},data:data},helper?
helper.call(depth0,depth0&&depth0.departureGate,options):helperMissing.call(depth0,"boardingPassDashes",depth0&&depth0.departureGate,options)))+'                                        \x3cdiv class\x3d"check-monitors"\x3e                                            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-check-monitors",options):helperMissing.call(depth0,"i18n","boarding-pass-check-monitors",options)))+'                                        \x3c/div\x3e                                    \x3c/div\x3e                                \x3c/div\x3e                            \x3c/li\x3e                        \x3c/ul\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"row misc-info"\x3e                        \x3cdiv class\x3d"thirty"\x3e                            \x3cdiv class\x3d"space-below"\x3e                                \x3cdiv class\x3d"header"\x3e                                    \x3ch4\x3e                                       '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-checked-baggage",options):helperMissing.call(depth0,"i18n","boarding-pass-checked-baggage",options)))+'                                    \x3c/h4\x3e                                    \x3cspan class\x3d"icon vbottom"\x3e                                        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/boarding-pass/CheckedBaggage_Lg.png" alt\x3d"" /\x3e                                    \x3c/span\x3e                                \x3c/div\x3e                                \x3cdiv\x3e                                    ';
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itineraryInfo,stack1==null||stack1===false?stack1:stack1.isDomestic),{hash:{},inverse:self.program(48,program48,data),fn:self.program(45,program45,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                \x3c/div\x3e                            \x3c/div\x3e                            \x3cdiv class\x3d"space-below"\x3e                                \x3cdiv class\x3d"header"\x3e                                    \x3ch4\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-boarding-time-before",options):helperMissing.call(depth0,"i18n","boarding-pass-boarding-time-before",options)))+'                                    \x3c/h4\x3e                                    \x3cspan class\x3d"icon vbottom"\x3e                                        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/boarding-pass/BoardingTime_Lg.png" alt\x3d"" /\x3e                                    \x3c/span\x3e                                \x3c/div\x3e                                \x3cdiv\x3e                                    ';
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itineraryInfo,stack1==null||stack1===false?stack1:stack1.isDomestic),{hash:{},inverse:self.program(52,program52,data),fn:self.program(50,program50,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                \x3c/div\x3e                            \x3c/div\x3e                            \x3cdiv class\x3d"space-below"\x3e                                \x3cdiv class\x3d"header"\x3e                                    \x3ch4\x3e                                       '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-boarding-gate",options):helperMissing.call(depth0,"i18n","boarding-pass-boarding-gate",options)))+'                                    \x3c/h4\x3e                                    \x3cspan class\x3d"icon vbottom"\x3e                                        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/boarding-pass/BoardingGate_Lg.png" alt\x3d"" /\x3e                                    \x3c/span\x3e                                \x3c/div\x3e                                \x3cdiv\x3e                                    ';
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itineraryInfo,stack1==null||stack1===false?stack1:stack1.isDomestic),{hash:{},inverse:self.program(56,program56,data),fn:self.program(54,program54,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                \x3c/div\x3e                            \x3c/div\x3e                        \x3c/div\x3e                        \x3cdiv class\x3d"thirty margin-5"\x3e                            \x3cdiv\x3e                                \x3cdiv class\x3d"header"\x3e                                    \x3ch4\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-general-information-label",options):helperMissing.call(depth0,"i18n","boarding-pass-general-information-label",options)))+'                                    \x3c/h4\x3e                                    \x3cspan class\x3d"icon vbottom"\x3e                                            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/boarding-pass/GenInfo_Lg.png" alt\x3d""/\x3e                                     \x3c/span\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"new-list"\x3e                                    \x3cul\x3e                                        ';
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itineraryInfo,stack1==null||stack1===false?stack1:stack1.isDomestic),{hash:{},inverse:self.program(63,program63,data),fn:self.program(58,program58,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                    \x3c/ul\x3e                                \x3c/div\x3e                            \x3c/div\x3e                        \x3c/div\x3e                        \x3cdiv class\x3d"thirty"\x3e                            \x3cdiv class\x3d"dang-good"\x3e                                \x3cdiv class\x3d"header"\x3e                                    \x3ch4\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-dangerous-goods-label",options):helperMissing.call(depth0,"i18n","boarding-pass-dangerous-goods-label",options)))+'                                    \x3c/h4\x3e                                    \x3cspan class\x3d"icon vbottom thirty"\x3e                                        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/boarding-pass/DangerousGoods_Lg.png" alt\x3d""/\x3e                                    \x3c/span\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"space-below new-list"\x3e                                    \x3cul\x3e                                    ';
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itineraryInfo,stack1==null||stack1===false?stack1:stack1.isDomestic),{hash:{},inverse:self.program(70,program70,data),fn:self.program(68,program68,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                    \x3c/ul\x3e                                \x3c/div\x3e                            \x3c/div\x3e                        \x3c/div\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"row miles-details seventy"\x3e                        \x3cdiv class\x3d"header"\x3e                            \x3ch4\x3e                                '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-miles-details-label",options):helperMissing.call(depth0,"i18n","boarding-pass-miles-details-label",options)))+'                            \x3c/h4\x3e                            \x3cspan class\x3d"icon vbottom"\x3e                                \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/boarding-pass/MilesDetails_Lg.png" alt\x3d""/\x3e                            \x3c/span\x3e                        \x3c/div\x3e                        \x3cul\x3e                            \x3cli class\x3d"fifty"\x3e                                \x3cdiv class\x3d"info-detail"\x3e                                    \x3cspan class\x3d"label"\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-ffp-no-label",options):helperMissing.call(depth0,"i18n","boarding-pass-ffp-no-label",options)))+":                                    \x3c/span\x3e                                    \x3cspan\x3e                                        ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(72,program72,data),data:data},
helper?helper.call(depth0,depth0&&depth0.membershipCode,"!\x3d","KE",options):helperMissing.call(depth0,"compare",depth0&&depth0.membershipCode,"!\x3d","KE",options));if(stack1||stack1===0)buffer+=stack1;if(helper=helpers.membershipNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.membershipNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'                                    \x3c/span\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"fifty"\x3e                                \x3cdiv class\x3d"info-detail"\x3e                                    \x3cspan class\x3d"label"\x3e                                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-booking-reference-label",options):helperMissing.call(depth0,"i18n","boarding-pass-booking-reference-label",options)))+":                                    \x3c/span\x3e                                    \x3cspan\x3e                                        ";if(helper=helpers.reservationNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.reservationNumber;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'                                    \x3c/span\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"fifty"\x3e                                \x3cdiv class\x3d"info-detail"\x3e                                    \x3cspan class\x3d"label"\x3e                                        '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-tier-level-label",options):helperMissing.call(depth0,"i18n","boarding-pass-tier-level-label",options)))+":                                    \x3c/span\x3e                                    \x3cspan\x3e                                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.skyPriority,{hash:{},inverse:self.program(77,program77,data),fn:self.program(74,program74,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+='                                    \x3c/span\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"fifty"\x3e                                \x3cdiv class\x3d"info-detail"\x3e                                    \x3cspan class\x3d"label"\x3e                                        '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"boarding-pass-ticket-number-label",options):helperMissing.call(depth0,"i18n","boarding-pass-ticket-number-label",options)))+"                                    \x3c/span\x3e                                    \x3cspan\x3e                                        ";if(helper=helpers.ticketNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.ticketNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'                                    \x3c/span\x3e                                \x3c/div\x3e                            \x3c/li\x3e                        \x3c/ul\x3e                        \x3cdiv class\x3d"fifty"\x3e                            \x3cdiv class\x3d"info-detail"\x3e                                    \x3cspan class\x3d"no-label-02"\x3e                                                                      ';
if(helper=helpers.footerString)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.footerString;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}if(stack1||stack1===0)buffer+=stack1;buffer+="                                    \x3c/span\x3e                            \x3c/div\x3e                        \x3c/div\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e            ";return buffer}function program7(depth0,
data){var buffer="",helper,options;buffer+="                        \x3ch1\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-title-label",options):helperMissing.call(depth0,"i18n","boarding-pass-title-label",options)))+"\x3c/h1\x3e                        ";return buffer}function program9(depth0,data){var buffer="",helper,options;buffer+="                        \x3ch1\x3e"+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-confirmation-label",options):helperMissing.call(depth0,"i18n","boarding-pass-confirmation-label",options)))+"\x3c/h1\x3e                        ";return buffer}function program11(depth0,data){var buffer="",helper,options;buffer+='                \x3cdiv class\x3d"printbpc"\x3e                    \x3cdiv\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"boarding-pass-confirmation-print-label",options):helperMissing.call(depth0,"i18n","boarding-pass-confirmation-print-label",options)))+"\x3c/div\x3e                \x3c/div\x3e                ";return buffer}function program13(depth0,data){var buffer="",stack1,helper,options;buffer+="                                "+escapeExpression((helper=helpers.firstDefined||depth0&&depth0.firstDefined,options={hash:{},data:data},helper?helper.call(depth0,(stack1=data==null||data===false?data:data.traveller,
stack1==null||stack1===false?stack1:stack1.koreanLastName),(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.lastName),options):helperMissing.call(depth0,"firstDefined",(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.koreanLastName),(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.lastName),options)))+' \x3cspan class\x3d"hidden" aria-hidden\x3d"true"\x3e/\x3c/span\x3e                                ';
return buffer}function program15(depth0,data){var buffer="",stack1,helper,options;buffer+="                                "+escapeExpression((helper=helpers.firstDefined||depth0&&depth0.firstDefined,options={hash:{},data:data},helper?helper.call(depth0,(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.lastName),(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.koreanLastName),options):helperMissing.call(depth0,
"firstDefined",(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.lastName),(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.koreanLastName),options)))+' \x3cspan class\x3d"hidden" aria-hidden\x3d"true"\x3e/\x3c/span\x3e                                ';return buffer}function program17(depth0,data){var buffer="",stack1,helper,options;buffer+="                                "+escapeExpression((helper=helpers.firstDefined||
depth0&&depth0.firstDefined,options={hash:{},data:data},helper?helper.call(depth0,(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.koreanFirstName),(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.firstName),options):helperMissing.call(depth0,"firstDefined",(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.koreanFirstName),(stack1=data==null||data===false?data:
data.traveller,stack1==null||stack1===false?stack1:stack1.firstName),options)))+"                                ";return buffer}function program19(depth0,data){var buffer="",stack1,helper,options;buffer+="                                "+escapeExpression((helper=helpers.firstDefined||depth0&&depth0.firstDefined,options={hash:{},data:data},helper?helper.call(depth0,(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.firstName),(stack1=data==null||data===
false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.koreanFirstName),options):helperMissing.call(depth0,"firstDefined",(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.firstName),(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.koreanFirstName),options)))+"                                ";return buffer}function program21(depth0,data){return"no-skypriority"}function program23(depth0,data){var buffer=
"",stack1,helper,options;buffer+='                                                                \x3cdiv class\x3d"barcode"\x3e                                    '+escapeExpression((helper=helpers.barCodeUrl||depth0&&depth0.barCodeUrl,options={hash:{"width":"138","height":"56"},data:data},helper?helper.call(depth0,depth0&&depth0.encodedData,"PDF417",options):helperMissing.call(depth0,"barCodeUrl",depth0&&depth0.encodedData,"PDF417",options)))+"                                    ";stack1=helpers["if"].call(depth0,
depth0&&depth0.isSkyteamPriority,{hash:{},inverse:self.noop,fn:self.program(24,program24,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                \x3c/div\x3e                                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.noop,fn:self.program(30,program30,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program24(depth0,data){var buffer=
"",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.isPriority,{hash:{},inverse:self.program(27,program27,data),fn:self.program(25,program25,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program25(depth0,data){return'                                    \x3cdiv class\x3d"skypriority thirty"\x3e                                        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/checkin/BoardingPass_Icons_SkyPriority.png" alt\x3d"Sky Priority \x26trade;" /\x3e                                    \x3c/div\x3e                                        '}
function program27(depth0,data){var buffer="",stack1;buffer+="                                            ";stack1=helpers["if"].call(depth0,depth0&&depth0.isElite,{hash:{},inverse:self.noop,fn:self.program(28,program28,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program28(depth0,data){return'                                    \x3cdiv class\x3d"skypriority elite thirty"\x3e                                        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/checkin/BoardingPass_Icons_SkyElite.png" alt\x3d"Skyteam Elite" /\x3e                                    \x3c/div\x3e                                            '}
function program30(depth0,data){var buffer="",helper,options;buffer+='                                \x3cdiv class\x3d"text"\x3e                                    '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-scan-barcode-label",options):helperMissing.call(depth0,"i18n","boarding-pass-scan-barcode-label",options)))+"                                \x3c/div\x3e                                ";return buffer}function program32(depth0,
data){var buffer="",stack1,helper,options;buffer+="                                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.isSkyteamPriority,{hash:{},inverse:self.noop,fn:self.program(33,program33,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                \x3cdiv class\x3d"no-barcode"\x3e                                    '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.exchangeInformationText,
options):helperMissing.call(depth0,"i18n",depth0&&depth0.exchangeInformationText,options)))+'                                \x3c/div\x3e                                \x3cdiv class\x3d"infant-text"\x3e'+escapeExpression((helper=helpers.ifInfantSeatTicket||depth0&&depth0.ifInfantSeatTicket,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.seats,options):helperMissing.call(depth0,"ifInfantSeatTicket",depth0&&depth0.seats,options)))+"\x3c/div\x3e                                ";
return buffer}function program33(depth0,data){var buffer="",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.isPriority,{hash:{},inverse:self.program(36,program36,data),fn:self.program(34,program34,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program34(depth0,data){return'                                \x3cdiv class\x3d"skypriority thirty"\x3e                                    \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/checkin/BoardingPass_Icons_SkyPriority.png" alt\x3d"Sky Priority \x26trade;" /\x3e                                \x3c/div\x3e                                        '}
function program36(depth0,data){var buffer="",stack1;buffer+="                                            ";stack1=helpers["if"].call(depth0,depth0&&depth0.isElite,{hash:{},inverse:self.noop,fn:self.program(37,program37,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program37(depth0,data){return'                                \x3cdiv class\x3d"skypriority elite thirty"\x3e                                    \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/checkin/BoardingPass_Icons_SkyElite.png" alt\x3d"Skyteam Elite" /\x3e                                \x3c/div\x3e                                            '}
function program39(depth0,data){var buffer="",helper,options;buffer+='                                        \x3cspan class\x3d"label"\x3e                                            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/boarding-pass/Lounge_Lg.png" alt\x3d""  /\x3e:                                        \x3c/span\x3e                                        \x3cspan class\x3d"lounge"\x3e                                            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-lounge-service-label",options):helperMissing.call(depth0,"i18n","boarding-pass-lounge-service-label",options)))+"                                        \x3c/span\x3e                            ";return buffer}function program41(depth0,data){var buffer="",helper,options;buffer+="                            \x3cdiv\x3e                                "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"boarding-pass-present-id-label",options):helperMissing.call(depth0,"i18n","boarding-pass-present-id-label",options)))+"                            \x3c/div\x3e                            ";return buffer}function program43(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3cp class\x3d"checkin-counter"\x3e                                    '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?
helper.call(depth0,"checkin-web-mobile-counter",options):helperMissing.call(depth0,"i18n","checkin-web-mobile-counter",options)))+" : ";if(helper=helpers.checkinCounter)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.checkinCounter;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"                                \x3c/p\x3e                                ";return buffer}function program45(depth0,data){var buffer=
"",stack1;buffer+="                                    ";stack1=helpers.unless.call(depth0,depth0&&depth0.isTransitExclusive,{hash:{},inverse:self.program(48,program48,data),fn:self.program(46,program46,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program46(depth0,data){var buffer="",helper,options;buffer+="                                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"boarding-pass-checked-baggage-copy-label-domestic",options):helperMissing.call(depth0,"i18n","boarding-pass-checked-baggage-copy-label-domestic",options)))+"                                    ";return buffer}function program48(depth0,data){var buffer="",helper,options;buffer+="                                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-checked-baggage-copy-label-intl",
options):helperMissing.call(depth0,"i18n","boarding-pass-checked-baggage-copy-label-intl",options)))+"                                    ";return buffer}function program50(depth0,data){var buffer="",helper,options;buffer+="                                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-boarding-time-copy-label-domestic",options):helperMissing.call(depth0,"i18n","boarding-pass-boarding-time-copy-label-domestic",
options)))+"                                    ";return buffer}function program52(depth0,data){var buffer="",helper,options;buffer+="                                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-boarding-time-copy-label-intl",options):helperMissing.call(depth0,"i18n","boarding-pass-boarding-time-copy-label-intl",options)))+"                                    ";return buffer}function program54(depth0,
data){var buffer="",helper,options;buffer+="                                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-boarding-gate-copy-label-domestic",options):helperMissing.call(depth0,"i18n","boarding-pass-boarding-gate-copy-label-domestic",options)))+"                                    ";return buffer}function program56(depth0,data){var buffer="",helper,options;buffer+="                                    "+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-boarding-gate-copy-label-intl",options):helperMissing.call(depth0,"i18n","boarding-pass-boarding-gate-copy-label-intl",options)))+"                                    ";return buffer}function program58(depth0,data){var buffer="",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.boardingPassEligible,{hash:{},inverse:self.program(61,
program61,data),fn:self.program(59,program59,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program59(depth0,data){var buffer="",helper,options;buffer+="                                        "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-general-information-copy-label-domestic",options):helperMissing.call(depth0,"i18n","boarding-pass-general-information-copy-label-domestic",
options)))+"                                        ";return buffer}function program61(depth0,data){var buffer="",helper,options;buffer+="                                        "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirmation-general-information-copy-label-domestic",options):helperMissing.call(depth0,"i18n","confirmation-general-information-copy-label-domestic",options)))+"                                        ";return buffer}
function program63(depth0,data){var buffer="",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.boardingPassEligible,{hash:{},inverse:self.program(66,program66,data),fn:self.program(64,program64,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program64(depth0,data){var buffer="",helper,options;buffer+="                                        "+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-general-information-copy-label-intl",options):helperMissing.call(depth0,"i18n","boarding-pass-general-information-copy-label-intl",options)))+"                                        ";return buffer}function program66(depth0,data){var buffer="",helper,options;buffer+="                                        "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"confirmation-general-information-copy-label-intl",options):helperMissing.call(depth0,"i18n","confirmation-general-information-copy-label-intl",options)))+"                                        ";return buffer}function program68(depth0,data){var buffer="",helper,options;buffer+="                                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-dangerous-goods-copy-label-domestic",
options):helperMissing.call(depth0,"i18n","boarding-pass-dangerous-goods-copy-label-domestic",options)))+"                                    ";return buffer}function program70(depth0,data){var buffer="",helper,options;buffer+="                                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"boarding-pass-dangerous-goods-copy-label-intl",options):helperMissing.call(depth0,"i18n","boarding-pass-dangerous-goods-copy-label-intl",
options)))+"                                    ";return buffer}function program72(depth0,data){var stack1,helper;if(helper=helpers.membershipCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.membershipCode;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}return escapeExpression(stack1)}function program74(depth0,data){var buffer="",stack1,helper,options;buffer+="                                            "+escapeExpression((helper=helpers.i18nConcat||
depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.skyPriority,"label",options):helperMissing.call(depth0,"i18nConcat",depth0&&depth0.skyPriority,"label",options)));stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(75,program75,data),data:data},helper?helper.call(depth0,depth0&&depth0.membershipCode,"KE",options):helperMissing.call(depth0,"compare",depth0&&depth0.membershipCode,"KE",options));if(stack1||
stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program75(depth0,data){var buffer="",stack1,helper;buffer+=", ";if(helper=helpers.membershipTier)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.membershipTier;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1);return buffer}function program77(depth0,data){var buffer="",helper,options;buffer+="                                            "+
escapeExpression((helper=helpers.boardingPassDashes||depth0&&depth0.boardingPassDashes,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.membershipTier,options):helperMissing.call(depth0,"boardingPassDashes",depth0&&depth0.membershipTier,options)))+"                                        ";return buffer}buffer+='\x3c!-- template:boarding-pass --\x3e\x3c!DOCTYPE html\x3e\x3chtml lang\x3d"';if(helper=helpers.language)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&
depth0.language;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e\x3chead\x3e    ';stack1=helpers["if"].call(depth0,depth0&&depth0.isMobile,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cmeta http-equiv\x3d"X-UA-Compatible" content\x3d"IE\x3d8"\x3e    ';stack1=helpers.each.call(depth0,depth0&&depth0.stylesheets,{hash:{},inverse:self.noop,fn:self.program(3,
program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3ctitle\x3e";if(helper=helpers.htmlTitle)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.htmlTitle;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/title\x3e\x3c/head\x3e\x3cbody\x3e    \x3cdiv class\x3d"check-in print ';if(helper=helpers.mobileClass)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.mobileClass;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e        \x3cdiv id\x3d"boarding-pass-wrapper"\x3e            \x3cbutton class\x3d"printMe" onclick\x3d"window.print()"\x3ePrint\x3c/button\x3e            ';stack1=(helper=helpers.bindEach||depth0&&depth0.bindEach,options={hash:{"bindTo":"traveller"},inverse:self.noop,fn:self.programWithDepth(5,program5,data,depth0),data:data},helper?helper.call(depth0,depth0&&depth0.travellerInformationList,
options):helperMissing.call(depth0,"bindEach",depth0&&depth0.travellerInformationList,options));if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/div\x3e    \x3c/div\x3e\x3c/body\x3e\x3c/html\x3e\x3c!-- /template:boarding-pass --\x3e";return buffer});templates["checkin-boarding-panel"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,self=this;function program1(depth0,
data){return'        \x3cdiv id\x3d"print-boarding-pass"\x3e Print boarding pass\x3c/div\x3e    '}buffer+="\x3cdiv\x3e    ";stack1=helpers["if"].call(depth0,depth0&&depth0.canPrintBoardingPass,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cdiv id\x3d"empty"\x3e\x3c/div\x3e\x3c/div\x3e';return buffer});templates["checkin-cancel-success"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];
helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"checkin-cancel-success content-wrap"\x3e    \x3cdiv class\x3d"cancel-success large"\x3e        \x3ch1\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"web-checkin-cancelled",options):helperMissing.call(depth0,"i18n","web-checkin-cancelled",
options)))+"\x3c/h1\x3e        \x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"your-checkin-cancelled",options):helperMissing.call(depth0,"i18n","your-checkin-cancelled",options)))+"\x3c/p\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer});templates["checkin-complete"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||
{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this,functionType="function",blockHelperMissing=helpers.blockHelperMissing;function program1(depth0,data){var helper,options;return escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-step-checkin-fail",options):helperMissing.call(depth0,"i18n","checkin-step-checkin-fail",options)))}function program3(depth0,data){var helper,
options;return escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-complete-title",options):helperMissing.call(depth0,"i18n","checkin-complete-title",options)))}function program5(depth0,data){var buffer="",helper,options;buffer+='        \x3cp class\x3d"check-in-failure"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"check-in-failure",options):helperMissing.call(depth0,
"i18n","check-in-failure",options)))+"\x3c/p\x3e    ";return buffer}function program7(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3cdiv class\x3d"check-in-complete"\x3e            ';options={hash:{},inverse:self.program(16,program16,data),fn:self.program(8,program8,data),data:data};if(helper=helpers.isNotMobileZone)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.isNotMobileZone;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.isNotMobileZone)stack1=
blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.program(16,program16,data),fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.isFromTAO||depth0&&depth0.isFromTAO,options={hash:{},inverse:self.noop,fn:self.program(24,program24,data),data:data},helper?helper.call(depth0,depth0&&depth0.bounds,options):helperMissing.call(depth0,"isFromTAO",depth0&&depth0.bounds,options));if(stack1||stack1===0)buffer+=stack1;buffer+=
"    \x3c/div\x3e        ";options={hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data};if(helper=helpers.loungeInfoEligible)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.loungeInfoEligible;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.loungeInfoEligible)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";return buffer}
function program8(depth0,data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.program(11,program11,data),fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program9(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"check-in-success-dom",depth0&&depth0.successCount,depth0&&depth0.totalCount,options):helperMissing.call(depth0,"i18n","check-in-success-dom",depth0&&depth0.successCount,depth0&&depth0.totalCount,options)))+"                ";return buffer}function program11(depth0,data){var buffer="",stack1,helper,options;buffer+="                    ";stack1=(helper=helpers.isFromEU||depth0&&depth0.isFromEU,options={hash:{},inverse:self.program(14,program14,data),fn:self.program(12,program12,data),data:data},helper?
helper.call(depth0,depth0&&depth0.bounds,options):helperMissing.call(depth0,"isFromEU",depth0&&depth0.bounds,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program12(depth0,data){var buffer="",helper,options;buffer+="                        "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"check-in-success-int-eu",depth0&&depth0.successCount,depth0&&depth0.totalCount,options):helperMissing.call(depth0,
"i18n","check-in-success-int-eu",depth0&&depth0.successCount,depth0&&depth0.totalCount,options)))+"                    ";return buffer}function program14(depth0,data){var buffer="",helper,options;buffer+="                        "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"check-in-success-int",depth0&&depth0.successCount,depth0&&depth0.totalCount,options):helperMissing.call(depth0,"i18n","check-in-success-int",depth0&&depth0.successCount,
depth0&&depth0.totalCount,options)))+"                    ";return buffer}function program16(depth0,data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.program(19,program19,data),fn:self.program(17,program17,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program17(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wmci-zone-checkin-complete-text-dom",depth0&&depth0.successCount,depth0&&depth0.totalCount,options):helperMissing.call(depth0,"i18n","wmci-zone-checkin-complete-text-dom",depth0&&depth0.successCount,depth0&&depth0.totalCount,options)))+"                ";return buffer}function program19(depth0,data){var buffer="",stack1,helper,options;buffer+="                    ";stack1=(helper=helpers.isFromEU||depth0&&depth0.isFromEU,options=
{hash:{},inverse:self.program(22,program22,data),fn:self.program(20,program20,data),data:data},helper?helper.call(depth0,depth0&&depth0.bounds,options):helperMissing.call(depth0,"isFromEU",depth0&&depth0.bounds,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program20(depth0,data){var buffer="",helper,options;buffer+="                        "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"wmci-zone-checkin-complete-text-int-eu",depth0&&depth0.successCount,depth0&&depth0.totalCount,options):helperMissing.call(depth0,"i18n","wmci-zone-checkin-complete-text-int-eu",depth0&&depth0.successCount,depth0&&depth0.totalCount,options)))+"                    ";return buffer}function program22(depth0,data){var buffer="",helper,options;buffer+="                        "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wmci-zone-checkin-complete-text-int",
depth0&&depth0.successCount,depth0&&depth0.totalCount,options):helperMissing.call(depth0,"i18n","wmci-zone-checkin-complete-text-int",depth0&&depth0.successCount,depth0&&depth0.totalCount,options)))+"                    ";return buffer}function program24(depth0,data){var buffer="",helper,options;buffer+="            \x3cbr\x3e\x3cbr\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-tao-airport-time-limit",options):helperMissing.call(depth0,
"i18n","checkin-tao-airport-time-limit",options)))+"            ";return buffer}function program26(depth0,data){var buffer="",helper,options;buffer+='\x3cp class\x3d"lounge-info"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-lounge-info-01",options):helperMissing.call(depth0,"i18n","checkin-lounge-info-01",options)))+"\x3c/p\x3e";return buffer}function program28(depth0,data){var buffer="";buffer+="           ";return buffer}
buffer+='\x3cdiv class\x3d"checkin-header complete"\x3e     \x3ch1 class\x3d"checkin-tit"\x3e';stack1=helpers["if"].call(depth0,depth0&&depth0.acceptanceFail,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/h1\x3e    ";stack1=helpers["if"].call(depth0,depth0&&depth0.checkinFailure,{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;
buffer+="        ";stack1=helpers.unless.call(depth0,depth0&&depth0.checkinFailure,{hash:{},inverse:self.noop,fn:self.program(28,program28,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/div\x3e\x3cdiv class\x3d"checkin-summary complete"\x3e    '+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?helper.call(depth0,"checkin-mini-reservation",options):helperMissing.call(depth0,"include","checkin-mini-reservation",options)))+'\x3c/div\x3e\x3cdiv class\x3d"errorMessageContainer checkin-error"\x3e\x3c/div\x3e';
return buffer});templates["checkin-confirm-cancel"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='        \x3cdiv class\x3d"confirm-cancel-text-01"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-all-cancel-text",options):helperMissing.call(depth0,"i18n","confirm-all-cancel-text",options)))+"\x3c/div\x3e        ";return buffer}buffer+='\x3c!-- template:checkin-confirm-cancel --\x3e\x3cdiv id\x3d"checkin-cancel-confirm" class\x3d"checkin-cancel-confirm  content-wrap"\x3e    \x3ch1\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"confirm-cancel-title",
options):helperMissing.call(depth0,"i18n","confirm-cancel-title",options)))+'\x3c/h1\x3e    \x3cform id\x3d"agreement" class\x3d"keForm checkin-agree"\x3e        \x3cdiv class\x3d"form-row"\x3e            \x3cdiv class\x3d"agree-area"\x3e                \x3cdiv id\x3d"divAgreed1" class\x3d"agree-txt"\x3e                    \x3cinput type\x3d"checkbox" id\x3d"agreed1" name\x3d"agreed1" class\x3d"agreed required"/\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"agreed1"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-cancel-notice1",options):helperMissing.call(depth0,"i18n","checkin-cancel-notice1",options)))+'\x3c/label\x3e                \x3c/div\x3e                \x3cdiv id\x3d"divAgreed3" class\x3d"agree-txt"\x3e                    \x3cinput type\x3d"checkbox" id\x3d"agreed3" name\x3d"agreed2" class\x3d"agreed required"/\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"agreed3"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-cancel-notice2",options):helperMissing.call(depth0,"i18n","checkin-cancel-notice2",options)))+'\x3c/label\x3e                \x3c/div\x3e                \x3cdiv id\x3d"divAgreed2" class\x3d"agree-txt"\x3e                    \x3cinput type\x3d"checkbox" id\x3d"agreed2" name\x3d"agreed3" class\x3d"agreed required"/\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"agreed2"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-cancel-notice3",options):helperMissing.call(depth0,"i18n","checkin-cancel-notice3",options)))+'\x3c/label\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/form\x3e    \x3cdiv class\x3d"errorMessageContainer checkin-error"\x3e\x3c/div\x3e    \x3cdiv class\x3d"cancel_info"\x3e    \x3c/div\x3e    \x3cdiv class\x3d"cancel-confirm-txt"\x3e        ';
stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data},helper?helper.call(depth0,depth0&&depth0.msg,"\x3d\x3d\x3d","multi",options):helperMissing.call(depth0,"compare",depth0&&depth0.msg,"\x3d\x3d\x3d","multi",options));if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3cdiv class\x3d"confirm-cancel-text-02"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"confirm-cancel-text",options):helperMissing.call(depth0,"i18n","confirm-cancel-text",options)))+'\x3c/div\x3e        \x3cdiv class\x3d"btn-area"\x3e            \x3ca class\x3d"button-main-gray medium cancel-reject fixed-150" href\x3d"#" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cancel-reject",options):helperMissing.call(depth0,"i18n","cancel-reject",options)))+' \x3c/a\x3e            \x3ca class\x3d"button-main-blue medium cancel-confirm fixed-150" href\x3d"#" role\x3d"button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cancel-accept",options):helperMissing.call(depth0,"i18n","cancel-accept",options)))+"\x3c/a\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!-- //template:checkin-confirm-cancel --\x3e";return buffer});templates["checkin-confirm-passenger-info"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);
data=data||{};var buffer="",stack1,helper,options,self=this,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",blockHelperMissing=helpers.blockHelperMissing;function program1(depth0,data){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),{hash:{},inverse:self.program(4,program4,data),fn:self.program(2,
program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program2(depth0,data){return'                    \x3ccol style\x3d"width:25%;"\x3e \x3ccol style\x3d"width:20%;"\x3e \x3ccol style\x3d"width:30%"\x3e \x3ccol style\x3d"width:25%;"\x3e                    '}function program4(depth0,data){return'                    \x3ccol style\x3d"width:35%;"\x3e \x3ccol style\x3d"width:25%;"\x3e \x3ccol style\x3d"width:40%;"\x3e                    '}function program6(depth0,
data){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.postCheckin),{hash:{},inverse:self.program(9,program9,data),fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program7(depth0,data){return'                    \x3ccol style\x3d"width:20%;"\x3e \x3ccol style\x3d"width:20%;"\x3e \x3ccol style\x3d"width:24%;"\x3e\x3ccol style\x3d"width:16%;"\x3e \x3ccol style\x3d"width:20%;"\x3e                    '}
function program9(depth0,data){return'                    \x3ccol style\x3d"width:25%;"\x3e \x3ccol style\x3d"width:20%;"\x3e \x3ccol style\x3d"width:30%;"\x3e \x3ccol style\x3d"width:25%;"\x3e                    '}function program11(depth0,data){var buffer="",helper,options;buffer+='                        \x3cth scope\x3d"col"\x3e                        '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"eligible-for-checkin",options):
helperMissing.call(depth0,"i18n","eligible-for-checkin",options)))+"                        \x3c/th\x3e                    ";return buffer}function program13(depth0,data){var buffer="",helper,options;buffer+='                        \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"travel-info-boarding-pass-title",options):helperMissing.call(depth0,"i18n","travel-info-boarding-pass-title",options)))+"\x3c/th\x3e                    ";
return buffer}function program15(depth0,data){var buffer="",stack1,helper,options;buffer+="                ";stack1=(helper=helpers.bindEach||depth0&&depth0.bindEach,options={hash:{"bindTo":"traveller"},inverse:self.noop,fn:self.program(16,program16,data),data:data},helper?helper.call(depth0,depth0&&depth0.travellers,options):helperMissing.call(depth0,"bindEach",depth0&&depth0.travellers,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program16(depth0,
data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(17,program17,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program17(depth0,data){var buffer="",stack1;buffer+="                ";stack1=helpers.unless.call(depth0,depth0&&depth0.accompanyAdultNumber,{hash:{},inverse:self.noop,fn:self.program(18,program18,data),data:data});if(stack1||stack1===
0)buffer+=stack1;buffer+="                ";return buffer}function program18(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3ctr\x3e                        \x3cth scope\x3d"row"\x3e                            \x3cp class\x3d"point-b p-type"\x3e'+escapeExpression((helper=helpers.passengerTypeLabel||depth0&&depth0.passengerTypeLabel,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.type,options):helperMissing.call(depth0,"passengerTypeLabel",depth0&&
depth0.type,options)))+'\x3c/p\x3e                            \x3cspan class\x3d"passenger-name medium"\x3e'+escapeExpression((stack1=depth0&&depth0.title,typeof stack1===functionType?stack1.apply(depth0):stack1))+" "+escapeExpression((stack1=depth0&&depth0.lastName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/span\x3e                            \x3cspan class\x3d"passenger-name medium"\x3e'+escapeExpression((stack1=depth0&&depth0.firstName,typeof stack1===functionType?stack1.apply(depth0):
stack1))+"\x3c/span\x3e                            ";stack1=helpers["if"].call(depth0,depth0&&depth0.myInfantName,{hash:{},inverse:self.noop,fn:self.program(19,program19,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3c/th\x3e                        \x3ctd\x3e                            \x3cdiv class\x3d"skypassButton"\x3e                                ';stack1=helpers.unless.call(depth0,depth0&&depth0.membershipNumber,{hash:{},inverse:self.noop,fn:self.program(21,
program21,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                \x3c/div\x3e                            \x3c/div\x3e                            \x3cdiv class\x3d"membership-number"\x3e'+escapeExpression((stack1=depth0&&depth0.membershipNumber,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/div\x3e                        \x3c/td\x3e                        \x3ctd\x3e                            \x3cdiv class\x3d"third seats"\x3e                                ';
stack1=(helper=helpers.checkInStatusesOnItinerary||depth0&&depth0.checkInStatusesOnItinerary,options={hash:{},inverse:self.program(28,program28,data),fn:self.program(23,program23,data),data:data},helper?helper.call(depth0,depth0&&depth0.flightCheckInStatus,data==null||data===false?data:data.itinerary,options):helperMissing.call(depth0,"checkInStatusesOnItinerary",depth0&&depth0.flightCheckInStatus,data==null||data===false?data:data.itinerary,options));if(stack1||stack1===0)buffer+=stack1;buffer+=
"                            \x3c/div\x3e                        \x3c/td\x3e                        ";stack1=(helper=helpers.checkOr||depth0&&depth0.checkOr,options={hash:{},inverse:self.noop,fn:self.program(30,program30,data),data:data},helper?helper.call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.postCheckin),(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryReview),options):helperMissing.call(depth0,
"checkOr",(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.postCheckin),(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryReview),options));if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(39,program39,data),data:data},helper?helper.call(depth0,(stack1=data==null||data===false?
data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryMode),"\x26\x26",(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),options):helperMissing.call(depth0,"ifCond",(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryMode),"\x26\x26",(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),options));if(stack1||
stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.postCheckin),{hash:{},inverse:self.noop,fn:self.program(50,program50,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                    \x3c/tr\x3e                ";return buffer}function program19(depth0,data){var buffer="",stack1,helper,options;buffer+='                            \x3cdiv class\x3d"passenger-infant"\x3e\x3cspan\x3e('+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"infant-label",options):helperMissing.call(depth0,"i18n","infant-label",options)))+")\x3c/span\x3e";stack1=(helper=helpers.infantName||depth0&&depth0.infantName,options={hash:{},data:data},helper?helper.call(depth0,data==null||data===false?data:data.travellers,depth0,options):helperMissing.call(depth0,"infantName",data==null||data===false?data:data.travellers,depth0,options));if(stack1||
stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e                            ";return buffer}function program21(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3ca href\x3d"#" class\x3d"button-small-white popup-trigger skypass add" role\x3d"button" aria-expanded\x3d"false"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"add-label",options):helperMissing.call(depth0,"i18n","add-label",options)))+
'\x3c/a\x3e                                \x3cdiv class\x3d"popup" data-traveller-index\x3d"';if(helper=helpers.travellerIndex)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.travellerIndex;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e                                ';return buffer}function program23(depth0,data){var buffer="",stack1;buffer+="                                    ";stack1=helpers["if"].call(depth0,
(stack1=(stack1=depth0&&depth0.seats,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.seatName),{hash:{},inverse:self.program(26,program26,data),fn:self.program(24,program24,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program24(depth0,data){var buffer="",stack1,helper,options;buffer+='                                        \x3cdiv class\x3d"sumseat"\x3e                                            '+
escapeExpression((stack1=(stack1=data==null||data===false?data:data.flight,stack1==null||stack1===false?stack1:stack1.flightNumber),typeof stack1===functionType?stack1.apply(depth0):stack1))+" ("+escapeExpression((helper=helpers.seats||depth0&&depth0.seats,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.seats,options):helperMissing.call(depth0,"seats",depth0&&depth0.seats,options)))+")                                        \x3c/div\x3e                                     ";return buffer}
function program26(depth0,data){var buffer="",stack1,helper,options;buffer+='                                        \x3cdiv class\x3d"sumseat"\x3e'+escapeExpression((stack1=(stack1=data==null||data===false?data:data.flight,stack1==null||stack1===false?stack1:stack1.flightNumber),typeof stack1===functionType?stack1.apply(depth0):stack1))+'                                            \x3cspan aria-hidden\x3d"true"\x3e( - )\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-none-seatnum",options):helperMissing.call(depth0,"i18n","UWA-none-seatnum",options)))+"\x3c/span\x3e\x3c/div\x3e                                    ";return buffer}function program28(depth0,data){var buffer="",helper,options;buffer+='                                \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-tablecontnet-blank",
options):helperMissing.call(depth0,"i18n","UWA-tablecontnet-blank",options)))+"\x3c/span\x3e                                ";return buffer}function program30(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3ctd\x3e                            \x3cdiv class\x3d"third last"\x3e                                ';stack1=(helper=helpers.checkInStatusesOnItinerary||depth0&&depth0.checkInStatusesOnItinerary,options={hash:{},inverse:self.noop,fn:self.program(31,program31,
data),data:data},helper?helper.call(depth0,depth0&&depth0.flightCheckInStatus,data==null||data===false?data:data.itinerary,options):helperMissing.call(depth0,"checkInStatusesOnItinerary",depth0&&depth0.flightCheckInStatus,data==null||data===false?data:data.itinerary,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                            \x3c/div\x3e                        \x3c/td\x3e                        ";return buffer}function program31(depth0,data){var buffer="",stack1;buffer+="                                ";
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.postCheckin),{hash:{},inverse:self.noop,fn:self.program(32,program32,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryReview),{hash:{},inverse:self.noop,fn:self.program(37,program37,data),
data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program32(depth0,data){var buffer="",stack1;buffer+="                                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.acceptanceFail,{hash:{},inverse:self.program(35,program35,data),fn:self.program(33,program33,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program33(depth0,data){var buffer=
"",stack1,helper;buffer+="                                \x3cdiv\x3e";if(helper=helpers.acceptanceFailMsg)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.acceptanceFailMsg;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/div\x3e                                    ";return buffer}function program35(depth0,data){var buffer="",helper,options;buffer+="                                \x3cdiv\x3e"+escapeExpression((helper=
helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"checkin",depth0&&depth0.status,"post-checkin",options):helperMissing.call(depth0,"i18nConcat","checkin",depth0&&depth0.status,"post-checkin",options)))+"\x3c/div\x3e                                    ";return buffer}function program37(depth0,data){var buffer="",helper,options;buffer+="                                \x3cdiv\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"checkin-status-inprogress",options):helperMissing.call(depth0,"i18n","checkin-status-inprogress",options)))+"\x3c/div\x3e                                ";return buffer}function program39(depth0,data){var buffer="",stack1;buffer+="                        \x3ctd\x3e                            ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.checkedInAnyFlight),{hash:{},inverse:self.noop,
fn:self.program(40,program40,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,depth0&&depth0.boardingPassIneligible,{hash:{},inverse:self.noop,fn:self.program(45,program45,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        \x3c/td\x3e                        ";return buffer}function program40(depth0,data){var buffer="",stack1,helper,options;buffer+='                            \x3cdiv class\x3d"checkin-boarding-pass-btn"\x3e                                ';
options={hash:{},inverse:self.noop,fn:self.program(41,program41,data),data:data};if(helper=helpers.isNotMobileZone)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.isNotMobileZone;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.isNotMobileZone)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(41,program41,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                                ";
options={hash:{},inverse:self.noop,fn:self.program(43,program43,data),data:data};if(helper=helpers.inKorea)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.inKorea;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.inKorea)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(43,program43,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            \x3c/div\x3e                            ";
return buffer}function program41(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3ca class\x3d"button-small-white et-rcp" data-traveller-number\x3d"'+escapeExpression((stack1=(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.travellerNumber),typeof stack1===functionType?stack1.apply(depth0):stack1))+'" href\x3d"#" role\x3d"button"\x3e                                    '+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"print-boarding-pass",options):helperMissing.call(depth0,"i18n","print-boarding-pass",options)))+' \x3cspan class\x3d"offscreen"\x3e('+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+")\x3c/span\x3e                                \x3c/a\x3e                                ";
return buffer}function program43(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3ca class\x3d"button-small-white sms-send"                                   data-traveller-number\x3d"'+escapeExpression((stack1=(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.travellerNumber),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"                                   href\x3d"#" role\x3d"button"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms",options):helperMissing.call(depth0,"i18n","send-boarding-pass-sms",options)))+' \x3cspan class\x3d"offscreen"\x3e('+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+")\x3c/span\x3e                                \x3c/a\x3e                                ";
return buffer}function program45(depth0,data){var buffer="",stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,depth0&&depth0.boardingPassEligible,{hash:{},inverse:self.program(48,program48,data),fn:self.program(46,program46,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program46(depth0,data){var buffer="",helper,options;buffer+='                            \x3cdiv class\x3d"checkin-boarding-pass-ineligible-message"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-ineligible-3062-alt",options):helperMissing.call(depth0,"i18n","checkin-ineligible-3062-alt",options)))+"\x3c/div\x3e                                ";return buffer}function program48(depth0,data){var buffer="",helper,options;buffer+='                            \x3cdiv class\x3d"checkin-boarding-pass-ineligible-message"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"checkin-ineligible-3062",options):helperMissing.call(depth0,"i18n","checkin-ineligible-3062",options)))+"\x3c/div\x3e                                ";return buffer}function program50(depth0,data){var buffer="",stack1;buffer+="                         \x3ctd\x3e                            ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.checkedInAnyFlight),{hash:{},
inverse:self.noop,fn:self.program(51,program51,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        \x3c/td\x3e                        ";return buffer}function program51(depth0,data){var buffer="",stack1,helper,options;buffer+='                             \x3cdiv class\x3d"checkin-boarding-pass-btn"\x3e                                 ';options={hash:{},inverse:self.noop,fn:self.program(52,program52,data),data:data};if(helper=helpers.isNotMobileZone)stack1=helper.call(depth0,
options);else{helper=depth0&&depth0.isNotMobileZone;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.isNotMobileZone)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(52,program52,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                                  ";options={hash:{},inverse:self.noop,fn:self.program(54,program54,data),data:data};if(helper=helpers.inKorea)stack1=helper.call(depth0,
options);else{helper=depth0&&depth0.inKorea;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.inKorea)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(54,program54,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                             \x3c/div\x3e                             ";return buffer}function program52(depth0,data){var buffer="",stack1,helper,options;buffer+='                                 \x3ca class\x3d"button-small-white et-rcp" data-traveller-number\x3d"'+
escapeExpression((stack1=(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.travellerNumber),typeof stack1===functionType?stack1.apply(depth0):stack1))+'" href\x3d"#" role\x3d"button"\x3e                                     '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"print-boarding-pass",options):helperMissing.call(depth0,"i18n","print-boarding-pass",options)))+' \x3cspan class\x3d"offscreen"\x3e('+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+")\x3c/span\x3e                                 \x3c/a\x3e                                 ";return buffer}function program54(depth0,data){var buffer="",stack1,helper,options;buffer+='                                 \x3ca class\x3d"button-small-white sms-send"                                    data-traveller-number\x3d"'+
escapeExpression((stack1=(stack1=data==null||data===false?data:data.traveller,stack1==null||stack1===false?stack1:stack1.travellerNumber),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"                                    href\x3d"#" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms",options):helperMissing.call(depth0,"i18n","send-boarding-pass-sms",options)))+' \x3cspan class\x3d"offscreen"\x3e('+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+")\x3c/span\x3e                                 \x3c/a\x3e                                 ";return buffer}buffer+='\x3c!-- template:checkin-confirm-passenger-info --\x3e\x3ch2 class\x3d"tit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"traveller-info-label",options):helperMissing.call(depth0,"i18n","traveller-info-label",options)))+'\x3c/h2\x3e        \x3cdiv class\x3d"content-wrap"\x3e            \x3ctable class\x3d"passengerInfoCard basic-tb"\x3e                \x3ccaption\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-checkintraveler-caption",options):helperMissing.call(depth0,"i18n","UWA-checkintraveler-caption",options)))+
"\x3c/span\x3e\x3c/caption\x3e                \x3ccolgroup\x3e                ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryMode),{hash:{},inverse:self.program(6,program6,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                \x3c/colgroup\x3e                \x3cthead\x3e                    \x3ctr\x3e                        \x3cth scope\x3d"col"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"passenger-name-label",options):helperMissing.call(depth0,"i18n","passenger-name-label",options)))+'\x3c/th\x3e                        \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"frequent-flyer-number-label",options):helperMissing.call(depth0,"i18n","frequent-flyer-number-label",options)))+
'\x3c/th\x3e                        \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-numbers-checkin",options):helperMissing.call(depth0,"i18n","flight-numbers-checkin",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-number",options):helperMissing.call(depth0,"i18n","seat-number",options)))+")\x3c/th\x3e                    ";
stack1=(helper=helpers.checkOr||depth0&&depth0.checkOr,options={hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data},helper?helper.call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.postCheckin),(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryReview),options):helperMissing.call(depth0,"checkOr",(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===
false?stack1:stack1.postCheckin),(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryReview),options));if(stack1||stack1===0)buffer+=stack1;buffer+="                    ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data},helper?helper.call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryMode),"\x26\x26",
(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),options):helperMissing.call(depth0,"ifCond",(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryMode),"\x26\x26",(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),options));if(stack1||stack1===0)buffer+=stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,
(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.postCheckin),{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                    \x3c/tr\x3e                \x3c/thead\x3e                \x3ctbody\x3e                ";stack1=(helper=helpers.bindData||depth0&&depth0.bindData,options={hash:{"travellers":depth0&&depth0.travellers},inverse:self.noop,fn:self.program(15,program15,data),
data:data},helper?helper.call(depth0,options):helperMissing.call(depth0,"bindData",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/tbody\x3e            \x3c/table\x3e        \x3c/div\x3e\x3c!-- //template:checkin-confirm-passenger-info --\x3e";return buffer});templates["checkin-flight-selection"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,
functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3cli data-index\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" tabindex\x3d"0" role\x3d"link" data-segment\x3d"'+escapeExpression((stack1=depth0&&depth0.segmentId,typeof stack1===functionType?stack1.apply(depth0):stack1))+
'" data-flight-leg-id\x3d"'+escapeExpression((stack1=depth0&&depth0.flightLegId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-departure\x3d"'+escapeExpression((helper=helpers.airportName||depth0&&depth0.airportName,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.departureAirportCode,options):helperMissing.call(depth0,"airportName",depth0&&depth0.departureAirportCode,options)))+'" data-departure-code\x3d"'+escapeExpression((stack1=depth0&&depth0.departureAirportCode,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-arrival\x3d"'+escapeExpression((helper=helpers.airportName||depth0&&depth0.airportName,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.destinationAirportCode,options):helperMissing.call(depth0,"airportName",depth0&&depth0.destinationAirportCode,options)))+'" data-destination-code\x3d"'+escapeExpression((stack1=depth0&&depth0.destinationAirportCode,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-departure-date\x3d"'+
escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"MMMM Do, YYYY","withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.departure,options):helperMissing.call(depth0,"dateFormat",depth0&&depth0.departure,options)))+'" class\x3d"flight"\x3e'+escapeExpression((helper=helpers.plusOne||depth0&&depth0.plusOne,options={hash:{},data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,options):helperMissing.call(depth0,"plusOne",
data==null||data===false?data:data.index,options)))+"\x3c/li\x3e    ";return buffer}buffer+='\x3c!-- template:checkin-flight-selection --\x3e\x3cul class\x3d"checkin-flight-selection"\x3e    \x3cli class\x3d"prev"\x3e        \x3cbutton class\x3d"prev-flight"\x3ePrev\x3c/button\x3e    \x3c/li\x3e    ';stack1=helpers.each.call(depth0,depth0&&depth0.flights,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cli class\x3d"next"\x3e        \x3cbutton class\x3d"next-flight"\x3eNext\x3c/button\x3e    \x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"current-flight"\x3e    \x3cdiv class\x3d"departure"\x3e\x3c/div\x3e    \x3cdiv class\x3d"direction"\x3e\x3c/div\x3e    \x3cdiv class\x3d"arrival"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"current-flight-date"\x3e    \x3c/div\x3e';
return buffer});templates["checkin-flights"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this,blockHelperMissing=helpers.blockHelperMissing;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cdiv class\x3d"flight-instance itineraryLeg" data-flight-id\x3d"';
if(helper=helpers.flightId)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightId;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e                    '+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?helper.call(depth0,"itinerary-left",options):helperMissing.call(depth0,"include","itinerary-left",options)))+"                    "+escapeExpression((helper=
helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?helper.call(depth0,"itinerary-right",options):helperMissing.call(depth0,"include","itinerary-right",options)))+"                \x3c/div\x3e                ";return buffer}buffer+='\x3cdiv id\x3d"confirmation-detail"\x3e    \x3cdiv id\x3d"confirmationItinerary"\x3e        \x3cdiv class\x3d"flights-checkin trip"\x3e            \x3cdiv class\x3d"faux-table"\x3e                ';options={hash:{},inverse:self.noop,fn:self.program(1,
program1,data),data:data};if(helper=helpers.flights)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.flights;stack1=typeof helper===functionType?helper.call(depth0,options):helper}if(!helpers.flights)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer});templates["checkin-icons"]=template(function(Handlebars,
depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};return"{!-- The icons that are clicked on from the reservation page, when not in a check in flow --}"});templates["checkin-lite-seat-select"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=
this.escapeExpression;buffer+='    \x3cdiv class\x3d"seat-select"\x3e        \x3cdiv class\x3d"user-unable-select" style\x3d"display:none"\x3e            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-unable-select-seats",options):helperMissing.call(depth0,"i18n","user-unable-select-seats",options)))+'        \x3c/div\x3e        \x3cdiv class\x3d"user-unable-select infant" style\x3d"display:none"\x3e            '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-unable-select-seats-infant",options):helperMissing.call(depth0,"i18n","user-unable-select-seats-infant",options)))+'        \x3c/div\x3e        \x3cdiv class\x3d"please-choose"\x3e            \x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"please-choose-flight-for-currently-selected",options):helperMissing.call(depth0,"i18n","please-choose-flight-for-currently-selected",
options)))+'\x3c/p\x3e            \x3cselect id\x3d"seat-select" name\x3d"seat-select" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WCAG-WMCI-seat-select-title",options):helperMissing.call(depth0,"i18n","WCAG-WMCI-seat-select-title",options)))+'"\x3e                \x3coption value\x3d""\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-select-default-option",
options):helperMissing.call(depth0,"i18n","seat-select-default-option",options)))+"\x3c/option\x3e                "+escapeExpression((helper=helpers.options||depth0&&depth0.options,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.availableSeats,options):helperMissing.call(depth0,"options",depth0&&depth0.availableSeats,options)))+"            \x3c/select\x3e        \x3c/div\x3e    \x3c/div\x3e";return buffer});templates["checkin-mini-reservation"]=template(function(Handlebars,depth0,
helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='\x3cdiv id\x3d"confirmation-detail"\x3e    \x3cdiv id\x3d"confirmationItinerary"\x3e                                ';stack1=helpers["if"].call(depth0,depth0&&
depth0.summaryMode,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3ch2 class\x3d"tit"\x3e            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"itinerary-departure-label",options):helperMissing.call(depth0,"i18n","itinerary-departure-label",options)))+'        \x3c/h2\x3e        \x3cdiv class\x3d"content-wrap"\x3e        ';stack1=(helper=helpers.bindEach||
depth0&&depth0.bindEach,options={hash:{"bindTo":"bound"},inverse:self.noop,fn:self.programWithDepth(9,program9,data,depth0),data:data},helper?helper.call(depth0,depth0&&depth0.bounds,options):helperMissing.call(depth0,"bindEach",depth0&&depth0.bounds,options));if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/div\x3e    \x3c/div\x3e    ";stack1=helpers.unless.call(depth0,depth0&&depth0.groupPnr,{hash:{},inverse:self.noop,fn:self.program(49,program49,data),data:data});if(stack1||stack1===
0)buffer+=stack1;buffer+="\x3c/div\x3e";return buffer}function program2(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3cdiv class\x3d"checkin-header complete checkin-main"\x3e             \x3ch1\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-mini-title",options):helperMissing.call(depth0,"i18n","checkin-mini-title",options)))+"\x3c/h1\x3e            ";stack1=helpers["if"].call(depth0,false,{hash:{},
inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3cp class\x3d"subtit-resernum"\x3e                ';stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data},helper?helper.call(depth0,depth0&&depth0.reservationName,"!\x3d","",options):helperMissing.call(depth0,"compare",depth0&&depth0.reservationName,"!\x3d","",options));if(stack1||stack1===0)buffer+=
stack1;buffer+="                ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.reservationNumber,"!\x3d","",options):helperMissing.call(depth0,"compare",depth0&&depth0.reservationNumber,"!\x3d","",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/p\x3e        \x3c/div\x3e        ";return buffer}function program3(depth0,data){var buffer="",helper,
options;buffer+='             \x3cdiv class\x3d"checkin-boarding-pass"\x3e                \x3ca class\x3d"button medium checkin-boarding-pass popup-window dark" href\x3d"#"\x3e                    '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"print-boarding-pass-all",options):helperMissing.call(depth0,"i18n","print-boarding-pass-all",options)))+'                    \x3cspan class\x3d"offscreen"\x3e('+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+")\x3c/span\x3e                \x3c/a\x3e            \x3c/div\x3e            ";return buffer}function program5(depth0,data){var buffer="",stack1,helper,options;buffer+=escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"reservation-name",options):helperMissing.call(depth0,
"i18n","reservation-name",options)))+": ";if(helper=helpers.reservationName)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.reservationName;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+' \x3cspan aria-hidden\x3d"true"\x3e|\x3c/span\x3e ';return buffer}function program7(depth0,data){var buffer="",stack1,helper,options;buffer+=escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"reservation-num",options):helperMissing.call(depth0,"i18n","reservation-num",options)))+": ";if(helper=helpers.reservationNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.reservationNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1);return buffer}function program9(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='        \x3cdiv class\x3d"trip"\x3e            \x3cdiv class\x3d"faux-table"\x3e                \x3cdiv class\x3d"fleft-wrap"\x3e                ';
stack1=(helper=helpers.bindEach||depth0&&depth0.bindEach,options={hash:{"bindTo":"flight"},inverse:self.noop,fn:self.programWithDepth(10,program10,data,depth0,depth1),data:data},helper?helper.call(depth0,depth0&&depth0.flights,options):helperMissing.call(depth0,"bindEach",depth0&&depth0.flights,options));if(stack1||stack1===0)buffer+=stack1;buffer+='                \x3c/div\x3e                \x3cdiv class\x3d"twenty"\x3e                    \x3cdiv\x3e                ';stack1=(helper=helpers.bindEach||
depth0&&depth0.bindEach,options={hash:{"bindTo":"flight"},inverse:self.noop,fn:self.programWithDepth(24,program24,data,depth1),data:data},helper?helper.call(depth0,depth0&&depth0.flights,options):helperMissing.call(depth0,"bindEach",depth0&&depth0.flights,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/div\x3e        ";return buffer}function program10(depth0,data,depth1,depth2){var buffer="",stack1,
helper,options;buffer+='                    \x3cdiv class\x3d"itineraryLeg"\x3e                    '+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?helper.call(depth0,"itinerary-left",options):helperMissing.call(depth0,"include","itinerary-left",options)))+'                    \x3cdiv class\x3d"itinerary-right checkin ';stack1=helpers.unless.call(depth0,depth2&&depth2.summaryMode,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e                        \x3cdiv class\x3d"forty"\x3e                            \x3cdiv class\x3d"row detailAirport"\x3e                                \x3ch5\x3e'+escapeExpression((helper=helpers.i18n||depth2&&depth2.i18n,options={hash:{},data:data},helper?helper.call(depth0,"depart-label",options):helperMissing.call(depth0,"i18n","depart-label",options)))+" "+escapeExpression((helper=helpers.cityNameAndCode||depth0&&depth0.cityNameAndCode,options=
{hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.departureAirportCode,options):helperMissing.call(depth0,"cityNameAndCode",depth0&&depth0.departureAirportCode,options)))+'\x3c/h5\x3e                            \x3c/div\x3e                            \x3cdiv class\x3d"row itineraryDetail"\x3e                                \x3cul\x3e                                    \x3cli class\x3d"time-detail';stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(13,
program13,data),data:data},helper?helper.call(depth0,depth0&&depth0.isDelayed,"||",depth0&&depth0.isCancelled,options):helperMissing.call(depth0,"ifCond",depth0&&depth0.isDelayed,"||",depth0&&depth0.isCancelled,options));if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e                                        \x3cp class\x3d"detailTitle"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-label",options):helperMissing.call(depth0,
"i18n","time-label",options)))+'\x3c/p\x3e                                        \x3cp class\x3d"deatilCopy"\x3e                                            '+escapeExpression((helper=helpers.timeFormatLocal||depth0&&depth0.timeFormatLocal,options={hash:{"withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.departure,options):helperMissing.call(depth0,"timeFormatLocal",depth0&&depth0.departure,options)))+'                                        \x3c/p\x3e                                        \x3cp class\x3d"deatilSubCopy"\x3e'+
escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"MMMM Do","withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.departure,options):helperMissing.call(depth0,"dateFormat",depth0&&depth0.departure,options)))+'                                        \x3c/p\x3e                                    \x3c/li\x3e                                    \x3cli class\x3d"terminal-detail"\x3e                                        \x3cp class\x3d"detailTitle"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"terminal-label",options):helperMissing.call(depth0,"i18n","terminal-label",options)))+'\x3c/p\x3e                                        \x3cp class\x3d"deatilCopy ffserif"\x3e'+escapeExpression((helper=helpers.terminalDashesWCAG2||depth0&&depth0.terminalDashesWCAG2,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.departureTerminal,options):helperMissing.call(depth0,
"terminalDashesWCAG2",depth0&&depth0.departureTerminal,options)))+"\x3c/p\x3e                                    \x3c/li\x3e                                \x3c/ul\x3e                                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isDelayed,{hash:{},inverse:self.noop,fn:self.program(15,program15,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,depth0&&depth0.checkinCounter,{hash:{},inverse:self.noop,
fn:self.program(17,program17,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3c/div\x3e                        \x3c/div\x3e                        \x3cdiv class\x3d"forty"\x3e                            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/arrow-right.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-flight-to",options):helperMissing.call(depth0,
"i18n","UWA-flight-to",options)))+'" class\x3d"flightto"/\x3e                            \x3cdiv class\x3d"row detailAirport"\x3e                                \x3ch5\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"arrive-label",options):helperMissing.call(depth0,"i18n","arrive-label",options)))+" "+escapeExpression((helper=helpers.cityNameAndCode||depth0&&depth0.cityNameAndCode,options={hash:{},data:data},helper?helper.call(depth0,
depth0&&depth0.destinationAirportCode,options):helperMissing.call(depth0,"cityNameAndCode",depth0&&depth0.destinationAirportCode,options)))+'\x3c/h5\x3e                            \x3c/div\x3e                            \x3cdiv class\x3d"row itineraryDetail"\x3e                                \x3cul\x3e                                    \x3cli class\x3d"time-detail';stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data},
helper?helper.call(depth0,depth0&&depth0.isDelayed,"||",depth0&&depth0.isCancelled,options):helperMissing.call(depth0,"ifCond",depth0&&depth0.isDelayed,"||",depth0&&depth0.isCancelled,options));if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e                                        \x3cp class\x3d"detailTitle"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-label",options):helperMissing.call(depth0,"i18n","time-label",options)))+
'\x3c/p\x3e                                        \x3cp class\x3d"deatilCopy"\x3e                                            '+escapeExpression((helper=helpers.timeFormatLocal||depth0&&depth0.timeFormatLocal,options={hash:{"withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.arrival,options):helperMissing.call(depth0,"timeFormatLocal",depth0&&depth0.arrival,options)))+'                                        \x3c/p\x3e                                        \x3cp class\x3d"deatilSubCopy"\x3e'+
escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"MMMM Do","withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.arrival,options):helperMissing.call(depth0,"dateFormat",depth0&&depth0.arrival,options)))+"\x3c/p\x3e                                        ";stack1=helpers.unless.call(depth0,depth1&&depth1.noOffset,{hash:{},inverse:self.noop,fn:self.program(20,program20,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                    \x3c/li\x3e                                    \x3cli class\x3d"terminal-detail"\x3e                                        \x3cp class\x3d"detailTitle"\x3e'+
escapeExpression((helper=helpers.i18n||depth1&&depth1.i18n,options={hash:{},data:data},helper?helper.call(depth0,"terminal-label",options):helperMissing.call(depth0,"i18n","terminal-label",options)))+'\x3c/p\x3e                                        \x3cp class\x3d"deatilCopy ffserif"\x3e'+escapeExpression((helper=helpers.terminalDashesWCAG2||depth0&&depth0.terminalDashesWCAG2,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.arrivalTerminal,options):helperMissing.call(depth0,
"terminalDashesWCAG2",depth0&&depth0.arrivalTerminal,options)))+"\x3c/p\x3e                                    \x3c/li\x3e                                \x3c/ul\x3e                            \x3c/div\x3e                            ";stack1=helpers["if"].call(depth0,depth0&&depth0.isDelayed,{hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        \x3c/div\x3e                    \x3c/div\x3e                \x3c/div\x3e                ";
return buffer}function program11(depth0,data){return"fill"}function program13(depth0,data){return" delayedBefore"}function program15(depth0,data){var buffer="",helper,options;buffer+='                                \x3cspan class\x3d"delayed departure"\x3e'+escapeExpression((helper=helpers.datetimeFormatLocal||depth0&&depth0.datetimeFormatLocal,options={hash:{"format":"MMMM Do","withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.estDepartureDatetime,options):helperMissing.call(depth0,
"datetimeFormatLocal",depth0&&depth0.estDepartureDatetime,options)))+" "+escapeExpression((helper=helpers.datetimeFormatLocal||depth0&&depth0.datetimeFormatLocal,options={hash:{"withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.estDepartureDatetime,options):helperMissing.call(depth0,"datetimeFormatLocal",depth0&&depth0.estDepartureDatetime,options)))+"\x3c/span\x3e                                ";return buffer}function program17(depth0,data){var buffer="",stack1;buffer+="                                ";
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.postCheckin),{hash:{},inverse:self.noop,fn:self.program(18,program18,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program18(depth0,data){var buffer="",stack1,helper,options;buffer+='                                \x3cspan class\x3d"counter-info"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-web-mobile-counter",options):helperMissing.call(depth0,"i18n","checkin-web-mobile-counter",options)))+" : ";if(helper=helpers.checkinCounter)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.checkinCounter;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/span\x3e                                ";return buffer}function program20(depth0,
data){var buffer="",helper,options;buffer+='                                        \x3cp class\x3d"day-offset"\x3e'+escapeExpression((helper=helpers.calcDateOffset||depth0&&depth0.calcDateOffset,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"calcDateOffset",depth0,options)))+"\x3c/p\x3e";return buffer}function program22(depth0,data){var buffer="",helper,options;buffer+='                            \x3cspan class\x3d"delayed arrival"\x3e'+escapeExpression((helper=
helpers.datetimeFormatLocal||depth0&&depth0.datetimeFormatLocal,options={hash:{"format":"MMMM Do","withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.estArrivalDatetime,options):helperMissing.call(depth0,"datetimeFormatLocal",depth0&&depth0.estArrivalDatetime,options)))+" "+escapeExpression((helper=helpers.datetimeFormatLocal||depth0&&depth0.datetimeFormatLocal,options={hash:{"withZone":"true"},data:data},helper?helper.call(depth0,depth0&&depth0.estArrivalDatetime,options):helperMissing.call(depth0,
"datetimeFormatLocal",depth0&&depth0.estArrivalDatetime,options)))+"\x3c/span\x3e                            ";return buffer}function program24(depth0,data,depth2){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,depth2&&depth2.summaryMode,{hash:{},inverse:self.noop,fn:self.program(25,program25,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program25(depth0,data){var buffer="",stack1;buffer+="                        ";
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.summaryMode),{hash:{},inverse:self.noop,fn:self.program(26,program26,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                    ";return buffer}function program26(depth0,data){var buffer="",stack1,helper,options;buffer+="                             ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(27,
program27,data),data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,0,options):helperMissing.call(depth0,"compare",data==null||data===false?data:data.index,0,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";return buffer}function program27(depth0,data){var buffer="",stack1;buffer+="                                ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.allFlightsEligibleForCheckIn),
{hash:{},inverse:self.program(46,program46,data),fn:self.program(28,program28,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program28(depth0,data){var buffer="",stack1;buffer+="                                    ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.displayCheckIn),{hash:{},inverse:self.program(37,program37,data),fn:self.program(29,program29,
data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.displayCancel),{hash:{},inverse:self.program(42,program42,data),fn:self.program(39,program39,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program29(depth0,data){var buffer="",stack1;buffer+="                                        ";
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),{hash:{},inverse:self.program(32,program32,data),fn:self.program(30,program30,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program30(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3cdiv class\x3d"check-in-all"\x3e\x3ca data-bound-id\x3d"'+
escapeExpression((stack1=(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.boundIndex),typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"button-main-blue check-in-now modify" href\x3d"#" role\x3d"button" id\x3d"tlf_checkinModify"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"check-in-finish-modify",options):helperMissing.call(depth0,"i18n","check-in-finish-modify",
options)))+"\x3c/a\x3e\x3c/div\x3e                                        ";return buffer}function program32(depth0,data){var buffer="",stack1;buffer+="                                            ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.itinerary,stack1==null||stack1===false?stack1:stack1.isOnlyChildren),{hash:{},inverse:self.program(35,program35,data),fn:self.program(33,program33,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";
return buffer}function program33(depth0,data){var buffer="",helper,options;buffer+="                                                 "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-cancel-unavailable",options):helperMissing.call(depth0,"i18n","checkin-cancel-unavailable",options)))+'                        \x3cdiv class\x3d"no-reason-info"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"error-solo-childcheckin",options):helperMissing.call(depth0,"i18n","error-solo-childcheckin",options)))+"\x3c/div\x3e                                            ";return buffer}function program35(depth0,data){var buffer="",stack1,helper,options;buffer+='                        \x3cdiv class\x3d"check-in-all"\x3e\x3ca data-bound-id\x3d"'+escapeExpression((stack1=(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.boundIndex),typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" class\x3d"button-main-blue check-in-now" href\x3d"#" role\x3d"button" id\x3d"tlf_checkinNow"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"check-in-now",options):helperMissing.call(depth0,"i18n","check-in-now",options)))+"\x3c/a\x3e\x3c/div\x3e                                            ";return buffer}function program37(depth0,data){var buffer="",helper,options;buffer+="                                                     "+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-unavailable",options):helperMissing.call(depth0,"i18n","checkin-unavailable",options)))+'                        \x3cdiv class\x3d"no-reason-info"\x3e                            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-ineligible-preceding",options):helperMissing.call(depth0,"i18n","checkin-ineligible-preceding",
options)))+"                        \x3c/div\x3e                                    ";return buffer}function program39(depth0,data){var buffer="",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),{hash:{},inverse:self.noop,fn:self.program(40,program40,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";
return buffer}function program40(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cdiv class\x3d"check-in-all-cancel"\x3e\x3ca data-bound-id\x3d"'+escapeExpression((stack1=(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.boundIndex),typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"button-main-gray check-in-cancel" href\x3d"#" role\x3d"button" id\x3d"tlf_checkinCancel"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"check-in-cancel",options):helperMissing.call(depth0,"i18n","check-in-cancel",options)))+"\x3c/a\x3e\x3c/div\x3e                                        ";return buffer}function program42(depth0,data){var buffer="",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.displayCheckIn),{hash:{},inverse:self.noop,
fn:self.program(43,program43,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program43(depth0,data){var buffer="",stack1;buffer+="                                            ";stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),{hash:{},inverse:self.noop,fn:self.program(44,program44,data),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+="                                        ";return buffer}function program44(depth0,data){var buffer="",helper,options;buffer+="                    "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-cancel-unavailable",options):helperMissing.call(depth0,"i18n","checkin-cancel-unavailable",options)))+'                    \x3cdiv class\x3d"no-reason-info"\x3e                        '+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-ineligible-post",options):helperMissing.call(depth0,"i18n","checkin-ineligible-post",options)))+"                    \x3c/div\x3e                                            ";return buffer}function program46(depth0,data){var buffer="",stack1,helper,options;buffer+="                        "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-unavailable",
options):helperMissing.call(depth0,"i18n","checkin-unavailable",options)))+'                        \x3cdiv class\x3d"no-reason-info"\x3e                            '+escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"checkin-ineligible",depth0&&depth0.checkinEligibleReasonCode,options):helperMissing.call(depth0,"i18nConcat","checkin-ineligible",depth0&&depth0.checkinEligibleReasonCode,options)))+"                        \x3c/div\x3e                                    ";
stack1=helpers["if"].call(depth0,(stack1=data==null||data===false?data:data.bound,stack1==null||stack1===false?stack1:stack1.checkedInPassenger),{hash:{},inverse:self.noop,fn:self.program(47,program47,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program47(depth0,data){var buffer="",helper,options;buffer+="                                                "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"checkin-cancel-unavailable",options):helperMissing.call(depth0,"i18n","checkin-cancel-unavailable",options)))+'                        \x3cdiv class\x3d"no-reason-info"\x3e                            '+escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"checkin-ineligible",depth0&&depth0.checkinEligibleReasonCode,options):helperMissing.call(depth0,"i18nConcat","checkin-ineligible",depth0&&
depth0.checkinEligibleReasonCode,options)))+"                        \x3c/div\x3e                                    ";return buffer}function program49(depth0,data){var buffer="",helper,options;buffer+='    \x3cdiv id\x3d"confirmationPassengerInfo"\x3e        '+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?helper.call(depth0,"checkin-confirm-passenger-info",options):helperMissing.call(depth0,"include","checkin-confirm-passenger-info",options)))+
"    \x3c/div\x3e    ";return buffer}buffer+="\x3c!-- template:checkin-mini-reservation --\x3e";stack1=(helper=helpers.bindData||depth0&&depth0.bindData,options={hash:{"itinerary":depth0},inverse:self.noop,fn:self.program(1,program1,data),data:data},helper?helper.call(depth0,options):helperMissing.call(depth0,"bindData",options));if(stack1||stack1===0)buffer+=stack1;return buffer});templates["checkin-nationality-page"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,
"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"checkin-header"\x3e     \x3ch1 class\x3d"light"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nationality-information-title",options):helperMissing.call(depth0,"i18n","nationality-information-title",options)))+'\x3c/h1\x3e    \x3ch3 class\x3d"light"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nationality-information-description",options):helperMissing.call(depth0,"i18n","nationality-information-description",options)))+'\x3c/h3\x3e\x3c/div\x3e\x3cdiv class\x3d"passenger-panel-wrapper"\x3e\x3c/div\x3e\x3cdiv class\x3d"nationality-panel-wrapper"\x3e\x3c/div\x3e';return buffer});templates["checkin-nationality-panel"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=
[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"form-wrapper-inner"\x3e    \x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nationality-info-warning-label",options):helperMissing.call(depth0,"i18n","nationality-info-warning-label",options)))+'\x3c/p\x3e    \x3cform class\x3d"custom-form"\x3e        \x3cdiv class\x3d"form-row passport-row-nationality"\x3e            \x3cdiv class\x3d"form-column-3"\x3e                \x3clabel for\x3d"nationality" class\x3d"required"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nationality-label",options):helperMissing.call(depth0,"i18n","nationality-label",options)))+'\x3c/label\x3e                \x3cdiv class\x3d"styled-select oldsize"\x3e                    \x3cselect name\x3d"nationality" id\x3d"nationality" class\x3d"required ke-selectbox"\x3e                        \x3coption value\x3d""\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"country-default-option",options):helperMissing.call(depth0,"i18n","country-default-option",options)))+'\x3c/option\x3e                        \x3coption value\x3d"KR"\x3eKorean\x3c/option\x3e                        \x3coption value\x3d"US"\x3eAmerican\x3c/option\x3e                    \x3c/select\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/form\x3e\x3c/div\x3e';return buffer});templates["checkin-passenger-individual-row"]=
template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this,functionType="function";function program1(depth0,data){var buffer="",stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0.hasInfant,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+="    ";return buffer}function program2(depth0,data){var buffer="",stack1,helper,options;buffer+="          ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"with",options):helperMissing.call(depth0,"i18n","with",options)))+" ";stack1=(helper=helpers.infantName||depth0&&depth0.infantName,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.travellers,depth0,options):helperMissing.call(depth0,
"infantName",depth0&&depth0.travellers,depth0,options));if(stack1||stack1===0)buffer+=stack1;buffer+=", "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"infant",options):helperMissing.call(depth0,"i18n","infant",options)))+")        ";return buffer}buffer+=' \x3ca href\x3d"#" data-cid\x3d"';if(helper=helpers.cid)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.cid;stack1=typeof helper===functionType?helper.call(depth0,
{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" class\x3d"name" role\x3d"button"\x3e'+escapeExpression((helper=helpers.passengerName||depth0&&depth0.passengerName,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"passengerName",depth0,options)))+" ";stack1=helpers["if"].call(depth0,depth0&&depth0.showInfant,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='     \x3cdiv class\x3d"completed-data statusDiv"\x3e\x3c/div\x3e \x3c/a\x3e';
return buffer});templates["checkin-passenger-info-page"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='    \x3ch1 class\x3d"checkin-tit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"passenger-information-title",options):helperMissing.call(depth0,"i18n","passenger-information-title",options)))+"\x3c/h1\x3e    \x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"passenger-information-description",options):helperMissing.call(depth0,"i18n","passenger-information-description",options)))+"\x3c/p\x3e    ";return buffer}function program3(depth0,data){var buffer=
"",helper,options;buffer+='    \x3ch1 class\x3d"checkin-tit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"regulatory-information-title",options):helperMissing.call(depth0,"i18n","regulatory-information-title",options)))+"\x3c/h1\x3e    \x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"regulatory-information-description",options):helperMissing.call(depth0,
"i18n","regulatory-information-description",options)))+"\x3c/p\x3e    ";return buffer}buffer+='\x3c!-- tempalate:checkin-passenger-info-page --\x3e\x3cdiv class\x3d"checkin-header"\x3e     ';stack1=helpers["if"].call(depth0,depth0&&depth0.domestic,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/div\x3e\x3cdiv class\x3d"passenger-data-wrapper content-wrap"\x3e    \x3cdiv class\x3d"flight-wrapper"\x3e\x3c/div\x3e    \x3cdiv class\x3d"passenger-data-input"\x3e        \x3cdiv class\x3d"passenger-panel-wrapper" role\x3d"navigation" aria-label\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-passenger",options):helperMissing.call(depth0,"i18n","WA-passenger",options)))+'"\x3e\x3c/div\x3e        \x3cdiv class\x3d"passport-info-wrapper"\x3e\x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!-- /tempalate:checkin-passenger-info-page --\x3e';return buffer});templates["checkin-passenger-panel"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];
helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="";buffer+='\x3cdiv class\x3d"checkin-flight-carousel"\x3e\x3c/div\x3e\x3cul class\x3d"checkin-passenger-panel panel passenger"\x3e\x3c/ul\x3e';return buffer});templates["checkin-passenger-selection-name"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,
escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3cspan class\x3d"passenger-infant"\x3e('+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"infant-label",options):helperMissing.call(depth0,"i18n","infant-label",options)))+") ";stack1=(helper=helpers.infantName||depth0&&depth0.infantName,options={hash:{},data:data},helper?helper.call(depth0,
depth0&&depth0.travellers,depth0,options):helperMissing.call(depth0,"infantName",depth0&&depth0.travellers,depth0,options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/span\x3e        ";return buffer}buffer+='\x3cdiv class\x3d"row checkbox-wrapper"\x3e    \x3cinput type\x3d"checkbox" value\x3d"';if(helper=helpers.selected)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.selected;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=
escapeExpression(stack1)+'" id\x3d"checkin-traveler-select-';if(helper=helpers.cid)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.cid;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"/\x3e    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e    \x3clabel for\x3d"checkin-traveler-select-';if(helper=helpers.cid)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.cid;stack1=typeof helper===
functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';stack1=(helper=helpers.chkPassengerName||depth0&&depth0.chkPassengerName,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"chkPassengerName",depth0,options));if(stack1||stack1===0)buffer+=stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0.hasInfant,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+="    \x3c/label\x3e\x3c/div\x3e";return buffer});templates["checkin-passenger-selection-page"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='    \x3cp class\x3d"subtit"\x3e'+
escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"passenger-selection-description",depth0&&depth0.suffix,options):helperMissing.call(depth0,"i18nConcat","passenger-selection-description",depth0&&depth0.suffix,options)))+"\x3c/p\x3e    ";return buffer}function program3(depth0,data){var buffer="",helper,options;buffer+='    \x3cp class\x3d"subtit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"passenger-selection-description-checkin-group",options):helperMissing.call(depth0,"i18n","passenger-selection-description-checkin-group",options)))+"\x3c/p\x3e    ";return buffer}function program5(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv class\x3d"passenger-add-wrap keForm"\x3e    \x3ch2 class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"passenger-label",
options):helperMissing.call(depth0,"i18n","passenger-label",options)))+'\x3c/h2\x3e    \x3cform id\x3d"groupPnrSearchForm"\x3e    \x3cul\x3e        \x3cli\x3e            \x3clabel for\x3d"clastname"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-input-lastname",options):helperMissing.call(depth0,"i18n","checkin-input-lastname",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"clastname" name\x3d"clastname" class\x3d"vNameFields"/\x3e        \x3c/li\x3e        \x3cli\x3e            \x3clabel for\x3d"cfirstname"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-input-firstname",options):helperMissing.call(depth0,"i18n","checkin-input-firstname",options)))+'\x3c/label\x3e\x3cinput type\x3d"text" id\x3d"cfirstname" name\x3d"cfirstname" class\x3d"vNameFields"/\x3e        \x3c/li\x3e    \x3c/ul\x3e    \x3cdiv class\x3d"add-btn-area"\x3e        \x3cbutton id\x3d"btnFindUserName" class\x3d"button-main-blue"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-input-data",options):helperMissing.call(depth0,"i18n","WA-input-data",options)))+'\x3c/button\x3e    \x3c/div\x3e    \x3cdiv class\x3d"nameMatchErrorContainer" role\x3d"alert" aria-live\x3d"assertive"\x3e\x3c/div\x3e    \x3c/form\x3e\x3c/div\x3e';return buffer}buffer+='\x3cdiv class\x3d"checkin-header"\x3e     \x3ch1 class\x3d"checkin-tit"\x3e'+escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options=
{hash:{},data:data},helper?helper.call(depth0,"passenger-selection",depth0&&depth0.suffix,options):helperMissing.call(depth0,"i18nConcat","passenger-selection",depth0&&depth0.suffix,options)))+"\x3c/h1\x3e    ";stack1=helpers.unless.call(depth0,depth0&&depth0.isGroupPnr,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e";stack1=helpers["if"].call(depth0,depth0&&depth0.isGroupPnr,{hash:{},inverse:self.noop,
fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer});templates["checkin-passenger-selection-segment"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this,functionType="function";function program1(depth0,data){var buffer="",helper,
options;buffer+='    \x3ca href\x3d"#" class\x3d"popup-trigger button-small-white skypass add" role\x3d"button" aria-expanded\x3d"false"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"add-label",options):helperMissing.call(depth0,"i18n","add-label",options)))+'\x3c/a\x3e    \x3cdiv class\x3d"popup"\x3e\x3c/div\x3e    ';return buffer}function program3(depth0,data){var buffer="",helper,options;buffer+='\x3ctd class\x3d"checkin-status"\x3e    '+
escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"checkin",depth0&&depth0.status,depth0&&depth0.localizationSuffix,options):helperMissing.call(depth0,"i18nConcat","checkin",depth0&&depth0.status,depth0&&depth0.localizationSuffix,options)))+'    \x3cspan class\x3d"checkin-condition-info"\x3e'+escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"passenger-checkin-reason",
depth0&&depth0.reasonCode,options):helperMissing.call(depth0,"i18nConcat","passenger-checkin-reason",depth0&&depth0.reasonCode,options)))+"\x3c/span\x3e\x3c/td\x3e";return buffer}function program5(depth0,data){var buffer="",stack1,helper,options;buffer+='\x3ctd class\x3d"checkin-status"\x3e    ';stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(9,program9,data),fn:self.program(6,program6,data),data:data},helper?helper.call(depth0,depth0&&depth0.localizationSuffix,
"cancel",options):helperMissing.call(depth0,"compare",depth0&&depth0.localizationSuffix,"cancel",options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/td\x3e";return buffer}function program6(depth0,data){var buffer="",stack1,helper,options;buffer+="    ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(9,program9,data),fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.status,"UNAVAILABLE",options):helperMissing.call(depth0,
"compare",depth0&&depth0.status,"UNAVAILABLE",options));if(stack1||stack1===0)buffer+=stack1;buffer+="    ";return buffer}function program7(depth0,data){var buffer="",helper,options;buffer+="    "+escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"not-checkin",depth0&&depth0.status,depth0&&depth0.localizationSuffix,options):helperMissing.call(depth0,"i18nConcat","not-checkin",depth0&&depth0.status,depth0&&depth0.localizationSuffix,
options)))+"    ";return buffer}function program9(depth0,data){var buffer="",helper,options;buffer+="    "+escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,"checkin",depth0&&depth0.status,depth0&&depth0.localizationSuffix,options):helperMissing.call(depth0,"i18nConcat","checkin",depth0&&depth0.status,depth0&&depth0.localizationSuffix,options)))+"    ";return buffer}buffer+='\x3ctd class\x3d"skypass-number not-show-all"\x3e    ';
stack1=helpers.unless.call(depth0,(stack1=depth0&&depth0.passenger,stack1==null||stack1===false?stack1:stack1.membershipNumber),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cdiv class\x3d"membership-number"\x3e'+escapeExpression((stack1=(stack1=depth0&&depth0.passenger,stack1==null||stack1===false?stack1:stack1.membershipNumber),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/div\x3e\x3c/td\x3e\x3ctd\x3e    \x3cdiv class\x3d"third"\x3e    '+
escapeExpression((helper=helpers.combineFlightAndSeat||depth0&&depth0.combineFlightAndSeat,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"combineFlightAndSeat",depth0,options)))+"    \x3c/div\x3e\x3c/td\x3e";stack1=helpers["if"].call(depth0,depth0&&depth0.reasonCode,{hash:{},inverse:self.program(5,program5,data),fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer});templates["checkin-passenger-selection-table"]=
template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"content-wrap"\x3e    \x3ctable class\x3d"basic-tb"\x3e        \x3ccaption\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"UWA-checkin-passenger-select",options):helperMissing.call(depth0,"i18n","UWA-checkin-passenger-select",options)))+'\x3c/span\x3e\x3c/caption\x3e        \x3ccolgroup\x3e            \x3ccol style\x3d"width:25%;"\x3e \x3ccol style\x3d"width:20%;"\x3e \x3ccol style\x3d"width:30%;"\x3e \x3ccol style\x3d"width:25%;"\x3e        \x3c/colgroup\x3e        \x3cthead\x3e        \x3ctr\x3e            \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"passenger-name-label",options):helperMissing.call(depth0,"i18n","passenger-name-label",options)))+'\x3c/th\x3e            \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"frequent-flyer-number-label",options):helperMissing.call(depth0,"i18n","frequent-flyer-number-label",options)))+'\x3c/th\x3e            \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"flight-number-label",options):helperMissing.call(depth0,"i18n","flight-number-label",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-number-label",options):helperMissing.call(depth0,"i18n","seat-number-label",options)))+')\x3c/th\x3e            \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"eligible-for-checkin",options):helperMissing.call(depth0,"i18n","eligible-for-checkin",options)))+'\x3c/th\x3e        \x3c/tr\x3e        \x3c/thead\x3e        \x3ctbody\x3e        \x3c/tbody\x3e    \x3c/table\x3e    \x3cdiv class\x3d"errorMessageContainer checkin-error"\x3e\x3c/div\x3e\x3c/div\x3e';return buffer});templates["checkin-passport-info"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,
Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this,functionType="function";function program1(depth0,data){var buffer="",stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0.accompanyAdultNumber,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";return buffer}function program2(depth0,data){var buffer="",
helper,options;buffer+='            \x3cdiv class\x3d"adult-input"\x3e\x3ca href\x3d"#" class\x3d"apis adult medium button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"apis-adult-selection",options):helperMissing.call(depth0,"i18n","apis-adult-selection",options)))+"\x3c/a\x3e\x3c/div\x3e        ";return buffer}function program4(depth0,data){var buffer="",helper,options;buffer+='    \x3cdiv class\x3d"pasenger-info"\x3e        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"passenger-name",options):helperMissing.call(depth0,"i18n","passenger-name",options)))+" "+escapeExpression((helper=helpers.passengerName||depth0&&depth0.passengerName,options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"passengerName",depth0,options)))+"    \x3c/div\x3e    ";return buffer}function program6(depth0,data){var buffer="",stack1,helper,
options;buffer+="v";if(helper=helpers.type)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.type;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1);stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"\x3d\x3d","CHILD",options):helperMissing.call(depth0,"compare",depth0&&depth0.type,
"\x3d\x3d","CHILD",options));if(stack1||stack1===0)buffer+=stack1;return buffer}function program7(depth0,data){return"wci"}function program9(depth0,data,depth1){var buffer="",stack1;buffer+="    ";stack1=helpers["if"].call(depth0,depth1&&depth1.hasInfant,{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer}function program10(depth0,data){var buffer="",helper,options;buffer+='    \x3cdiv class\x3d"infant-body"\x3e        \x3cdiv class\x3d"same-data"\x3e            \x3cinput type\x3d"checkbox" name\x3d"infantDataSame" value\x3d"true" id\x3d"infantDataSame" /\x3e            \x3clabel for\x3d"infantDataSame"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"infant-data-same",options):helperMissing.call(depth0,"i18n","infant-data-same",options)))+'\x3c/label\x3e            \x3cdiv class\x3d"infant-input"\x3e\x3ca href\x3d"#" class\x3d"infant apis medium button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"apis-infant-selection",options):helperMissing.call(depth0,"i18n",
"apis-infant-selection",options)))+"\x3c/a\x3e\x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e    ";return buffer}buffer+="\x3c!-- tempalate:checkin-passport-info --\x3e    ";stack1=helpers["if"].call(depth0,depth0&&depth0.apis,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";stack1=helpers["if"].call(depth0,depth0&&depth0.apis,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+='    \x3cdiv class\x3d"form-wrapper-inner"\x3e    \x3cform class\x3d"custom-form keForm"\x3e            \x3cdiv class\x3d"no-regulatory" style\x3d"display:none"\x3e                '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"no-regulatory-needed",options):helperMissing.call(depth0,"i18n","no-regulatory-needed",options)))+'            \x3c/div\x3e    \x3cdiv class\x3d"form-row passport-row-nationality"\x3e                \x3cdiv class\x3d"form-column-5 nationality-block-js"\x3e                    \x3clabel for\x3d"nationality"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nationality-label",options):helperMissing.call(depth0,"i18n","nationality-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                    \x3cdiv class\x3d"styled-select oldsize"\x3e                        \x3cselect name\x3d"nationality" id\x3d"nationality" class\x3d"required ke-selectbox" aria-required\x3d"true"\x3e                            \x3coption value\x3d""\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"nationality-default-option",options):helperMissing.call(depth0,"i18n","nationality-default-option",options)))+"\x3c/option\x3e                            "+escapeExpression((helper=helpers["generic-options-nation"]||depth0&&depth0["generic-options-nation"],options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.country,options):helperMissing.call(depth0,"generic-options-nation",
depth0&&depth0.country,options)))+'                        \x3c/select\x3e                    \x3c/div\x3e                \x3c/div\x3e                \x3cdiv class\x3d"form-column-2 gender"\x3e                    \x3cp class\x3d"group-tit" id\x3d"group-tit-gender"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gender-label",options):helperMissing.call(depth0,"i18n","gender-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/p\x3e                    \x3cul class\x3d"mg-t9" role\x3d"group" aria-labelledby\x3d"group-tit-gender"\x3e                        \x3cli role\x3d"presentation"\x3e\x3cinput type\x3d"radio" name\x3d"gender" value\x3d"MALE" aria-required\x3d"true" id\x3d"_gender_1" class\x3d"required"/\x3e\x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e\x3clabel for\x3d"_gender_1"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gender-label-male",options):helperMissing.call(depth0,"i18n","gender-label-male",options)))+'\x3c/label\x3e\x3c/li\x3e                        \x3cli role\x3d"presentation"\x3e\x3cinput type\x3d"radio" name\x3d"gender" value\x3d"FEMALE"  aria-required\x3d"true" id\x3d"_gender_2" class\x3d"required"/\x3e\x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e\x3clabel for\x3d"_gender_2"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"gender-label-female",options):helperMissing.call(depth0,"i18n","gender-label-female",options)))+'\x3c/label\x3e\x3c/li\x3e                    \x3c/ul\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"form-row passport-row-number"\x3e                \x3cdiv class\x3d"form-column-5"\x3e                    \x3clabel for\x3d"issuingCountry"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-issuing-country-label",options):helperMissing.call(depth0,"i18n","checkin-issuing-country-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                    \x3cdiv class\x3d"styled-select oldsize"\x3e                        \x3cselect name\x3d"issuingCountry" id\x3d"issuingCountry" class\x3d"required ke-selectbox"\x3e                            \x3coption value\x3d""\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"country-default-option",options):helperMissing.call(depth0,"i18n","country-default-option",options)))+"\x3c/option\x3e                            "+escapeExpression((helper=helpers["generic-options-nation"]||depth0&&depth0["generic-options-nation"],options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.country,options):helperMissing.call(depth0,"generic-options-nation",depth0&&
depth0.country,options)))+'                        \x3c/select\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"form-row passport-row-number"\x3e                \x3cdiv class\x3d"form-column-5"\x3e                    \x3clabel for\x3d"passport"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"passport-number-label",options):helperMissing.call(depth0,"i18n","passport-number-label",
options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                    \x3cinput type\x3d"text" name\x3d"passport" id\x3d"passport" class\x3d"required vPassportRequired vPassportCheckin" maxlength\x3d"15" /\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"form-row expiration-date"\x3e                \x3cdiv class\x3d"form-column-10"\x3e                    \x3cp class\x3d"group-tit" id\x3d"group-tit-expiration"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"expiration-date",options):helperMissing.call(depth0,"i18n","expiration-date",options)))+' \x3cspan class\x3d"require-ico"\x3e\x3c/span\x3e\x3c/p\x3e                    \x3cdiv role\x3d"group" aria-labelledby\x3d"group-tit-expiration"\x3e                        \x3cinput type\x3d\'date\' name\x3d"expiration-date" id\x3d"expirationDate"                               class\x3d"expiration-date-field required-hidden required vDateAfterFlight"/\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"form-row birth-date"\x3e                \x3cdiv class\x3d"form-column-10"\x3e                    \x3cp class\x3d"group-tit" id\x3d"group-tit-birth"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-of-birth",options):helperMissing.call(depth0,"i18n","date-of-birth",options)))+' \x3cspan class\x3d"require-ico"\x3e\x3c/span\x3e\x3c/p\x3e                    \x3cdiv role\x3d"group" aria-labelledby\x3d"group-tit-birth"\x3e                        \x3cinput class\x3d"birth-date-field DOB vCheckDOB required required-hidden ';stack1=(helper=helpers.compare||depth0&&depth0.compare,options=
{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"!\x3d\x3d","ADULT",options):helperMissing.call(depth0,"compare",depth0&&depth0.type,"!\x3d\x3d","ADULT",options));if(stack1||stack1===0)buffer+=stack1;buffer+='" name\x3d"date-of-birth" type\x3d"date" id\x3d"dateOfBirth" value\x3d"" /\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"form-row passport-country-of-residence"\x3e                \x3cdiv class\x3d"form-column-5"\x3e                    \x3clabel for\x3d"residencyCountry"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"residency-country-label",options):helperMissing.call(depth0,"i18n","residency-country-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                    \x3cdiv class\x3d"styled-select oldsize"\x3e                        \x3cselect name\x3d"residencyCountry" id\x3d"residencyCountry" class\x3d"required ke-selectbox"\x3e                            \x3coption value\x3d""\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"country-default-option",options):helperMissing.call(depth0,"i18n","country-default-option",options)))+"\x3c/option\x3e                            "+escapeExpression((helper=helpers["generic-options-nation"]||depth0&&depth0["generic-options-nation"],options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.country,options):helperMissing.call(depth0,"generic-options-nation",depth0&&
depth0.country,options)))+'                        \x3c/select\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"address-information"\x3e                \x3ch3\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"address-info-label",options):helperMissing.call(depth0,"i18n","address-info-label",options)))+'\x3c/h3\x3e                \x3cdiv class\x3d"extra-info" id\x3d"transit-info"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"transit-additional-information",options):helperMissing.call(depth0,"i18n","transit-additional-information",options)))+'\x3c/div\x3e                \x3cdiv class\x3d"form-row transit-only" id\x3d"us-transit-only"\x3e                    \x3cinput type\x3d"checkbox" name\x3d"transitOnly" value\x3d"true" id\x3d"transitOnly" aria-describedby\x3d"transit-info"/\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"transitOnly"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"transit-only-label",options):helperMissing.call(depth0,"i18n","transit-only-label",options)))+'\x3c/label\x3e                \x3c/div\x3e                \x3cdiv class\x3d"form-row address-block" id\x3d"passenger-address-block"\x3e                    \x3cdiv class\x3d"form-column-6 non-transit-address" id\x3d"pos-address"\x3e                        \x3clabel for\x3d"address"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"address-label",options):helperMissing.call(depth0,"i18n","address-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                        \x3cinput type\x3d"text" name\x3d"address" id\x3d"address" class\x3d"required vAddressRequired" maxlength\x3d"35"/\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"form-column-5"\x3e                        \x3clabel for\x3d"city"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"city-label",options):helperMissing.call(depth0,"i18n","city-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                        \x3cinput type\x3d"text" name\x3d"city" id\x3d"city" class\x3d"required vAddressRequired" maxlength\x3d"35"/\x3e                    \x3c/div\x3e                \x3c/div\x3e                \x3cdiv class\x3d"form-row passport-row-address address-block"\x3e                    \x3cdiv class\x3d"form-column-3 non-transit-address" id\x3d"pos-state"\x3e                        \x3clabel for\x3d"state"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"state-label",options):helperMissing.call(depth0,"i18n","state-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                                                \x3cdiv class\x3d"styled-select oldsize small"\x3e                            \x3cselect name\x3d"state" id\x3d"state" class\x3d"required ke-selectbox"\x3e                                \x3coption value\x3d""\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"state-default-option",options):helperMissing.call(depth0,"i18n","state-default-option",options)))+"\x3c/option\x3e                                "+escapeExpression((helper=helpers["generic-options"]||depth0&&depth0["generic-options"],options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.states,options):helperMissing.call(depth0,"generic-options",depth0&&depth0.states,options)))+
'                            \x3c/select\x3e                        \x3c/div\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"form-column-3 non-transit-address" id\x3d"pos-zip"\x3e                        \x3clabel for\x3d"zip"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"zip-label",options):helperMissing.call(depth0,"i18n","zip-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                        \x3cinput type\x3d"text" name\x3d"zip" id\x3d"zip" class\x3d"required vNumberBlankRequired" maxlength\x3d"8"/\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"form-column-5"\x3e                        \x3clabel for\x3d"destinationCountry"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"country-label",options):helperMissing.call(depth0,"i18n","country-label",options)))+' \x3cspan class\x3d"require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                        \x3cdiv class\x3d"styled-select oldsize"\x3e                            \x3cselect name\x3d"country" id\x3d"destinationCountry" class\x3d"required ke-selectbox" \x3e                                \x3coption value\x3d""\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"country-default-option",options):helperMissing.call(depth0,"i18n","country-default-option",options)))+"\x3c/option\x3e                                "+escapeExpression((helper=helpers["generic-options-nation"]||depth0&&depth0["generic-options-nation"],options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.country,options):helperMissing.call(depth0,"generic-options-nation",
depth0&&depth0.country,options)))+"                            \x3c/select\x3e                        \x3c/div\x3e                    \x3c/div\x3e                \x3c/div\x3e                \x3chr\x3e            \x3c/div\x3e        \x3c/form\x3e    \x3c/div\x3e";stack1=helpers["if"].call(depth0,depth0&&depth0.apis,{hash:{},inverse:self.noop,fn:self.programWithDepth(9,program9,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c!-- /tempalate:checkin-passport-info --\x3e";return buffer});
templates["checkin-search-panel-mobile"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv id\x3d"improved_checkin"\x3e    \x3cdiv class\x3d"title"\x3e        \x3ch2\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"checkin-to-your-flight",options):helperMissing.call(depth0,"i18n","checkin-to-your-flight",options)))+'\x3c/h2\x3e        \x3ca class\x3d"btn_first"\x3e\x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"previous-label",options):helperMissing.call(depth0,"i18n","previous-label",options)))+'\x3c/span\x3e\x3c/a\x3e    \x3c/div\x3e    \x3cdiv class\x3d"search login-content"\x3e            \x3ca class\x3d"medium checkin login" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"login-search-label",options):helperMissing.call(depth0,"i18n","login-search-label",options)))+"\x3c/a\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-not-logged-in",options):helperMissing.call(depth0,"i18n","checkin-not-logged-in",options)))+'    \x3c/div\x3e    \x3cdiv id\x3d"checkin-search-content" class\x3d"search-content"\x3e        \x3cform class\x3d\'checkin-close custom-form\'\x3e            \x3ch3\x3e\x3clabel for\x3d"search-type"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"search-by-label",options):helperMissing.call(depth0,"i18n","search-by-label",options)))+'\x3c/label\x3e\x3c/h3\x3e            \x3cselect id\x3d"search-type" class\x3d"search-type vRequired ticket-search record-locator-search" name\x3d"search-type"\x3e                \x3coption value\x3d"reservation"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"checkin-search-reservation-number",options):helperMissing.call(depth0,"i18n","checkin-search-reservation-number",options)))+'\x3c/option\x3e                \x3coption value\x3d"ticket"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-ticket-number",options):helperMissing.call(depth0,"i18n","checkin-search-ticket-number",options)))+'\x3c/option\x3e                                            \x3c/select\x3e            \x3clabel for\x3d"checkin-record-locator" class\x3d"accessibility-visible-only"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-reservation-number-label",options):helperMissing.call(depth0,"i18n","checkin-search-reservation-number-label",options)))+'\x3c/label\x3e            \x3cinput id\x3d"checkin-record-locator" class\x3d"record-locator record-locator-search vRequired" placeholder\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"checkin-search-record-locator-label",options):helperMissing.call(depth0,"i18n","checkin-search-record-locator-label",options)))+'" name\x3d"record-locator" type\x3d"text" style\x3d"display:block"/\x3e            \x3clabel for\x3d"checkin-ticket-number" class\x3d"accessibility-visible-only"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-reservation-number-label",options):helperMissing.call(depth0,"i18n","checkin-search-reservation-number-label",
options)))+'\x3c/label\x3e            \x3cinput id\x3d"checkin-ticket-number" class\x3d"ticket-search vRequired" placeholder\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-ticket-number-label",options):helperMissing.call(depth0,"i18n","checkin-search-ticket-number-label",options)))+'" name\x3d"ticket-number" type\x3d"text"/\x3e            \x3clabel for\x3d"checkin-flyer-number" class\x3d"accessibility-visible-only"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-frequent-flyer-number-label",options):helperMissing.call(depth0,"i18n","checkin-search-frequent-flyer-number-label",options)))+'\x3c/label\x3e            \x3cinput id\x3d"checkin-flyer-number" class\x3d"flyer-search vRequired" placeholder\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-frequent-flyer-number-label",
options):helperMissing.call(depth0,"i18n","checkin-search-frequent-flyer-number-label",options)))+'" name\x3d"flyer-number" type\x3d"text"/\x3e            \x3cdiv class\x3d"date-container"\x3e                \x3clabel for\x3d"departure-date" class\x3d"accessibility-visible-only ticket-search record-locator-search" \x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"departure-date-label",options):helperMissing.call(depth0,"i18n","departure-date-label",
options)))+'\x3c/label\x3e                \x3cinput id\x3d"departure-date" placeholder\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"search-departure-date-label",options):helperMissing.call(depth0,"i18n","search-departure-date-label",options)))+'" class\x3d"departure-date vRequired icon-left" name\x3d"departure-date" type\x3d"text"/\x3e            \x3c/div\x3e        \x3c/form\x3e        \x3cdiv class\x3d"loading-bar"\x3e            \x3cdiv class\x3d"loading-bar-animation"\x3e\x3c/div\x3e        \x3c/div\x3e        \x3cdiv class\x3d"search-results"\x3e        \x3c/div\x3e        \x3cdiv class\x3d"button-wrapper"\x3e            \x3cdiv class\x3d"error-message"\x3e\x3c/div\x3e            \x3cul class\x3d"error-wrapper"\x3e\x3c/ul\x3e            \x3ca id\x3d"searchCheckin" class\x3d"button" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"button-next",options):helperMissing.call(depth0,"i18n","button-next",options)))+'\x3c/a\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cdiv class\x3d"search search-request"\x3e        '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"see-other-label",options):helperMissing.call(depth0,"i18n","see-other-label",options)))+
' \x3ca class\x3d"medium checkin show-search"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"show-search-options",options):helperMissing.call(depth0,"i18n","show-search-options",options)))+"\x3c/a\x3e    \x3c/div\x3e    \x3c/div\x3e";return buffer});templates["checkin-search-panel"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);
data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3c!-- template: checkin-search-panel --\x3e\x3cdiv class\x3d"checkin-temp" role\x3d"document"\x3e    \x3cdiv class\x3d"dark"\x3e        \x3ch2 id\x3d"checkin-search-panel"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-to-your-flight",options):helperMissing.call(depth0,"i18n","checkin-to-your-flight",
options)))+'\x3c/h2\x3e    \x3c/div\x3e    \x3cdiv class\x3d"dark search login-content"\x3e\x3c/div\x3e        \x3cdiv id\x3d"checkin-search-content" class\x3d"search-content dark"\x3e        \x3cform class\x3d\'checkin-close custom-form\'\x3e            \x3cdiv class\x3d"form-row "\x3e                \x3clabel id\x3d"chk-label" for\x3d"search-type"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"search-by-label",options):helperMissing.call(depth0,
"i18n","search-by-label",options)))+'\x3cspan class\x3d"require-ico"\x3e\x3c/span\x3e\x3c/label\x3e                \x3cdiv\x3e                    \x3cdiv class\x3d"styled-select oldsize"\x3e                        \x3cselect id\x3d"search-type" class\x3d"search-type vRequired ticket-search record-locator-search ke-selectbox" name\x3d"search-type"\x3e                            \x3coption value\x3d"reservation"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"checkin-search-reservation-number",options):helperMissing.call(depth0,"i18n","checkin-search-reservation-number",options)))+'\x3c/option\x3e                            \x3coption value\x3d"ticket"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-ticket-number",options):helperMissing.call(depth0,"i18n","checkin-search-ticket-number",options)))+'\x3c/option\x3e                                                                                \x3c/select\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"form-row"\x3e                        \x3clabel for\x3d"checkin-record-locator"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-rsv-number-label",options):helperMissing.call(depth0,"i18n","UWA-rsv-number-label",options)))+'\x3cspan class\x3d" require-ico"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e                        \x3cdiv class\x3d"posR"\x3e                            \x3cspan data-placeholder-id\x3d"checkin-record-locator" id\x3d"placeholder-chk-1" class\x3d"placeholder-chk"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-record-locator-label",options):helperMissing.call(depth0,"i18n","checkin-search-record-locator-label",options)))+'\x3c/span\x3e                            \x3cinput id\x3d"checkin-record-locator" aria-describedby\x3d"placeholder-chk-1"  class\x3d"record-locator record-locator-search vRequired" type\x3d"text" style\x3d"display:block"/\x3e                        \x3c/div\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"date-container input-area"\x3e                    \x3c/div\x3e                \x3c/div\x3e                \x3cdiv class\x3d"errorMessageContainer checkin-error"\x3e\x3c/div\x3e            \x3c/div\x3e        \x3c/form\x3e        \x3cdiv class\x3d"loading-wrap"\x3e\x3c/div\x3e        \x3cdiv class\x3d"search-results"\x3e        \x3c/div\x3e        \x3cdiv class\x3d"button-wrapper"\x3e            \x3cbutton id\x3d"searchCheckin" class\x3d"search button-search button-main-white" \x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"button-next",options):helperMissing.call(depth0,"i18n","button-next",options)))+'\x3c/button\x3e        \x3c/div\x3e        \x3cdiv class\x3d"notice"\x3e            \x3ch3\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"notice-label",options):helperMissing.call(depth0,"i18n","notice-label",options)))+"\x3c/h3\x3e            \x3cul\x3e                \x3cli\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"search-counter-close-time-info",options):helperMissing.call(depth0,"i18n","search-counter-close-time-info",options)))+"\x3c/li\x3e                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"search-gate-close-time-info",options):helperMissing.call(depth0,"i18n","search-gate-close-time-info",options)))+'\x3c/li\x3e            \x3c/ul\x3e        \x3c/div\x3e    \x3c/div\x3e        \x3cdiv id\x3d"checkin-close" class\x3d"close-container dark"\x3e        \x3cbutton  class\x3d"checkin-close"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Close",options):helperMissing.call(depth0,"i18n","Close",options)))+"\x3c/button\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!--// template: checkin-search-panel --\x3e";return buffer});templates["checkin-search-results"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,
helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var buffer="",stack1;buffer+="        ";stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";return buffer}function program2(depth0,data){var buffer="",stack1;buffer+="          ";stack1=helpers["if"].call(depth0,depth0&&depth0.reservationInfoList,
{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3ctr class\x3d"reservation-display checkin search"\x3e                \x3cth scope\x3d"row"\x3e                    '+escapeExpression((helper=helpers.cityName||depth0&&depth0.cityName,options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,
stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),options):helperMissing.call(depth0,"cityName",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),options)))+" ("+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),
typeof stack1===functionType?stack1.apply(depth0):stack1))+')                    \x3cspan aria-hidden\x3d"true"\x3e\x26rarr;\x3c/span\x3e\x3cstrong class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-nonmember-to",options):helperMissing.call(depth0,"i18n","rsrv-search-nonmember-to",options)))+"\x3c/strong\x3e\x3cbr/\x3e                    "+escapeExpression((helper=helpers.cityName||depth0&&depth0.cityName,
options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),options):helperMissing.call(depth0,"cityName",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),options)))+" ("+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.reservationInfoList,
stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),typeof stack1===functionType?stack1.apply(depth0):stack1))+")                \x3c/th\x3e                \x3ctd\x3e                    "+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"dddd","withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),
stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options)))+"                    \x3cbr/\x3e                    "+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"MM/DD/YY","withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&
depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options)))+"                \x3c/td\x3e                \x3ctd\x3e                    "+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"HH:mm",
"withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options)))+'                \x3c/td\x3e                \x3ctd\x3e                    \x3cspan class\x3d"recLocNum"\x3e';
if(helper=helpers.recLocNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.recLocNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/span\x3e                \x3c/td\x3e                \x3ctd class\x3d"endtd"\x3e                    \x3ca class\x3d"checkin checkin-label search skypass"                    data-reservation-code\x3d"';if(helper=helpers.recLocNumber)stack1=helper.call(depth0,{hash:{},
data:data});else{helper=depth0&&depth0.recLocNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"                    data-date\x3d"'+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"YYYY-MM-DD","withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:
stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options)))+'"                    href\x3d"'+escapeExpression((helper=helpers.jsConstant||depth0&&depth0.jsConstant,options={hash:{},data:data},helper?helper.call(depth0,"koreanair.Navigation.Booking.misc.checkIn",options):helperMissing.call(depth0,"jsConstant","koreanair.Navigation.Booking.misc.checkIn",
options)))+escapeExpression((helper=helpers.mobileAppData||depth0&&depth0.mobileAppData,options={hash:{"head":"?"},data:data},helper?helper.call(depth0,options):helperMissing.call(depth0,"mobileAppData",options)))+"#check-in?reservationCode\x3d";if(helper=helpers.recLocNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.recLocNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x26amp;departureDate\x3d"+
escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"YYYY-MM-DD","withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),
options)))+'"\x3e                        '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-button-label",options):helperMissing.call(depth0,"i18n","checkin-button-label",options)))+"                    \x3c/a\x3e                \x3c/td\x3e            \x3c/tr\x3e          ";return buffer}function program5(depth0,data){var buffer="",helper,options;buffer+='        \x3ctr\x3e            \x3ctd colspan\x3d"5" class\x3d"emptylist"\x3e                '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"no-data-found",options):helperMissing.call(depth0,"i18n","no-data-found",options)))+"            \x3c/td\x3e        \x3c/tr\x3e    ";return buffer}buffer+='\x3ctable id\x3d"checkin-reservation-list"\x3e    \x3ccaption\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-checkin-result-list",
options):helperMissing.call(depth0,"i18n","UWA-checkin-result-list",options)))+'\x3c/span\x3e\x3c/caption\x3e    \x3ccolgroup\x3e        \x3ccol style\x3d"width:40%"/\x3e \x3ccol style\x3d"width:15%" span\x3d"4"/\x3e    \x3c/colgroup\x3e    \x3cthead\x3e        \x3ctr class\x3d"checkin-reservation-headers"\x3e            \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-label",options):helperMissing.call(depth0,
"i18n","flight-label",options)))+'\x3c/th\x3e            \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"date-label",options):helperMissing.call(depth0,"i18n","date-label",options)))+'\x3c/th\x3e            \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-label",options):helperMissing.call(depth0,"i18n","time-label",
options)))+'\x3c/th\x3e            \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"reservation-num-label",options):helperMissing.call(depth0,"i18n","reservation-num-label",options)))+'\x3c/th\x3e            \x3cth class\x3d"endtd" role\x3d"presentation"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-button-label",options):helperMissing.call(depth0,
"i18n","checkin-button-label",options)))+"\x3c/th\x3e        \x3c/tr\x3e    \x3c/thead\x3e    \x3ctbody\x3e    ";stack1=helpers["if"].call(depth0,depth0&&depth0.length,{hash:{},inverse:self.program(5,program5,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/tbody\x3e\x3c/table\x3e";return buffer});templates["checkin-seat-select"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,
Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='\x3ctr class\x3d"user-unable-select default"\x3e    \x3ctd\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selection-unavailable",options):helperMissing.call(depth0,"i18n","seat-selection-unavailable",
options)))+"\x3c/td\x3e\x3c/tr\x3e";return buffer}function program3(depth0,data){var buffer="",stack1;buffer+="    ";stack1=helpers.each.call(depth0,depth0&&depth0.rows,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer}function program4(depth0,data){var buffer="",stack1,helper,options;buffer+='    \x3ctr tabindex\x3d"0" class\x3d"seating-row ';stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,
fn:self.program(5,program5,data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"\x3d\x3d\x3d","FACILITY",options):helperMissing.call(depth0,"compare",depth0&&depth0.type,"\x3d\x3d\x3d","FACILITY",options));if(stack1||stack1===0)buffer+=stack1;buffer+=" ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"\x3d\x3d\x3d","COLUMN_LABEL",options):helperMissing.call(depth0,
"compare",depth0&&depth0.type,"\x3d\x3d\x3d","COLUMN_LABEL",options));if(stack1||stack1===0)buffer+=stack1;buffer+='"        aria-label\x3d"'+escapeExpression((helper=helpers["row-summary"]||depth0&&depth0["row-summary"],options={hash:{},data:data},helper?helper.call(depth0,depth0,options):helperMissing.call(depth0,"row-summary",depth0,options)))+'" \x3e        ';stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.program(11,program11,data),fn:self.program(9,program9,
data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"EXIT",options):helperMissing.call(depth0,"contains",depth0&&depth0.type,"EXIT",options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/tr\x3e    ";return buffer}function program5(depth0,data){return"facility"}function program7(depth0,data){return"column-row"}function program9(depth0,data){var buffer="",helper,options;buffer+="            "+escapeExpression((helper=helpers.exitRow||depth0&&depth0.exitRow,options={hash:{},data:data},
helper?helper.call(depth0,depth0,data==null||data===false?data:data.cabin,options):helperMissing.call(depth0,"exitRow",depth0,data==null||data===false?data:data.cabin,options)))+"        ";return buffer}function program11(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3ctd class\x3d"side-row-num ';stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data},helper?helper.call(depth0,depth0&&depth0.rowCharacteristics,
"OVERWING",options):helperMissing.call(depth0,"contains",depth0&&depth0.rowCharacteristics,"OVERWING",options));if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e                \x3ch4\x3e'+escapeExpression((stack1=depth0&&depth0.rowIndex,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/h4\x3e            \x3c/td\x3e        ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(16,program16,data),fn:self.program(14,program14,data),data:data},
helper?helper.call(depth0,depth0&&depth0.type,"\x3d\x3d\x3d","FACILITY",options):helperMissing.call(depth0,"compare",depth0&&depth0.type,"\x3d\x3d\x3d","FACILITY",options));if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3ctd class\x3d"side-row-num ';stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(59,program59,data),data:data},helper?helper.call(depth0,depth0&&depth0.rowCharacteristics,"OVERWING",options):helperMissing.call(depth0,
"contains",depth0&&depth0.rowCharacteristics,"OVERWING",options));if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e            \x3ch4\x3e'+escapeExpression((stack1=depth0&&depth0.rowIndex,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/h4\x3e        \x3c/td\x3e        ";return buffer}function program12(depth0,data){return"window-left"}function program14(depth0,data){var buffer="",helper,options;buffer+="            "+escapeExpression((helper=helpers.facilityRow||depth0&&depth0.facilityRow,
options={hash:{},data:data},helper?helper.call(depth0,depth0,data==null||data===false?data:data.cabin,options):helperMissing.call(depth0,"facilityRow",depth0,data==null||data===false?data:data.cabin,options)))+"        ";return buffer}function program16(depth0,data){var buffer="",stack1;buffer+="            ";stack1=helpers.each.call(depth0,depth0&&depth0.columns,{hash:{},inverse:self.noop,fn:self.program(17,program17,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}
function program17(depth0,data){var buffer="",stack1,helper,options;buffer+="                ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.program(20,program20,data),fn:self.program(18,program18,data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"COLUMN_LABEL",options):helperMissing.call(depth0,"contains",depth0&&depth0.type,"COLUMN_LABEL",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program18(depth0,
data){var buffer="",stack1;buffer+='                \x3cth class\x3d"row-num" scope\x3d"col"\x3e                    \x3ch4 class\x3d"seating-column column-title"\x3e'+escapeExpression((stack1=depth0&&depth0.columnLocation,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/h4\x3e                \x3c/th\x3e                ";return buffer}function program20(depth0,data){var buffer="",stack1,helper,options;buffer+="                    \x3ctd ";stack1=helpers["if"].call(depth0,depth0&&depth0.seatName,
{hash:{},inverse:self.noop,fn:self.program(21,program21,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.available,{hash:{},inverse:self.noop,fn:self.program(23,program23,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                      ";stack1=helpers["if"].call(depth0,depth0&&depth0.available,{hash:{},inverse:self.noop,fn:self.program(25,program25,data),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+='        class\x3d"seating-column            '+escapeExpression((helper=helpers.lowercase||depth0&&depth0.lowercase,options={hash:{},data:data},helper?helper.call(depth0,(stack1=data==null||data===false?data:data.cabin,stack1==null||stack1===false?stack1:stack1.cabinClass),options):helperMissing.call(depth0,"lowercase",(stack1=data==null||data===false?data:data.cabin,stack1==null||stack1===false?stack1:stack1.cabinClass),options)))+"            "+escapeExpression((helper=helpers.lowercase||
depth0&&depth0.lowercase,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.type,options):helperMissing.call(depth0,"lowercase",depth0&&depth0.type,options)))+" ";stack1=helpers["if"].call(depth0,depth0&&depth0.available,{hash:{},inverse:self.program(29,program29,data),fn:self.program(27,program27,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=helpers["if"].call(depth0,depth0&&depth0.facilityType,{hash:{},inverse:self.noop,fn:self.program(31,
program31,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(33,program33,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"GALLEY",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"GALLEY",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,
options={hash:{},inverse:self.noop,fn:self.program(35,program35,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"LAVATORY",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"LAVATORY",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(37,program37,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,
"CLOSET",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"CLOSET",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(39,program39,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"NO_SEAT",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"NO_SEAT",options));if(stack1||stack1===0)buffer+=stack1;
buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(41,program41,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"BASSINET",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"BASSINET",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(43,program43,
data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"HANDICAPPED",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"HANDICAPPED",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(45,program45,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"WINDOW_AISLE",options):helperMissing.call(depth0,"contains",
depth0&&depth0.characteristics,"WINDOW_AISLE",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(45,program45,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"WINDOW",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"WINDOW",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||
depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(47,program47,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"WINDOW_SEAT_NO_WINDOW",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"WINDOW_SEAT_NO_WINDOW",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(47,program47,data),data:data},helper?
helper.call(depth0,depth0&&depth0.characteristics,"NON_WINDOW",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"NON_WINDOW",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(45,program45,data),data:data},helper?helper.call(depth0,depth0&&depth0.columnCharacteristics,"WINDOW_AISLE",options):helperMissing.call(depth0,"contains",depth0&&depth0.columnCharacteristics,
"WINDOW_AISLE",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(45,program45,data),data:data},helper?helper.call(depth0,depth0&&depth0.columnCharacteristics,"WINDOW",options):helperMissing.call(depth0,"contains",depth0&&depth0.columnCharacteristics,"WINDOW",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,
options={hash:{},inverse:self.noop,fn:self.program(49,program49,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"CHARGEABLE_SEATS",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"CHARGEABLE_SEATS",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(51,program51,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,
"PREFERENTIAL_SEATS",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"PREFERENTIAL_SEATS",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(53,program53,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"LEFT_SIDE",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"LEFT_SIDE",options));if(stack1||
stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.contains||depth0&&depth0.contains,options={hash:{},inverse:self.noop,fn:self.program(55,program55,data),data:data},helper?helper.call(depth0,depth0&&depth0.characteristics,"RIGHT_SIDE",options):helperMissing.call(depth0,"contains",depth0&&depth0.characteristics,"RIGHT_SIDE",options));if(stack1||stack1===0)buffer+=stack1;buffer+='" \x3e                    ';stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},
inverse:self.noop,fn:self.program(57,program57,data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"\x3d\x3d\x3d","SEAT",options):helperMissing.call(depth0,"compare",depth0&&depth0.type,"\x3d\x3d\x3d","SEAT",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/td\x3e                ";return buffer}function program21(depth0,data){var buffer="",stack1;buffer+=' data-seat-number\x3d"'+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" ';return buffer}function program23(depth0,data){return'tabindex\x3d"0"'}function program25(depth0,data){return'                          role\x3d"checkbox"                          aria-checked\x3d"false"                          aria-live\x3d"polite"                      '}function program27(depth0,data){return"available "}function program29(depth0,data){return"unavailable"}function program31(depth0,data){var helper,options;return escapeExpression((helper=helpers.lowercase||depth0&&depth0.lowercase,
options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.facilityType,options):helperMissing.call(depth0,"lowercase",depth0&&depth0.facilityType,options)))}function program33(depth0,data){return"galley"}function program35(depth0,data){return"lavatory"}function program37(depth0,data){return"closet"}function program39(depth0,data){return"noSeat"}function program41(depth0,data){return"has-bassinet"}function program43(depth0,data){return"has-handicapped"}function program45(depth0,data){return"window"}
function program47(depth0,data){return"no-window"}function program49(depth0,data){return"chargeable"}function program51(depth0,data){return"preferential"}function program53(depth0,data){return"left-side"}function program55(depth0,data){return"right-side"}function program57(depth0,data){var buffer="",stack1,helper,options;buffer+='                                                \x3cimg class\x3d"economy-child unavailable has-bassinet" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/Bassinet_New_Unavailable.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'"/\x3e                        \x3cimg class\x3d"economy-child available has-bassinet" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/Bassinet_New_Available.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"economy-child companion has-bassinet" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/Bassinet_New_MyGroup.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,
"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,
"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,
typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"prestige-child unavailable has-bassinet" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/Bassinet_Prest_Unavailable.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-label",options):helperMissing.call(depth0,"i18n","prestige-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,
"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-label",
options):helperMissing.call(depth0,"i18n","prestige-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"/\x3e                        \x3cimg class\x3d"prestige-child available has-bassinet" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/Bassinet_Prest_Available.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-label",options):helperMissing.call(depth0,"i18n","prestige-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-label",options):helperMissing.call(depth0,"i18n","prestige-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,
"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"prestige-child companion has-bassinet" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/Bassinet_Prest_MyGroup.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-label",options):helperMissing.call(depth0,"i18n","prestige-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"prestige-label",options):helperMissing.call(depth0,"i18n","prestige-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bassinet-label",options):helperMissing.call(depth0,
"i18n","bassinet-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"economy-wheelchair unavailable has-handicapped" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/wheelchair_unavailable.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-wheelchair",options):helperMissing.call(depth0,"i18n","WA-seat-wheelchair",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-wheelchair",options):helperMissing.call(depth0,"i18n","WA-seat-wheelchair",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'"/\x3e                        \x3cimg class\x3d"economy-wheelchair available has-handicapped" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/wheelchair_available.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-wheelchair",options):helperMissing.call(depth0,"i18n","WA-seat-wheelchair",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-wheelchair",options):helperMissing.call(depth0,"i18n","WA-seat-wheelchair",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):
stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"economy-wheelchair companion has-handicapped" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/wheelchair_mygroup.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-wheelchair",options):helperMissing.call(depth0,"i18n","WA-seat-wheelchair",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-wheelchair",options):helperMissing.call(depth0,
"i18n","WA-seat-wheelchair",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                           \x3cimg class\x3d"economy unavailable" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/unavailable-economy.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-economy-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-economy-class-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-economy-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-economy-class-label",options)))+" "+escapeExpression((stack1=
depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"/\x3e                        \x3cimg class\x3d"economy available" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/available-economy.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-economy-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-economy-class-label",options)))+"  "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-economy-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-economy-class-label",options)))+"  "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===
functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"economy companion" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/mygroup-economy.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-economy-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-economy-class-label",options)))+"  "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-economy-class-label",
options):helperMissing.call(depth0,"i18n","WA-seat-economy-class-label",options)))+"  "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"prestige unavailable" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/unavailable-prestige.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-prestige-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-prestige-class-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-prestige-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-prestige-class-label",options)))+" "+escapeExpression((stack1=
depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"/\x3e                        \x3cimg class\x3d"prestige available" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/available-prestige.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-prestige-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-prestige-class-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-prestige-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-prestige-class-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===
functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"prestige companion" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/mygroup-prestige.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-prestige-class-label",options):helperMissing.call(depth0,"i18n","WA-seat-prestige-class-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-prestige-class-label",
options):helperMissing.call(depth0,"i18n","WA-seat-prestige-class-label",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"first unavailable" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/unavailable-firstclass-r.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-right",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-right",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-right",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-right",options)))+" "+
escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"/\x3e                        \x3cimg class\x3d"first available"   src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/available-firstclass-r.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-right",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-right",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",
options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-right",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-right",options)))+" "+escapeExpression((stack1=
depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"first companion"   src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/mygroup-firstclass-r.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-right",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-right",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-right",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-right",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"first unavailable seat-left" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/unavailable-firstclass-l.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-left",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-left",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-left",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-left",options)))+" "+escapeExpression((stack1=
depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"/\x3e                        \x3cimg class\x3d"first available seat-left"  src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/available-firstclass-l.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-left",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-left",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+
'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-left",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-left",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,
typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                        \x3cimg class\x3d"first companion seat-left" src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/mygroup-firstclass-l.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-seat-class-firstclass-left",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-left",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,"i18n","seat-selected-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"WA-seat-class-firstclass-left",options):helperMissing.call(depth0,"i18n","WA-seat-class-firstclass-left",options)))+" "+escapeExpression((stack1=depth0&&depth0.seatName,typeof stack1===functionType?stack1.apply(depth0):stack1))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select",options):helperMissing.call(depth0,"i18n","WA-btn-select",options)))+'"/\x3e                    ';return buffer}function program59(depth0,
data){return"window-right"}buffer+='\x3c!-- temaplat:checkin-seat-select --\x3e\x3ccaption\x3e\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"table-seat-select-caption",options):helperMissing.call(depth0,"i18n","table-seat-select-caption",options)))+" - "+escapeExpression((stack1=depth0&&depth0.tableRowsList,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/span\x3e\x3c/caption\x3e";
stack1=helpers.unless.call(depth0,depth0&&depth0.cabins,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3ctr class\x3d"user-unable-select infant" style\x3d"display:none"\x3e    '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"user-unable-select-seats-infant",options):helperMissing.call(depth0,"i18n","user-unable-select-seats-infant",options)))+"\x3c/tr\x3e";stack1=
(helper=helpers.bindEach||depth0&&depth0.bindEach,options={hash:{"bindTo":"cabin"},inverse:self.noop,fn:self.program(3,program3,data),data:data},helper?helper.call(depth0,depth0&&depth0.cabins,options):helperMissing.call(depth0,"bindEach",depth0&&depth0.cabins,options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c!-- //temaplat:checkin-seat-select --\x3e";return buffer});templates["checkin-seat-selection-legend"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,
"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"seat-selection-legend" aria-hidden\x3d"true"\x3e\x3c!--US DOT 수정--\x3e    \x3cul\x3e        \x3cli\x3e            \x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selected-label",options):helperMissing.call(depth0,
"i18n","seat-selected-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/mygroup-economy.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-available-label",options):helperMissing.call(depth0,"i18n","seat-available-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/available-economy.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-taken-label",options):helperMissing.call(depth0,"i18n","seat-taken-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/unavailable-economy.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"bassinet-label",options):helperMissing.call(depth0,"i18n","bassinet-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/unavailable-bassinet.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"galley-label",options):helperMissing.call(depth0,"i18n","galley-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/legend-galley.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"toilets-label",options):helperMissing.call(depth0,"i18n","toilets-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/legend-lavatory.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"stairs-label",
options):helperMissing.call(depth0,"i18n","stairs-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/legend-stairs.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wing-label",options):helperMissing.call(depth0,"i18n","wing-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/legend-right-wing.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bar-label",options):helperMissing.call(depth0,"i18n","bar-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/legend-bar.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"no-window-label",
options):helperMissing.call(depth0,"i18n","no-window-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/no-window.png" alt\x3d""\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cspan\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"duty-free-label",options):helperMissing.call(depth0,"i18n","duty-free-label",options)))+'\x3c/span\x3e            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/seating-chart/duty-free.png" alt\x3d""\x3e        \x3c/li\x3e    \x3c/ul\x3e\x3c/div\x3e';
return buffer});templates["checkin-seat-selection-page"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+="       "+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},
helper?helper.call(depth0,"checkin-seat-selection-legend",options):helperMissing.call(depth0,"include","checkin-seat-selection-legend",options)))+"    ";return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3cdiv class\x3d"legendary"\x3e                \x3cdiv class\x3d"legendary-title"\x3e                    '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seat-selection-legend-label",
options):helperMissing.call(depth0,"i18n","seat-selection-legend-label",options)));stack1=(helper=helpers.mobileIs||depth0&&depth0.mobileIs,options={hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data},helper?helper.call(depth0,true,options):helperMissing.call(depth0,"mobileIs",true,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/div\x3e                "+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},data:data},helper?
helper.call(depth0,"checkin-seat-selection-legend",options):helperMissing.call(depth0,"include","checkin-seat-selection-legend",options)))+"            \x3c/div\x3e        ";return buffer}function program4(depth0,data){var buffer="",helper,options;buffer+=" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open",options):helperMissing.call(depth0,"i18n","Open",options)));return buffer}buffer+='\x3cdiv class\x3d"checkin-header"\x3e     \x3ch1 class\x3d"light"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-seat-selection-title",options):helperMissing.call(depth0,"i18n","checkin-seat-selection-title",options)))+'\x3c/h1\x3e    \x3cp class\x3d"subtxt light"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-seat-selection-description",options):helperMissing.call(depth0,"i18n","checkin-seat-selection-description",
options)))+'\x3c/p\x3e\x3c/div\x3e\x3cdiv id\x3d"seat-selection-page" class\x3d"seat-selection-page"\x3e    \x3cdiv class\x3d"flight-wrapper"\x3e    \x3c/div\x3e    ';stack1=(helper=helpers.mobileIs||depth0&&depth0.mobileIs,options={hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data},helper?helper.call(depth0,false,options):helperMissing.call(depth0,"mobileIs",false,options));if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cdiv class\x3d"seat-full-width"\x3e        \x3cdiv class\x3d"passenger-panel-wrapper"\x3e        \x3c/div\x3e        \x3cdiv class\x3d"plane-panel-wrapper"\x3e        \x3c/div\x3e        ';
stack1=(helper=helpers.mobileIs||depth0&&depth0.mobileIs,options={hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data},helper?helper.call(depth0,true,options):helperMissing.call(depth0,"mobileIs",true,options));if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3cdiv class\x3d"seat-selection-panel-wrapper-wrapper"\x3e            \x3cdiv class\x3d"upper-deck-panel"\x3e\x3c/div\x3e            \x3cdiv class\x3d"seat-selection-panel-wrapper"\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e';
return buffer});templates["checkin-step-indicator"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cli class\x3d"tabbar-option ';stack1=helpers["if"].call(depth0,depth0&&
depth0.isSelected,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=" ";stack1=helpers["if"].call(depth0,depth0&&depth0.isDisabled,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e                        \x3cdiv class\x3d"step-info"\x3e                            \x3cdiv class\x3d"bookingStep number'+escapeExpression((helper=helpers.plusOne||depth0&&depth0.plusOne,
options={hash:{},data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,options):helperMissing.call(depth0,"plusOne",data==null||data===false?data:data.index,options)))+'"\x3e                                ';stack1=helpers["if"].call(depth0,depth0&&depth0.isSelected,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                "+escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,
options={hash:{},data:data},helper?helper.call(depth0,"checkin","step",depth0&&depth0.name,options):helperMissing.call(depth0,"i18nConcat","checkin","step",depth0&&depth0.name,options)))+"                            \x3c/div\x3e                        \x3c/div\x3e                    \x3c/li\x3e                ";return buffer}function program2(depth0,data){return"selected"}function program4(depth0,data){return"disabled"}function program6(depth0,data){var buffer="",helper,options;buffer+='\x3cspan class\x3d"offscreen"\x3e\x26nbsp;'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-currentStep",options):helperMissing.call(depth0,"i18n","UWA-currentStep",options)))+"\x26nbsp;\x3c/span\x3e";return buffer}buffer+='\x3c!-- template:checkin-step-indicator --\x3e\x3cdiv class\x3d"checkinProgressBar white-bar"\x3e    \x3cdiv id\x3d"checkinHUD"\x3e        \x3cdiv class\x3d"tabbar"\x3e            \x3col\x3e                ';stack1=helpers.each.call(depth0,depth0&&depth0.steps,
{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3c/ol\x3e        \x3c/div\x3e        \x3cdiv class\x3d"close-step-indicator"\x3e            \x3cbutton class\x3d"checkin-close"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"button-start-over",options):helperMissing.call(depth0,"i18n","button-start-over",options)))+"\x3c/button\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!--// template:checkin-step-indicator --\x3e";
return buffer});templates["checkin-summary-page"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"checkin-header complete"\x3e     \x3ch1\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"checkin-summary-title",options):helperMissing.call(depth0,"i18n","checkin-summary-title",options)))+"\x3c/h1\x3e    \x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-summary-description",options):helperMissing.call(depth0,"i18n","checkin-summary-description",options)))+'\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"checkin-summary"\x3e      '+escapeExpression((helper=helpers.include||depth0&&depth0.include,options={hash:{},
data:data},helper?helper.call(depth0,"checkin-mini-reservation",options):helperMissing.call(depth0,"include","checkin-mini-reservation",options)))+'\x3c/div\x3e\x3cdiv class\x3d"checkin-agreement keForm light"\x3e    \x3cdiv class\x3d"posR"\x3e       \x3cinput id\x3d"agreement-restrictions" name\x3d"agreement-restrictions" type\x3d\'checkbox\'\x3e       \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e       \x3clabel for\x3d"agreement-restrictions" class\x3d"replace-me" data-replace-key\x3d"confirmationLegalText"\x3e       '+
escapeExpression((helper=helpers.legalContentBaggage||depth0&&depth0.legalContentBaggage,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.legalConfirmation),options):helperMissing.call(depth0,"legalContentBaggage",(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.legalConfirmation),options)))+' \x3cspan class\x3d"require-ico"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e        \x3c/label\x3e   \x3c/div\x3e    \x3cdiv id\x3d"summaryVerify" style\x3d"display:none"  class\x3d"posR"\x3e        \x3cinput id\x3d"agreement-legal" name\x3d"agreement-legal" type\x3d"checkbox"\x3e        \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e        \x3clabel for\x3d"agreement-legal"\x3e'+escapeExpression((helper=helpers.legalContent||depth0&&depth0.legalContent,
options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.summaryVerify),options):helperMissing.call(depth0,"legalContent",(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.summaryVerify),options)))+' \x3cspan class\x3d"require-ico"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",
options)))+'\x3c/span\x3e\x3c/label\x3e   \x3c/div\x3e    \x3cdiv id\x3d"summaryVerify-domestic" style\x3d"display:none"  class\x3d"posR"\x3e        \x3cinput id\x3d"agreement-domestic-legal" name\x3d"agreement-domestic-legal" type\x3d"checkbox"\x3e        \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e        \x3clabel for\x3d"agreement-domestic-legal"\x3e'+escapeExpression((helper=helpers.legalContent||depth0&&depth0.legalContent,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&
depth0.legal,stack1==null||stack1===false?stack1:stack1.summaryVerifyDomestic),options):helperMissing.call(depth0,"legalContent",(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.summaryVerifyDomestic),options)))+' \x3cspan class\x3d"require-ico"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e    \x3c/div\x3e   \x3cdiv id\x3d"confirm-passenger-domestic" style\x3d"display:none"  class\x3d"posR"\x3e       \x3cinput id\x3d"confirm-actual-passenger" name\x3d"confirm-actual-passenger" type\x3d"checkbox"\x3e       \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e       \x3clabel for\x3d"confirm-actual-passenger"\x3e '+
escapeExpression((helper=helpers.legalContent||depth0&&depth0.legalContent,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.koreanAirport),options):helperMissing.call(depth0,"legalContent",(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.koreanAirport),options)))+' \x3cspan class\x3d"require-ico"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e\x3c/label\x3e   \x3c/div\x3e    \x3cdiv class\x3d"errorMessageContainer checkin-error"\x3e\x3c/div\x3e    \x3cdiv class\x3d"button-holder"\x3e    \x3c/div\x3e\x3c/div\x3e';return buffer});templates["checkin-summary"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="";buffer+='\x3cdiv class\x3d"checkin-header"\x3e     \x3ch1 class\x3d"light"\x3eCheck In Summary Review\x3c/h1\x3e    \x3cinput name\x3d"restrictions" id\x3d"restrictions" type\x3d\'checkbox\'\x3e \x3clabel for\x3d\'restrictions\'\x3eI have read and under stood the restrictions....\x3c/label\x3e    \x3cinput name\x3d"agreement" id\x3d"agreement" type\x3d\'checkbox\'\x3e \x3clabel for\x3d\'agreement\'\x3eI have read and agreed to the....\x3c/label\x3e\x3c/div\x3e';
return buffer});templates["checkin-wrapper"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this,blockHelperMissing=helpers.blockHelperMissing;function program1(depth0,data){return"    "}function program3(depth0,data){var buffer="",helper,options;buffer+=
'            \x3cdiv class\x3d"seatmap-change-info"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"seatmap-change-info-label",options):helperMissing.call(depth0,"i18n","seatmap-change-info-label",options)))+"\x3c/div\x3e            ";return buffer}function program5(depth0,data){var stack1,helper;if(helper=helpers.homepage)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.homepage;stack1=typeof helper===
functionType?helper.call(depth0,{hash:{},data:data}):helper}return escapeExpression(stack1)}function program7(depth0,data){return"javascript:koreanair.goGate()"}buffer+='\x3c!-- template:checkin-wrapper --\x3e\x3cdiv id\x3d"checkin-wrapper-content" class\x3d"checkin-wrapper-content"\x3e    ';stack1=helpers["if"].call(depth0,depth0&&depth0.showCancelBar,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cdiv class\x3d"info-border"\x3e        \x3cdiv class\x3d"checkin-content cf"\x3e            \x3cdiv class\x3d"checkin-passenger-selection"\x3e                            \x3c/div\x3e            \x3cdiv class\x3d"checkin-passenger-info"\x3e                            \x3c/div\x3e            \x3cdiv class\x3d"checkin-seat-selection"\x3e                            \x3c/div\x3e            \x3cdiv class\x3d"errorMessageContainer checkin-error"\x3e\x3c/div\x3e        \x3c/div\x3e        \x3cdiv class\x3d"one-offs cf custom-form keForm"\x3e            \x3cdiv id\x3d"regulatory-one-off" class\x3d"bd-wrap"\x3e                \x3cdiv  class\x3d"posR"\x3e                    \x3cinput id\x3d"confirm-passenger-data" type\x3d"checkbox" name\x3d"confirm-passenger-data" value\x3d""\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel class\x3d"checkbox-wrapper" for\x3d"confirm-passenger-data"\x3e                        '+
escapeExpression((helper=helpers.legalContent||depth0&&depth0.legalContent,options={hash:{},data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.validatePassengerInternational),options):helperMissing.call(depth0,"legalContent",(stack1=depth0&&depth0.legal,stack1==null||stack1===false?stack1:stack1.validatePassengerInternational),options)))+'\x3cspan class\x3d"require-ico"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"UWA-required",options):helperMissing.call(depth0,"i18n","UWA-required",options)))+'\x3c/span\x3e                    \x3c/label\x3e                \x3c/div\x3e                \x3cdiv class\x3d"errorMessageContainer checkin-error"\x3e\x3c/div\x3e            \x3c/div\x3e                    \x3c/div\x3e        \x3cdiv class\x3d"checkinInfo-error"\x3e            \x3cdiv class\x3d"errorTextContainer" role\x3d"alert" aria-live\x3d"assertive"\x3e\x3c/div\x3e        \x3c/div\x3e        \x3cdiv class\x3d"checkin-navigation"\x3e                        ';
stack1=helpers.unless.call(depth0,depth0&&depth0.isCheckinPage,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3cdiv id\x3d"checkin-button-placement"\x3e                \x3ca class\x3d"button-main-gray start-over medium last-page next-flight all-passengers last-passenger per-passenger" href\x3d"#" role\x3d"button" id\x3d"tlf_checkinStartOver"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"button-start-over",options):helperMissing.call(depth0,"i18n","button-start-over",options)))+'\x3c/a\x3e\x26nbsp;                \x3ca class\x3d"button-main-blue medium last-page go-home" href\x3d"';options={hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data};if(helper=helpers.isNotMobileZone)stack1=helper.call(depth0,options);else{helper=depth0&&depth0.isNotMobileZone;stack1=typeof helper===functionType?helper.call(depth0,
options):helper}if(!helpers.isNotMobileZone)stack1=blockHelperMissing.call(depth0,stack1,{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-go-home",options):helperMissing.call(depth0,"i18n","checkin-go-home",options)))+'\x3c/a\x3e                \x3ca href\x3d"#" class\x3d"button button-main-blue medium next-passenger per-passenger" role\x3d"button" id\x3d"tlf_checkinNextPax"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"button-next-passenger",options):helperMissing.call(depth0,"i18n","button-next-passenger",options)))+'\x3c/a\x3e                \x3ca href\x3d"#" class\x3d"button button-main-blue medium next-flight per-flight" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"button-next-flight",options):helperMissing.call(depth0,
"i18n","button-next-flight",options)))+'\x3c/a\x3e                \x3ca href\x3d"#" class\x3d"button button-main-blue medium next last-passenger all-passengers" role\x3d"button" id\x3d"tlf_checkinNext"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"button-next",options):helperMissing.call(depth0,"i18n","button-next",options)))+'\x3c/a\x3e                \x3ca href\x3d"#" class\x3d"button button-main-blue medium complete" role\x3d"button"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"button-next-checkin",options):helperMissing.call(depth0,"i18n","button-next-checkin",options)))+"\x3c/a\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!-- /template:checkin-wrapper --\x3e";return buffer});templates["deck-selection-panel"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,
Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cli\x3e\x3ca class\x3d"lower" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"lower-deck",options):helperMissing.call(depth0,"i18n","lower-deck",options)))+'\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"upper" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"upper-deck",options):helperMissing.call(depth0,"i18n","upper-deck",options)))+"\x3c/a\x3e\x3c/li\x3e";return buffer});templates["plane-position"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3c!-- template:plane-position --\x3e\x3cdiv class\x3d"offscreen"\x3e    '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"use-up-down-to-select-position",options):helperMissing.call(depth0,"i18n","use-up-down-to-select-position",options)))+'\x3c/div\x3e\x3cdiv class\x3d"up"\x3e\x3ca href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-forward-btn-label",options):helperMissing.call(depth0,"i18n","checkin-forward-btn-label",
options)))+"\x3c/a\x3e\x3cspan\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-forward-label",options):helperMissing.call(depth0,"i18n","checkin-forward-label",options)))+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"down"\x3e\x3ca href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-back-btn-label",options):helperMissing.call(depth0,"i18n",
"checkin-back-btn-label",options)))+"\x3c/a\x3e\x3cspan\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-back-label",options):helperMissing.call(depth0,"i18n","checkin-back-label",options)))+'\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"select-block" \x3e\x3c/div\x3e\x3c!-- /template:plane-position --\x3e';return buffer});templates["popup-boarding-pass-sms"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=
[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function",self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3cp class\x3d"tit-desc"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms-desc-multi",options):helperMissing.call(depth0,
"i18n","send-boarding-pass-sms-desc-multi",options)))+'\x3c/p\x3e        \x3cdiv class\x3d"passenger-check-area"\x3e            \x3ch3 class\x3d"tit" id\x3d"passenger-check"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-passenger",options):helperMissing.call(depth0,"i18n","send-boarding-pass-passenger",options)))+'\x3c/h3\x3e            \x3cdiv class\x3d"passenger-check-list"\x3e                \x3cdiv class\x3d"checkbox-wrapper all-check"\x3e                    \x3cinput type\x3d"checkbox" id\x3d"passenger-all" class\x3d"css-checkbox"\x3e                    \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                    \x3clabel for\x3d"passenger-all" class\x3d"bookWithMiles label-checkbox-bk"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-select-all",options):helperMissing.call(depth0,"i18n","send-boarding-pass-select-all",options)))+'\x3c/label\x3e                \x3c/div\x3e                \x3cul class\x3d"passenger-list" role\x3d"group" aria-labelledby\x3d"passenger-check"\x3e                    ';stack1=helpers.each.call(depth0,depth0&&depth0.travellerInformationList,{hash:{},inverse:self.noop,fn:self.program(2,
program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/ul\x3e            \x3c/div\x3e        \x3c/div\x3e        ";return buffer}function program2(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cli class\x3d"list" role\x3d"presentation"\x3e                        \x3cdiv class\x3d"checkbox-wrapper"\x3e                            \x3cinput type\x3d"checkbox" id\x3d"passenger-li'+escapeExpression((stack1=data==null||data===false?
data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"css-checkbox" data-index\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e                            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                            \x3clabel for\x3d"passenger-li'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+
'" class\x3d"bookWithMiles label-checkbox-bk"\x3e';stack1=(helper=helpers.isAllDomestic||depth0&&depth0.isAllDomestic,options={hash:{},inverse:self.program(5,program5,data),fn:self.program(3,program3,data),data:data},helper?helper.call(depth0,depth0&&depth0.itineraryInformationList,options):helperMissing.call(depth0,"isAllDomestic",depth0&&depth0.itineraryInformationList,options));if(stack1||stack1===0)buffer+=stack1;buffer+=" /                                ";stack1=(helper=helpers.isAllDomestic||
depth0&&depth0.isAllDomestic,options={hash:{},inverse:self.program(9,program9,data),fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.itineraryInformationList,options):helperMissing.call(depth0,"isAllDomestic",depth0&&depth0.itineraryInformationList,options));if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/label\x3e                        \x3c/div\x3e                    \x3c/li\x3e                    ";return buffer}function program3(depth0,data){var buffer="",
helper,options;buffer+="                                "+escapeExpression((helper=helpers.firstDefined||depth0&&depth0.firstDefined,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.koreanLastName,depth0&&depth0.lastName,options):helperMissing.call(depth0,"firstDefined",depth0&&depth0.koreanLastName,depth0&&depth0.lastName,options)))+"                                ";return buffer}function program5(depth0,data){var buffer="",helper,options;buffer+="                                "+
escapeExpression((helper=helpers.firstDefined||depth0&&depth0.firstDefined,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.lastName,depth0&&depth0.koreanLastName,options):helperMissing.call(depth0,"firstDefined",depth0&&depth0.lastName,depth0&&depth0.koreanLastName,options)))+"                                ";return buffer}function program7(depth0,data){var buffer="",helper,options;buffer+="                                "+escapeExpression((helper=helpers.firstDefined||depth0&&
depth0.firstDefined,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.koreanFirstName,depth0&&depth0.firstName,options):helperMissing.call(depth0,"firstDefined",depth0&&depth0.koreanFirstName,depth0&&depth0.firstName,options)))+"                                ";return buffer}function program9(depth0,data){var buffer="",helper,options;buffer+="                                "+escapeExpression((helper=helpers.firstDefined||depth0&&depth0.firstDefined,options={hash:{},data:data},
helper?helper.call(depth0,depth0&&depth0.firstName,depth0&&depth0.koreanFirstName,options):helperMissing.call(depth0,"firstDefined",depth0&&depth0.firstName,depth0&&depth0.koreanFirstName,options)))+"                                ";return buffer}function program11(depth0,data){var buffer="",helper,options;buffer+='        \x3cp class\x3d"tit-desc"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms-desc-single",
options):helperMissing.call(depth0,"i18n","send-boarding-pass-sms-desc-single",options)))+"\x3c/p\x3e        ";return buffer}buffer+='\x3cdiv id\x3d"boarding-pass-send"\x3e    \x3cdiv class\x3d"send-sms"\x3e        \x3ch2 class\x3d"tit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms-title",options):helperMissing.call(depth0,"i18n","send-boarding-pass-sms-title",options)))+"\x3c/h2\x3e        ";stack1=(helper=
helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(11,program11,data),fn:self.program(1,program1,data),data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.travellerInformationList,stack1==null||stack1===false?stack1:stack1.length),"\x3e",1,options):helperMissing.call(depth0,"compare",(stack1=depth0&&depth0.travellerInformationList,stack1==null||stack1===false?stack1:stack1.length),"\x3e",1,options));if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3cdiv class\x3d"form-area"\x3e            \x3cspan class\x3d"tit" id\x3d"requiredE-mobile"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms-number",options):helperMissing.call(depth0,"i18n","send-boarding-pass-sms-number",options)))+' \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Required",options):helperMissing.call(depth0,"i18n","Required",options)))+'\x3c/span\x3e\x3c/span\x3e            \x3cdiv class\x3d"input-cnts clearfix" role\x3d"group" aria-labelledby\x3d"requiredE-mobile"\x3e                \x3cdiv class\x3d"row3"\x3e\x3cinput id\x3d"phone0" type\x3d"number" title\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-phonenum-01",options):helperMissing.call(depth0,"i18n","send-boarding-pass-phonenum-01",options)))+'" aria-describedby\x3d"errEssential-mobile"/\x3e\x3c/div\x3e                \x3cdiv class\x3d"row3"\x3e\x3cinput id\x3d"phone1" type\x3d"number" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"send-boarding-pass-phonenum-02",options):helperMissing.call(depth0,"i18n","send-boarding-pass-phonenum-02",options)))+'" aria-describedby\x3d"errEssential-mobile"/\x3e\x3c/div\x3e                \x3cdiv class\x3d"row3"\x3e\x3cinput id\x3d"phone2" type\x3d"number" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-phonenum-03",options):helperMissing.call(depth0,"i18n","send-boarding-pass-phonenum-03",options)))+
'" aria-describedby\x3d"errEssential-mobile"/\x3e\x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"errorMessageContainer"\x3e\x3c/div\x3e        \x3c/div\x3e        \x3cdiv class\x3d"noti"\x3e            \x3ch3 class\x3d"tit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-notice",options):helperMissing.call(depth0,"i18n","send-boarding-pass-notice",options)))+'\x3c/h3\x3e            \x3cul\x3e                \x3cli class\x3d"list"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms-notice-01",options):helperMissing.call(depth0,"i18n","send-boarding-pass-sms-notice-01",options)))+'\x3c/li\x3e                \x3cli class\x3d"list"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms-notice-02",options):helperMissing.call(depth0,"i18n","send-boarding-pass-sms-notice-02",
options)))+'\x3c/li\x3e                \x3cli class\x3d"list"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-sms-notice-03",options):helperMissing.call(depth0,"i18n","send-boarding-pass-sms-notice-03",options)))+'\x3c/li\x3e            \x3c/ul\x3e        \x3c/div\x3e        \x3cdiv class\x3d"btn-area"\x3e            \x3cbutton class\x3d"button-main-gray"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-cancel",options):helperMissing.call(depth0,"i18n","send-boarding-pass-cancel",options)))+'\x3c/button\x3e            \x3cbutton class\x3d"button-main-blue"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"send-boarding-pass-submit",options):helperMissing.call(depth0,"i18n","send-boarding-pass-submit",options)))+"\x3c/button\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";
return buffer});templates["traveler-info"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="";return buffer});templates["unable-to-find-reservation"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,
escapeExpression=this.escapeExpression,functionType="function";buffer+='\x3cdiv class\x3d"warning"\x3e    \x3cdiv class\x3d"content"\x3e        \x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"unable-to-lookup-reservation",options):helperMissing.call(depth0,"i18n","unable-to-lookup-reservation",options)))+'\x3c/p\x3e        \x3cp class\x3d"warning"\x3eMessage : ';if(helper=helpers.message)stack1=helper.call(depth0,{hash:{},
data:data});else{helper=depth0&&depth0.message;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/p\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer})})();
(function(_,Backbone,koreanair,checkin){var CheckInSearch=koreanair.Model.extend({defaults:{reservationCode:"",reservationNumber:"",searchType:"",departureDate:"",canCheckIn:false,canPrintBoardingPass:false,firstName:"",lastName:"",flightNumber:"",membershipNumber:"",ticketNumber:""},toJSON:function(options){var json=koreanair.Model.prototype.toJSON.apply(this,arguments),clearEmpties=function(memo,value,index){if(value!=="")memo[index]=value;return memo};if(options&&options.excludeEmpties)json=_.reduce(json||
{},clearEmpties,{});return json}});koreanair.checkin=koreanair.checkin||{};koreanair.checkin.models=koreanair.checkin.models||{};koreanair.checkin.models.CheckInSearch=CheckInSearch})(_,Backbone,koreanair,koreanair.checkin);
(function(_,Backbone,koreanair,packageName){var SelectedSeat=koreanair.Model.extend({defaults:{seatName:"",flightLegId:""},initialize:function(attributes,options){if(options.parent)this.importParent(options.parent)},importParent:function(parent){if(parent){this.parent=parent;if(this.parent){var pJson=this.parent.toJSON();delete pJson.seats;this.set(pJson)}}return this}});koreanair.checkin=koreanair.checkin||{};koreanair.checkin.models=koreanair.checkin.models||{};koreanair.checkin.models.SelectedSeat=
SelectedSeat})(_,Backbone,koreanair,koreanair.checkin);
(function(_,koreanair,SelectedSeat){var SelectedSeatCollection=koreanair.Collection.extend({model:SelectedSeat});koreanair.checkin.collections=koreanair.checkin.collections||{};koreanair.checkin.collections.SelectedSeatCollection=SelectedSeatCollection})(_,koreanair,koreanair.checkin.models.SelectedSeat);
(function(_,Backbone,koreanair,checkin,SelectedSeatCollection){var SegmentDetail=koreanair.Model.extend({defaults:{flightNumber:"",ticketNumber:"",membershipNumber:"",seats:[],seatNumber:"",checkinEligible:"",status:"",segmentId:"",flightId:""},relations:{seats:SelectedSeatCollection},computeds:{checkinDisplay:function(){return Granite.I18n.get(("checkin-"+this.get("status")).toLowerCase())}}});koreanair.checkin=koreanair.checkin||{};koreanair.checkin.models=koreanair.checkin.models||{};koreanair.checkin.models.SegmentDetail=
SegmentDetail})(_,Backbone,koreanair,koreanair.checkin,koreanair.checkin.collections.SelectedSeatCollection);
(function(_,Backbone,koreanair,packageName){var PassportDetails=koreanair.Model.extend({defaults:{nationality:"",firstName:"",lastName:"",middleName:"",issuingCountry:"",passportNumber:"",gender:"",hasInfant:false,address:"",city:"",state:"",zip:"",destinationCountry:"",expiration:"",dateOfBirth:"",residencyCountry:"",transitOnly:false,locationTemporary:false},computeds:{}});koreanair.checkin=koreanair.checkin||{};koreanair.checkin.models=koreanair.checkin.models||{};koreanair.checkin.models.PassportDetails=
PassportDetails})(_,Backbone,koreanair,koreanair.checkin);
(function(_,koreanair){var SegmentDetailCollection=koreanair.Collection.extend({model:koreanair.checkin.models.SegmentDetail,byFlightLegId:function(flightLegId){return this.findWhere({"flightLegId":flightLegId})},byFlightId:function(flightId){return this.findWhere({"flightId":flightId})},byProductId:function(productId){return this.findWhere({"productId":productId})}});koreanair.checkin.collections=koreanair.checkin.collections||{};koreanair.checkin.collections.SegmentDetailCollection=SegmentDetailCollection})(_,
koreanair);
(function(_,Backbone,koreanair,checkin){var TicketedPassenger=koreanair.Model.extend({relations:{segmentDetails:checkin.collections.SegmentDetailCollection,passportDetails:checkin.models.PassportDetails},defaults:{segmentDetails:[],passportDetails:{},frequentFlyerNumber:"",selected:false},initialize:function(){throw new Error("Don't use this");},fromTraveller:function(traveller,index){var passportDetails=new checkin.models.PassportDetails({firstName:traveller.get("firstName"),middleName:traveller.get("middleName"),
lastName:traveller.get("lastName")});var tp=new TicketedPassenger({passportDetails:passportDetails.toJSON(),travellerIndex:index});return tp},computeds:{firstName:{get:function(){return this.get("passportDetails").get("firstName")}},lastName:{get:function(){return this.get("passportDetails").get("lastName")}},middleName:{get:function(){return this.get("passportDetails").get("middleName")}}}});koreanair.checkin=koreanair.checkin||{};koreanair.checkin.models=koreanair.checkin.models||{};koreanair.checkin.models.TicketedPassenger=
TicketedPassenger})(_,Backbone,koreanair,koreanair.checkin);
(function(_,koreanair,TicketedPassenger){var TicketedPassengerCollection=koreanair.Collection.extend({model:TicketedPassenger,fromTravellers:function(travellers){return travellers.map(TicketedPassenger.prototype.fromTraveller)},initialize:function(){throw new Error("Removing this collection");}});koreanair.checkin.collections=koreanair.checkin.collections||{};koreanair.checkin.collections.TicketedPassengerCollection=TicketedPassengerCollection})(_,koreanair,koreanair.checkin.models.TicketedPassenger);
(function(_,$,Backbone,Templates,koreanair){var BoardingPassIntro=koreanair.View.extend({template:Templates["checkin-boarding-panel"],tagName:"div",className:"checkin-boarding-panel",events:{"click #print-boarding-pass":"gotoBoardingPass"},initialize:function(){this.listenTo(this.model,"change:canPrintBoardingPass",_.bind(this.render,this));this.render()},render:function(){var html=this.template(this.model.toJSON());this.$el.html(html);return this},gotoBoardingPass:function(){console.log("BOOOARDING PASS")}});
koreanair.checkin=koreanair.checkin||{};koreanair.checkin.views=koreanair.checkin.views||{};koreanair.checkin.views.BoardingPassIntro=BoardingPassIntro})(_,jQuery,Backbone,Handlebars.templates,koreanair);
(function(_,$,Backbone,Templates,koreanair,ServiceApi,Search,I18n,SimpleCalendar,wrapRequiredAction){var filterAborts=function(originalFail){return function(jqXhr,textStatus){if(textStatus==="abort"){this.$loadingBar.html("");return}originalFail.apply(this,arguments)}};var SearchPanel=Backbone.Epoxy.View.extend({id:"checkin-search",className:"checkin search-panel",events:{"click #searchCheckin":"searchCheckIn","change input":"clearContinue","click button.checkin-close":"hideSelf","change input[name\x3ddeparture-date]":"updateDate",
"click .login":"requestLogin","click .checkin.search.skypass":"skypassToReservation","click .show-search":"showDefaultSearch","click .btn_first":"gotoHomepage"},bindings:{"select.search-type":"value:searchType","input.record-locator":"value:reservationCode"},initialize:function(){this.model=new Search;this.render();koreanair.Login.authenticated.done(function(){this.$loginContent.html(this.htmlSearch).css("padding","20px 30px")}.bind(this)).fail(function(){this.$loginContent.html(this.htmlLogin).css("padding",
"20px 30px")}.bind(this));this.listenTo(this.model,"change:searchType",function(){this.abortRequest();if(koreanair.isMobile)this.$error.text("").removeAttr("role aria-live");else koreanair.utils.removeErrorElements(this.$errorMessageContainer.find("p"));this.$dateContainer.show();this.$searchResults.empty();this.$searchButton.html("");switch(this.model.get("searchType")){case "ticket":$("label[for\x3dcheckin-record-locator]").html(Granite.I18n.get("UWA-eticket-number-label")+'\x3cspan class\x3d" require-ico"\x3e'+
Granite.I18n.get("UWA-required")+"\x3c/span\x3e");$("#placeholder-chk-1").html(Granite.I18n.get("checkin-search-ticket-number-label"));this.$searchButton.html(this.htmlSearchBtn);break;case "reservation":$("label[for\x3dcheckin-record-locator]").html(Granite.I18n.get("UWA-rsv-number-label")+'\x3cspan class\x3d" require-ico"\x3e'+Granite.I18n.get("UWA-required")+"\x3c/span\x3e");$("#placeholder-chk-1").html(Granite.I18n.get("checkin-search-record-locator-label"));this.$searchButton.html(this.htmlSearchBtn);
break;default:break}});this.model.set("searchType","reservation");this.refreshLogin()},refreshLogin:function(){koreanair.Login.authenticated.done(_.bind(function(){this.$form.hide();this.$searchButton.html("");this.model.set("membershipNumber","");this.showFlightsForCurrentlyLoggedInUser()},this))},showDefaultSearch:function(e){e.preventDefault();this.$form.show();this.$searchButton.html(this.htmlSearchBtn);this.$loginContent.html("").css("padding",0);this.$searchResults.empty();this.abortRequest();
$("#checkin-record-locator").focus();koreanair.tabbable.checkin()},manageRequest:function(ajaxRequest){if(this.currentRequest&&this.currentRequest.state()==="pending")this.currentRequest.abort();this.currentRequest=ajaxRequest;return ajaxRequest},abortRequest:function(){this.manageRequest()},skypassToReservation:function(e){e.preventDefault();var clickedLink=$(e.currentTarget),reservationNumber=clickedLink.attr("data-reservation-code"),reservationDate=clickedLink.attr("data-date");this.model.set("searchType",
"reservation");this.model.set("reservationCode",reservationNumber);this.model.set("departureDate",reservationDate);this.$dateInput.val(moment(reservationDate).format("YYYY-MM-DD")).change();this.searchReservation()},updateDate:function(){this.model.set("departureDate",this.reservationDateChooser.getData("YYYY-MM-DD").select);koreanair.tabbable.checkin()},modalClosed:function(){koreanair.tabbable.checkin()},requestLogin:function(evt){evt.preventDefault();var loginDeferred=$.Deferred();if(koreanair.skypass.authenticated())this.showFlightsForCurrentlyLoggedInUser();
else{if(koreanair.isMobile)koreanair.mobileLoginModal(loginDeferred);else koreanair.loginModal(loginDeferred);loginDeferred.done(_.bind(function(){this.$loginContent.html(this.htmlSearch).css("padding",20);this.model.set("searchType","my-frequent-flyer");this.refreshLogin();if($(".show-search").length>0)$(".show-search").focus()},this)).fail(_.bind(filterAborts(function(){this.model.set("searchType","reservation")}),this)).always(_.bind(function(){koreanair.tabbable.checkin()},this))}},initializeDateChooser:function(elementName,
tripDirection){var minDate,maxDate;if(koreanair.serverPhase.isProd){minDate=moment().add(-1,"days").format("YYYY-MM-DD");maxDate=moment().add(3,"days").format("YYYY-MM-DD")}else{minDate=moment().add(-1,"days").format("YYYY-MM-DD");maxDate=moment().add(365,"days").format("YYYY-MM-DD")}var dateChooser=new koreanair.DateChooser({el:this.$(elementName),tripDirection:tripDirection,min:minDate,max:maxDate,format:"YYYY-MM-DD"});return dateChooser},render:function(){this.template=koreanair.isMobile?Handlebars.templates["checkin-search-panel-mobile"]:
Handlebars.templates["checkin-search-panel"];var html=this.template(this.model.toJSON());this.$el.html(html);this.$el.attr({"aria-labelledby":"checkin-search-panel","role":"dialog"});this.$form=this.$el.find("form");this.$error=this.$el.find(".error-message");this.$errorWrapper=this.$el.find(".error-wrapper");this.$errorMessageContainer=this.$el.find(".errorMessageContainer");this.$loadingBar=this.$el.find(".loading-wrap");this.$ticketSearch=this.$el.find("input.ticket-search");this.$recordLocatorSearch=
this.$el.find("input.record-locator-search");this.$flyerSearch=this.$el.find("input.flyer-search");this.$searchType=this.$("#search-type");this.$searchButton=this.$(".button-wrapper");this.$dateContainer=this.$(".date-container");this.$searchResults=this.$(".search-results");this.$loginContent=this.$(".login-content");this.$searchRequest=this.$(".search-request");this.htmlLogin='\x3cbutton class\x3d"checkin login button-link"\x3e'+Granite.I18n.get("login-search-label")+"\x3c/button\x3e "+Granite.I18n.get("checkin-not-logged-in");
this.htmlSearch=Granite.I18n.get("see-other-label")+' \x3cbutton class\x3d"checkin show-search button-link" \x3e'+Granite.I18n.get("show-search-options")+"\x3c/button\x3e";this.htmlLoading='\x3cdiv class\x3d"loading-bar" role\x3d"alert" aria-live\x3d"assertive"\x3e\x3cdiv class\x3d"loading-bar-animation"\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("wait-while-processing")+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e";this.htmlSearchBtn='\x3cbutton id\x3d"searchCheckin" class\x3d"search button medium button-search dark" \x3e'+
Granite.I18n.get("button-next")+"\x3c/button\x3e";this.reservationDateChooser=this.initializeDateChooser(".date-container",koreanair.Airports.TRIP_DIRECTIONS.ORIGIN);this.reservationDateChooser.on("input:change",_.bind(this.updateDate,this));this.reservationDateChooser.on("modalClosed",_.bind(this.modalClosed,this));this.calendarInputFocus=false;this.$dateInput=this.reservationDateChooser.$input;this.$el.find(".date-container").find("label").append('\x3cspan class\x3d"require-ico"\x3e'+Granite.I18n.get("UWA-required")+
"\x3c/span\x3e");this.$("#checkin-record-locator").placeholder();koreanair.setKeSelectbox();return this},showFlightsForCurrentlyLoggedInUser:function(){this.$loadingBar.html(this.htmlLoading);this.manageRequest(ServiceApi.checkinReservationList.get().done(_.bind(function(data){this.displayReservations(data)},this)).fail(_.bind(filterAborts(function(){this.$searchResults.html();this.$searchResults.append('\x3cspan class\x3d"error" role\x3d"alert" aria-live\x3d"assertive"\x3e'+Granite.I18n.get("no-data-found")+
"\x3c/span\x3e")}),this)).always(_.bind(function(){this.$loadingBar.html("")},this)))},displayReservations:function(data){var reservationListHtml=Templates["checkin-search-results"](_.toArray(data));this.$searchResults.empty();this.$searchResults.append(reservationListHtml);koreanair.tabbable.checkin()},hideSelf:function(evt){evt.stopPropagation();evt.preventDefault();$("#checkin-item").removeClass("active");this.remove();if(evt.type=="click")$("#top-nav-checkin").focus();else $("#top-nav-status").focus()},
validateSearchForm:function(){var self=this;$.validator.addClassRules("vRequired",{required:true});if(koreanair.isMobile){this.$form.validate({errorPlacement:_.partial(_.identity,self.$errorWrapper),invalidHandler:function(){self.$error.text(I18n.get("all-fields-required")).attr({"role":"alert","aria-live":"assertive"})}});var validateResult=this.$form.valid();if(!validateResult)return validateResult;if(!self.reservationDateChooser.validate()){validateResult=false;self.calendarInputFocus=true;if(self.reservationDateChooser.segErrorMsg.indexOf("조회 기간:")>
-1)self.$error.html(I18n.get("checkin-ineligible-97")).css("text-align","left").attr({"role":"alert","aria-live":"assertive"});else self.$error.html(self.reservationDateChooser.segErrorMsg).css("text-align","right").attr({"role":"alert","aria-live":"assertive"})}}else{koreanair.utils.removeErrorElements(self.$errorMessageContainer.find("p"));var validateResult=self.$el.find("#checkin-record-locator").val().length>0?true:false;if(!validateResult){switch(self.$el.find("#search-type").val()){case "reservation":self.$errorMessageContainer.append(koreanair.utils.buildErrorElement(I18n.get("UWA-rsv-fields-required"),
self.$el.find("#checkin-record-locator")));break;case "ticket":self.$errorMessageContainer.append(koreanair.utils.buildErrorElement(I18n.get("UWA-tn-fields-required"),self.$el.find("#checkin-record-locator")));break}return validateResult}if(!self.reservationDateChooser.validate()){validateResult=false;if(self.reservationDateChooser.segErrorMsg.indexOf("조회 기간:")>-1){if(self.$errorMessageContainer.find("p").length==0){self.$errorMessageContainer.append(koreanair.utils.buildErrorElement(I18n.get("checkin-ineligible-97"),
self.$el.find(".date-container input")));self.calendarInputFocus=true}}else if(self.$errorMessageContainer.find("p").length==0){self.$errorMessageContainer.append(koreanair.utils.buildErrorElement(self.reservationDateChooser.segErrorMsg,self.$el.find(".date-container input")));self.calendarInputFocus=true}}}return validateResult},searchTicket:function(){var ticketData=this.model.toJSON({excludeEmpties:true});ticketData.ticketNumber=ticketData.reservationCode;delete ticketData.reservationCode;return this.manageRequest(ServiceApi.ticketDetails.post({data:JSON.stringify(ticketData),
success:_.identity,error:_.identity}).done(_.bind(function(data){if(data.length>0){this.model.set("reservationCode",data[0].recLocNumber);this.model.set("reservationNumber",data[0].reservationNumber);this.model.set("canCheckIn",this.model.get("reservationCode"));if(this.model.get("canCheckIn")){this.callSearch(this.searchReservation);return}}this.showError(I18n.get("flight-unavailable-checkin"))},this)).fail(_.bind(filterAborts(this.parseError),this)))},searchReservation:function(data){var modelInfo=
data||this.model.toJSON({excludeEmpties:true});return this.manageRequest(ServiceApi.reservation.get({path:modelInfo,params:{departureDate:this.model.get("departureDate"),isCheckin:true},success:_.identity,error:_.identity,bypassGlobalErrorHandlers:true}).done(_.bind(this.processReservationSuccess,this)).fail(_.bind(filterAborts(this.parseError),this)))},processReservationSuccess:wrapRequiredAction(function(data){this.model.set("canCheckIn",data.pnrEligible!==false);if(this.model.get("canCheckIn"))this.continueCheckIn();
else this.showError(I18n.get("flight-unavailable-checkin"))},function(){return{done:this.processReservationSuccess,fail:filterAborts(this.parseError),extraData:{isCheckin:true}}},function(){var self=this;var behavior=koreanair.ReservationSearch.RequiredActionBehavior.inherits({actionRemediation:function(model){self.model.set("canCheckIn",model.pnrEligible!==false);if(self.model.get("canCheckIn"))self.continueCheckIn();else self.showError(I18n.get("flight-unavailable-checkin"))}});return{DELAYED:{view:behavior}}}),
searchSkypass:function(){var searchData=_.clone(this.model.toJSON({excludeEmpties:true}));searchData.skypassNumber=this.model.get("membershipNumber");this.$searchType.show();return this.manageRequest(ServiceApi.checkinReservationList.post({data:JSON.stringify(searchData),success:_.identity}).done(_.bind(function(data){if(_.keys(data).length===0)this.showError(Granite.I18n.get("no-data-found"));else{this.displayReservations(data);this.$searchButton.html("")}},this)).fail(_.bind(filterAborts(function(){this.showError(Granite.I18n.get("no-data-found"))}),
this)).always(_.bind(function(){this.$loadingBar.html("")},this)))},searchCheckIn:function(e){e.preventDefault();switch(this.model.get("searchType")){case "ticket":this.callSearch(this.searchTicket);break;case "reservation":this.callSearch(this.searchReservation);break;default:break}koreanair.analytics.prop({"web_checkin_entry_options":this.model.get("searchType")}).track("web_cki_entry_call")},callSearch:function(whichSearch){var self=this;if(this.validateSearchForm()){this.$searchButton.find("#searchCheckin").addClass("disabled");
if(koreanair.isMobile){this.$error.text("").removeAttr("role aria-live");this.$errorWrapper.text("")}else koreanair.utils.removeErrorElements(this.$errorMessageContainer.find("p"));this.$loadingBar.html(this.htmlLoading);this.$form.hide();whichSearch.apply(this,[]).always(_.bind(function(){this.$searchButton.find("#searchCheckin").removeClass("disabled")},this))}else{var focusMoveToInput=function(){if(self.calendarInputFocus){$("#checkin-search-content").find(".tripdetail-input").focus();self.calendarInputFocus=
false}else $("#checkin-record-locator").focus();$(window).unbind("keyup click",focusMoveToInput)};$(window).bind("keyup click",focusMoveToInput)}},parseError:function(jqxhr){var data;try{data=JSON.parse(jqxhr.responseText)}catch(e){}if(data&&"IBE"===data.source&&"3002"===data.code)this.showError("error-"+data.source+"-"+data.code);else this.showError()},showError:function(text){koreanair.utils.removeErrorElements(this.$errorMessageContainer.find("p"));this.$errorMessageContainer.append(koreanair.utils.buildErrorElement(I18n.get(text||
"reservation-not-found-error"),$("#checkin-record-locator")));this.$loadingBar.html("");this.$form.fadeIn();$("#checkin-record-locator").focus()},clearContinue:function(){this.model.set("canCheckIn",false);if(koreanair.isMobile)this.$error.text("").removeAttr("role aria-live");else koreanair.utils.removeErrorElements(this.$errorMessageContainer.find("p"))},continueCheckIn:function(){var baseURL=koreanair.Navigation.Booking.misc.checkIn;var checkInPath="#check-in?reservationCode\x3d";var searchData=
{searchType:this.model.get("searchType"),departureDate:this.model.get("departureDate")};this.$loadingBar.html("");this.$form.show();this.$el.hide();var checkInURL="".concat(baseURL,checkInPath,this.model.get("reservationCode"),"\x26",$.param(searchData));window.location=checkInURL},remove:function(){Backbone.Epoxy.View.prototype.remove.apply(this,arguments)},gotoHomepage:function(){koreanair.goto("/")}});koreanair.checkin=koreanair.checkin||{};koreanair.checkin.views=koreanair.checkin.views||{};koreanair.checkin.views.SearchPanel=
SearchPanel})(_,jQuery,Backbone,Handlebars.templates,koreanair,koreanair.ServiceApi,koreanair.checkin.models.CheckInSearch,Granite.I18n,koreanair.common.views.SimpleCalendar,koreanair.ReservationSearch.wrapRequiredAction);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["checkin-gate-list"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,self=this,helperMissing=helpers.helperMissing,functionType="function",escapeExpression=this.escapeExpression;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3ctable class\x3d"tbl-list-type"\x3e            \x3ccaption\x3e\x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-table-list-caption",options):helperMissing.call(depth0,"i18n","rsrv-search-table-list-caption",options)))+'\x3c/span\x3e\x3c/caption\x3e            \x3ccolgroup\x3e                \x3ccol width\x3d"20%" /\x3e                \x3ccol width\x3d"20%" /\x3e                \x3ccol width\x3d"20%" /\x3e                \x3ccol width\x3d"20%" /\x3e                \x3ccol width\x3d"20%" /\x3e            \x3c/colgroup\x3e            \x3cthead\x3e            \x3ctr\x3e                \x3cth scope\x3d"col"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-reservation-number",options):helperMissing.call(depth0,"i18n","checkin-reservation-number",options)))+'\x3c/th\x3e                \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"departure-date-label",options):helperMissing.call(depth0,"i18n","departure-date-label",options)))+'\x3c/th\x3e                \x3cth scope\x3d"col"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"departure",options):helperMissing.call(depth0,"i18n","departure",options)))+'\x3c/th\x3e                \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"arrival",options):helperMissing.call(depth0,"i18n","arrival",options)))+'\x3c/th\x3e                \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-button-label",options):helperMissing.call(depth0,"i18n","checkin-button-label",options)))+"\x3c/th\x3e            \x3c/tr\x3e            \x3c/thead\x3e            \x3ctbody\x3e                ";stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3c/tbody\x3e        \x3c/table\x3e        \x3cdiv class\x3d"no-result"\x3e            \x3cp\x3e                \x3cbutton class\x3d"button-page-gray show-search"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"show-search-options",options):helperMissing.call(depth0,"i18n","show-search-options",options)))+"\x3c/button\x3e            \x3c/p\x3e        \x3c/div\x3e        ";return buffer}function program2(depth0,data){var buffer="",stack1;buffer+="                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.reservationInfoList,{hash:{},inverse:self.program(8,program8,data),fn:self.program(3,
program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                ";return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+="                        ";stack1=(helper=helpers.ifOdd||depth0&&depth0.ifOdd,options={hash:{},inverse:self.program(6,program6,data),fn:self.program(4,program4,data),data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,options):helperMissing.call(depth0,"ifOdd",data==null||data===false?data:data.index,
options));if(stack1||stack1===0)buffer+=stack1;buffer+='                            \x3cth scope\x3d"row"\x3e';if(helper=helpers.reservationNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.reservationNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/th\x3e                            \x3ctd\x3e                                "+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,
options={hash:{"format":"MM-DD-YY","withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options)))+"                                ("+escapeExpression((helper=
helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"ddd","withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options)))+")                                "+
escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"HH:mm","withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),
options)))+'                            \x3c/td\x3e                            \x3ctd class\x3d"t-align-left"\x3e                                '+escapeExpression((helper=helpers.cityName||depth0&&depth0.cityName,options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),options):helperMissing.call(depth0,"cityName",(stack1=(stack1=depth0&&
depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),options)))+"                                ("+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departureAirportCode),typeof stack1===functionType?stack1.apply(depth0):stack1))+')                            \x3c/td\x3e                            \x3ctd class\x3d"t-align-left"\x3e                                '+
escapeExpression((helper=helpers.cityName||depth0&&depth0.cityName,options={hash:{},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),options):helperMissing.call(depth0,"cityName",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),options)))+
"                                ("+escapeExpression((stack1=(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.destinationAirportCode),typeof stack1===functionType?stack1.apply(depth0):stack1))+')                            \x3c/td\x3e                            \x3ctd\x3e                                \x3ca href\x3d"javascript:;" class\x3d"button-small-white goCheckIn" data-reservation-code\x3d"';if(helper=
helpers.recLocNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.recLocNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"                                   data-date\x3d"'+escapeExpression((helper=helpers.dateFormat||depth0&&depth0.dateFormat,options={hash:{"format":"YYYY-MM-DD","withZone":"true"},data:data},helper?helper.call(depth0,(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||
stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options):helperMissing.call(depth0,"dateFormat",(stack1=(stack1=depth0&&depth0.reservationInfoList,stack1==null||stack1===false?stack1:stack1[0]),stack1==null||stack1===false?stack1:stack1.departure),options)))+'" role\x3d"button"\x3e                                    '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-button-label",options):
helperMissing.call(depth0,"i18n","checkin-button-label",options)))+"                                \x3c/a\x3e                            \x3c/td\x3e                        \x3c/tr\x3e                    ";return buffer}function program4(depth0,data){return"                        \x3ctr\x3e                        "}function program6(depth0,data){return'                        \x3ctr class\x3d"bg-line"\x3e                        '}function program8(depth0,data){var buffer="",helper,options;buffer+=
'                    \x3ctr class\x3d"no-result-msg"\x3e                        \x3ctd colspan\x3d"5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-nolist-info-label",options):helperMissing.call(depth0,"i18n","checkin-nolist-info-label",options)))+"\x3c/td\x3e                    \x3c/tr\x3e                    ";return buffer}function program10(depth0,data){var buffer="",helper,options;buffer+='        \x3ctable class\x3d"tbl-list-type"\x3e            \x3ccaption\x3e\x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-table-list-caption",options):helperMissing.call(depth0,"i18n","rsrv-search-table-list-caption",options)))+'\x3c/span\x3e\x3c/caption\x3e            \x3ccolgroup\x3e                \x3ccol width\x3d"20%" /\x3e                \x3ccol width\x3d"20%" /\x3e                \x3ccol width\x3d"20%" /\x3e                \x3ccol width\x3d"20%" /\x3e                \x3ccol width\x3d"20%" /\x3e            \x3c/colgroup\x3e            \x3cthead\x3e            \x3ctr\x3e                \x3cth scope\x3d"col"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-reservation-number",options):helperMissing.call(depth0,"i18n","checkin-reservation-number",options)))+'\x3c/th\x3e                \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"departure-date-label",options):helperMissing.call(depth0,"i18n","departure-date-label",options)))+'\x3c/th\x3e                \x3cth scope\x3d"col"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"departure",options):helperMissing.call(depth0,"i18n","departure",options)))+'\x3c/th\x3e                \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"arrival",options):helperMissing.call(depth0,"i18n","arrival",options)))+'\x3c/th\x3e                \x3cth scope\x3d"col"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-button-label",options):helperMissing.call(depth0,"i18n","checkin-button-label",options)))+'\x3c/th\x3e            \x3c/tr\x3e            \x3c/thead\x3e            \x3ctbody\x3e            \x3ctr class\x3d"no-result-msg"\x3e                \x3ctd colspan\x3d"5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-nolist-info-label",
options):helperMissing.call(depth0,"i18n","checkin-nolist-info-label",options)))+'\x3c/td\x3e            \x3c/tr\x3e            \x3c/tbody\x3e        \x3c/table\x3e        \x3cdiv class\x3d"no-result"\x3e            \x3cbutton class\x3d"button-page-gray show-search"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"show-search-options",options):helperMissing.call(depth0,"i18n","show-search-options",options)))+"\x3c/button\x3e        \x3c/div\x3e        ";
return buffer}buffer+=" ";stack1=helpers["if"].call(depth0,depth0,{hash:{},inverse:self.program(10,program10,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer});templates["checkin-gate-login"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,
functionType="function";buffer+='\x3cdiv class\x3d"login-area"\x3e    \x3cdiv class\x3d"search-member custom-form keForm"\x3e        \x3cdiv class\x3d"group-area"\x3e            \x3cdiv class\x3d"group"\x3e                \x3ch2\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-h3",options):helperMissing.call(depth0,"i18n","rsrv-search-login-h3",options)))+'\x3c/h2\x3e                \x3cfieldset\x3e                    \x3clegend class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-login-type",options):helperMissing.call(depth0,"i18n","select-login-type",options)))+'\x3c/legend\x3e                    \x3cdiv class\x3d"tabarea"\x3e                        \x3cul\x3e                            \x3cli\x3e                                \x3cinput type\x3d"radio" name\x3d"how-to-login" id\x3d"member"  value\x3d"username"\x3e                                \x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e                                \x3clabel for\x3d"member"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-id",options):helperMissing.call(depth0,"i18n","rsrv-search-login-id",options)))+'\x3c/label\x3e\x3c!-- 선택된 tab 일때 class\x3d"selected" 추가--\x3e                            \x3c/li\x3e                            \x3cli\x3e                                \x3cinput type\x3d"radio" name\x3d"how-to-login" id\x3d"skypass"  value\x3d"skypass"\x3e                                \x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e                                \x3clabel for\x3d"skypass"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-skypass",options):helperMissing.call(depth0,"i18n","rsrv-search-login-skypass",options)))+'\x3c/label\x3e                            \x3c/li\x3e                        \x3c/ul\x3e                    \x3c/div\x3e                \x3c/fieldset\x3e                    \x3cdiv class\x3d"login-memberid"\x3e                        \x3cul class\x3d"form-column-12"\x3e                            \x3cli id\x3d"memberIdPanel"\x3e                                \x3clabel for\x3d"member-id"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-id",options):helperMissing.call(depth0,"i18n","rsrv-search-login-id",options)))+'\x3c/label\x3e                                \x3cdiv class\x3d"input-area"\x3e                                    \x3cspan data-placeholder-id\x3d"member-id" id\x3d"ph-member-id" class\x3d"placeholder" aria-hidden\x3d"true"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-id-ph",options):helperMissing.call(depth0,"i18n","rsrv-search-login-id-ph",options)))+'\x3c/span\x3e                                    \x3cinput type\x3d"text"  id\x3d"member-id" name\x3d"member-id" class\x3d"required" aria-required\x3d"true"\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli id\x3d"skypassNoPanel"\x3e                                \x3clabel for\x3d"skypass-no"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-skypass",options):helperMissing.call(depth0,"i18n","rsrv-search-login-skypass",options)))+'\x3c/label\x3e                                \x3cdiv class\x3d"input-area"\x3e                                    \x3cspan data-placeholder-id\x3d"skypass-no" id\x3d"ph-skypass-no" class\x3d"placeholder" aria-hidden\x3d"true"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-skypass-ph",options):helperMissing.call(depth0,"i18n","rsrv-search-login-skypass-ph",options)))+'\x3c/span\x3e                                    \x3cinput type\x3d"text" id\x3d"skypass-no" name\x3d"skypass-no" class\x3d"required" aria-required\x3d"true"\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli\x3e                                \x3clabel for\x3d"password"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-password-label",options):helperMissing.call(depth0,"i18n","rsrv-search-login-password-label",options)))+'\x3c/label\x3e                                \x3cdiv class\x3d"input-area"\x3e                                    \x3cspan class\x3d"placeholder" id\x3d"placeholder-member-pwd" data-placeholder-id\x3d"password" aria-hidden\x3d"true"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-password-ph",options):helperMissing.call(depth0,"i18n","rsrv-search-login-password-ph",options)))+'\x3c/span\x3e                                    \x3cinput type\x3d"password" id\x3d"password" name\x3d"password" class\x3d"required" aria-required\x3d"true"\x3e                                \x3c/div\x3e                            \x3c/li\x3e                        \x3c/ul\x3e                        \x3cdiv class\x3d"btnarea"\x3e                            \x3cbutton type\x3d"button" id\x3d"goLogin" class\x3d"button-main-blue" \x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-btn",options):helperMissing.call(depth0,"i18n","rsrv-search-login-btn",options)))+'\x3c/button\x3e                        \x3c/div\x3e                        \x3cul class\x3d"link"\x3e                            \x3cli\x3e\x3ca href\x3d"';if(helper=helpers.accountRecoveryURL)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.accountRecoveryURL;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" target\x3d"_blank" class\x3d"button-link small" id\x3d"forgot-uname-password"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-password-link",options):helperMissing.call(depth0,"i18n","rsrv-search-login-password-link",options)))+'\x26nbsp;\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wal-openWindow",options):helperMissing.call(depth0,"i18n","wal-openWindow",options)))+'\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e                            \x3cli\x3e\x3ca href\x3d"';if(helper=helpers.registrationURL)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.registrationURL;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+
'" target\x3d"_blank" class\x3d"button-link small"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-password-link2",options):helperMissing.call(depth0,"i18n","rsrv-search-login-password-link2",options)))+'\x26nbsp;\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wal-openWindow",options):helperMissing.call(depth0,
"i18n","wal-openWindow",options)))+'\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e                        \x3c/ul\x3e                        \x3cdiv id\x3d"loginError" class\x3d"errorMessageContainer" role\x3d"alert" aria-live\x3d"assertive"\x3e                            \x3cp class\x3d"error"\x3e\x3c/p\x3e                        \x3c/div\x3e                    \x3c/div\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e';return buffer});templates["checkin-gate-search"]=template(function(Handlebars,
depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper;buffer+='                                        \x3coption value\x3d"';if(helper=helpers.label)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.label;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'" ';if(helper=helpers.selected)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.selected;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3e";if(helper=helpers.label)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.label;stack1=typeof helper===functionType?helper.call(depth0,
{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/option\x3e                                        ";return buffer}buffer+='\x3cdiv class\x3d"resv-area"\x3e\x3cdiv class\x3d"resv-search custom-form keForm"\x3e    \x3cdiv class\x3d"group-area"\x3e        \x3cdiv class\x3d"group"\x3e            \x3ch2\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-nonmember-num1",options):helperMissing.call(depth0,
"i18n","rsrv-search-nonmember-num1",options)))+'\x3c/h2\x3e            \x3cfieldset\x3e                \x3clegend class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-search-type",options):helperMissing.call(depth0,"i18n","select-search-type",options)))+'\x3c/legend\x3e                \x3cdiv class\x3d"tabarea"\x3e                    \x3cul\x3e                        \x3cli\x3e                            \x3cinput type\x3d"radio" name\x3d"search-type" id\x3d"rsvn-number" value\x3d"reservation" tabindex\x3d"0"\x3e                            \x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e                            \x3clabel for\x3d"rsvn-number" id\x3d"rsvn-number-label" class\x3d"selected"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"reservation-number-label",options):helperMissing.call(depth0,"i18n","reservation-number-label",options)))+'\x3c/label\x3e\x3c!-- 선택된 tab 일때 class\x3d"selected" 추가--\x3e                            \x3ca href\x3d"#" class\x3d"query-s" id\x3d"reservation-help" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"reservation-number-label",options):helperMissing.call(depth0,"i18n","reservation-number-label",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-detail-information",options):helperMissing.call(depth0,"i18n","WA-detail-information",options)))+'\x3c/a\x3e                        \x3c/li\x3e                        \x3cli\x3e                            \x3cinput type\x3d"radio" name\x3d"search-type" id\x3d"tkt-number" value\x3d"ticket" tabindex\x3d"-1"\x3e                            \x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e                            \x3clabel  for\x3d"tkt-number" id\x3d"tkt-number-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-ticket-number",options):helperMissing.call(depth0,"i18n","checkin-search-ticket-number",options)))+'\x3c/label\x3e                            \x3ca href\x3d"#" class\x3d"query-s" id\x3d"ticket-help" role\x3d"button"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-ticket-number",options):
helperMissing.call(depth0,"i18n","checkin-search-ticket-number",options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-detail-information",options):helperMissing.call(depth0,"i18n","WA-detail-information",options)))+'\x3c/a\x3e                        \x3c/li\x3e                    \x3c/ul\x3e                \x3c/div\x3e            \x3c/fieldset\x3e                \x3cdiv  class\x3d"reservation-num" \x3e                    \x3cdiv class\x3d"division"\x3e                        \x3cul\x3e                            \x3cli class\x3d"record-locator-search"\x3e                                \x3clabel for\x3d"reservation-number"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-nonmember-label-num1-label",options):helperMissing.call(depth0,"i18n","rsrv-search-nonmember-label-num1-label",options)))+'\x3c/label\x3e                                \x3cdiv class\x3d"input-area"\x3e                                    \x3cspan class\x3d"placeholder" id\x3d"placeholder-rs-num-sel" data-placeholder-id\x3d"reservation-number"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-record-locator-label",options):helperMissing.call(depth0,"i18n","checkin-search-record-locator-label",options)))+'\x3c/span\x3e                                    \x3cinput type\x3d"text" class\x3d"required vRsvnNumber hiddenx" id\x3d"reservation-number" name\x3d"reservation-number" aria-required\x3d"true" maxlength\x3d"9" aria-describedby\x3d"placeholder-rs-num-sel"/\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"ticket-search"\x3e                                \x3clabel for\x3d"ticket-number"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-nonmember-num2-label",options):helperMissing.call(depth0,"i18n","rsrv-search-nonmember-num2-label",options)))+'\x3c/label\x3e                                \x3cdiv class\x3d"input-area"\x3e                                    \x3cspan class\x3d"placeholder" id\x3d"placeholder-rs-num-sel2" data-placeholder-id\x3d"ticket-number"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-search-ticket-number-label",options):helperMissing.call(depth0,"i18n","checkin-search-ticket-number-label",options)))+'\x3c/span\x3e                                    \x3cinput type\x3d"text" class\x3d"required vTicketNumber hiddenx" id\x3d"ticket-number" name\x3d"ticket-number" aria-required\x3d"true" maxlength\x3d"14" aria-describedby\x3d"placeholder-rs-num-sel2"\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"depart-date"\x3e                                \x3clabel for\x3d"depart-date"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wmci-departure-date",options):helperMissing.call(depth0,"i18n","wmci-departure-date",options)))+'\x3c/label\x3e                                \x3cdiv class\x3d"styled-select slate"\x3e                                    \x3cselect id\x3d"depart-date" class\x3d"ke-selectbox required"\x3e                                        ';stack1=helpers.each.call(depth0,(stack1=depth0&&depth0.dateOption,
stack1==null||stack1===false?stack1:stack1.dates),{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                                    \x3c/select\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3c!--//출발일 선택--\x3e                            \x3cli class\x3d"last-name"\x3e                                \x3clabel for\x3d"reservationLastName"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wmci-search-nonmember-lastname",options):helperMissing.call(depth0,"i18n","wmci-search-nonmember-lastname",options)))+'\x3c/label\x3e                                \x3cdiv class\x3d"input-area"\x3e                                    \x3cspan id\x3d"placeholder-reservationLastName" class\x3d"placeholder" data-placeholder-id\x3d"reservationLastName"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"wmci-search-nonmember-lastname-ph",options):helperMissing.call(depth0,"i18n","wmci-search-nonmember-lastname-ph",options)))+'\x3c/span\x3e                                    \x3cinput class\x3d"hiddenx" type\x3d"text" id\x3d"reservationLastName" aria-describedby\x3d"placeholder-reservationLastName" aria-invalid\x3d"false"/\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            \x3cli class\x3d"first-name"\x3e                                \x3clabel for\x3d"reservationFirstName"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wmci-search-nonmember-firstname",options):helperMissing.call(depth0,"i18n","wmci-search-nonmember-firstname",options)))+'\x3c/label\x3e                                \x3cdiv class\x3d"input-area"\x3e                                    \x3cspan id\x3d"placeholder-reservationFirstNAme" class\x3d"placeholder" data-placeholder-id\x3d"reservationFirstName"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wmci-search-nonmember-firstname-ph",options):helperMissing.call(depth0,"i18n","wmci-search-nonmember-firstname-ph",options)))+'\x3c/span\x3e                                    \x3cinput class\x3d"hiddenx" type\x3d"text" id\x3d"reservationFirstName" aria-describedby\x3d"placeholder-reservationFirstNAme" aria-invalid\x3d"false"/\x3e                                \x3c/div\x3e                            \x3c/li\x3e                        \x3c/ul\x3e                    \x3c/div\x3e                    \x3cdiv id\x3d"checkinError" class\x3d"errorMessageContainer" role\x3d"alert" aria-live\x3d"assertive"\x3e                        \x3cp class\x3d"error" id\x3d"error-message"\x3e\x3c/p\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"nonmember-agree-wrap"\x3e                        \x3cdiv class\x3d"posR"\x3e                            \x3cinput type\x3d"checkbox" id\x3d"nonmem-agree" /\x3e                            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e                            \x3clabel for\x3d"nonmem-agree"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wmci-search-reservation-confirm",options):helperMissing.call(depth0,"i18n","wmci-search-reservation-confirm",options)))+'\x3c/label\x3e                        \x3c/div\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3cdiv class\x3d"btnarea"\x3e                \x3cbutton type\x3d"button" id\x3d"searchCheckin" class\x3d"button-main-blue" \x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"rsrv-search-login-btn",options):helperMissing.call(depth0,"i18n","rsrv-search-login-btn",options)))+'\x3c/button\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"noti-area"\x3e    \x3cp\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-gate-use-info-detail",options):helperMissing.call(depth0,
"i18n","checkin-gate-use-info-detail",options)))+'\x3c/p\x3e    \x3ca href\x3d"javascript:;" id\x3d"goChekInGuide"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-gate-use-info-text",options):helperMissing.call(depth0,"i18n","checkin-gate-use-info-text",options)))+'\x26nbsp;\x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"wal-openWindow",options):helperMissing.call(depth0,"i18n","wal-openWindow",options)))+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e";return buffer});templates["checkin-gate"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression;buffer+='\x3cdiv class\x3d"checkin-wrap"\x3e    \x3cdiv class\x3d"inner-wrap"\x3e        \x3cdiv class\x3d"title-area"\x3e            \x3ch1\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"check-in-label",options):helperMissing.call(depth0,"i18n","check-in-label",options)))+'\x3c/h1\x3e        \x3c/div\x3e        \x3cform id\x3d"login-form" class\x3d"validateGroup"\x3e            \x3cdiv id\x3d"log-in"\x3e            \x3c/div\x3e        \x3c/form\x3e        \x3cform id\x3d"check-in-form"\x3e            \x3cdiv id\x3d"check-in-search"\x3e            \x3c/div\x3e            \x3cdiv id \x3d"check-in-list"\x3e                    \x3cp class\x3d"tit-desc"\x3e                        '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"checkin-login-info-label",options):helperMissing.call(depth0,"i18n","checkin-login-info-label",options)))+'                    \x3c/p\x3e                    \x3cdiv class\x3d"rerv-search-list search-results"\x3e                    \x3c/div\x3e            \x3c/div\x3e        \x3c/form\x3e    \x3c/div\x3e\x3c/div\x3e';return buffer})})();
(function(_,$,Backbone,Templates,koreanair,ServiceApi,Search,I18n,SimpleCalendar,wrapRequiredAction){var filterAborts=function(originalFail){return function(jqXhr,textStatus){if(textStatus==="abort"){this.loadingScreen.remove();return}originalFail.apply(this,arguments)}};var CheckInGate=Backbone.Epoxy.View.extend({el:"#checkingate",template:Templates["checkin-gate"],loginTemplate:Templates["checkin-gate-login"],checkinSearchTemplate:Templates["checkin-gate-search"],checkinListTemplate:Templates["checkin-gate-list"],
events:{"keyup input":"removeErrorElements","change select":"removeErrorElements","change #member":"radioMemberButtonClicked","change #skypass":"radioSkypassButtonClicked"},bindings:{"input[name\x3dsearch-type]:eq(0)":"checked:searchType","input[name\x3dsearch-type]:eq(1)":"checked:searchType","input[name\x3dticket-number]":"value:ticketNumber","input[name\x3dreservation-number]":"value:reservationCode","select#depart-date":"value:departureDate"},initialize:function(){},render:function(){this.loadingScreen=
new koreanair.FullpageLoadingScreen({withTransparentBackground:true});this.model=new Search;this.drawCheckInGate();this.updateTitleText();koreanair.Login.authenticated.done(function(){this.$loginForm.remove();this.$checkinSearchContent.empty();this.drawCheckinListContent();this.setFocusEventHandler()}.bind(this)).fail(function(){this.$checkinListContent.empty();this.drawLoginContent();this.drawCheckinSearchContent();this.setFocusEventHandler()}.bind(this));koreanair.setKeSelectbox()},setFocusEventHandler:function(){$("input[type\x3dradio]:focusable").on("focus",
function(e){if(!$(e.currentTarget).is(":checked"))$("input[type\x3dradio][name\x3d"+$(e.currentTarget).attr("name")+"]:checked").focus()})},drawCheckInGate:function(){var html=this.template();this.$el.html(html);this.$loginForm=this.$el.find("#login-form");this.$checkinForm=this.$el.find("#check-in-form");this.$loginContent=this.$el.find("#log-in");this.$checkinSearchContent=this.$el.find("#check-in-search");this.$checkinListContent=this.$el.find("#check-in-list");this.$checkinListResult=this.$el.find(".search-results")},
drawLoginContent:function(){var loginInfo={"accountRecoveryURL":koreanair.Account.accountRecovery,"registrationURL":koreanair.Account.accountRegistration};var html=this.loginTemplate(loginInfo);this.$loginContent.html(html);$("#member-id").placeholder();$("#skypass-no").placeholder();$("#password").placeholder();this.$loginError=this.$el.find("#loginError");this.$loginError.empty();this.$el.find("#goLogin").on("click",this.goLogin.bind(this));this.radioMemberButtonClicked()},drawCheckinSearchContent:function(){var fDates=
this.getSearchDateOption();var dateRange={"dates":fDates,"checkinSearchDate":{min:fDates[0].label,max:fDates[fDates.length-1].label}};var html=this.checkinSearchTemplate({dateOption:dateRange});this.$checkinSearchContent.html(html);this.$recordLocatorSearch=this.$el.find(".record-locator-search");this.$ticketSearch=this.$el.find(".ticket-search");this.$checkinError=this.$el.find("#checkinError");this.$checkinError.empty();this.$recordLocatorSearch.css("display","inline-block");this.$ticketSearch.hide();
this.model.set("searchType","reservation");this.model.set("reservationCode","");this.model.set("departureDate",moment().format("YYYY-MM-DD"));$("#reservation-number").placeholder();$("#ticket-number").placeholder();$("#reservationLastName").attr("name","reservationLastName").addClass("required").placeholder();$("#reservationFirstName").attr("name","reservationFirstName").addClass("required").placeholder();this.applyBindings();$("select").on("change",function(event){$("#"+event.currentTarget.id).valid()});
koreanair.setKeSelectbox();koreanair.common.utils.anchorToButton(this.$el.find("#reservation-help"));koreanair.common.utils.anchorToButton(this.$el.find("#ticket-help"));this.$el.find("[name\x3dsearch-type]").on("change",this.changeSearchType.bind(this));this.$el.find("#reservation-help").on("click",this.helpPopup.bind(this));this.$el.find("#ticket-help").on("click",this.helpPopup.bind(this));this.$el.find("#searchCheckin").on("click",this.searchCheckIn.bind(this));this.$el.find("#goChekInGuide").on("click",
this.goCheckInGuide.bind(this))},drawCheckinListContent:function(){this.showFlightsForCurrentlyLoggedInUser()},getSearchDateOption:function(){var base=moment().subtract("days",1),today=moment().format("YYYY-MM-DD");var maxInterval=5;var mapData=[0];for(var k=1;k<maxInterval;k++)mapData[k]=1;return _.map(mapData,function(offset){var dateOption=base.add("days",offset);return{"label":dateOption.format("YYYY-MM-DD"),"value":dateOption.format("YYYYMMDD"),"selected":today===dateOption.format("YYYY-MM-DD")?
"selected":""}})},showFlightsForCurrentlyLoggedInUser:function(){this.loadingScreen.render();this.manageRequest(ServiceApi.checkinReservationList.get().done(_.bind(function(data){this.displayReservations(data)},this)).fail(_.bind(filterAborts(function(){this.displayReservations()}),this)).always(_.bind(function(){this.loadingScreen.remove()},this)))},displayReservations:function(data){var reservationListHtml=this.checkinListTemplate(_.toArray(data));this.$checkinListResult.empty();this.$checkinListResult.html(reservationListHtml);
this.$el.find(".goCheckIn").on("click",this.goCheckIn.bind(this));this.$el.find(".show-search").on("click",this.showDefaultSearch.bind(this));koreanair.common.utils.anchorToButton(this.$el.find(".goCheckIn"))},manageRequest:function(ajaxRequest){if(this.currentRequest&&this.currentRequest.state()==="pending")this.currentRequest.abort();this.currentRequest=ajaxRequest;return ajaxRequest},abortRequest:function(){this.manageRequest()},changeSearchType:function(e){this.abortRequest();var searchType=e.currentTarget.id;
if(searchType==="rsvn-number"){this.$ticketSearch.hide();this.$recordLocatorSearch.css("display","inline-block");$("#tkt-number-label").removeClass("selected");$("#rsvn-number-label").addClass("selected");$("#rsvn-number").attr("tabindex","0");$("#tkt-number").attr("tabindex","-1")}else{this.$recordLocatorSearch.hide();this.$ticketSearch.css("display","inline-block");$("#rsvn-number-label").removeClass("selected");$("#tkt-number-label").addClass("selected");$("#rsvn-number").attr("tabindex","-1");
$("#tkt-number").attr("tabindex","0")}},helpPopup:function(e){e.preventDefault();var infoHtml;if(e.currentTarget.id==="reservation-help")infoHtml="\x3cp\x3e"+I18n.get("checkin-reservation-help-label")+"\x3c/p\x3e";else infoHtml="\x3cp\x3e"+I18n.get("checkin-ticket-help-label")+"\x3c/p\x3e";koreanair.Modal.info(infoHtml,{ariaLabel:I18n.get("WCAG-popup-label-info")})},showDefaultSearch:function(e){e.preventDefault();this.$checkinListContent.empty();this.drawCheckinSearchContent();$(".resv-area").addClass("login");
$('[role\x3d"main"]').find("h1").attr("tabindex",-1).focus();$('[role\x3d"main"]').find("h1").on("blur",function(){$(this).removeAttr("tabindex");$('[role\x3d"main"]').find("h1").off("blur")});window.scroll(0,0)},searchCheckIn:function(e){e.preventDefault();var $nChked=$("input#nonmem-agree:visible:not(:checked)");if($nChked.length==0){switch(this.model.get("searchType")){case "ticket":this.callSearch(this.searchTicket);break;case "reservation":this.callSearch(this.searchReservation);break;default:break}koreanair.analytics.prop({"web_checkin_entry_options":this.model.get("searchType")}).track("web_cki_entry_call")}else $.modal.confirm(Granite.I18n.get("you-must-agree"),
{returnFocusTo:$nChked})},callSearch:function(whichSearch){koreanair.utils.removeErrorElements($("#check-in-form").find("p.error"));if(this.validateCheckinForm())whichSearch.apply(this,[]);else this.validationFailCheck("checkin")},validateCheckinForm:function(){var validateResult=this.$checkinForm.valid();return validateResult},searchTicket:function(){var ticketData=this.model.toJSON({excludeEmpties:true});delete ticketData.reservationCode;this.loadingScreen.render();return this.manageRequest(ServiceApi.ticketDetails.post({data:JSON.stringify(ticketData),
success:_.identity,error:_.identity}).done(_.bind(function(data){if(data.length>0){this.model.set("reservationCode",data[0].recLocNumber);this.model.set("reservationNumber",data[0].reservationNumber);this.model.set("canCheckIn",this.model.get("reservationCode"));if(this.model.get("canCheckIn")){this.callSearch(this.searchReservation);return}}this.checkinShowError(I18n.get("flight-unavailable-checkin"))},this)).fail(_.bind(filterAborts(this.parseError),this)).always(_.bind(function(){this.loadingScreen.remove()},
this)))},searchReservation:function(data){var modelInfo=data||this.model.toJSON({excludeEmpties:true});this.loadingScreen.render();var reservationGetParam={departureDate:this.model.get("departureDate"),isCheckin:true};if($("#reservationFirstName:visible").length>0&&$("#reservationFirstName").val())reservationGetParam.firstName=$("#reservationFirstName").val();if($("#reservationLastName:visible").length>0&&$("#reservationLastName").val())reservationGetParam.lastName=$("#reservationLastName").val();
return this.manageRequest(ServiceApi.reservation.get({path:modelInfo,params:reservationGetParam,success:_.identity,error:_.identity,bypassGlobalErrorHandlers:true}).done(_.bind(this.processReservationSuccess,this)).fail(_.bind(filterAborts(this.parseError),this)).always(_.bind(function(){this.loadingScreen.remove()},this)))},processReservationSuccess:wrapRequiredAction(function(data){this.model.set("canCheckIn",data.pnrEligible!==false);if(this.model.get("canCheckIn"))this.continueCheckIn();else this.checkinShowError(I18n.get(!!data.pnrEligibleCode?
"error-"+data.pnrEligibleCode:"flight-unavailable-checkin"))},function(){return{done:this.processReservationSuccess,fail:filterAborts(this.parseError),extraData:{isCheckin:true}}},function(){var self=this;var behavior=koreanair.ReservationSearch.RequiredActionBehavior.inherits({actionRemediation:function(model){self.model.set("canCheckIn",model.pnrEligible!==false);if(self.model.get("canCheckIn"))self.continueCheckIn();else self.checkinShowError(I18n.get(!!model.pnrEligibleCode?"error-"+model.pnrEligibleCode:
"flight-unavailable-checkin"))}});return{DELAYED:{view:behavior}}}),continueCheckIn:function(){var baseURL=koreanair.Navigation.Booking.misc.checkIn;var checkInPath="#check-in?reservationCode\x3d";var searchData={searchType:this.model.get("searchType"),departureDate:this.model.get("departureDate")};if($("#reservationFirstName:visible").length>0&&$("#reservationFirstName").val())searchData.firstName=$("#reservationFirstName").val();if($("#reservationLastName:visible").length>0&&$("#reservationLastName").val())searchData.lastName=
$("#reservationLastName").val();var checkInURL="".concat(baseURL,checkInPath,this.model.get("reservationCode"),"\x26",$.param(searchData));window.location=checkInURL},goCheckIn:function(e){e.preventDefault();var clickedLink=$(e.currentTarget),reservationNumber=clickedLink.attr("data-reservation-code"),reservationDate=clickedLink.attr("data-date");this.model.set("searchType","reservation");this.model.set("reservationCode",reservationNumber);this.model.set("departureDate",reservationDate);this.searchCheckIn(e)},
parseError:function(jqxhr){var data;try{data=JSON.parse(jqxhr.responseText)}catch(e){}console.log("data\x3e\x3e\x3e\x3e",data);if(data&&data.source&&data.code)this.checkinShowError(I18n.get("error-"+data.source+"-"+data.code));else this.checkinShowError(I18n.get("reservation-not-found-error"))},checkinShowError:function(text){if(!_.isUndefined(this.$checkinError)){var $error=koreanair.utils.buildErrorElement(text,this.$checkinError,true);$error.attr("aria-live","assertive").attr("role","alert");$error.appendTo(this.$checkinError);
$("input#reservation-number").attr("aria-describedby",$error.attr("id"));if(this.model.get("searchType")==="reservation")$("#reservation-number").focus();else $("#ticket-number").focus()}},loginShowError:function(type){var $error=koreanair.utils.buildErrorElement(I18n.get("unauthorized-login-label"),this.$loginError,true);$error.appendTo(this.$loginError);this.$loginError.attr("aria-live","assertive").attr("role","alert");if(type==="username")$("#member-id").focus();else $("#skypass-no").focus()},
goCheckInGuide:function(e){e.preventDefault();koreanair.utils.goTo("/offers-promotion/promotions-hidden/web-mobile-check-in.html","_blank")},radioMemberButtonClicked:function(){this.toggleRadioButtonState("#member","#skypass");this.toggleShowHidePanel("#memberIdPanel","#skypassNoPanel");this.hideErrorMessages("login");koreanair.utils.removeErrorElements($("#login-form").find("p.error"))},radioSkypassButtonClicked:function(){this.toggleRadioButtonState("#skypass","#member");this.toggleShowHidePanel("#skypassNoPanel",
"#memberIdPanel");this.hideErrorMessages("login");koreanair.utils.removeErrorElements($("#login-form").find("p.error"))},toggleRadioButtonState:function(clickedElementId,otherElemtId){$(clickedElementId).prop("checked",true);$(otherElemtId).prop("checked",false)},toggleShowHidePanel:function(showPanel,hidePanel){$(showPanel).css("display","inline-block");$(hidePanel).hide()},goLogin:function(event){event.preventDefault();koreanair.utils.removeErrorElements(this.$loginForm.find("p.error"));var validate=
this.validateLoginForm();if(validate){var loginType=this.$el.find("#login-form input[name\x3dhow-to-login]:checked").val();var uname=loginType==="username"?this.$el.find("#member-id").val():this.$el.find("#skypass-no").val();var upwd=this.$el.find("#password").val();this.goLoginService(loginType,uname,upwd)}else this.validationFailCheck("login")},validateLoginForm:function(){var validateResult=this.$loginForm.valid();return validateResult},goLoginService:function(loginType,uname,upwd){this.$loginError.empty();
koreanair.Login.callLoginService(loginType,uname,upwd).done(_.bind(function(data){this.$el.empty();this.drawCheckInGate();this.$loginForm.remove();this.$checkinSearchContent.empty();this.drawCheckinListContent();koreanair.common.utils.initFocus()},this)).fail(_.bind(function(){this.loginShowError(loginType)},this)).always(_.bind(function(){},this))},hideErrorMessages:function(type){if(type==="checkin"){if(!_.isUndefined(this.$checkinError)){this.$checkinError.empty();this.$checkinError.removeAttr("aria-invalid")}}else{this.$loginError.empty();
this.$loginError.removeAttr("aria-invalid")}},validationFailCheck:function(type){var $errors=type==="checkin"?this.$checkinForm.find("p.error"):this.$loginForm.find("p.error");$errors.each(function(index){var $error=$errors.eq(index),$element=$("#"+$error.attr("data-errored-element"));if(index===0)$element.focus()})},removeErrorElements:function(e){$("#"+e.currentTarget.id).removeAttr("aria-invalid");if(e.currentTarget.id==="member-id"||e.currentTarget.id==="skypass-no"||e.currentTarget.id==="password")this.hideErrorMessages("login");
else this.hideErrorMessages("checkin")},updateTitleText:function(){document.title=I18n.get("check-in-label")+" - "+I18n.get("KE-airline-name")}});koreanair.checkin=koreanair.checkin||{};koreanair.checkin.views=koreanair.checkin.views||{};koreanair.checkin.views.CheckInGate=CheckInGate})(_,jQuery,Backbone,Handlebars.templates,koreanair,koreanair.ServiceApi,koreanair.checkin.models.CheckInSearch,Granite.I18n,koreanair.common.views.SimpleCalendar,koreanair.ReservationSearch.wrapRequiredAction);
(function($,koreanair){$(document).ready(function(){var checkinGate=new koreanair.checkin.views.CheckInGate;if($("#checkingate").length>0)checkinGate.render()})})(jQuery,koreanair);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["airport-chooser"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1;buffer+='\x3cspan class\x3d"formlabel type2" id\x3d"label_'+escapeExpression((stack1=
depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" tabindex\x3d"-1"\x3e'+escapeExpression((stack1=depth0&&depth0.label,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/span\x3e";return buffer}function program3(depth0,data){var buffer="",stack1;buffer+='\x3cspan class\x3d"offscreen" id\x3d"label_'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((stack1=depth0&&depth0.label,
typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/span\x3e";return buffer}buffer+="\x3c!--template:airport-chooser //--\x3e";stack1=helpers["if"].call(depth0,depth0&&depth0.isShowLabel,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3cdiv class\x3d"fillholder fillholder-new"\x3e        \x3cdiv class\x3d"posR combobox"\x3e        \x3cdiv id\x3d"combobox_'+escapeExpression((stack1=depth0&&depth0.inputId,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" role\x3d"combobox" aria-labelledby\x3d"label_'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e \x3c!-- NVDA에서 input을 combobox로 인식하게 하기 위한 div --\x3e                        \x3cinput id\x3d"'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"fromto-input tripdetail-input ui-autocomplete-input" type\x3d"text" tabindex\x3d"-1"/\x3e            \x3cspan class\x3d"placeholder" data-placeholder-id\x3d"'+
escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((stack1=depth0&&depth0.label,typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/span\x3e        \x3c/div\x3e        \x3cdiv class\x3d"div-airport-list org-airport-list" style\x3d"display:none;"\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cbutton class\x3d"fromTarget" aria-expanded\x3d"false" aria-controls\x3d"airport-list_'+escapeExpression((stack1=depth0&&
depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((stack1=depth0&&depth0.label,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/button\x3e    \x3c/div\x3e\x3c!-- /template:airport-chooser //--\x3e";return buffer});templates["booking-gate-date-chooser"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,
options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='    \x3clabel for\x3d"'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"formlabel type2"\x3e'+escapeExpression((stack1=depth0&&depth0.label,typeof stack1===functionType?stack1.apply(depth0):stack1))+'  \x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-yyyy-mm-dd-label",options):helperMissing.call(depth0,"i18n","WA-yyyy-mm-dd-label",options)))+"\x3c/span\x3e\x3c/label\x3e";return buffer}function program3(depth0,data){var buffer="",stack1;buffer+='    \x3clabel for\x3d"'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"formlabel offscreen"\x3e'+escapeExpression((stack1=
depth0&&depth0.label,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/label\x3e";return buffer}buffer+="\x3c!-- template:booking-gate-date-chooser --\x3e";stack1=helpers["if"].call(depth0,depth0&&depth0.isShowLabel,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3cdiv class\x3d"dateholder"\x3e    \x3cspan class\x3d"placeholder" id\x3d"placeholder_'+escapeExpression((stack1=depth0&&depth0.inputId,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-placeholder-id\x3d"'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"depart-return-label-double",options):helperMissing.call(depth0,"i18n","depart-return-label-double",options)))+'\x3c/span\x3e    \x3cinput id\x3d"'+escapeExpression((stack1=depth0&&depth0.inputId,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"tripdetail-input" type\x3d"text" maxlength\x3d"23"  /\x3e\x3c!-- US DOT 김설영 --\x3e    \x3cbutton class\x3d"dateTarget"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-btn-select-date",options):helperMissing.call(depth0,"i18n","WA-btn-select-date",options)))+"\x3c/button\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-date-chooser --\x3e";return buffer});templates["booking-gate-from-to-chooser"]=
template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='\x3cdiv class\x3d"tripType keForm"\x3e    \x3cul role\x3d"group" aria-label\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"UWA-tit-triptype",options):helperMissing.call(depth0,"i18n","UWA-tit-triptype",options)))+'"\x3e        \x3cli role\x3d"presentation"\x3e            \x3cinput id\x3d"oneway_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" type\x3d"radio" name\x3d"tripType" checked\x3d"checked" ';stack1=helpers["if"].call(depth0,depth0&&depth0.radioDisable,{hash:{},inverse:self.noop,fn:self.program(2,
program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' value\x3d"oneway" /\x3e\x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e            \x3clabel for\x3d"oneway_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"checkboxLabel on"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"one-way-label",options):helperMissing.call(depth0,"i18n","one-way-label",
options)))+'\x3c/label\x3e        \x3c/li\x3e        \x3cli role\x3d"presentation"\x3e            \x3cinput id\x3d"roundtrip_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" type\x3d"radio" name\x3d"tripType" ';stack1=helpers["if"].call(depth0,depth0&&depth0.radioDisable,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' value\x3d"roundtrip" /\x3e\x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e            \x3clabel for\x3d"roundtrip_'+
escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"checkboxLabel"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"roundtrip-label",options):helperMissing.call(depth0,"i18n","roundtrip-label",options)))+"\x3c/label\x3e        \x3c/li\x3e        ";stack1=helpers.unless.call(depth0,depth0&&depth0.hiddenMulti,{hash:{},inverse:self.noop,fn:self.program(4,program4,
data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/ul\x3e\x3c/div\x3e";return buffer}function program2(depth0,data){return'disabled\x3d"disabled"'}function program4(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3cli id\x3d"multiRadio" role\x3d"presentation"\x3e            \x3cinput id\x3d"multi_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" type\x3d"radio" name\x3d"tripType" ';stack1=helpers["if"].call(depth0,
depth0&&depth0.radioDisable,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' value\x3d"multi" /\x3e\x3cspan class\x3d"radiobtn"\x3e\x3c/span\x3e            \x3clabel for\x3d"multi_'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"checkboxLabel"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"multi-open-label",options):helperMissing.call(depth0,"i18n","multi-open-label",options)))+'\x3c/label\x3e            \x3cbutton class\x3d"query-s multi-info"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-open-label",options):helperMissing.call(depth0,"i18n","multi-open-label",options)))+" - "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-detail-information",
options):helperMissing.call(depth0,"i18n","WA-detail-information",options)))+"\x3c/button\x3e        \x3c/li\x3e        ";return buffer}function program6(depth0,data){var buffer="",stack1,helper,options;buffer+='    \x3cdiv class\x3d"tripType keForm"\x3e        \x3ch4 class\x3d"tit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"reservation-number",options):helperMissing.call(depth0,"i18n","reservation-number",options)))+" : ";
if(helper=helpers.reservationNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.reservationNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/h4\x3e    \x3c/div\x3e";return buffer}function program8(depth0,data){var buffer="",helper,options;buffer+='\x3cli class\x3d"label"\x3e\x3cstrong\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"nb-itr-label",options):helperMissing.call(depth0,"i18n","nb-itr-label",options)))+" 1\x3c/strong\x3e\x3c/li\x3e";return buffer}function program10(depth0,data){return'    \x3c!--\x3cdiv class\x3d"check-direct" style\x3d"text-align:right;padding-top:10px;"\x3e        \x3cdiv class\x3d"checkbox-wrapper"\x3e            \x3cinput type\x3d"checkbox" id\x3d"direct" class\x3d"css-checkbox" /\x3e            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e            \x3clabel for\x3d"direct" class\x3d"bookWithMiles label-checkbox-bk"\x3e 직항편만 조회\x3c/label\x3e        \x3c/div\x3e    \x3c/div\x3e--\x3e    '}
function program12(depth0,data){var buffer="",helper,options;buffer+='\x3cdiv class\x3d"check-flexible-wrap"\x3e    \x3cdiv class\x3d"check-flexible"\x3e        \x3cdiv class\x3d"checkbox-wrapper"\x3e            \x3cinput type\x3d"checkbox" id\x3d"isFlex" class\x3d"css-checkbox" /\x3e            \x3cspan class\x3d"checkbox"\x3e\x3c/span\x3e            \x3clabel for\x3d"isFlex" class\x3d"bookWithMiles label-checkbox-bk"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"flex-dates-option-label",options):helperMissing.call(depth0,"i18n","flex-dates-option-label",options)))+'\x3c/label\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cdiv id\x3d"checkbox-flex-message" class\x3d"upgrade-info2 flex-info dp-none" aria-live\x3d"assertive"\x3e        \x3c!--PLUAT-4299  불릿 처리된 안내 문구            \x3cp class\x3d"txt-belt" id\x3d"bonus-upgrade-info-message-area"\x3etext\x3c/p\x3e        --\x3e    \x3c/div\x3e\x3c/div\x3e';return buffer}buffer+=
"\x3c!-- template:booking-gate-from-to-chooser --\x3e\x3c!-- US DOT 김설영 --\x3e";stack1=helpers["if"].call(depth0,depth0&&depth0.radio,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.isChange,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3cdiv class\x3d"tripDetails"\x3e    \x3cdiv id\x3d"boundList" class\x3d"multi-itr"\x3e        \x3cul class\x3d"airports-single" role\x3d"presentation"\x3e            ';
stack1=helpers["if"].call(depth0,depth0&&depth0.isMultiFlightSelect,{hash:{},inverse:self.noop,fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3cli class\x3d"airports-departure-area"\x3e\x3c/li\x3e            \x3cli class\x3d"airports-arrival-area"\x3e\x3c/li\x3e            \x3cli class\x3d"date-chooser-area"\x3e\x3c/li\x3e        \x3c/ul\x3e            \x3c/div\x3e    ';stack1=helpers["if"].call(depth0,depth0&&depth0.option,{hash:{},inverse:self.noop,
fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cdiv id\x3d"booking-gate-from-to-chooser-error" class\x3d"errorMessageContainer"\x3e\x3c/div\x3e    \x3cdiv id\x3d"booking-gate-from-to-chooser-error2" class\x3d"errorMessageContainer" role\x3d"alert"\x3e\x3c/div\x3e        \x3c/div\x3e\x3c!--PLUAT-4299  위치 이동--\x3e';stack1=helpers["if"].call(depth0,depth0&&depth0.option,{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+="\x3c!-- /template:booking-gate-from-to-chooser --\x3e";return buffer});templates["booking-gate-number-counter"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this,functionType="function";function program1(depth0,data){var buffer="",stack1;buffer+="        \x3c!-- jira-2015 소아,유아 버튼 삭제  --\x3e            ";
stack1=helpers.unless.call(depth0,depth0&&depth0.isBookingGate,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program2(depth0,data){var buffer="",helper,options;buffer+='            \x3cbutton class\x3d"query-s"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.label,options):helperMissing.call(depth0,"i18n",depth0&&
depth0.label,options)))+"-"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-detail-information",options):helperMissing.call(depth0,"i18n","WA-detail-information",options)))+"\x3c/button\x3e            ";return buffer}buffer+='\x3c!-- template:booking-gate-number-counter --\x3e\x3cdl class\x3d"number-counter" role\x3d"presentation"\x3e \x3c!-- US DOT 김설영 --\x3e    \x3cdt\x3e        \x3cspan\x3e\x3c/span\x3e        ';stack1=helpers["if"].call(depth0,
depth0&&depth0.isInfoButton,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3c/dt\x3e    \x3cdd\x3e        \x3cbutton  class\x3d"decrease" data-name\x3d"decrease"\x3e\x3c/button\x3e        \x3clabel for\x3d"'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"offscreen"\x3e'+escapeExpression((stack1=depth0&&depth0.label,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'\x3c/label\x3e        \x3cinput type\x3d"text" id\x3d"'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"input_'+escapeExpression((stack1=depth0&&depth0.type,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" value\x3d"0" /\x3e        \x3cdiv class\x3d"offscreen" aria-live\x3d"assertive" aria-relevant\x3d"additions" aria-atomic\x3d"true" id\x3d"msg_'+escapeExpression((stack1=depth0&&depth0.inputId,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'"\x3e\x3c/div\x3e        \x3cbutton class\x3d"increase" data-name\x3d"increase"\x3e\x3c/button\x3e    \x3c/dd\x3e\x3c/dl\x3e\x3c!-- /template:booking-gate-number-counter --\x3e';return buffer});templates["booking-gate-passenger-count"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helperMissing=helpers.helperMissing,escapeExpression=
this.escapeExpression,self=this;function program1(depth0,data){var buffer="",helper,options;buffer+='    \x3c!--jira-2015 나이계산기 추가 --\x3e    \x3cdiv class\x3d"pass_wrap"\x3e    \x3c!--jira-2015 나이계산기 추가 --\x3e                \x3cdiv class\x3d"passanger-count-wrap"\x3e            \x3cdiv class\x3d"adults"\x3e\x3c/div\x3e            \x3cdiv class\x3d"child"\x3e\x3c/div\x3e            \x3cdiv class\x3d"infant"\x3e\x3c/div\x3e        \x3c/div\x3e        \x3c!--jira-2015 나이계산기 추가 --\x3e        \x3cdiv class\x3d"age_cal_btn"\x3e            \x3cbutton class\x3d"pass-age" id\x3d"age-passenger-stand-btn"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bookinggate-age-passenger-stand",options):helperMissing.call(depth0,"i18n","bookinggate-age-passenger-stand",options)))+'\x3c/button\x3e            \x3cbutton class\x3d"button-small-white ico-age" id\x3d"age-calculator-btn"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bookinggate-age-calculator",options):helperMissing.call(depth0,
"i18n","bookinggate-age-calculator",options)))+'\x3c/button\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cdiv class\x3d"acomm-notice-info keForm" id\x3d"child-infant-agree-div"\x3e\x3c/div\x3e    \x3c!--jira-2015 나이계산기 추가 --\x3e    ';return buffer}function program3(depth0,data){var buffer="";buffer+='        \x3cdiv class\x3d"passanger-count-wrap"\x3e        \x3cdiv class\x3d"adults"\x3e\x3c/div\x3e        \x3cdiv class\x3d"child"\x3e\x3c/div\x3e        \x3cdiv class\x3d"infant"\x3e\x3c/div\x3e    \x3c/div\x3e    ';
return buffer}buffer+='\x3c!-- template:booking-gate-passenger-count --\x3e\x3cdiv class\x3d"passenger keForm"\x3e \x3c!-- US DOT 김설영 --\x3e    ';stack1=helpers["if"].call(depth0,depth0&&depth0.isBookingGate,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cdiv class\x3d"upgrade-info2 info-message"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e    \x3cdiv id\x3d"booking-gate-passenger-count-error-wrapper" class\x3d"errorMessageContainer" role\x3d"alert" aria-live\x3d"assertive"\x3e\x3c/div\x3e\x3c/div\x3e\x3c!-- /template:booking-gate-passenger-count --\x3e';
return buffer});templates["calendar-core-range"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,self=this,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1;buffer+='    \x3ctr role\x3d"row"\x3e        ';stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,
fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/tr\x3e    ";return buffer}function program2(depth0,data){var buffer="",stack1;buffer+="            ";stack1=helpers["if"].call(depth0,depth0,{hash:{},inverse:self.program(34,program34,data),fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3ctd id\x3d"'+
escapeExpression((stack1=depth0&&depth0.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" role\x3d"gridcell" ';stack1=helpers["if"].call(depth0,depth0&&depth0.date,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' data-option-array-index\x3d"'+escapeExpression((stack1=depth0&&depth0.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-time\x3d"'+escapeExpression((stack1=depth0&&depth0.time,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" data-day\x3d"'+escapeExpression((stack1=depth0&&depth0.day,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" tabindex\x3d"-1" ';stack1=helpers.unless.call(depth0,depth0&&depth0.enable,{hash:{},inverse:self.noop,fn:self.program(16,program16,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' aria-label\x3d"'+escapeExpression((helper=helpers.ymLocaleFormattedString||depth0&&depth0.ymLocaleFormattedString,options={hash:{},data:data},
helper?helper.call(depth0,depth0&&depth0.time,"011",options):helperMissing.call(depth0,"ymLocaleFormattedString",depth0&&depth0.time,"011",options)));stack1=helpers["if"].call(depth0,depth0&&depth0.enable,{hash:{},inverse:self.noop,fn:self.program(18,program18,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.disabled,{hash:{},inverse:self.program(22,program22,data),fn:self.program(20,program20,data),data:data});if(stack1||stack1===0)buffer+=stack1;
stack1=helpers["if"].call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(27,program27,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" ';stack1=helpers.unless.call(depth0,depth0&&depth0.disabled,{hash:{},inverse:self.noop,fn:self.program(29,program29,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3e                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.date,{hash:{},inverse:self.noop,fn:self.program(31,program31,data),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/td\x3e            ";return buffer}function program4(depth0,data){var buffer="",stack1;buffer+='class\x3d"date '+escapeExpression((stack1=depth0&&depth0.day,typeof stack1===functionType?stack1.apply(depth0):stack1))+" ";stack1=helpers["if"].call(depth0,depth0&&depth0.disabled,{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,
depth0&&depth0.enable,{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(14,program14,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" ';return buffer}function program5(depth0,data){return" unavailable"}function program7(depth0,data){var buffer="",stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.isNoFlights,{hash:{},
inverse:self.noop,fn:self.program(8,program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.isNoSeats,{hash:{},inverse:self.noop,fn:self.program(10,program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer}function program8(depth0,data){return" no-flight"}function program10(depth0,data){return" no-seat"}function program12(depth0,data){return" available"}function program14(depth0,data){return" selected"}function program16(depth0,
data){return' aria-disabled\x3d"true"'}function program18(depth0,data){var buffer="",helper,options;buffer+=", "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-legend-avail",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-legend-avail",options)));return buffer}function program20(depth0,data){var buffer="",helper,options;buffer+=", "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)));return buffer}function program22(depth0,data){var buffer="",stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.isNoFlights,{hash:{},inverse:self.noop,fn:self.program(23,program23,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.isNoSeats,{hash:{},inverse:self.noop,fn:self.program(25,program25,
data),data:data});if(stack1||stack1===0)buffer+=stack1;return buffer}function program23(depth0,data){var buffer="",helper,options;buffer+=", "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-legend-noFlight",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-legend-noFlight",options)));return buffer}function program25(depth0,data){var buffer="",helper,options;buffer+=", "+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-legend-noAvail",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-legend-noAvail",options)));return buffer}function program27(depth0,data){var buffer="",helper,options;buffer+=", "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-selected",options):helperMissing.call(depth0,"i18n","WA-selected",options)));return buffer}function program29(depth0,
data){return' aria-selected\x3d"false"'}function program31(depth0,data){var buffer="",stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.showMonth,{hash:{},inverse:self.noop,fn:self.program(32,program32,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                        \x3cspan aria-hidden\x3d"true"\x3e'+escapeExpression((stack1=depth0&&depth0.date,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/span\x3e                    ";
return buffer}function program32(depth0,data){var buffer="",stack1;buffer+='\x3csup aria-hidden\x3d"true"\x3e'+escapeExpression((stack1=depth0&&depth0.monthMin,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/sup\x3e";return buffer}function program34(depth0,data){return'                \x3ctd class\x3d"empty-date"\x3e\x3c/td\x3e            '}buffer+='\x3c!-- template:calendar-core-range --\x3e\x3c!-- US DOT 4.1~ 김설영 --\x3e\x3ctable class\x3d"cal-01" tabindex\x3d"0" role\x3d"grid" aria-readonly\x3d"true"\x3e\x3c!-- 오는날일때는 UWA-calender-resummary로 레이블 변경 --\x3e    \x3ccolgroup role\x3d"presentation"\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.29%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.29%;" /\x3e        \x3ccol style\x3d"width: 14.29%;" /\x3e        \x3ccol style\x3d"width: 14.29%;" /\x3e        \x3ccol /\x3e    \x3c/colgroup\x3e    \x3cthead role\x3d"presentation"\x3e    \x3ctr role\x3d"row"\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"sunday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-sunday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-sunday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"sunday-abbr-label",options):helperMissing.call(depth0,"i18n","sunday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"monday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-monday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-monday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"monday-abbr-label",options):helperMissing.call(depth0,"i18n","monday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"tuesday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-tuesday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-tuesday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"tuesday-abbr-label",options):helperMissing.call(depth0,"i18n","tuesday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"wednesday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-wednesday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-wednesday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wednesday-abbr-label",options):helperMissing.call(depth0,"i18n","wednesday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"thursday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-thursday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-thursday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"thursday-abbr-label",options):helperMissing.call(depth0,"i18n","thursday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"friday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-friday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-friday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"friday-abbr-label",options):helperMissing.call(depth0,"i18n","friday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"saturday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-saturday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-saturday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"saturday-abbr-label",options):helperMissing.call(depth0,"i18n","saturday-abbr-label",options)))+'\x3c/th\x3e    \x3c/tr\x3e    \x3c/thead\x3e    \x3ctbody role\x3d"presentation"\x3e    ';
stack1=helpers.each.call(depth0,depth0&&depth0.weeks,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/tbody\x3e\x3c/table\x3e\x3c!-- /template:calendar-core-range --\x3e";return buffer});templates["calendar-core"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,self=this,functionType=
"function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1;buffer+='    \x3ctr role\x3d"row"\x3e        ';stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/tr\x3e    ";return buffer}function program2(depth0,data){var buffer="",stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0,{hash:{},inverse:self.program(24,
program24,data),fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program3(depth0,data){var buffer="",stack1;buffer+='        \x3ctd id\x3d"day-'+escapeExpression((stack1=depth0&&depth0.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" role\x3d"gridcell" ';stack1=helpers["if"].call(depth0,depth0&&depth0.date,{hash:{},inverse:self.noop,fn:self.program(4,program4,data),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+='data-option-array-index\x3d"'+escapeExpression((stack1=depth0&&depth0.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-time\x3d"'+escapeExpression((stack1=depth0&&depth0.time,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-day\x3d"'+escapeExpression((stack1=depth0&&depth0.day,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.disabled,{hash:{},inverse:self.program(18,program18,data),
fn:self.program(16,program16,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' aria-label\x3d"'+escapeExpression((stack1=depth0&&depth0.day,typeof stack1===functionType?stack1.apply(depth0):stack1))+", "+escapeExpression((stack1=depth0&&depth0.date,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" aria-selected\x3d"false" ';stack1=helpers["if"].call(depth0,depth0&&depth0.spkg,{hash:{},inverse:self.noop,fn:self.program(20,program20,data),data:data});if(stack1||stack1===0)buffer+=
stack1;buffer+="\x3e        ";stack1=helpers["if"].call(depth0,depth0&&depth0.date,{hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/td\x3e        ";return buffer}function program4(depth0,data){var buffer="",stack1;buffer+='class\x3d"date '+escapeExpression((stack1=depth0&&depth0.day,typeof stack1===functionType?stack1.apply(depth0):stack1));stack1=helpers["if"].call(depth0,depth0&&depth0.disabled,{hash:{},inverse:self.program(7,
program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.occupied,{hash:{},inverse:self.program(13,program13,data),fn:self.program(11,program11,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" ';return buffer}function program5(depth0,
data){return" unavailable"}function program7(depth0,data){return" available"}function program9(depth0,data){return" selected"}function program11(depth0,data){return" occupied"}function program13(depth0,data){var stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.spkg,{hash:{},inverse:self.noop,fn:self.program(14,program14,data),data:data});if(stack1||stack1===0)return stack1;else return""}function program14(depth0,data){return" spkg"}function program16(depth0,data){var buffer="";return buffer}
function program18(depth0,data){return'tabindex\x3d"-1"'}function program20(depth0,data){var buffer="",stack1;buffer+='spkg-id\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.spkg,stack1==null||stack1===false?stack1:stack1.spkgId),typeof stack1===functionType?stack1.apply(depth0):stack1))+'" spkg-name\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.spkg,stack1==null||stack1===false?stack1:stack1.spkgName),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"';return buffer}function program22(depth0,
data){var buffer="",stack1;buffer+="        "+escapeExpression((stack1=depth0&&depth0.date,typeof stack1===functionType?stack1.apply(depth0):stack1))+"        ";return buffer}function program24(depth0,data){return'        \x3ctd class\x3d"empty-date"\x3e        \x3c/td\x3e        '}buffer+='\x3c!-- template:calendar-core --\x3e\x3c!-- US DOT 4.1~ 김설영 --\x3e\x3ctable class\x3d"cal-01" tabindex\x3d"0" role\x3d"grid" aria-readonly\x3d"true"\x3e\x3c!-- 오는날일때는 UWA-calender-resummary로 레이블 변경 --\x3e    \x3ccolgroup role\x3d"presentation"\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol /\x3e    \x3c/colgroup\x3e    \x3cthead role\x3d"presentation"\x3e    \x3ctr role\x3d"row"\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"sunday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-sunday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-sunday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"sunday-abbr-label",options):helperMissing.call(depth0,"i18n","sunday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"monday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-monday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-monday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"monday-abbr-label",options):helperMissing.call(depth0,"i18n","monday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"tuesday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-tuesday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-tuesday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"tuesday-abbr-label",options):helperMissing.call(depth0,"i18n","tuesday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"wednesday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-wednesday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-wednesday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wednesday-abbr-label",options):helperMissing.call(depth0,"i18n","wednesday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"thursday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-thursday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-thursday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"thursday-abbr-label",options):helperMissing.call(depth0,"i18n","thursday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"friday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-friday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-friday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"friday-abbr-label",options):helperMissing.call(depth0,"i18n","friday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"saturday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-saturday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-saturday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"saturday-abbr-label",options):helperMissing.call(depth0,"i18n","saturday-abbr-label",options)))+'\x3c/th\x3e    \x3c/tr\x3e    \x3c/thead\x3e    \x3ctbody role\x3d"presentation"\x3e    ';
stack1=helpers.each.call(depth0,depth0&&depth0.weeks,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/tbody\x3e\x3c/table\x3e\x3c!-- /template:calendar-core --\x3e";return buffer});templates["calendar-QPX-core"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",
escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1;buffer+='        \x3ctr role\x3d"row"\x3e            ';stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        \x3c/tr\x3e    ";return buffer}function program2(depth0,data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0,
{hash:{},inverse:self.program(27,program27,data),fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3ctd id\x3d"day-'+escapeExpression((stack1=depth0&&depth0.id,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" role\x3d"gridcell" ';stack1=helpers["if"].call(depth0,depth0&&depth0.date,{hash:{},inverse:self.noop,fn:self.program(4,
program4,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='data-option-array-index\x3d"'+escapeExpression((stack1=depth0&&depth0.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-time\x3d"'+escapeExpression((stack1=depth0&&depth0.time,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-day\x3d"'+escapeExpression((stack1=depth0&&depth0.day,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.disabled,
{hash:{},inverse:self.program(17,program17,data),fn:self.program(15,program15,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=' aria-label\x3d"'+escapeExpression((stack1=depth0&&depth0.day,typeof stack1===functionType?stack1.apply(depth0):stack1))+", "+escapeExpression((stack1=depth0&&depth0.date,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" aria-selected\x3d"false"\x3e                        \x3cdiv class\x3d"posR"\x3e                        ';stack1=helpers["if"].call(depth0,
depth0&&depth0.date,{hash:{},inverse:self.noop,fn:self.program(19,program19,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=(helper=helpers.compare||depth0&&depth0.compare,options={hash:{},inverse:self.program(24,program24,data),fn:self.program(21,program21,data),data:data},helper?helper.call(depth0,depth0&&depth0.type,"\x3d\x3d","out",options):helperMissing.call(depth0,"compare",depth0&&depth0.type,"\x3d\x3d","out",options));if(stack1||stack1===0)buffer+=
stack1;buffer+="                    \x3c/td\x3e                ";return buffer}function program4(depth0,data){var buffer="",stack1;buffer+='class\x3d"date '+escapeExpression((stack1=depth0&&depth0.day,typeof stack1===functionType?stack1.apply(depth0):stack1));stack1=helpers["if"].call(depth0,depth0&&depth0.disabled,{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.selected,
{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;stack1=helpers["if"].call(depth0,depth0&&depth0.occupied,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=" ";stack1=helpers["if"].call(depth0,depth0&&depth0.isQPX,{hash:{},inverse:self.noop,fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" ';return buffer}function program5(depth0,
data){return" unavailable"}function program7(depth0,data){return" available"}function program9(depth0,data){return" selected"}function program11(depth0,data){return" occupied"}function program13(depth0,data){return"qpx"}function program15(depth0,data){var buffer="";return buffer}function program17(depth0,data){return'tabindex\x3d"-1"'}function program19(depth0,data){var buffer="",stack1;buffer+="                            "+escapeExpression((stack1=depth0&&depth0.date,typeof stack1===functionType?
stack1.apply(depth0):stack1))+"                        ";return buffer}function program21(depth0,data){var buffer="",stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.outDataQPX,stack1==null||stack1===false?stack1:stack1.price),{hash:{},inverse:self.noop,fn:self.program(22,program22,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";return buffer}function program22(depth0,data){var buffer="",stack1;buffer+=
'                                \x3cspan class\x3d"fare" data-from\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.outDataQPX,stack1==null||stack1===false?stack1:stack1.departureDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-to\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.outDataQPX,stack1==null||stack1===false?stack1:stack1.returnDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-currency\x3d"'+escapeExpression((stack1=(stack1=depth0&&
depth0.outDataQPX,stack1==null||stack1===false?stack1:stack1.currency),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e$'+escapeExpression((stack1=(stack1=depth0&&depth0.outDataQPX,stack1==null||stack1===false?stack1:stack1.price),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/span\x3e                            ";return buffer}function program24(depth0,data){var buffer="",stack1;buffer+="                            ";stack1=helpers["if"].call(depth0,(stack1=depth0&&
depth0.inDataQPX,stack1==null||stack1===false?stack1:stack1.price),{hash:{},inverse:self.noop,fn:self.program(25,program25,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        \x3c/div\x3e                        ";return buffer}function program25(depth0,data){var buffer="",stack1;buffer+='                            \x3cspan class\x3d"fare" data-from\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.inDataQPX,stack1==null||stack1===false?stack1:stack1.departureDate),
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-to\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.inDataQPX,stack1==null||stack1===false?stack1:stack1.returnDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-currency\x3d"'+escapeExpression((stack1=(stack1=depth0&&depth0.inDataQPX,stack1==null||stack1===false?stack1:stack1.currency),typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e$'+escapeExpression((stack1=(stack1=depth0&&depth0.inDataQPX,
stack1==null||stack1===false?stack1:stack1.price),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/span\x3e                        ";return buffer}function program27(depth0,data){return'                    \x3ctd class\x3d"empty-date"\x3e                    \x3c/td\x3e                '}buffer+='\x3c!-- template:calendar-core --\x3e\x3c!-- US DOT 4.1~ 김설영--\x3e\x3ctable class\x3d"cal-01" tabindex\x3d"0" role\x3d"grid" aria-readonly\x3d"true"\x3e\x3c!-- 오는날일때는 UWA-calender-resummary로 레이블 변경 --\x3e    \x3ccolgroup role\x3d"presentation"\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol style\x3d"width: 14.28%;" /\x3e        \x3ccol /\x3e    \x3c/colgroup\x3e    \x3cthead role\x3d"presentation"\x3e    \x3ctr role\x3d"row"\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"sunday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-sunday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-sunday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"sunday-abbr-label",options):helperMissing.call(depth0,"i18n","sunday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"monday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-monday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-monday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"monday-abbr-label",options):helperMissing.call(depth0,"i18n","monday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"tuesday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-tuesday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-tuesday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"tuesday-abbr-label",options):helperMissing.call(depth0,"i18n","tuesday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"wednesday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-wednesday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-wednesday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"wednesday-abbr-label",options):helperMissing.call(depth0,"i18n","wednesday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"thursday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-thursday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-thursday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"thursday-abbr-label",options):helperMissing.call(depth0,"i18n","thursday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"friday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-friday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-friday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"friday-abbr-label",options):helperMissing.call(depth0,"i18n","friday-abbr-label",options)))+'\x3c/th\x3e        \x3cth scope\x3d"col" role\x3d"columnheader" class\x3d"saturday" abbr\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-result-label-saturday",options):helperMissing.call(depth0,"i18n","viewBonusSeat-result-label-saturday",options)))+'"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"saturday-abbr-label",options):helperMissing.call(depth0,"i18n","saturday-abbr-label",options)))+'\x3c/th\x3e    \x3c/tr\x3e    \x3c/thead\x3e    \x3ctbody role\x3d"presentation"\x3e    ';
stack1=helpers.each.call(depth0,depth0&&depth0.weeks,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3c/tbody\x3e\x3c/table\x3e\x3cdiv class\x3d"range-tooltip" role\x3d"tooltip" aria-hidden\x3d"false" \x3e\x3c!--aria-hidden동적 처리--\x3e    \x3c/div\x3e\x3c!-- /template:calendar-core --\x3e';return buffer});templates["calendar-range-base"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];
helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing;buffer+='\x3c!-- template:calendar-range-base --\x3e\x3c!-- US DOT 4.1~  김설영--\x3e\x3cdiv class\x3d"error-container"\x3e\x3c/div\x3e\x3ch3 class\x3d"tit-cal"\x3e';if(helper=helpers.title)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.title;stack1=typeof helper===functionType?helper.call(depth0,
{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/h3\x3e\x3cdiv class\x3d"month"\x3e    \x3ch4\x3e';if(helper=helpers.duration)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.duration;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/h4\x3e\x3c/div\x3e\x3cdiv class\x3d"cal-key-access offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"UWA-calendar-keyobard-access",options):helperMissing.call(depth0,"i18n","UWA-calendar-keyobard-access",options)))+'\x3c/div\x3e\x3cdiv class\x3d"calendar-range-area " role\x3d"application"\x3e\x3c/div\x3e\x3c!-- /template:calendar-range-base --\x3e';return buffer});templates["domestic-airport-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};
var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3cli class\x3d"'+escapeExpression((stack1=depth0&&depth0.liClass,typeof stack1===functionType?stack1.apply(depth0):stack1))+" "+escapeExpression((stack1=depth0&&depth0.ondClass,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-option-array-index\x3d"'+
escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" tabindex\x3d"-1" role\x3d"option" id\x3d"'+escapeExpression((stack1=depth0&&depth0.selectorId,typeof stack1===functionType?stack1.apply(depth0):stack1))+"_opt"+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" aria-selected\x3d"false" data-focused\x3d"false" ';stack1=(helper=helpers.compare||depth0&&
depth0.compare,options={hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data},helper?helper.call(depth0,depth0&&depth0.ondClass,"\x3d\x3d","disabled",options):helperMissing.call(depth0,"compare",depth0&&depth0.ondClass,"\x3d\x3d","disabled",options));if(stack1||stack1===0)buffer+=stack1;buffer+='\x3e\x3cspan data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((helper=helpers.airportStringReplace||
depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,"Korea",options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,"Korea",options)))+"\x3c/span\x3e\x3c/li\x3e    ";return buffer}function program2(depth0,data){return'disabled\x3d"disabled"'}buffer+='\x3c!-- template:domestic-airport-selector --\x3e\x3cspan class\x3d"offscreen domestic-airport-guide" tabindex\x3d"-1"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"domestic-airport-select-guide",options):helperMissing.call(depth0,"i18n","domestic-airport-select-guide",options)))+'\x3c/span\x3e\x3cul class\x3d"ui-autocomplete" role\x3d"listbox" id\x3d"';if(helper=helpers.id)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.id;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e    ';stack1=helpers.each.call(depth0,
depth0,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/ul\x3e\x3c!-- /template:domestic-airport-selector --\x3e";return buffer});templates["modal-age-calculator"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,
self=this;function program1(depth0,data){var buffer="",helper,options;buffer+="        \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bookinggate-age-notice",options):helperMissing.call(depth0,"i18n","bookinggate-age-notice",options)))+"\x3c/li\x3e        ";return buffer}function program3(depth0,data){var buffer="",helper,options;buffer+="        \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"bookinggate-age-notice-int",options):helperMissing.call(depth0,"i18n","bookinggate-age-notice-int",options)))+"\x3c/li\x3e        ";return buffer}buffer+='\x3c!-- template:modal-age-calculator --\x3e\x3ch2 class\x3d"usdot-sec-tit" id\x3d"dialog-age-calculator-tit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bookinggate-age-infant-child-label",options):helperMissing.call(depth0,
"i18n","bookinggate-age-infant-child-label",options)))+'\x3c/h2\x3e\x3cdiv class\x3d"g_box"\x3e    \x3ch3 id\x3d"dialog-age-calculator-desc"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bookinggate-age-birthdate",options):helperMissing.call(depth0,"i18n","bookinggate-age-birthdate",options)))+'\x3c/h3\x3e    \x3cdiv class\x3d"selbox"\x3e        \x3cform class\x3d"custom-form"\x3e            \x3cinput type\x3d"hidden" id\x3d"dateOfBirth" name\x3d"dateOfBirth" class\x3d"DOBfield DOB vCheckDOB" data-max\x3d"3"/\x3e        \x3c/form\x3e        \x3cdiv class\x3d"btn-area"\x3e            \x3cbutton class\x3d"button-main-blue" id\x3d"age-calculation-btn"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"bookinggate-age-calculation",options):helperMissing.call(depth0,"i18n","bookinggate-age-calculation",options)))+'\x3c/button\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dep-date" role\x3d"alert" aria-live\x3d"assertive"\x3e\x3c/div\x3e\x3cdiv class\x3d"notice"\x3e    \x3ch4\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"notice-label",options):helperMissing.call(depth0,"i18n","notice-label",options)))+"\x3c/h4\x3e    \x3cul\x3e        ";stack1=helpers["if"].call(depth0,depth0&&depth0.isDomestic,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/ul\x3e\x3c/div\x3e\x3c!-- //template:modal-age-calculator --\x3e";return buffer});templates["modal-airport-selector"]=template(function(Handlebars,depth0,
helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                        \x3cli class\x3d"';stack1=(helper=helpers.compare||depth1&&depth1.compare,options={hash:{},inverse:self.noop,fn:self.program(2,
program2,data),data:data},helper?helper.call(depth0,depth1&&depth1.selectRegion,"\x3d\x3d\x3d",depth0&&depth0.code,options):helperMissing.call(depth0,"compare",depth1&&depth1.selectRegion,"\x3d\x3d\x3d",depth0&&depth0.code,options));if(stack1||stack1===0)buffer+=stack1;buffer+='" role\x3d"presentation"\x3e                            ';stack1=(helper=helpers.compare||depth1&&depth1.compare,options={hash:{},inverse:self.program(6,program6,data),fn:self.program(4,program4,data),data:data},helper?helper.call(depth0,
depth1&&depth1.selectRegion,"\x3d\x3d\x3d",depth0&&depth0.code,options):helperMissing.call(depth0,"compare",depth1&&depth1.selectRegion,"\x3d\x3d\x3d",depth0&&depth0.code,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                        \x3c/li\x3e                    ";return buffer}function program2(depth0,data){return"on"}function program4(depth0,data){var buffer="",stack1;buffer+='                                \x3ca href\x3d"javascript:;" role\x3d"tab" aria-selected\x3d"true" tabindex\x3d"0" data-index\x3d"'+
escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-name\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" aria-controls\x3d"contents-region-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" id\x3d"tab-city-list'+escapeExpression((stack1=data==null||data===false?data:data.index,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((stack1=depth0&&depth0.name,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/a\x3e                            ";return buffer}function program6(depth0,data){var buffer="",stack1;buffer+='                                \x3ca href\x3d"javascript:;" role\x3d"tab" aria-selected\x3d"false" tabindex\x3d"-1" data-index\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" data-name\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" aria-controls\x3d"contents-region-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" id\x3d"tab-city-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((stack1=
depth0&&depth0.name,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/a\x3e                            ";return buffer}function program8(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                    \x3cdiv data-region-idx\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"city-list ';stack1=(helper=helpers.compare||depth1&&depth1.compare,options={hash:{},inverse:self.noop,
fn:self.program(9,program9,data),data:data},helper?helper.call(depth0,depth1&&depth1.selectRegion,"!\x3d\x3d",depth0&&depth0.code,options):helperMissing.call(depth0,"compare",depth1&&depth1.selectRegion,"!\x3d\x3d",depth0&&depth0.code,options));if(stack1||stack1===0)buffer+=stack1;buffer+='" id\x3d"contents-region-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"  role\x3d"tabpanel" aria-labelledby\x3d"tab-city-list'+
escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=(helper=helpers.compare||depth1&&depth1.compare,options={hash:{},inverse:self.program(13,program13,data),fn:self.program(11,program11,data),data:data},helper?helper.call(depth0,depth1&&depth1.selectRegion,"\x3d\x3d",depth0&&depth0.code,options):helperMissing.call(depth0,"compare",depth1&&depth1.selectRegion,"\x3d\x3d",depth0&&depth0.code,options));if(stack1||stack1===
0)buffer+=stack1;buffer+=" \x3e                        \x3ch3\x3e"+escapeExpression((helper=helpers.i18n||depth1&&depth1.i18n,options={hash:{},data:data},helper?helper.call(depth0,"online-label",options):helperMissing.call(depth0,"i18n","online-label",options)))+"\x3c/h3\x3e                        \x3cul\x3e                            ";stack1=helpers.each.call(depth0,depth0&&depth0.onlineAirports,{hash:{},inverse:self.noop,fn:self.programWithDepth(15,program15,data,depth0,depth1),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+="                        \x3c/ul\x3e                                                                        ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.offlineAirports,stack1==null||stack1===false?stack1:stack1.length),{hash:{},inverse:self.noop,fn:self.programWithDepth(71,program71,data,depth0,depth1),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";stack1=helpers["if"].call(depth0,(stack1=depth0&&depth0.trainStations,
stack1==null||stack1===false?stack1:stack1.length),{hash:{},inverse:self.noop,fn:self.programWithDepth(118,program118,data,depth0,depth1),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                    \x3c/div\x3e                ";return buffer}function program9(depth0,data){return"dp-none"}function program11(depth0,data){return' tabindex\x3d"0"'}function program13(depth0,data){return' tabindex\x3d"-1"'}function program15(depth0,data,depth1,depth2){var buffer="",stack1;buffer+="                                ";
stack1=helpers["if"].call(depth0,depth2&&depth2.isDeparture,{hash:{},inverse:self.programWithDepth(30,program30,data,depth1,depth2),fn:self.programWithDepth(16,program16,data,depth1,depth2),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            ";return buffer}function program16(depth0,data,depth2,depth3){var buffer="",stack1;buffer+="                                                                    ";stack1=helpers["if"].call(depth0,depth0&&depth0.departure,{hash:{},
inverse:self.program(28,program28,data),fn:self.programWithDepth(17,program17,data,depth2,depth3),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program17(depth0,data,depth3,depth4){var buffer="",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,depth4&&depth4.isChange,{hash:{},inverse:self.programWithDepth(26,program26,data,depth3),fn:self.programWithDepth(18,program18,data,depth3,depth4),
data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program18(depth0,data,depth4,depth5){var buffer="",stack1;buffer+="                                            ";stack1=helpers["if"].call(depth0,depth5&&depth5.isDeparture,{hash:{},inverse:self.programWithDepth(24,program24,data,depth4),fn:self.programWithDepth(19,program19,data,depth4,depth5),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";
return buffer}function program19(depth0,data,depth5,depth6){var buffer="",stack1,helper,options;buffer+="                                                ";stack1=(helper=helpers.ifCond||depth6&&depth6.ifCond,options={hash:{},inverse:self.programWithDepth(22,program22,data,depth5),fn:self.programWithDepth(20,program20,data,depth5),data:data},helper?helper.call(depth0,depth6&&depth6.selectRegion,"\x3d\x3d",depth5&&depth5.code,options):helperMissing.call(depth0,"ifCond",depth6&&depth6.selectRegion,"\x3d\x3d",
depth5&&depth5.code,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program20(depth0,data,depth6){var buffer="",stack1,helper,options;buffer+='                                                    \x3cli class\x3d"selectable"\x3e                                                        \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth6&&depth6.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth6&&depth6.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,
depth6&&depth6.code,options)))+"                                                        \x3c/a\x3e                                                    \x3c/li\x3e                                                ";return buffer}function program22(depth0,data,depth6){var buffer="",stack1,helper,options;buffer+='                                                    \x3cli class\x3d"selectable"\x3e                                                        \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=
depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth6&&depth6.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth6&&depth6.code,
options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth6&&depth6.code,options)))+"                                                        \x3c/a\x3e                                                    \x3c/li\x3e                                                ";return buffer}function program24(depth0,data,depth5){var buffer="",stack1,helper,options;buffer+='                                                \x3cli class\x3d"selectable"\x3e                                                    \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth5&&depth5.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,
depth5&&depth5.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth5&&depth5.code,options)))+"                                                    \x3c/a\x3e                                                \x3c/li\x3e                                            ";return buffer}function program26(depth0,data,depth4){var buffer="",stack1,helper,options;buffer+='                                            \x3cli class\x3d"selectable"\x3e                                                \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth4&&depth4.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                    '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth4&&
depth4.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth4&&depth4.code,options)))+"                                                \x3c/a\x3e                                            \x3c/li\x3e                                        ";return buffer}function program28(depth0,data){var buffer="";buffer+="                                                                        ";return buffer}function program30(depth0,data,depth2,depth3){var buffer="",stack1;
buffer+="                                    ";stack1=helpers["if"].call(depth0,depth3&&depth3.isAct,{hash:{},inverse:self.programWithDepth(35,program35,data,depth2,depth3),fn:self.programWithDepth(31,program31,data,depth2,depth3),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program31(depth0,data,depth3,depth4){var buffer="",stack1,helper,options;buffer+="                                        ";stack1=(helper=helpers.compare||
depth3&&depth3.compare,options={hash:{},inverse:self.programWithDepth(32,program32,data,depth3,depth4),fn:self.programWithDepth(26,program26,data,depth3),data:data},helper?helper.call(depth0,depth3&&depth3.code,"\x3d\x3d",depth4&&depth4.selectRegion,options):helperMissing.call(depth0,"compare",depth3&&depth3.code,"\x3d\x3d",depth4&&depth4.selectRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program32(depth0,data,depth4,depth5){var buffer=
"",stack1,helper,options;buffer+="                                            ";stack1=(helper=helpers.compare||depth4&&depth4.compare,options={hash:{},inverse:self.programWithDepth(33,program33,data,depth4),fn:self.programWithDepth(24,program24,data,depth4),data:data},helper?helper.call(depth0,depth4&&depth4.code,"\x3d\x3d",depth5&&depth5.isExpRegion,options):helperMissing.call(depth0,"compare",depth4&&depth4.code,"\x3d\x3d",depth5&&depth5.isExpRegion,options));if(stack1||stack1===0)buffer+=stack1;
buffer+="                                        ";return buffer}function program33(depth0,data,depth5){var buffer="",stack1,helper,options;buffer+='                                                \x3cli class\x3d"selectable"\x3e                                                    \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth5&&depth5.code,
typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth5&&depth5.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth5&&depth5.code,options)))+"                                                    \x3c/a\x3e                                                \x3c/li\x3e                                            ";
return buffer}function program35(depth0,data,depth3,depth4){var buffer="",stack1,helper,options;buffer+="                                        ";stack1=(helper=helpers.ifCond||depth4&&depth4.ifCond,options={hash:{},inverse:self.programWithDepth(52,program52,data,depth3,depth4),fn:self.programWithDepth(36,program36,data,depth3,depth4),data:data},helper?helper.call(depth0,depth4&&depth4.depRegion,"\x3d\x3d",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),options):helperMissing.call(depth0,
"ifCond",depth4&&depth4.depRegion,"\x3d\x3d",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program36(depth0,data,depth4,depth5){var buffer="",stack1,helper,options;buffer+="                                            ";stack1=(helper=helpers.ifMulti||depth5&&depth5.ifMulti,options={hash:{},inverse:self.programWithDepth(49,program49,data,depth4,depth5),
fn:self.programWithDepth(37,program37,data,depth4,depth5),data:data},helper?helper.call(depth0,depth5&&depth5.depRegion,depth5&&depth5.exRegion,options):helperMissing.call(depth0,"ifMulti",depth5&&depth5.depRegion,depth5&&depth5.exRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program37(depth0,data,depth5,depth6){var buffer="",stack1,helper,options;buffer+="                                                ";stack1=(helper=
helpers.ifCond||depth6&&depth6.ifCond,options={hash:{},inverse:self.programWithDepth(43,program43,data,depth5,depth6),fn:self.programWithDepth(38,program38,data,depth5,depth6),data:data},helper?helper.call(depth0,depth6&&depth6.depRegion,"\x3d\x3d","Korea",options):helperMissing.call(depth0,"ifCond",depth6&&depth6.depRegion,"\x3d\x3d","Korea",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program38(depth0,data,depth6,depth7){var buffer=
"",stack1,helper,options;buffer+="                                                    ";stack1=(helper=helpers.ifMulti||depth0&&depth0.ifMulti,options={hash:{},inverse:self.programWithDepth(41,program41,data,depth6),fn:self.programWithDepth(39,program39,data,depth6),data:data},helper?helper.call(depth0,depth0&&depth0.code,depth7&&depth7.domOnDData,options):helperMissing.call(depth0,"ifMulti",depth0&&depth0.code,depth7&&depth7.domOnDData,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";
return buffer}function program39(depth0,data,depth7){var buffer="",stack1,helper,options;buffer+='                                                        \x3cli class\x3d"selectable"\x3e                                                            \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth7&&depth7.code,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth7&&depth7.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth7&&depth7.code,options)))+"                                                            \x3c/a\x3e                                                        \x3c/li\x3e                                                    ";
return buffer}function program41(depth0,data,depth7){var buffer="",stack1,helper,options;buffer+='                                                        \x3cli class\x3d"selectable"\x3e                                                            \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth7&&depth7.code,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth7&&depth7.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth7&&depth7.code,options)))+"                                                            \x3c/a\x3e                                                        \x3c/li\x3e                                                    ";
return buffer}function program43(depth0,data,depth6,depth7){var buffer="",stack1,helper,options;buffer+="                                                    ";stack1=(helper=helpers.compare||depth7&&depth7.compare,options={hash:{},inverse:self.programWithDepth(39,program39,data,depth6),fn:self.programWithDepth(44,program44,data,depth6),data:data},helper?helper.call(depth0,depth7&&depth7.paymentType,"\x3d\x3d","award",options):helperMissing.call(depth0,"compare",depth7&&depth7.paymentType,"\x3d\x3d",
"award",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";return buffer}function program44(depth0,data,depth7){var buffer="",stack1,helper,options;buffer+="                                                        ";stack1=(helper=helpers.xif||depth0&&depth0.xif,options={hash:{},inverse:self.programWithDepth(47,program47,data,depth7),fn:self.programWithDepth(45,program45,data,depth7),data:data},helper?helper.call(depth0,'this.code \x3d\x3d "SAO" || this.code \x3d\x3d "MLE"',
options):helperMissing.call(depth0,"xif",'this.code \x3d\x3d "SAO" || this.code \x3d\x3d "MLE"',options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                    ";return buffer}function program45(depth0,data,depth8){var buffer="",stack1,helper,options;buffer+='                                                            \x3cli class\x3d"selectable"\x3e                                                                \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth8&&depth8.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                    '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth8&&depth8.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth8&&depth8.code,options)))+"                                                                \x3c/a\x3e                                                            \x3c/li\x3e                                                        ";return buffer}function program47(depth0,data,depth8){var buffer="",stack1,helper,options;buffer+='                                                            \x3cli class\x3d"selectable"\x3e                                                                \x3ca class\x3d"airport nonClick" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth8&&depth8.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                    '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth8&&depth8.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth8&&depth8.code,options)))+"                                                                \x3c/a\x3e                                                            \x3c/li\x3e                                                        ";return buffer}function program49(depth0,data,depth5,depth6){var buffer="",stack1;buffer+="                                                ";stack1=helpers["if"].call(depth0,
depth6&&depth6.isMulti,{hash:{},inverse:self.programWithDepth(20,program20,data,depth5),fn:self.programWithDepth(50,program50,data,depth5,depth6),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program50(depth0,data,depth6,depth7){var buffer="",stack1,helper,options;buffer+="                                                    ";stack1=(helper=helpers.ifCond||depth7&&depth7.ifCond,options={hash:{},inverse:self.programWithDepth(41,
program41,data,depth6),fn:self.programWithDepth(39,program39,data,depth6),data:data},helper?helper.call(depth0,depth7&&depth7.depEx,"\x3d\x3d",depth0&&depth0.code,options):helperMissing.call(depth0,"ifCond",depth7&&depth7.depEx,"\x3d\x3d",depth0&&depth0.code,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";return buffer}function program52(depth0,data,depth4,depth5){var buffer="",stack1;buffer+="                                            ";
stack1=helpers["if"].call(depth0,depth5&&depth5.multiWithKorea,{hash:{},inverse:self.programWithDepth(53,program53,data,depth4,depth5),fn:self.programWithDepth(24,program24,data,depth4),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program53(depth0,data,depth5,depth6){var buffer="",stack1,helper,options;buffer+="                                                ";stack1=(helper=helpers.ifMulti||depth0&&depth0.ifMulti,options=
{hash:{},inverse:self.programWithDepth(61,program61,data,depth5,depth6),fn:self.programWithDepth(54,program54,data,depth5,depth6),data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),depth6&&depth6.multiRegion,options):helperMissing.call(depth0,"ifMulti",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),depth6&&depth6.multiRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";
return buffer}function program54(depth0,data,depth6,depth7){var buffer="",stack1;buffer+="                                                    ";stack1=helpers["if"].call(depth0,depth7&&depth7.isSameFirstDep,{hash:{},inverse:self.programWithDepth(55,program55,data,depth6,depth7),fn:self.programWithDepth(41,program41,data,depth6),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";return buffer}function program55(depth0,data,depth7,depth8){var buffer=
"",stack1,helper,options;buffer+="                                                        ";stack1=(helper=helpers.compare||depth8&&depth8.compare,options={hash:{},inverse:self.programWithDepth(45,program45,data,depth7),fn:self.programWithDepth(56,program56,data,depth7,depth8),data:data},helper?helper.call(depth0,depth8&&depth8.paymentType,"\x3d\x3d","award",options):helperMissing.call(depth0,"compare",depth8&&depth8.paymentType,"\x3d\x3d","award",options));if(stack1||stack1===0)buffer+=stack1;buffer+=
"                                                    ";return buffer}function program56(depth0,data,depth8,depth9){var buffer="",stack1;buffer+="                                                            ";stack1=helpers["if"].call(depth0,depth9&&depth9.firstLastAirports,{hash:{},inverse:self.programWithDepth(59,program59,data,depth8),fn:self.programWithDepth(57,program57,data,depth8),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                        ";
return buffer}function program57(depth0,data,depth9){var buffer="",stack1,helper,options;buffer+='                                                                \x3cli class\x3d"selectable"\x3e                                                                    \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth9&&depth9.code,typeof stack1===functionType?
stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth9&&depth9.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth9&&depth9.code,options)))+"                                                                    \x3c/a\x3e                                                                \x3c/li\x3e                                                            ";
return buffer}function program59(depth0,data,depth9){var buffer="",stack1,helper,options;buffer+='                                                                \x3cli class\x3d"selectable"\x3e                                                                    \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth9&&depth9.code,typeof stack1===functionType?
stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth9&&depth9.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth9&&depth9.code,options)))+"                                                                    \x3c/a\x3e                                                                \x3c/li\x3e                                                            ";
return buffer}function program61(depth0,data,depth6,depth7){var buffer="",stack1;buffer+="                                                    ";stack1=helpers["if"].call(depth0,depth7&&depth7.isMulti,{hash:{},inverse:self.programWithDepth(39,program39,data,depth6),fn:self.programWithDepth(62,program62,data,depth6,depth7),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";return buffer}function program62(depth0,data,depth7,depth8){var buffer=
"",stack1,helper,options;buffer+="                                                        ";stack1=(helper=helpers.ifCond||depth8&&depth8.ifCond,options={hash:{},inverse:self.programWithDepth(65,program65,data,depth7,depth8),fn:self.programWithDepth(63,program63,data,depth7),data:data},helper?helper.call(depth0,(stack1=depth8&&depth8.multiRegion,stack1==null||stack1===false?stack1:stack1.length),"\x3e",2,options):helperMissing.call(depth0,"ifCond",(stack1=depth8&&depth8.multiRegion,stack1==null||
stack1===false?stack1:stack1.length),"\x3e",2,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                    ";return buffer}function program63(depth0,data,depth8){var buffer="",stack1,helper,options;buffer+="                                                            ";stack1=(helper=helpers.ifCond||depth8&&depth8.ifCond,options={hash:{},inverse:self.programWithDepth(57,program57,data,depth8),fn:self.programWithDepth(59,program59,data,depth8),data:data},
helper?helper.call(depth0,depth8&&depth8.code,"\x3d\x3d","Korea",options):helperMissing.call(depth0,"ifCond",depth8&&depth8.code,"\x3d\x3d","Korea",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                        ";return buffer}function program65(depth0,data,depth8,depth9){var buffer="",stack1,helper,options;buffer+="                                                            ";stack1=(helper=helpers.compare||depth9&&depth9.compare,options={hash:{},
inverse:self.programWithDepth(59,program59,data,depth8),fn:self.programWithDepth(66,program66,data,depth8,depth9),data:data},helper?helper.call(depth0,depth9&&depth9.paymentType,"\x3d\x3d","award",options):helperMissing.call(depth0,"compare",depth9&&depth9.paymentType,"\x3d\x3d","award",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                        ";return buffer}function program66(depth0,data,depth9,depth10){var buffer="",stack1;buffer+="                                                                ";
stack1=helpers["if"].call(depth0,depth10&&depth10.firstLastAirports,{hash:{},inverse:self.programWithDepth(69,program69,data,depth9),fn:self.programWithDepth(67,program67,data,depth9),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                            ";return buffer}function program67(depth0,data,depth10){var buffer="",stack1,helper,options;buffer+='                                                                    \x3cli class\x3d"selectable"\x3e                                                                        \x3ca class\x3d"airport nonClick" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth10&&depth10.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,
depth0&&depth0.name,depth10&&depth10.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth10&&depth10.code,options)))+"                                                                        \x3c/a\x3e                                                                    \x3c/li\x3e                                                                ";return buffer}function program69(depth0,data,depth10){var buffer="",stack1,helper,options;buffer+='                                                                    \x3cli class\x3d"selectable"\x3e                                                                        \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth10&&depth10.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,
depth0&&depth0.name,depth10&&depth10.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth10&&depth10.code,options)))+"                                                                        \x3c/a\x3e                                                                    \x3c/li\x3e                                                                ";return buffer}function program71(depth0,data,depth1,depth2){var buffer="",stack1,helper,options;buffer+="                            \x3ch3\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"offline-label",options):helperMissing.call(depth0,"i18n","offline-label",options)))+"\x3c/h3\x3e                            \x3cul\x3e                                ";stack1=helpers.each.call(depth0,depth0&&depth0.offlineAirports,{hash:{},inverse:self.noop,fn:self.programWithDepth(72,program72,data,depth0,depth1,depth2),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                            \x3c/ul\x3e                        ";
return buffer}function program72(depth0,data,depth1,depth2,depth3){var buffer="",stack1;buffer+="                                    ";stack1=helpers["if"].call(depth0,depth3&&depth3.isDeparture,{hash:{},inverse:self.programWithDepth(80,program80,data,depth1,depth2,depth3),fn:self.programWithDepth(73,program73,data,depth2,depth3),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}function program73(depth0,data,depth3,depth4){var buffer="",stack1;
buffer+="                                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.departure,{hash:{},inverse:self.program(78,program78,data),fn:self.programWithDepth(74,program74,data,depth3,depth4),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program74(depth0,data,depth4,depth5){var buffer="",stack1;buffer+="                                            ";stack1=helpers["if"].call(depth0,depth5&&depth5.isChange,
{hash:{},inverse:self.programWithDepth(24,program24,data,depth4),fn:self.programWithDepth(75,program75,data,depth4,depth5),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program75(depth0,data,depth5,depth6){var buffer="",stack1;buffer+="                                                ";stack1=helpers["if"].call(depth0,depth6&&depth6.isDeparture,{hash:{},inverse:self.programWithDepth(20,program20,data,depth5),fn:self.programWithDepth(76,
program76,data,depth5,depth6),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program76(depth0,data,depth6,depth7){var buffer="",stack1,helper,options;buffer+="                                                    ";stack1=(helper=helpers.ifCond||depth7&&depth7.ifCond,options={hash:{},inverse:self.programWithDepth(41,program41,data,depth6),fn:self.programWithDepth(39,program39,data,depth6),data:data},helper?helper.call(depth0,
depth7&&depth7.selectRegion,"\x3d\x3d",depth6&&depth6.code,options):helperMissing.call(depth0,"ifCond",depth7&&depth7.selectRegion,"\x3d\x3d",depth6&&depth6.code,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";return buffer}function program78(depth0,data){var buffer="";buffer+="                                                                                ";return buffer}function program80(depth0,data,depth2,depth3,depth4){var buffer="",stack1;
buffer+="                                        ";stack1=helpers["if"].call(depth0,depth4&&depth4.isAct,{hash:{},inverse:self.programWithDepth(89,program89,data,depth2,depth3,depth4),fn:self.programWithDepth(81,program81,data,depth2,depth3,depth4),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program81(depth0,data,depth3,depth4,depth5){var buffer="",stack1,helper,options;buffer+="                                            ";
stack1=(helper=helpers.compare||depth3&&depth3.compare,options={hash:{},inverse:self.programWithDepth(84,program84,data,depth4,depth5),fn:self.programWithDepth(82,program82,data,depth4),data:data},helper?helper.call(depth0,depth3&&depth3.code,"\x3d\x3d",depth5&&depth5.selectRegion,options):helperMissing.call(depth0,"compare",depth3&&depth3.code,"\x3d\x3d",depth5&&depth5.selectRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                        ";return buffer}function program82(depth0,
data,depth5){var buffer="",stack1,helper,options;buffer+='                                                \x3cli class\x3d"selectable"\x3e                                                    \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth5&&depth5.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                        '+
escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth5&&depth5.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth5&&depth5.code,options)))+"                                                    \x3c/a\x3e                                                \x3c/li\x3e                                            ";return buffer}function program84(depth0,
data,depth5,depth6){var buffer="",stack1,helper,options;buffer+="                                                ";stack1=(helper=helpers.compare||depth5&&depth5.compare,options={hash:{},inverse:self.programWithDepth(87,program87,data,depth5),fn:self.programWithDepth(85,program85,data,depth5),data:data},helper?helper.call(depth0,depth5&&depth5.code,"\x3d\x3d",depth6&&depth6.isExpRegion,options):helperMissing.call(depth0,"compare",depth5&&depth5.code,"\x3d\x3d",depth6&&depth6.isExpRegion,options));
if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program85(depth0,data,depth6){var buffer="",stack1,helper,options;buffer+='                                                    \x3cli class\x3d"selectable"\x3e                                                        \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+
escapeExpression((stack1=depth6&&depth6.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth6&&depth6.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth6&&depth6.code,
options)))+"                                                        \x3c/a\x3e                                                    \x3c/li\x3e                                                ";return buffer}function program87(depth0,data,depth6){var buffer="",stack1,helper,options;buffer+='                                                    \x3cli class\x3d"selectable"\x3e                                                        \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=
depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth6&&depth6.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth6&&depth6.code,
options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth6&&depth6.code,options)))+"                                                        \x3c/a\x3e                                                    \x3c/li\x3e                                                ";return buffer}function program89(depth0,data,depth3,depth4,depth5){var buffer="",stack1,helper,options;buffer+="                                            ";stack1=(helper=helpers.ifCond||depth5&&depth5.ifCond,options=
{hash:{},inverse:self.programWithDepth(92,program92,data,depth3,depth4,depth5),fn:self.programWithDepth(90,program90,data,depth4,depth5),data:data},helper?helper.call(depth0,depth5&&depth5.depRegion,"\x3d\x3d",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),options):helperMissing.call(depth0,"ifCond",depth5&&depth5.depRegion,"\x3d\x3d",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),options));if(stack1||stack1===0)buffer+=stack1;buffer+=
"                                        ";return buffer}function program90(depth0,data,depth5,depth6){var buffer="",stack1,helper,options;buffer+="                                                ";stack1=(helper=helpers.ifMulti||depth6&&depth6.ifMulti,options={hash:{},inverse:self.programWithDepth(87,program87,data,depth5),fn:self.programWithDepth(85,program85,data,depth5),data:data},helper?helper.call(depth0,depth6&&depth6.depRegion,depth6&&depth6.exRegion,options):helperMissing.call(depth0,"ifMulti",
depth6&&depth6.depRegion,depth6&&depth6.exRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program92(depth0,data,depth4,depth5,depth6){var buffer="",stack1;buffer+="                                                ";stack1=helpers["if"].call(depth0,depth6&&depth6.multiWithKorea,{hash:{},inverse:self.programWithDepth(98,program98,data,depth4,depth5,depth6),fn:self.programWithDepth(93,program93,data,depth5,depth6),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program93(depth0,data,depth6,depth7){var buffer="",stack1;buffer+="                                                    ";stack1=helpers["if"].call(depth0,depth7&&depth7.airportsOnline,{hash:{},inverse:self.programWithDepth(96,program96,data,depth6),fn:self.programWithDepth(94,program94,data,depth6),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";
return buffer}function program94(depth0,data,depth7){var buffer="",stack1,helper,options;buffer+='                                                        \x3cli class\x3d"selectable"\x3e                                                            \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth7&&depth7.code,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth7&&depth7.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth7&&depth7.code,options)))+"                                                            \x3c/a\x3e                                                        \x3c/li\x3e                                                    ";
return buffer}function program96(depth0,data,depth7){var buffer="",stack1,helper,options;buffer+='                                                        \x3cli class\x3d"selectable"\x3e                                                            \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth7&&depth7.code,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth7&&depth7.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth7&&depth7.code,options)))+"                                                            \x3c/a\x3e                                                        \x3c/li\x3e                                                    ";
return buffer}function program98(depth0,data,depth5,depth6,depth7){var buffer="",stack1,helper,options;buffer+="                                                    ";stack1=(helper=helpers.ifMulti||depth0&&depth0.ifMulti,options={hash:{},inverse:self.programWithDepth(104,program104,data,depth5,depth6,depth7),fn:self.programWithDepth(99,program99,data,depth5,depth7),data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),depth7&&depth7.multiRegion,
options):helperMissing.call(depth0,"ifMulti",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),depth7&&depth7.multiRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";return buffer}function program99(depth0,data,depth6,depth8){var buffer="",stack1;buffer+="                                                        ";stack1=helpers["if"].call(depth0,depth8&&depth8.isSameFirstDep,{hash:{},inverse:self.programWithDepth(102,
program102,data,depth6),fn:self.programWithDepth(100,program100,data,depth6),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                    ";return buffer}function program100(depth0,data,depth7){var buffer="",stack1,helper,options;buffer+='                                                            \x3cli class\x3d"selectable"\x3e                                                                \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=
depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth7&&depth7.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                    '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth7&&depth7.code,
options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth7&&depth7.code,options)))+"                                                                \x3c/a\x3e                                                            \x3c/li\x3e                                                        ";return buffer}function program102(depth0,data,depth7){var buffer="",stack1,helper,options;buffer+='                                                            \x3cli class\x3d"selectable"\x3e                                                                \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth7&&depth7.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                    '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth7&&depth7.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth7&&depth7.code,options)))+"                                                                \x3c/a\x3e                                                            \x3c/li\x3e                                                        ";return buffer}function program104(depth0,data,depth6,depth7,depth8){var buffer="",stack1;buffer+="                                                        ";
stack1=helpers["if"].call(depth0,depth8&&depth8.isMulti,{hash:{},inverse:self.programWithDepth(113,program113,data,depth6,depth8),fn:self.programWithDepth(105,program105,data,depth6,depth7,depth8),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                    ";return buffer}function program105(depth0,data,depth7,depth8,depth9){var buffer="",stack1,helper,options;buffer+="                                                            ";stack1=(helper=helpers.ifCond||
depth9&&depth9.ifCond,options={hash:{},inverse:self.programWithDepth(111,program111,data,depth7),fn:self.programWithDepth(106,program106,data,depth7,depth8),data:data},helper?helper.call(depth0,(stack1=depth9&&depth9.multiRegion,stack1==null||stack1===false?stack1:stack1.length),"\x3e",2,options):helperMissing.call(depth0,"ifCond",(stack1=depth9&&depth9.multiRegion,stack1==null||stack1===false?stack1:stack1.length),"\x3e",2,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                        ";
return buffer}function program106(depth0,data,depth8,depth9){var buffer="",stack1,helper,options;buffer+="                                                                ";stack1=(helper=helpers.ifCond||depth9&&depth9.ifCond,options={hash:{},inverse:self.programWithDepth(109,program109,data,depth8),fn:self.programWithDepth(107,program107,data,depth8),data:data},helper?helper.call(depth0,depth9&&depth9.code,"\x3d\x3d","Korea",options):helperMissing.call(depth0,"ifCond",depth9&&depth9.code,"\x3d\x3d",
"Korea",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                            ";return buffer}function program107(depth0,data,depth9){var buffer="",stack1,helper,options;buffer+='                                                                    \x3cli class\x3d"selectable"\x3e                                                                        \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth9&&depth9.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth9&&depth9.code,options):helperMissing.call(depth0,
"airportStringReplace",depth0&&depth0.name,depth9&&depth9.code,options)))+"                                                                        \x3c/a\x3e                                                                    \x3c/li\x3e                                                                ";return buffer}function program109(depth0,data,depth9){var buffer="",stack1,helper,options;buffer+='                                                                    \x3cli class\x3d"selectable"\x3e                                                                        \x3ca class\x3d"airport nonClick" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth9&&depth9.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,
depth0&&depth0.name,depth9&&depth9.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth9&&depth9.code,options)))+"                                                                        \x3c/a\x3e                                                                    \x3c/li\x3e                                                                ";return buffer}function program111(depth0,data,depth8){var buffer="",stack1,helper,options;buffer+='                                                                \x3cli class\x3d"selectable"\x3e                                                                    \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth8&&depth8.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth8&&depth8.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth8&&depth8.code,options)))+"                                                                    \x3c/a\x3e                                                                \x3c/li\x3e                                                            ";return buffer}function program113(depth0,data,depth7,depth9){var buffer="",stack1;buffer+="                                                            ";
stack1=helpers["if"].call(depth0,depth9&&depth9.airportsOnline,{hash:{},inverse:self.programWithDepth(116,program116,data,depth7),fn:self.programWithDepth(114,program114,data,depth7),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                        ";return buffer}function program114(depth0,data,depth8){var buffer="",stack1,helper,options;buffer+='                                                                \x3cli class\x3d"selectable"\x3e                                                                    \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth8&&depth8.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth8&&depth8.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth8&&depth8.code,options)))+"                                                                    \x3c/a\x3e                                                                \x3c/li\x3e                                                            ";return buffer}function program116(depth0,data,depth8){var buffer="",stack1,helper,options;buffer+='                                                                \x3cli class\x3d"selectable"\x3e                                                                    \x3ca class\x3d"airport nonClick" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth8&&depth8.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth8&&depth8.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth8&&depth8.code,options)))+"                                                                    \x3c/a\x3e                                                                \x3c/li\x3e                                                            ";return buffer}function program118(depth0,data,depth1,depth2){var buffer="",stack1,helper,options;buffer+="                            \x3ch3\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"train-station-label",options):helperMissing.call(depth0,"i18n","train-station-label",options)))+"\x3c/h3\x3e                            \x3cul\x3e                                ";stack1=helpers.each.call(depth0,depth0&&depth0.trainStations,{hash:{},inverse:self.noop,fn:self.programWithDepth(119,program119,data,depth0,depth1,depth2),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+=
"                            \x3c/ul\x3e                        ";return buffer}function program119(depth0,data,depth1,depth2,depth3){var buffer="",stack1;buffer+="                                    ";stack1=helpers["if"].call(depth0,depth3&&depth3.isDeparture,{hash:{},inverse:self.programWithDepth(123,program123,data,depth1,depth2,depth3),fn:self.programWithDepth(120,program120,data,depth2,depth3),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                ";return buffer}
function program120(depth0,data,depth3,depth4){var buffer="",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,depth0&&depth0.departure,{hash:{},inverse:self.program(121,program121,data),fn:self.programWithDepth(74,program74,data,depth3,depth4),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program121(depth0,data){return"                                        "}function program123(depth0,
data,depth2,depth3,depth4){var buffer="",stack1;buffer+="                                        ";stack1=helpers["if"].call(depth0,depth4&&depth4.isAct,{hash:{},inverse:self.programWithDepth(132,program132,data,depth3,depth4),fn:self.programWithDepth(124,program124,data,depth0,depth2,depth3,depth4),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                    ";return buffer}function program124(depth0,data,depth1,depth3,depth4,depth5){var buffer="",stack1,helper,options;
buffer+="                                            ";stack1=(helper=helpers.compare||depth3&&depth3.compare,options={hash:{},inverse:self.programWithDepth(127,program127,data,depth0,depth4,depth5),fn:self.programWithDepth(125,program125,data,depth1),data:data},helper?helper.call(depth0,depth3&&depth3.code,"\x3d\x3d",depth5&&depth5.selectRegion,options):helperMissing.call(depth0,"compare",depth3&&depth3.code,"\x3d\x3d",depth5&&depth5.selectRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+=
"                                        ";return buffer}function program125(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                \x3cli class\x3d"selectable"\x3e                                                    \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                    \x3c/a\x3e                                                \x3c/li\x3e                                            ";
return buffer}function program127(depth0,data,depth1,depth5,depth6){var buffer="",stack1,helper,options;buffer+="                                                ";stack1=(helper=helpers.compare||depth5&&depth5.compare,options={hash:{},inverse:self.programWithDepth(130,program130,data,depth1),fn:self.programWithDepth(128,program128,data,depth1),data:data},helper?helper.call(depth0,depth5&&depth5.code,"\x3d\x3d",depth6&&depth6.isExpRegion,options):helperMissing.call(depth0,"compare",depth5&&depth5.code,
"\x3d\x3d",depth6&&depth6.isExpRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program128(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                    \x3cli class\x3d"selectable"\x3e                                                        \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?
stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",
depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                        \x3c/a\x3e                                                    \x3c/li\x3e                                                ";return buffer}function program130(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                    \x3cli class\x3d"selectable"\x3e                                                        \x3ca class\x3d"airport nonClick" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,
depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                        \x3c/a\x3e                                                    \x3c/li\x3e                                                ";return buffer}function program132(depth0,data,depth4,depth5){var buffer="",stack1,helper,options;buffer+="                                            ";stack1=(helper=helpers.ifCond||depth5&&depth5.ifCond,
options={hash:{},inverse:self.programWithDepth(135,program135,data,depth4,depth5),fn:self.programWithDepth(133,program133,data,depth0,depth5),data:data},helper?helper.call(depth0,depth5&&depth5.depRegion,"\x3d\x3d",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),options):helperMissing.call(depth0,"ifCond",depth5&&depth5.depRegion,"\x3d\x3d",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),options));if(stack1||stack1===0)buffer+=stack1;
buffer+="                                        ";return buffer}function program133(depth0,data,depth1,depth6){var buffer="",stack1,helper,options;buffer+="                                                ";stack1=(helper=helpers.ifMulti||depth6&&depth6.ifMulti,options={hash:{},inverse:self.programWithDepth(130,program130,data,depth1),fn:self.programWithDepth(128,program128,data,depth1),data:data},helper?helper.call(depth0,depth6&&depth6.depRegion,depth6&&depth6.exRegion,options):helperMissing.call(depth0,
"ifMulti",depth6&&depth6.depRegion,depth6&&depth6.exRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program135(depth0,data,depth5,depth6){var buffer="",stack1;buffer+="                                                ";stack1=helpers["if"].call(depth0,depth6&&depth6.multiWithKorea,{hash:{},inverse:self.programWithDepth(141,program141,data,depth5,depth6),fn:self.programWithDepth(136,program136,data,depth0,depth6),data:data});
if(stack1||stack1===0)buffer+=stack1;buffer+="                                            ";return buffer}function program136(depth0,data,depth1,depth7){var buffer="",stack1;buffer+="                                                    ";stack1=helpers["if"].call(depth0,depth7&&depth7.airportsOnline,{hash:{},inverse:self.programWithDepth(139,program139,data,depth1),fn:self.programWithDepth(137,program137,data,depth1),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";
return buffer}function program137(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                        \x3cli class\x3d"selectable"\x3e                                                            \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                            \x3c/a\x3e                                                        \x3c/li\x3e                                                    ";
return buffer}function program139(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                        \x3cli class\x3d"selectable"\x3e                                                            \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):
stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                            \x3c/a\x3e                                                        \x3c/li\x3e                                                    ";
return buffer}function program141(depth0,data,depth6,depth7){var buffer="",stack1,helper,options;buffer+="                                                    ";stack1=(helper=helpers.ifMulti||depth0&&depth0.ifMulti,options={hash:{},inverse:self.programWithDepth(147,program147,data,depth6,depth7),fn:self.programWithDepth(142,program142,data,depth0,depth7),data:data},helper?helper.call(depth0,(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),depth7&&depth7.multiRegion,
options):helperMissing.call(depth0,"ifMulti",(stack1=depth0&&depth0.revenue,stack1==null||stack1===false?stack1:stack1.code),depth7&&depth7.multiRegion,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                ";return buffer}function program142(depth0,data,depth1,depth8){var buffer="",stack1;buffer+="                                                        ";stack1=helpers["if"].call(depth0,depth8&&depth8.isSameFirstDep,{hash:{},inverse:self.programWithDepth(145,
program145,data,depth1),fn:self.programWithDepth(143,program143,data,depth1),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                    ";return buffer}function program143(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                            \x3cli class\x3d"selectable"\x3e                                                                \x3ca class\x3d"airport nonClick" data-code\x3d"'+escapeExpression((stack1=
depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                    '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth2&&depth2.code,
options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                                \x3c/a\x3e                                                            \x3c/li\x3e                                                        ";return buffer}function program145(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                            \x3cli class\x3d"selectable"\x3e                                                                \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                    '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                                \x3c/a\x3e                                                            \x3c/li\x3e                                                        ";return buffer}function program147(depth0,data,depth7,depth8){var buffer="",stack1;buffer+="                                                        ";stack1=
helpers["if"].call(depth0,depth8&&depth8.isMulti,{hash:{},inverse:self.programWithDepth(156,program156,data,depth0,depth8),fn:self.programWithDepth(148,program148,data,depth0,depth7,depth8),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                    ";return buffer}function program148(depth0,data,depth1,depth8,depth9){var buffer="",stack1,helper,options;buffer+="                                                            ";stack1=(helper=helpers.ifCond||
depth9&&depth9.ifCond,options={hash:{},inverse:self.programWithDepth(154,program154,data,depth1),fn:self.programWithDepth(149,program149,data,depth0,depth8),data:data},helper?helper.call(depth0,(stack1=depth9&&depth9.multiRegion,stack1==null||stack1===false?stack1:stack1.length),"\x3e",2,options):helperMissing.call(depth0,"ifCond",(stack1=depth9&&depth9.multiRegion,stack1==null||stack1===false?stack1:stack1.length),"\x3e",2,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                        ";
return buffer}function program149(depth0,data,depth1,depth9){var buffer="",stack1,helper,options;buffer+="                                                                ";stack1=(helper=helpers.ifCond||depth9&&depth9.ifCond,options={hash:{},inverse:self.programWithDepth(152,program152,data,depth1),fn:self.programWithDepth(150,program150,data,depth1),data:data},helper?helper.call(depth0,depth9&&depth9.code,"\x3d\x3d","Korea",options):helperMissing.call(depth0,"ifCond",depth9&&depth9.code,"\x3d\x3d",
"Korea",options));if(stack1||stack1===0)buffer+=stack1;buffer+="                                                            ";return buffer}function program150(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                                    \x3cli class\x3d"selectable"\x3e                                                                        \x3ca class\x3d"airport active" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.code,typeof stack1===
functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,
"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                                        \x3c/a\x3e                                                                    \x3c/li\x3e                                                                ";return buffer}function program152(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                                    \x3cli class\x3d"selectable"\x3e                                                                        \x3ca class\x3d"airport nonClick" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                            '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,
depth0&&depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                                        \x3c/a\x3e                                                                    \x3c/li\x3e                                                                ";return buffer}function program154(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                                \x3cli class\x3d"selectable"\x3e                                                                    \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"true" href\x3d"javascript:;"\x3e                                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                                    \x3c/a\x3e                                                                \x3c/li\x3e                                                            ";return buffer}function program156(depth0,data,depth1,depth9){var buffer="",stack1;buffer+="                                                            ";
stack1=helpers["if"].call(depth0,depth9&&depth9.airportsOnline,{hash:{},inverse:self.programWithDepth(159,program159,data,depth1),fn:self.programWithDepth(157,program157,data,depth1),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                                        ";return buffer}function program157(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                                \x3cli class\x3d"selectable"\x3e                                                                    \x3ca class\x3d"airport active" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                                    \x3c/a\x3e                                                                \x3c/li\x3e                                                            ";return buffer}function program159(depth0,data,depth2){var buffer="",stack1,helper,options;buffer+='                                                                \x3cli class\x3d"selectable"\x3e                                                                    \x3ca class\x3d"airport nonClick" data-code\x3d"'+
escapeExpression((stack1=depth0&&depth0.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-region\x3d"'+escapeExpression((stack1=depth2&&depth2.code,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-online\x3d"false" href\x3d"javascript:;"\x3e                                                                        '+escapeExpression((helper=helpers.airportStringReplace||depth0&&depth0.airportStringReplace,options={hash:{},data:data},helper?helper.call(depth0,depth0&&
depth0.name,depth2&&depth2.code,options):helperMissing.call(depth0,"airportStringReplace",depth0&&depth0.name,depth2&&depth2.code,options)))+"                                                                    \x3c/a\x3e                                                                \x3c/li\x3e                                                            ";return buffer}buffer+='\x3c!-- template:modal-airport-selector --\x3e\x3c!-- US DOT 김설영 --\x3e\x3cdiv class\x3d"modalPop-new"\x3e    \x3cdiv class\x3d"city-select-pop"\x3e        \x3ch1 class\x3d"tit-pop modal-title" id\x3d"dialog-tit-citylist" \x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-region/city-label",options):helperMissing.call(depth0,"i18n","select-region/city-label",options)))+'\x3c/h1\x3e        \x3cdiv class\x3d"content-pop"\x3e            \x3ch2 class\x3d"tit-con"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"lostandfound-region-label",options):helperMissing.call(depth0,"i18n","lostandfound-region-label",
options)))+'\x3c/h2\x3e                        \x3cdiv class\x3d"city-select-location" \x3e                                \x3cul id\x3d"tabAirpotSelect" class\x3d"region-list" role\x3d"tablist" \x3e                    ';stack1=helpers.each.call(depth0,depth0&&depth0.groupAirports,{hash:{},inverse:self.noop,fn:self.programWithDepth(1,program1,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/ul\x3e                                                ";stack1=helpers.each.call(depth0,
depth0&&depth0.groupAirports,{hash:{},inverse:self.noop,fn:self.programWithDepth(8,program8,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                            \x3c/div\x3e                    \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!-- /template:modal-airport-selector --\x3e";return buffer});templates["modal-calendar"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);
data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,data){return" mileage-st"}function program3(depth0,data){var buffer="",stack1;buffer+='        \x3ch2 class\x3d"tit-cal"\x3e'+escapeExpression((stack1=depth0&&depth0.title,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/h2\x3e    ";return buffer}function program5(depth0,data){var buffer="",stack1,helper,
options;buffer+='        \x3cdiv class\x3d"offscreen date-label year-label"\x3e\x3c/div\x3e        \x3cdiv class\x3d"offscreen date-label month-label"\x3e\x3c/div\x3e        \x3cdiv class\x3d"styled-select month-h year-w"\x3e\x3c!-- 웹접근성 작업 --\x3e            \x3cselect id\x3d"'+escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'y" class\x3d"dateComboYear ke-selectbox" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"calendar-select-year",options):helperMissing.call(depth0,"i18n","calendar-select-year",options)))+'"\x3e                ';stack1=helpers.each.call(depth0,depth0&&depth0.yearOptions,{hash:{},inverse:self.noop,fn:self.program(6,program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3c/select\x3e        \x3c/div\x3e        \x3cdiv class\x3d"styled-select month-h month-w "\x3e            \x3cselect id\x3d"'+escapeExpression((stack1=
depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"dateComboMonth ke-selectbox monthSelect" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"calendar-select-month-option",options):helperMissing.call(depth0,"i18n","calendar-select-month-option",options)))+'"\x3e                ';stack1=helpers.each.call(depth0,depth0&&depth0.monthOptions,{hash:{},inverse:self.noop,fn:self.program(6,
program6,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/select\x3e        \x3c/div\x3e        ";return buffer}function program6(depth0,data){var buffer="",stack1;buffer+='                \x3coption value\x3d"'+escapeExpression((stack1=depth0&&depth0.value,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===
0)buffer+=stack1;buffer+="\x3e"+escapeExpression((stack1=depth0&&depth0.label,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/option\x3e                ";return buffer}function program7(depth0,data){return'selected\x3d"selected"'}function program9(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3cbutton data-name\x3d"prev" class\x3d"btn-combo btn-pre"\x3e\x3c/button\x3e\x3c!-- 버튼 활성화 되면 disabled삭제 --\x3e        \x3cbutton data-name\x3d"next" class\x3d"btn-combo btn-next"\x3e\x3c/button\x3e        \x3cdiv class\x3d"offscreen date-label month-label" \x3e\x3c/div\x3e        \x3cdiv class\x3d"styled-select slate"\x3e            \x3cselect id\x3d"'+
escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"ke-selectbox monthSelect" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.selectTitle,options):helperMissing.call(depth0,"i18n",depth0&&depth0.selectTitle,options)))+'"\x3e                ';stack1=helpers.each.call(depth0,depth0&&depth0.options,{hash:{},inverse:self.noop,fn:self.program(10,
program10,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/select\x3e        \x3c/div\x3e        ";return buffer}function program10(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3coption value\x3d"'+escapeExpression((stack1=depth0&&depth0.time,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+="\x3e"+escapeExpression((helper=helpers.ymLocaleString||depth0&&depth0.ymLocaleString,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.time,options):helperMissing.call(depth0,"ymLocaleString",depth0&&depth0.time,options)))+"\x3c/option\x3e                ";return buffer}function program12(depth0,data){var buffer="",stack1,helper,options;buffer+='    \x3cdiv class\x3d"time-select-area"\x3e        ';stack1=helpers["if"].call(depth0,depth0&&depth0.isDeparture,
{hash:{},inverse:self.program(15,program15,data),fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3cdiv class\x3d"styled-select slate"\x3e            \x3cselect class\x3d"ke-selectbox" id\x3d"'+escapeExpression((stack1=depth0&&depth0.calendarId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'-select-time"\x3e                \x3coption value\x3d"0000T"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"time-select-any",options):helperMissing.call(depth0,"i18n","time-select-any",options)))+'\x3c/option\x3e                \x3coption value\x3d"0600T"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-select-06-after",options):helperMissing.call(depth0,"i18n","time-select-06-after",options)))+'\x3c/option\x3e                \x3coption value\x3d"1200T"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-select-12-after",options):helperMissing.call(depth0,"i18n","time-select-12-after",options)))+'\x3c/option\x3e                \x3coption value\x3d"1800T"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-select-18-after",options):helperMissing.call(depth0,"i18n","time-select-18-after",options)))+"\x3c/option\x3e            \x3c/select\x3e        \x3c/div\x3e    \x3c/div\x3e    ";
return buffer}function program13(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3clabel for\x3d"'+escapeExpression((stack1=depth0&&depth0.calendarId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'-select-time" class\x3d"tit-time"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"depart-airport-time-select-label",options):helperMissing.call(depth0,"i18n","depart-airport-time-select-label",options)))+
"\x3c/label\x3e        ";return buffer}function program15(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3clabel for\x3d"'+escapeExpression((stack1=depth0&&depth0.calendarId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'-select-time" class\x3d"tit-time"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"arrive-airport-time-select-label",options):helperMissing.call(depth0,"i18n","arrive-airport-time-select-label",
options)))+"\x3c/label\x3e        ";return buffer}buffer+='\x3c!-- template:modal-calendar --\x3e\x3cdiv class\x3d"calender-st';stack1=helpers["if"].call(depth0,depth0&&depth0.ymSeparated,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" id\x3d"'+escapeExpression((stack1=depth0&&depth0.calendarId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e    ';stack1=helpers["if"].call(depth0,depth0&&depth0.title,{hash:{},
inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cdiv class\x3d"month" role\x3d"navigation" aria-label\x3d"'+escapeExpression((stack1=depth0&&depth0.title,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e        ';stack1=helpers["if"].call(depth0,depth0&&depth0.ymSeparated,{hash:{},inverse:self.program(9,program9,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3c/div\x3e    \x3cdiv class\x3d"offscreen"\x3e        \x3cp class\x3d"schecule-info"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"can-be-changed-data",options):helperMissing.call(depth0,"i18n","can-be-changed-data",options)))+"\x3c/p\x3e        \x3cp\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-calendar-keyobard-access",options):helperMissing.call(depth0,"i18n","UWA-calendar-keyobard-access",options)))+'\x3c/p\x3e    \x3c/div\x3e    \x3cdiv class\x3d"calendar-area" role\x3d"application"\x3e\x3c/div\x3e    \x3cdiv class\x3d"error-container"\x3e\x3c/div\x3e    ';
stack1=helpers["if"].call(depth0,depth0&&depth0.isTimeSelect,{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e\x3c!-- /template:modal-calendar --\x3e";return buffer});templates["modal-date-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,
escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){return"calender-select-pop-s"}function program3(depth0,data){return"calender-select-pop"}function program5(depth0,data){var helper,options;return escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-travel-single-date-label",options):helperMissing.call(depth0,"i18n","select-travel-single-date-label",options)))}function program7(depth0,data){var helper,
options;return escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-travel-date-label",options):helperMissing.call(depth0,"i18n","select-travel-date-label",options)))}function program9(depth0,data){return'                \x3cli class\x3d"to-calendar-area modal-calendar-1"\x3e                \x3c/li\x3e                '}function program11(depth0,data){var buffer="",stack1;buffer+="            ";stack1=helpers.unless.call(depth0,depth0&&
depth0.bizId,{hash:{},inverse:self.noop,fn:self.program(12,program12,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program12(depth0,data){var buffer="",stack1;buffer+="                ";stack1=helpers["if"].call(depth0,depth0&&depth0.isSingleCalendar,{hash:{},inverse:self.program(15,program15,data),fn:self.program(13,program13,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";return buffer}function program13(depth0,
data){var buffer="",helper,options;buffer+='            \x3c!-- booking 편도(위시리스트, 스케쥴조회, 마일리지 상세조회, 마일리지 사후적립) --\x3e            \x3cdiv class\x3d"legend lg-onw"  aria-hidden\x3d"true"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)))+
'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"available"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-avail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-avail",options)))+"\x3c/span\x3e\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e                ";return buffer}function program15(depth0,data){var buffer="",helper,options;buffer+='            \x3c!-- booking 왕복, QPX, 위시리스트, 스케쥴조회 --\x3e            \x3cdiv class\x3d"legend lg-round"  aria-hidden\x3d"true"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"available"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-avail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-avail",
options)))+"\x3c/span\x3e\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e                ";return buffer}function program17(depth0,data){var buffer="",helper,options;buffer+='            \x3c!-- 할인항공권 일반,할인항공권 QPX --\x3e            \x3cdiv class\x3d"legend lg-round"  aria-hidden\x3d"true"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"available"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-avail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-avail",options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"no-seat"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"redeem-hotel-dates-not-available",options):helperMissing.call(depth0,"i18n","redeem-hotel-dates-not-available",options)))+"\x3c/span\x3e\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e            ";return buffer}function program19(depth0,data){var buffer="",helper,options;buffer+='                \x3cdiv class\x3d"cal_leg_wrap" aria-hidden\x3d"true"\x3e                    \x3cul class\x3d"cal_leg"\x3e                        \x3cli class\x3d"rentar_pos"\x3e                            \x3cspan class\x3d"icon"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"redeem-hotel-date-available",options):helperMissing.call(depth0,"i18n","redeem-hotel-date-available",options)))+'\x3c/span\x3e                        \x3c/li\x3e                        \x3cli class\x3d"rentar_impos"\x3e                            \x3cspan class\x3d"icon"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"redeem-hotel-dates-not-available",options):helperMissing.call(depth0,"i18n","redeem-hotel-dates-not-available",options)))+"\x3c/span\x3e                        \x3c/li\x3e                    \x3c/ul\x3e                \x3c/div\x3e            ";return buffer}function program21(depth0,data){var buffer="",helper,options;buffer+='            \x3c!-- 렌터카 범례 --\x3e            \x3cdiv class\x3d"legend lg-onw cal-rentcar" aria-hidden\x3d"true"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"available"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-avail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-avail",
options)))+"\x3c/span\x3e\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e            ";return buffer}function program23(depth0,data){var buffer="",helper,options;buffer+='            \x3c!-- skypet --\x3e            \x3cdiv class\x3d"legend lg-onw cal-mile" aria-hidden\x3d"true"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"available"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-avail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-avail",options)))+"\x3c/span\x3e\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e            ";
return buffer}function program25(depth0,data){var buffer="",helper,options;buffer+='            \x3cdiv class\x3d"legend lg-round" aria-hidden\x3d"true"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"available"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-avail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-avail",options)))+"\x3c/span\x3e\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e            ";return buffer}function program27(depth0,data){var buffer="",helper,options;buffer+='            \x3cdiv class\x3d"legend lg-onw cal-hotel" aria-hidden\x3d"true"\x3e                \x3cul\x3e                    \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"available"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"redeem-hotel-date-available",options):helperMissing.call(depth0,"i18n","redeem-hotel-date-available",
options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"no-seat"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"redeem-hotel-dates-not-available",options):helperMissing.call(depth0,"i18n","redeem-hotel-dates-not-available",options)))+'\x3c/span\x3e\x3c/li\x3e                    \x3cli\x3e\x3cspan class\x3d"spkg"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"redeem-hotel-date-spkg",options):helperMissing.call(depth0,"i18n","redeem-hotel-date-spkg",options)))+"\x3c/span\x3e\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e            ";return buffer}function program29(depth0,data){var buffer="",helper,options;buffer+='            \x3cdiv class\x3d"cal-key-access" aria-hidden\x3d"true"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-calendar-datareset-access",
options):helperMissing.call(depth0,"i18n","UWA-calendar-datareset-access",options)))+"\x3c/div\x3e        ";return buffer}buffer+='\x3c!-- template:modal-date-selector --\x3e\x3cdiv class\x3d"modalPop-new"\x3e    \x3cdiv class\x3d"';stack1=helpers["if"].call(depth0,depth0&&depth0.isSingleCalendar,{hash:{},inverse:self.program(3,program3,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e        \x3ch1 class\x3d"tit-pop modal-title" id\x3d"dialog-tit-calendar"\x3e';
stack1=helpers["if"].call(depth0,depth0&&depth0.isSingleCalendar,{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='\x3c/h1\x3e\x3c!-- US DOT 김설영--\x3e        \x3cdiv class\x3d"content-pop"\x3e            \x3cul class\x3d"calender-roundTrip" role\x3d"presentation"\x3e                \x3cli class\x3d"from-calendar-area modal-calendar-0"\x3e                \x3c/li\x3e                ';stack1=helpers.unless.call(depth0,
depth0&&depth0.isSingleCalendar,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/ul\x3e            ";stack1=helpers.unless.call(depth0,depth0&&depth0.isBonusSeatView,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(17,program17,
data),data:data},helper?helper.call(depth0,depth0&&depth0.bizId,"\x3d\x3d","DISCOUNT",options):helperMissing.call(depth0,"ifCond",depth0&&depth0.bizId,"\x3d\x3d","DISCOUNT",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c!-- 렌터카 예약 추가  --\x3e            ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(19,program19,data),data:data},helper?helper.call(depth0,depth0&&depth0.isRentacar,"||",depth0&&depth0.isLegend,options):
helperMissing.call(depth0,"ifCond",depth0&&depth0.isRentacar,"||",depth0&&depth0.isLegend,options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(21,program21,data),data:data},helper?helper.call(depth0,depth0&&depth0.bizId,"\x3d\x3d","RENTCAR",options):helperMissing.call(depth0,"ifCond",depth0&&depth0.bizId,"\x3d\x3d","RENTCAR",options));if(stack1||stack1===0)buffer+=stack1;buffer+=
"            ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(23,program23,data),data:data},helper?helper.call(depth0,depth0&&depth0.bizId,"\x3d\x3d","MILEAGE",options):helperMissing.call(depth0,"ifCond",depth0&&depth0.bizId,"\x3d\x3d","MILEAGE",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c!-- 유실물 조회 --\x3e            ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(25,
program25,data),data:data},helper?helper.call(depth0,depth0&&depth0.bizId,"\x3d\x3d","LOSTFOUND",options):helperMissing.call(depth0,"ifCond",depth0&&depth0.bizId,"\x3d\x3d","LOSTFOUND",options));if(stack1||stack1===0)buffer+=stack1;buffer+="            ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(27,program27,data),data:data},helper?helper.call(depth0,depth0&&depth0.bizId,"\x3d\x3d","HOTEL",options):helperMissing.call(depth0,"ifCond",depth0&&
depth0.bizId,"\x3d\x3d","HOTEL",options));if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3c/div\x3e        \x3cp class\x3d"btn-c"\x3e\x3cbutton  class\x3d"medium-3 btn-select"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-select-label",options):helperMissing.call(depth0,"i18n","btn-select-label",options)))+'\x3c/button\x3e\x3c/p\x3e        \x3cdiv class\x3d"cal-key-access" aria-hidden\x3d"true"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-calendar-keyobard-access",options):helperMissing.call(depth0,"i18n","UWA-calendar-keyobard-access",options)))+"\x3c/div\x3e        ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(29,program29,data),data:data},helper?helper.call(depth0,depth0&&depth0.bizId,"\x3d\x3d","VIEWBONUSSEAT",options):helperMissing.call(depth0,"ifCond",depth0&&depth0.bizId,"\x3d\x3d",
"VIEWBONUSSEAT",options));if(stack1||stack1===0)buffer+=stack1;buffer+="    \x3c/div\x3e\x3c/div\x3e\x3c!-- /template:modal-date-selector --\x3e";return buffer});templates["modal-QPX-calendar"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,self=this,helperMissing=helpers.helperMissing;function program1(depth0,
data){return" mileage-st"}function program3(depth0,data){var buffer="",stack1;buffer+='        \x3ch2 class\x3d"tit-cal"\x3e'+escapeExpression((stack1=depth0&&depth0.title,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/h2\x3e    ";return buffer}function program5(depth0,data){return"        "}function program7(depth0,data){var buffer="",stack1,helper,options;buffer+='        \x3cbutton data-name\x3d"prev" class\x3d"btn-combo btn-pre"\x3e\x3c/button\x3e\x3c!-- 버튼 활성화 되면 disabled삭제 --\x3e        \x3cbutton data-name\x3d"next" class\x3d"btn-combo btn-next"\x3e\x3c/button\x3e        \x3c!--\x3clabel for\x3d"'+
escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"label-hidden"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"WA-year-date-select",options):helperMissing.call(depth0,"i18n","WA-year-date-select",options)))+'\x3c/label\x3etitle중복으로 레이블 삭제--\x3e        \x3cdiv class\x3d"offscreen date-label month-label" \x3e\x3c/div\x3e        \x3cdiv class\x3d"styled-select month-h"\x3e            \x3cselect id\x3d"'+
escapeExpression((stack1=depth0&&depth0.randomId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"ke-selectbox monthSelect" title\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.selectTitle,options):helperMissing.call(depth0,"i18n",depth0&&depth0.selectTitle,options)))+'"  \x3e                ';stack1=helpers.each.call(depth0,depth0&&depth0.options,{hash:{},inverse:self.noop,fn:self.program(8,
program8,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/select\x3e        \x3c/div\x3e        ";return buffer}function program8(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3coption value\x3d"'+escapeExpression((stack1=depth0&&depth0.time,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=helpers["if"].call(depth0,depth0&&depth0.selected,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+="\x3e"+escapeExpression((helper=helpers.ymLocaleString||depth0&&depth0.ymLocaleString,options={hash:{},data:data},helper?helper.call(depth0,depth0&&depth0.time,options):helperMissing.call(depth0,"ymLocaleString",depth0&&depth0.time,options)))+"\x3c/option\x3e                ";return buffer}function program9(depth0,data){return'selected\x3d"selected"'}function program11(depth0,data){var buffer="",stack1,helper,options;buffer+='    \x3cdiv class\x3d"time-select-area"\x3e        \x3clabel for\x3d"select-time" class\x3d"tit-time"\x3e'+
escapeExpression((stack1=depth0&&depth0.title,typeof stack1===functionType?stack1.apply(depth0):stack1))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"sd-domestic-Time",options):helperMissing.call(depth0,"i18n","sd-domestic-Time",options)))+'\x3c/label\x3e        \x3cdiv class\x3d"styled-select"\x3e            \x3cselect name\x3d"" class\x3d"ke-selectbox" id\x3d"select-time"\x3e                \x3coption value\x3d"0000T"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-select-any",options):helperMissing.call(depth0,"i18n","time-select-any",options)))+'\x3c/option\x3e                \x3coption value\x3d"0600T"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-select-06-after",options):helperMissing.call(depth0,"i18n","time-select-06-after",options)))+'\x3c/option\x3e                \x3coption value\x3d"1200T"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-select-12-after",options):helperMissing.call(depth0,"i18n","time-select-12-after",options)))+'\x3c/option\x3e                \x3coption value\x3d"1800T"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"time-select-18-after",options):helperMissing.call(depth0,"i18n","time-select-18-after",options)))+"\x3c/option\x3e            \x3c/select\x3e        \x3c/div\x3e    \x3c/div\x3e    ";
return buffer}buffer+='\x3c!-- template:modal-QPX-calendar --\x3e\x3cdiv class\x3d"calender-st';stack1=helpers["if"].call(depth0,depth0&&depth0.ymSeparated,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='" id\x3d"'+escapeExpression((stack1=depth0&&depth0.calendarId,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e    ';stack1=helpers["if"].call(depth0,depth0&&depth0.title,{hash:{},inverse:self.noop,fn:self.program(3,
program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3cdiv class\x3d"month" role\x3d"navigation" aria-label\x3d"'+escapeExpression((stack1=depth0&&depth0.title,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e        ';stack1=helpers["if"].call(depth0,depth0&&depth0.ymSeparated,{hash:{},inverse:self.program(7,program7,data),fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='    \x3c/div\x3e    \x3cdiv class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-calendar-keyobard-access",options):helperMissing.call(depth0,"i18n","UWA-calendar-keyobard-access",options)))+'\x3c/div\x3e    \x3cdiv class\x3d"calendar-area" role\x3d"application"\x3e\x3c/div\x3e    \x3cdiv class\x3d"error-container"\x3e\x3c/div\x3e        ';stack1=helpers["if"].call(depth0,depth0&&depth0.isTimeSelect,{hash:{},inverse:self.noop,fn:self.program(11,program11,data),
data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e\x3c!-- /template:modal-QPX-calendar --\x3e";return buffer});templates["modal-QPX-date-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){return"qpx-wrap"}function program3(depth0,
data){return"calender-select-pop-s"}function program5(depth0,data){return"calender-select-pop"}function program7(depth0,data){var buffer="",helper,options;buffer+='            \x3cdiv class\x3d"option-select"\x3e                \x3cdiv class\x3d"qpxremark remarkarea" aria-hidden\x3d"true"\x3e                    \x3cdiv class\x3d"legend lg-round"\x3e                        \x3cul\x3e                            \x3cli\x3e\x3cspan class\x3d"lowest-fare"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"discount-ticket-lowest-fare-remarks",options):helperMissing.call(depth0,"i18n","discount-ticket-lowest-fare-remarks",options)))+'\x3c/span\x3e\x3c/li\x3e                            \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",
options)))+'\x3c/span\x3e\x3c/li\x3e                            \x3cli\x3e\x3cspan class\x3d"available"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-avail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-avail",options)))+'\x3c/span\x3e\x3c/li\x3e                        \x3c/ul\x3e                    \x3c/div\x3e                \x3c/div\x3e                \x3cul class\x3d"optionlist"\x3e                    \x3cli\x3e                        \x3clabel for\x3d"adult-option" class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+'\x3c/label\x3e                        \x3cdiv class\x3d"styled-select"\x3e                            \x3cselect id\x3d"adult-option" class\x3d"ke-selectbox firstTabbableContent"\x3e                                \x3coption value\x3d"1"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 1\x3c/option\x3e                                \x3coption value\x3d"2"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 2\x3c/option\x3e                                \x3coption value\x3d"3"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 3\x3c/option\x3e                                \x3coption value\x3d"4"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 4\x3c/option\x3e                                \x3coption value\x3d"5"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 5\x3c/option\x3e                                \x3coption value\x3d"6"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 6\x3c/option\x3e                                \x3coption value\x3d"7"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 7\x3c/option\x3e                                \x3coption value\x3d"8"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 8\x3c/option\x3e                                \x3coption value\x3d"9"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"adult-label",options):helperMissing.call(depth0,"i18n","adult-label",options)))+' 9\x3c/option\x3e                            \x3c/select\x3e                        \x3c/div\x3e                    \x3c/li\x3e                    \x3cli\x3e                        \x3clabel for\x3d"child-option" class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+'\x3c/label\x3e                        \x3cdiv class\x3d"styled-select"\x3e                            \x3cselect id\x3d"child-option" class\x3d"ke-selectbox"\x3e                                \x3coption value\x3d"0"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,
"i18n","child-label",options)))+' 0\x3c/option\x3e                                \x3coption value\x3d"1"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+' 1\x3c/option\x3e                                \x3coption value\x3d"2"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",
options):helperMissing.call(depth0,"i18n","child-label",options)))+' 2\x3c/option\x3e                                \x3coption value\x3d"3"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+' 3\x3c/option\x3e                                \x3coption value\x3d"4"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+' 4\x3c/option\x3e                                \x3coption value\x3d"5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+' 5\x3c/option\x3e                                \x3coption value\x3d"6"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+' 6\x3c/option\x3e                                \x3coption value\x3d"7"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+' 7\x3c/option\x3e                                \x3coption value\x3d"8"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+' 8\x3c/option\x3e                                \x3coption value\x3d"9"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"child-label",options):helperMissing.call(depth0,"i18n","child-label",options)))+' 9\x3c/option\x3e                            \x3c/select\x3e                        \x3c/div\x3e                    \x3c/li\x3e                    \x3cli\x3e                        \x3clabel for\x3d"infant-option" class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"infant-label",options):helperMissing.call(depth0,"i18n","infant-label",options)))+'\x3c/label\x3e                        \x3cdiv class\x3d"styled-select"\x3e                            \x3cselect id\x3d"infant-option" class\x3d"ke-selectbox"\x3e                                \x3coption value\x3d"0"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"infant-label",options):helperMissing.call(depth0,"i18n","infant-label",options)))+' 0\x3c/option\x3e                                \x3coption value\x3d"1"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"infant-label",options):helperMissing.call(depth0,"i18n","infant-label",options)))+' 1\x3c/option\x3e                            \x3c/select\x3e                        \x3c/div\x3e                    \x3c/li\x3e                    \x3cli\x3e                        \x3clabel for\x3d"class-option" class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"viewBonusSeat-search-label-cabinClass",options):helperMissing.call(depth0,"i18n","viewBonusSeat-search-label-cabinClass",options)))+'\x3c/label\x3e                        \x3cdiv class\x3d"styled-select"\x3e                            \x3cselect id\x3d"class-option" class\x3d"ke-selectbox"\x3e                                \x3coption value\x3d"economy"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"ECONOMY-label",options):helperMissing.call(depth0,"i18n","ECONOMY-label",options)))+'\x3c/option\x3e                                \x3coption value\x3d"prestige"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"PRESTIGE-label",options):helperMissing.call(depth0,"i18n","PRESTIGE-label",options)))+'\x3c/option\x3e                                \x3coption value\x3d"first"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"FIRST-label",options):helperMissing.call(depth0,"i18n","FIRST-label",options)))+'\x3c/option\x3e                            \x3c/select\x3e                        \x3c/div\x3e                    \x3c/li\x3e                \x3c/ul\x3e                \x3cbutton class\x3d"button-small-white option-change"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},
helper?helper.call(depth0,"change-label",options):helperMissing.call(depth0,"i18n","change-label",options)))+"\x3c/button\x3e            \x3c/div\x3e        ";return buffer}function program9(depth0,data){return'                    \x3cli class\x3d"to-calendar-area modal-calendar-1"\x3e                    \x3c/li\x3e                    '}function program11(depth0,data){var buffer="",helper,options;buffer+='                \x3cdiv class\x3d"legend lg-round"  aria-hidden\x3d"true"\x3e                    \x3cul\x3e                        \x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-unavail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-unavail",options)))+'\x3c/span\x3e\x3c/li\x3e                        \x3cli\x3e\x3cspan class\x3d"available"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"cal-legend-miles-avail",options):helperMissing.call(depth0,"i18n","cal-legend-miles-avail",
options)))+'\x3c/span\x3e\x3c/li\x3e                        \x3cli\x3e\x3cspan class\x3d"no-seat"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"redeem-hotel-dates-not-available",options):helperMissing.call(depth0,"i18n","redeem-hotel-dates-not-available",options)))+"\x3c/span\x3e\x3c/li\x3e                    \x3c/ul\x3e                \x3c/div\x3e                ";return buffer}buffer+='\x3c!-- template:modal-QPX-date-selector --\x3e\x3cdiv class\x3d"modalPop-new ';
stack1=helpers.unless.call(depth0,depth0&&depth0.isDiscountTicket,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e    \x3cdiv class\x3d"';stack1=helpers["if"].call(depth0,depth0&&depth0.isSingleCalendar,{hash:{},inverse:self.program(5,program5,data),fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='"\x3e        \x3ch1 class\x3d"tit-pop modal-title" id\x3d"dialog-tit-calendar"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-travel-date-label",options):helperMissing.call(depth0,"i18n","select-travel-date-label",options)))+'\x3c/h1\x3e\x3c!-- US DOT 김설영--\x3e                \x3cdiv class\x3d"qpx-cal-key-access"\x3e            \x3ch3 class\x3d"ntit"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-seat-manual-label",options):helperMissing.call(depth0,"i18n",
"UWA-seat-manual-label",options)))+"\x3c/h3\x3e            \x3cul\x3e                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"UWA-calendar-keyobard-access",options):helperMissing.call(depth0,"i18n","UWA-calendar-keyobard-access",options)))+'\x3c/li\x3e            \x3c/ul\x3e        \x3c/div\x3e        \x3cdiv class\x3d"spec-notie"\x3e            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"qpx-title-sub-label",options):helperMissing.call(depth0,"i18n","qpx-title-sub-label",options)))+"        \x3c/div\x3e        ";stack1=helpers.unless.call(depth0,depth0&&depth0.isDiscountTicket,{hash:{},inverse:self.noop,fn:self.program(7,program7,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                \x3cdiv class\x3d"qpxcal_wrap"\x3e            \x3cdiv class\x3d"content-pop"\x3e                \x3cul class\x3d"calender-roundTrip"\x3e                    \x3cli class\x3d"from-calendar-area modal-calendar-0"\x3e                    \x3c/li\x3e                    ';
stack1=helpers.unless.call(depth0,depth0&&depth0.isSingleCalendar,{hash:{},inverse:self.noop,fn:self.program(9,program9,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                \x3c/ul\x3e                ";stack1=(helper=helpers.ifCond||depth0&&depth0.ifCond,options={hash:{},inverse:self.noop,fn:self.program(11,program11,data),data:data},helper?helper.call(depth0,depth0&&depth0.bizId,"\x3d\x3d","DISCOUNT",options):helperMissing.call(depth0,"ifCond",depth0&&depth0.bizId,"\x3d\x3d",
"DISCOUNT",options));if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3c/div\x3e            \x3cdiv aria-live\x3d"polite" aria-atomic\x3d"true" aria-relevant\x3d"all" class\x3d"total-fare"\x3e                            \x3c/div\x3e            \x3cp class\x3d"btn-c"\x3e                \x3cbutton  class\x3d"medium-3 btn-select"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"btn-new-confirm-label",options):helperMissing.call(depth0,
"i18n","btn-new-confirm-label",options)))+'\x3c/button\x3e                \x3cbutton  class\x3d"medium-3 btn-select mg-l5"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"find-flights-label",options):helperMissing.call(depth0,"i18n","find-flights-label",options)))+'\x3c/button\x3e            \x3c/p\x3e        \x3c/div\x3e        \x3cdiv class\x3d"qpxnotice"\x3e            \x3ch3 \x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"notice-label",options):helperMissing.call(depth0,"i18n","notice-label",options)))+"\x3c/h3\x3e            \x3cul\x3e                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"qpx-noti1-label",options):helperMissing.call(depth0,"i18n","qpx-noti1-label",options)))+"\x3c/li\x3e                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"qpx-noti2-label",options):helperMissing.call(depth0,"i18n","qpx-noti2-label",options)))+"\x3c/li\x3e                \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"qpx-noti3-label",options):helperMissing.call(depth0,"i18n","qpx-noti3-label",options)))+'\x3c/li\x3e            \x3c/ul\x3e        \x3c/div\x3e    \x3c/div\x3e        \x3cdiv id\x3d"loadingWrap" role\x3d"alert" aria-live\x3d"assertive"\x3e\x3c/div\x3e        \x3cdiv id\x3d"loadingWrapEnd" aria-live\x3d"assertive"\x3e\x3c/div\x3e\x3c/div\x3e\x3c!-- /template:modal-QPX-date-selector --\x3e';
return buffer});templates["modal-sta-airport-selector"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+="                            ";stack1=(helper=helpers.compare||
depth1&&depth1.compare,options={hash:{},inverse:self.program(4,program4,data),fn:self.program(2,program2,data),data:data},helper?helper.call(depth0,depth1&&depth1.selectRegion,"\x3d\x3d\x3d",depth0,options):helperMissing.call(depth0,"compare",depth1&&depth1.selectRegion,"\x3d\x3d\x3d",depth0,options));if(stack1||stack1===0)buffer+=stack1;buffer+="                        ";return buffer}function program2(depth0,data){var buffer="",stack1,helper,options;buffer+='                            \x3cli role\x3d"presentation" class\x3d"on"\x3e                                \x3ca href\x3d"javascript:;" role\x3d"tab" aria-selected\x3d"true" tabindex\x3d"0" aria-controls\x3d"contents-region-list'+
escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-name\x3d"tab-city-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" id\x3d"tab-city-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-index\x3d"'+escapeExpression((stack1=data==null||data===false?
data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e                                    \x3cspan class\x3d"regiontext"\x3e'+escapeExpression((helper=helpers.i18nConcat||depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,depth0,"sta-region-label",options):helperMissing.call(depth0,"i18nConcat",depth0,"sta-region-label",options)))+'\x3c/span\x3e                                    \x3cspan class\x3d"arricon"\x3e\x3c/span\x3e                                \x3c/a\x3e                            \x3c/li\x3e                            ';
return buffer}function program4(depth0,data){var buffer="",stack1,helper,options;buffer+='                            \x3cli role\x3d"presentation"\x3e                                \x3ca href\x3d"javascript:;" role\x3d"tab" aria-selected\x3d"false" tabindex\x3d"-1" aria-controls\x3d"contents-region-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-name\x3d"tab-city-list'+escapeExpression((stack1=data==null||
data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" id\x3d"tab-city-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-index\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e                                    \x3cspan class\x3d"regiontext"\x3e'+escapeExpression((helper=helpers.i18nConcat||
depth0&&depth0.i18nConcat,options={hash:{},data:data},helper?helper.call(depth0,depth0,"sta-region-label",options):helperMissing.call(depth0,"i18nConcat",depth0,"sta-region-label",options)))+'\x3c/span\x3e                                    \x3cspan class\x3d"arricon"\x3e\x3c/span\x3e                                \x3c/a\x3e                            \x3c/li\x3e                            ';return buffer}function program6(depth0,data,depth1){var buffer="",stack1,helper,options;buffer+='                \x3cdiv data-region-idx\x3d"'+
escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" class\x3d"city-list-new" id\x3d"contents-region-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" role\x3d"tabpanel" aria-labelledby\x3d"tab-city-list'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=
(helper=helpers.compare||depth1&&depth1.compare,options={hash:{},inverse:self.program(9,program9,data),fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,data==null||data===false?data:data.index,"\x3d\x3d\x3d",depth1&&depth1.selectCountryIdx,options):helperMissing.call(depth0,"compare",data==null||data===false?data:data.index,"\x3d\x3d\x3d",depth1&&depth1.selectCountryIdx,options));if(stack1||stack1===0)buffer+=stack1;buffer+='\x3e                    \x3ch3 class\x3d"tit-con"\x3e'+
escapeExpression((helper=helpers.i18n||depth1&&depth1.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-country-label",options):helperMissing.call(depth0,"i18n","select-country-label",options)))+'\x3c/h3\x3e                    \x3cdiv class\x3d"overflow-wrap" tabindex\x3d"-1"\x3e                        \x3cul\x3e                            ';stack1=helpers.each.call(depth0,depth0,{hash:{},inverse:self.noop,fn:self.programWithDepth(11,program11,data,depth0,depth1),data:data});if(stack1||
stack1===0)buffer+=stack1;buffer+="                        \x3c/ul\x3e                    \x3c/div\x3e                \x3c/div\x3e                ";return buffer}function program7(depth0,data){var buffer="";return buffer}function program9(depth0,data){return'style\x3d"display:none;"'}function program11(depth0,data,depth1,depth2){var buffer="",stack1,helper,options;buffer+='                            \x3cli class\x3d"selectable"\x3e                                ';stack1=(helper=helpers.compare||
depth0&&depth0.compare,options={hash:{},inverse:self.programWithDepth(14,program14,data,depth1),fn:self.programWithDepth(12,program12,data,depth1),data:data},helper?helper.call(depth0,depth0&&depth0.countryCode,"\x3d\x3d\x3d",depth2&&depth2.selectCountryCode,options):helperMissing.call(depth0,"compare",depth0&&depth0.countryCode,"\x3d\x3d\x3d",depth2&&depth2.selectCountryCode,options));if(stack1||stack1===0)buffer+=stack1;buffer+='                                \x3cdiv class\x3d"sec-div cityarea" aria-hidden\x3d"true" id\x3d"contents-city-list-'+
escapeExpression((stack1=depth1&&depth1.length,typeof stack1===functionType?stack1.apply(depth0):stack1))+"-";if(helper=helpers.airportCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.airportCode;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"-"+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" ';stack1=(helper=helpers.compare||
depth0&&depth0.compare,options={hash:{},inverse:self.program(9,program9,data),fn:self.program(7,program7,data),data:data},helper?helper.call(depth0,depth0&&depth0.countryCode,"\x3d\x3d\x3d",depth2&&depth2.selectCountryCode,options):helperMissing.call(depth0,"compare",depth0&&depth0.countryCode,"\x3d\x3d\x3d",depth2&&depth2.selectCountryCode,options));if(stack1||stack1===0)buffer+=stack1;buffer+='\x3e                                    \x3cdiv class\x3d"overflow-wrap" tabindex\x3d"-1"\x3e                                        \x3ch4 class\x3d"tit-con"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-city-label",options):helperMissing.call(depth0,"i18n","select-city-label",options)))+"\x3c/h4\x3e                                        \x3cul\x3e                                            ";stack1=helpers.each.call(depth0,depth0&&depth0.airports,{hash:{},inverse:self.noop,fn:self.program(16,program16,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="                                        \x3c/ul\x3e                                    \x3c/div\x3e                                \x3c/div\x3e                            \x3c/li\x3e                            ";
return buffer}function program12(depth0,data,depth2){var buffer="",stack1,helper;buffer+='                                    \x3cbutton class\x3d"country active" aria-expanded\x3d"true" aria-controls\x3d"contents-city-list-'+escapeExpression((stack1=depth2&&depth2.length,typeof stack1===functionType?stack1.apply(depth0):stack1))+"-";if(helper=helpers.airportCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.airportCode;stack1=typeof helper===functionType?helper.call(depth0,
{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"-"+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-index\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((stack1=depth0&&depth0.countryName,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/button\x3e                                ";
return buffer}function program14(depth0,data,depth2){var buffer="",stack1,helper;buffer+='                                    \x3cbutton class\x3d"country" aria-expanded\x3d"false" aria-controls\x3d"contents-city-list-'+escapeExpression((stack1=depth2&&depth2.length,typeof stack1===functionType?stack1.apply(depth0):stack1))+"-";if(helper=helpers.airportCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.airportCode;stack1=typeof helper===functionType?helper.call(depth0,
{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"-"+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'" data-index\x3d"'+escapeExpression((stack1=data==null||data===false?data:data.index,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e'+escapeExpression((stack1=depth0&&depth0.countryName,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/button\x3e                                ";
return buffer}function program16(depth0,data){var buffer="",stack1;buffer+='                                            \x3cli\x3e                                                \x3cbutton class\x3d"city button-link" data-code\x3d"'+escapeExpression((stack1=depth0&&depth0.airportCode,typeof stack1===functionType?stack1.apply(depth0):stack1))+'"\x3e\x3cspan\x3e'+escapeExpression((stack1=depth0&&depth0.airportName,typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/span\x3e\x3c/button\x3e                                            \x3c/li\x3e                                            ";
return buffer}buffer+='\x3c!-- template:modal-sta-airport-selector --\x3e\x3cdiv class\x3d"modalPop-new"\x3e    \x3cdiv class\x3d"city-select-pop"\x3e        \x3ch1 class\x3d"tit-pop modal-title" id\x3d"dialog-tit-citylist"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-region/city-label",options):helperMissing.call(depth0,"i18n","select-region/city-label",options)))+'\x3c/h1\x3e        \x3cdiv class\x3d"content-pop-new"\x3e            \x3cdiv class\x3d"sec-div regionarea"\x3e                \x3ch2 class\x3d"tit-con"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-region-label",options):helperMissing.call(depth0,"i18n","select-region-label",options)))+'\x3c/h2\x3e                \x3cdiv class\x3d"overflow-wrap"\x3e                    \x3cul id\x3d"tabAirpotSelect" class\x3d"region-list-new" role\x3d"tablist"\x3e                        ';stack1=helpers.each.call(depth0,depth0&&depth0.airportsRegion,{hash:{},inverse:self.noop,fn:self.programWithDepth(1,
program1,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='                    \x3c/ul\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv id\x3d"countriesWrap" class\x3d"sec-div double countryarea"\x3e                ';stack1=helpers.each.call(depth0,depth0&&depth0.groupAirports,{hash:{},inverse:self.noop,fn:self.programWithDepth(6,program6,data,depth0),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3c!-- /template:modal-sta-airport-selector --\x3e";
return buffer});templates["multi-popup"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1;buffer+="        ";stack1=helpers["if"].call(depth0,depth0&&depth0.isSTA,{hash:{},inverse:self.program(4,program4,data),fn:self.program(2,
program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="    ";return buffer}function program2(depth0,data){var buffer="",helper,options;buffer+='            \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"STA-multi-noti-pop-desc",options):helperMissing.call(depth0,"i18n","STA-multi-noti-pop-desc",options)))+'\x3c/p\x3e            \x3cdiv class\x3d"noti"\x3e                \x3ch3\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"notice-label",options):helperMissing.call(depth0,"i18n","notice-label",options)))+"\x3c/h3\x3e                \x3cul\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"STA-multi-noti-pop-list01",options):helperMissing.call(depth0,"i18n","STA-multi-noti-pop-list01",options)))+"\x3c/li\x3e                    \x3cli\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"STA-multi-noti-pop-list02",options):helperMissing.call(depth0,"i18n","STA-multi-noti-pop-list02",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"STA-multi-noti-pop-list03",options):helperMissing.call(depth0,"i18n","STA-multi-noti-pop-list03",options)))+"\x3c/li\x3e                    \x3cli\x3e                        "+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"STA-multi-noti-pop-list04",options):helperMissing.call(depth0,"i18n","STA-multi-noti-pop-list04",options)))+'                        \x3cul class\x3d"dash"\x3e                            \x3cli\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"STA-multi-noti-pop-sub-list01",options):helperMissing.call(depth0,"i18n","STA-multi-noti-pop-sub-list01",
options)))+"\x3c/li\x3e                            \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"STA-multi-noti-pop-sub-list02",options):helperMissing.call(depth0,"i18n","STA-multi-noti-pop-sub-list02",options)))+"\x3c/li\x3e                        \x3c/ul\x3e                    \x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"STA-multi-noti-pop-list05",options):helperMissing.call(depth0,"i18n","STA-multi-noti-pop-list05",options)))+"\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e        ";return buffer}function program4(depth0,data){var buffer="",helper,options;buffer+='            \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-desc",options):helperMissing.call(depth0,"i18n","multi-noti-pop-desc",
options)))+'\x3c/p\x3e            \x3col\x3e                \x3cli\x3e                    \x3cdiv class\x3d"tit-area"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-subTit01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-subTit01",options)))+'\x3c/div\x3e                    \x3cdiv class\x3d"desc-area"\x3e                        \x3cdiv class\x3d"desc"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-ex",options):helperMissing.call(depth0,"i18n","multi-noti-pop-ex",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e)\x3c/span\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Tokyo-office-label",options):helperMissing.call(depth0,"i18n","Tokyo-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e / \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt01",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Osaka-office-label",options):helperMissing.call(depth0,"i18n","Osaka-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-or",options):helperMissing.call(depth0,"i18n","multi-noti-pop-or",options)))+'                            \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"Busan-office-label",options):helperMissing.call(depth0,"i18n","Busan-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",
options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"London-office-label",options):helperMissing.call(depth0,"i18n","London-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e / \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"multi-noti-pop-hdTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt01",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Paris-office-label",options):helperMissing.call(depth0,"i18n","Paris-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+'                            \x3cspan class\x3d"star-list"\x3e\x3cspan class\x3d"star"\x3e\x3c/span\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-exTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-exTxt01",options)))+' \x3c/span\x3e                        \x3c/div\x3e                        \x3cdiv class\x3d"detail "\x3e                            \x3cdiv class\x3d"plan"\x3e                                \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date01",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"place arrival"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Tokyo-office-label",options):helperMissing.call(depth0,"i18n","Tokyo-office-label",
options)))+' \x3c/span\x3e \x3c/span\x3e                            \x3c/div\x3e                            \x3cdiv class\x3d"to"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt01",options)))+'\x3c/div\x3e                            \x3cdiv class\x3d"plan"\x3e                                \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Osaka-office-label",options):helperMissing.call(depth0,"i18n","Osaka-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date02",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"place arrival"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,
"i18n","Incheon-office-label",options)))+' \x3c/span\x3e\x3c/span\x3e                            \x3c/div\x3e                        \x3c/div\x3e                    \x3c/div\x3e                \x3c/li\x3e                \x3cli\x3e                    \x3cdiv class\x3d"tit-area"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-subTit02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-subTit02",options)))+
'\x3c/div\x3e                    \x3cdiv class\x3d"desc-area"\x3e                        \x3cdiv class\x3d"desc"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-ex",options):helperMissing.call(depth0,"i18n","multi-noti-pop-ex",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e)\x3c/span\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"New York-office-label",options):helperMissing.call(depth0,"i18n","New York-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,
"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Bangkok-office-label",options):helperMissing.call(depth0,"i18n","Bangkok-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+'                            \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                            \x3cspan class\x3d"offscreen"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"New York-office-label",options):helperMissing.call(depth0,"i18n","New York-office-label",options)))+'                        \x3c/div\x3e                        \x3cdiv class\x3d"detail"\x3e                            \x3cdiv class\x3d"plan"\x3e                                \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"New York-office-label",options):helperMissing.call(depth0,"i18n","New York-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date01",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n",
"Incheon-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date03",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date03",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,
"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Bangkok-office-label",options):helperMissing.call(depth0,"i18n","Bangkok-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date04",
options):helperMissing.call(depth0,"i18n","multi-noti-pop-date04",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date04",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date04",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                                \x3cspan class\x3d"place arrival"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"New York-office-label",options):helperMissing.call(depth0,
"i18n","New York-office-label",options)))+' \x3c/span\x3e\x3c/span\x3e                            \x3c/div\x3e                        \x3c/div\x3e                    \x3c/div\x3e                \x3c/li\x3e            \x3c/ol\x3e            \x3cdiv class\x3d"noti"\x3e                \x3ch3\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"notice-label",options):helperMissing.call(depth0,"i18n","notice-label",options)))+"\x3c/h3\x3e                \x3cul\x3e                    \x3cli\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-list01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-list01",options)))+"\x3c/li\x3e                    \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-list03",options):helperMissing.call(depth0,"i18n","multi-noti-pop-list03",options)))+"\x3c/li\x3e                    \x3cli\x3e"+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-list04",options):helperMissing.call(depth0,"i18n","multi-noti-pop-list04",options)))+"\x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e        ";return buffer}function program6(depth0,data){var buffer="",helper,options;buffer+='    \x3cp class\x3d"txt"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"multi-noti-pop-desc",options):helperMissing.call(depth0,"i18n","multi-noti-pop-desc",options)))+'\x3c/p\x3e    \x3col\x3e        \x3cli\x3e            \x3cdiv class\x3d"tit-area"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-subTit01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-subTit01",options)))+'\x3c/div\x3e            \x3cdiv class\x3d"desc-area"\x3e                \x3cdiv class\x3d"desc"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-ex",options):helperMissing.call(depth0,"i18n","multi-noti-pop-ex",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e)\x3c/span\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+'                    \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Tokyo-office-label",options):helperMissing.call(depth0,"i18n","Tokyo-office-label",options)))+'                    \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e / \x3c/span\x3e \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt01",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Osaka-office-label",options):helperMissing.call(depth0,"i18n","Osaka-office-label",options)))+'                    \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-or",options):helperMissing.call(depth0,"i18n","multi-noti-pop-or",options)))+" "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Busan-office-label",options):helperMissing.call(depth0,"i18n","Busan-office-label",options)))+'                    \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"London-office-label",options):helperMissing.call(depth0,"i18n","London-office-label",options)))+'                    \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e / \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt01",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Paris-office-label",options):helperMissing.call(depth0,"i18n","Paris-office-label",options)))+'                    \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+'                    \x3cspan class\x3d"star-list"\x3e\x3cspan class\x3d"star"\x3e\x3c/span\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-exTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-exTxt01",options)))+' \x3c/span\x3e                \x3c/div\x3e                \x3cdiv class\x3d"detail"\x3e                    \x3cdiv class\x3d"plan"\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date01",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place arrival"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Tokyo-office-label",options):helperMissing.call(depth0,"i18n","Tokyo-office-label",options)))+' \x3c/span\x3e\x3c/span\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"to"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt01",options)))+' \x3c/div\x3e                    \x3cdiv class\x3d"plan"\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Osaka-office-label",options):
helperMissing.call(depth0,"i18n","Osaka-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",
options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place arrival"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+' \x3c/span\x3e\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cdiv class\x3d"tit-area"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-subTit02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-subTit02",options)))+'\x3c/div\x3e            \x3cdiv class\x3d"desc-area"\x3e                \x3cdiv class\x3d"desc"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-ex",options):helperMissing.call(depth0,"i18n","multi-noti-pop-ex",
options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e) \x3c/span\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?
helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"New York-office-label",options):helperMissing.call(depth0,"i18n","New York-office-label",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"KE-airline-name",options):helperMissing.call(depth0,
"i18n","KE-airline-name",options)))+"), "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"New York-office-label",options):helperMissing.call(depth0,"i18n","New York-office-label",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",
options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Los Angeles-office-label",options):helperMissing.call(depth0,"i18n","Los Angeles-office-label",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-flight01",options):helperMissing.call(depth0,"i18n",
"multi-noti-pop-flight01",options)))+"), "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Los Angeles-office-label",options):helperMissing.call(depth0,"i18n","Los Angeles-office-label",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",
options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"KE-airline-name",options):helperMissing.call(depth0,"i18n","KE-airline-name",
options)))+')                \x3c/div\x3e                \x3cdiv class\x3d"detail"\x3e                    \x3cdiv class\x3d"plan"\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date01",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"New York-office-label",options):helperMissing.call(depth0,"i18n","New York-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Los Angeles-office-label",options):helperMissing.call(depth0,"i18n","Los Angeles-office-label",
options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date03",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date03",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",
options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place arrival"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+' \x3c/span\x3e\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e        \x3cli\x3e            \x3cdiv class\x3d"tit-area"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-subTit03",options):helperMissing.call(depth0,"i18n","multi-noti-pop-subTit03",options)))+' \x3c/div\x3e            \x3cdiv class\x3d"desc-area"\x3e                \x3cdiv class\x3d"desc"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-ex",options):helperMissing.call(depth0,"i18n","multi-noti-pop-ex",
options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e) \x3c/span\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?
helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"London-office-label",options):helperMissing.call(depth0,"i18n","London-office-label",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"KE-airline-name",options):helperMissing.call(depth0,
"i18n","KE-airline-name",options)))+"), "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Paris-office-label",options):helperMissing.call(depth0,"i18n","Paris-office-label",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",
options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Vienna-office-label",options):helperMissing.call(depth0,"i18n","Vienna-office-label",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-flight02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-flight02",
options)))+"), "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Vienna-office-label",options):helperMissing.call(depth0,"i18n","Vienna-office-label",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,
"i18n","multi-noti-pop-hdTxt02",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Rome-office-label",options):helperMissing.call(depth0,"i18n","Rome-office-label",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-flight02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-flight02",options)))+"), "+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Rome-office-label",options):helperMissing.call(depth0,"i18n","Rome-office-label",options)))+' \x3cspan aria-hidden\x3d"true" class\x3d"sc"\x3e - \x3c/span\x3e                    \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",
options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" ("+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"KE-airline-name",options):helperMissing.call(depth0,"i18n","KE-airline-name",options)))+') \x3cspan class\x3d"star-list"\x3e\x3cspan class\x3d"star"\x3e\x3c/span\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-exTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-exTxt02",options)))+' \x3c/span\x3e                \x3c/div\x3e                \x3cdiv class\x3d"detail"\x3e                    \x3cdiv class\x3d"plan"\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date01",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place arrival"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"London-office-label",options):helperMissing.call(depth0,"i18n","London-office-label",options)))+' \x3c/span\x3e\x3c/span\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"to"\x3e '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt01",options)))+' \x3c/div\x3e                    \x3cdiv class\x3d"plan"\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Paris-office-label",options):
helperMissing.call(depth0,"i18n","Paris-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",
options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Vienna-office-label",options):helperMissing.call(depth0,"i18n","Vienna-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"multi-noti-pop-date03",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date03",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Rome-office-label",options):helperMissing.call(depth0,"i18n","Rome-office-label",options)))+" \x3c/span\x3e "+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-date04",options):helperMissing.call(depth0,"i18n","multi-noti-pop-date04",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"offscreen"\x3e '+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-hdTxt02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-hdTxt02",options)))+' \x3c/span\x3e                        \x3cspan class\x3d"place arrival"\x3e\x3cspan class\x3d"city"\x3e '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Incheon-office-label",options):helperMissing.call(depth0,"i18n","Incheon-office-label",options)))+
' \x3c/span\x3e\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/li\x3e    \x3c/ol\x3e    \x3cdiv class\x3d"noti"\x3e        \x3ch3\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"notice-label",options):helperMissing.call(depth0,"i18n","notice-label",options)))+"\x3c/h3\x3e        \x3cul\x3e            \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-list01",options):helperMissing.call(depth0,"i18n","multi-noti-pop-list01",options)))+"\x3c/li\x3e            \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-list02",options):helperMissing.call(depth0,"i18n","multi-noti-pop-list02",options)))+"\x3c/li\x3e            \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options=
{hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-list04",options):helperMissing.call(depth0,"i18n","multi-noti-pop-list04",options)))+"\x3c/li\x3e        \x3c/ul\x3e    \x3c/div\x3e    ";return buffer}buffer+='\x3cdiv class\x3d"multi-noti-pop"\x3e    \x3ch2 class\x3d"modal-title" id\x3d"multi-noti-pop"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"multi-noti-pop-tit",options):helperMissing.call(depth0,"i18n","multi-noti-pop-tit",
options)))+"\x3c/h2\x3e    ";stack1=helpers["if"].call(depth0,depth0&&depth0.isAward,{hash:{},inverse:self.program(6,program6,data),fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/div\x3e";return buffer})})();
(function($,koreanair,Templates){var CalendarCore=Backbone.View.extend({el:"#calendar-area",today:moment.withZone(new Date).format("YYYY-MM-DD"),selectedDayElement:null,currentDate:null,currentDateItem:null,dir:"select",template:Templates["calendar-core"],templateQpx:Templates["calendar-QPX-core"],firstIn:false,events:{"mousedown table":"mousedown","focusin table":"enableDir","keydown table":"keyControl","mouseover .date":"showQPXTooltip","focusin .date":"showQPXTooltip","mouseout .date":"hideQPXTooltip",
"focusout .date":"hideQPXTooltip"},selectedFromFare:"",mousedown:function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()},disableDir:function(event){},enableDir:function(event){if(!this.firstIn){this.firstIn=true;this.trigger("first-in")}if(event&&$(event.target)[0]!=this.$("table")[0])return;var date=null;this.selectedDayElement=this.$("td.selected");switch(this.dir){case "select":if(this.selectedDayElement.length)date=this.selectedDayElement.data("time");else date=this.$("td.available").first().data("time");
break;default:date=this.$('td.available[data-time\x3d"'+this.options.date+'"]').eq(0).data("time");break}if(date){this.trigger("update-date",date);this.setDate(date)}},setDate:function(date,unit){if(!date)return;date=moment.withZone(date).format("YYYY-MM-DD");this.currentDateItem=null;var self=this;this.$el.find("tbody .date").each(function(index,item){var $item=$(item);if(!$item.hasClass("unavailable")&&$item.data("time")==date){self.currentDateItem=$item;self.currentDate=date}});if(!this.currentDateItem){var dir;
if(this.currentDate>date)dir="prev";else dir="next";var test=this.searchDate(this[dir+unit](),dir,unit);if(test==null){var msg;msg="cannot-select-"+dir+"-"+unit.toLowerCase();this.trigger("show-error",msg)}else this.trigger("change-date",test);this.currentDateItem=this.$el.find("tbody .date.available[data-time\x3d"+this.currentDate+"]")}else{this.currentDate=date;this.$el.find("table").attr("aria-activedescendant",this.currentDateItem.attr("id"));this.currentDateItem.focus()}},searchDate:function(date,
dir,unit){var data=this.getTemplateDateData(date);var resultData=null;var result;parent:for(var i=0,count=data.length;i<count;i+=1){var items=data[i];for(var j=0,count2=items.length;j<count2;j+=1){var item=items[j];if(!item)continue;if(!item.disabled)if(item.time==date)result=item.time}}if(result)return result;else{var measureDate;measureDate=this[dir+unit]();if(this.options.min<measureDate&&this.options.max>measureDate)return this.searchDate(measureDate,dir,unit);else return null}},keyControl:function(event){var date;
var unit;switch(event.keyCode){case 33:event.preventDefault();if(event.ctrlKey){event.preventDefault();date=this.prevYear();unit="Year"}else{event.preventDefault();date=this.prevMonth();unit="Month"}break;case 34:event.preventDefault();if(event.ctrlKey){date=this.nextYear();unit="Year"}else{date=this.nextMonth();unit="Month"}break;case 35:event.preventDefault();date=this.$("td.available").last().data("time");break;case 36:event.preventDefault();date=this.$("td.available").first().data("time");break;
case 37:event.preventDefault();date=this.prevDay();unit="Day";break;case 38:event.preventDefault();date=this.prevWeek();unit="Week";break;case 39:event.preventDefault();date=this.nextDay();unit="Day";break;case 40:event.preventDefault();date=this.nextWeek();unit="Week";break;case 13:case 32:event.preventDefault();this.dir="select";this.currentDateItem.trigger("click");return;break;case 9:this.dir="select";if(event.shiftKey){event.preventDefault();this.trigger("focus-out")}default:return}this.setDate(date,
unit)},prevDay:function(){var now=moment.withZone(this.currentDate);now.add(-1,"days");return moment(now).format("YYYY-MM-DD")},prevWeek:function(){var now=moment.withZone(this.currentDate);now.add(-7,"days");return moment(now).format("YYYY-MM-DD")},prevMonth:function(){var current=moment.withZone(this.currentDate);var currentDate=current.date();var prev=moment.withZone(this.currentDate);prev.date(0);var prevDate=prev.date();if(prevDate>currentDate)prev.date(currentDate);return moment(prev).format("YYYY-MM-DD")},
prevYear:function(){var current=moment.withZone(this.currentDate);var currentMonth=current.month();var currentDate=current.date();var prev=moment.withZone(this.currentDate);if(currentMonth==1&&currentDate==29)prev.date(28);prev.add(-1,"years");var nowDate=prev.date();if(nowDate>currentDate)prev.date(currentDate);return moment(prev).format("YYYY-MM-DD")},nextDay:function(){var now=moment.withZone(this.currentDate);now.add(1,"days");return moment(now).format("YYYY-MM-DD")},nextWeek:function(){var now=
moment.withZone(this.currentDate);now.add(7,"days");return moment(now).format("YYYY-MM-DD")},nextMonth:function(){var current=moment.withZone(this.currentDate);var currentDate=current.date();var next=moment.withZone(this.currentDate);next.date(1);next.add(1,"month");var checkEnd=moment.withZone(this.currentDate);checkEnd.date(1);checkEnd.add(2,"month");checkEnd.date(0);var checkEndDate=checkEnd.date();checkEndDate<currentDate?next.date(checkEndDate):next.date(currentDate);return moment(next).format("YYYY-MM-DD")},
nextYear:function(){var current=moment.withZone(this.currentDate);var currentMonth=current.month();var currentDate=current.date();var next=moment.withZone(this.currentDate);if(currentMonth==1&&currentDate==29)next.date(28);next.add(1,"years");var nowDate=next.date();if(nowDate>currentDate)next.date(currentDate);return moment(next).format("YYYY-MM-DD")},selectTime:null,scheduleIntlCode:["IKT","TAS","TLV","AKL","BNE","NAN","PPT","KHH","ROR","MLE","CMB","CXR","KTM","CNX","NNG","NKG","WUH","URC","TXN",
"MDG","KMG","KWE","OKJ","KIJ","KMQ","KOJ","AOJ","HFE","HGH","TNA"],scheduleDomCode:["USN","HIN","RSU","MWX"],scheduleData:"",inqueryDate:"",isSchedule:false,initialize:function(options){var isActivePage=window.location.href.indexOf("booking-gate")>-1||koreanair.quick&&koreanair.quick.isActiveControl==="tab-booking"||window.location.href.indexOf("flight-select")>-1||window.location.href.indexOf("date-select")>-1||window.location.href.indexOf("reissue-gate")>-1;this.reset(options);if(isActivePage&&
!this.options.isSTA){var isSchedule=_.indexOf(this.scheduleDomCode,options.dep)>-1&&options.arr=="CJU"||_.indexOf(this.scheduleDomCode,options.arr)>-1&&options.dep=="CJU"||(options.dep=="YNY"&&options.arr!="ICN"||options.dep!="ICN"&&options.arr=="YNY")||(_.indexOf(this.scheduleIntlCode,options.dep)>-1||_.indexOf(this.scheduleIntlCode,options.arr)>-1);this.isSchedule=isSchedule&&!!options.dep&&!!options.arr;if(this.isSchedule)this.scheduleStatus().always(_.bind(function(){this.isYNY=options.dep!="ICN"&&
options.arr=="YNY"||options.dep=="YNY"&&options.arr!="ICN";this.setSchedule(this.isYNY)},this));else $(".schecule-info").remove()}else if(this.options.bizId=="HOTEL")$(".schecule-info").remove();else if(this.options.bizId=="LOSTFOUND")$(".schecule-info").remove()},render:function(){var weeks=this.getTemplateDateData();var currentDate;_.each(weeks,function(week){if(week)_.each(week,function(day){if(day&&day.selected===true)currentDate=day.time})});var templateData={weeks:weeks,currentDate:currentDate,
title:this.options.title,selectTitle:this.options.selectTitle,isFrom:this.options.isFrom},html=this.options.isQPX?this.templateQpx(templateData):this.template(templateData);this.$el.html(html);this.applyStatus();if(this.isSchedule)this.scheduleStatus().always(_.bind(function(){this.setSchedule(this.isYNY)},this));$.colorbox.resize();this.selectedDayElement=this.$("td.selected");if(this.selectedDayElement.length>0)if(!this.options.isDeparture)$(".from-calendar-area").find(".date.selected .fare").addClass("dp-none");
if(this.options.isQPX){this.lowestPrice();var target=this.options.isRoundTrip?$(".to-calendar-area"):$(".from-calendar-area");this.setTotalPirce(target.find(".date.selected").find(".fare"))}this.$el.find(".date").on("click",this.buttonHandler.bind(this));this.$el.find(".date").on("touchstart",this.buttonHandler.bind(this));this.trigger("hide-error")},getTemplateDateData:function(date){var fullDate=moment.withZone(date||this.options.date),year=fullDate.format("YYYY"),month=fullDate.format("MM"),startDay=
moment.withZone(year+"-"+month).day(),endDates=[31,28,31,30,31,30,31,31,30,31,30,31],minTime=moment.getTime(this.options.min),maxTime=moment.getTime(this.options.max),days=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],weeks=[];if(moment.withZone(year).isLeapYear())endDates[1]=29;var i,dayIdx=0,endDate=endDates[month-1]+startDay,dayLength=7*6;var dftSelectTime=this.selectTime;if(this.options.bizId=="HOTEL")this.selectTime="";for(i=0;i<dayLength;++i){dayIdx++;if(i%7===0){var week=
[];weeks.push(week);dayIdx=0}if(i>=startDay&&i<endDate){var printDate=i-startDay+1;fullDate.date(printDate);var lowPrice=999999999,qpxOutPrice,qpxInTarget,qpxInArr,qpxInPrice;if(this.options.outDataQPX)if(this.options.type=="out")_.each(this.options.outDataQPX.solution,_.bind(function(sol){if(sol.departureDate==fullDate.format("YYYY-MM-DD"))if(lowPrice>Number(sol.price)){lowPrice=Number(sol.price);qpxOutPrice=sol}},this));else{qpxInTarget=_.pick(this.options.inDataQPX,_.bind(function(value,key){return key==
this.options.min},this));qpxInArr=_.flatten(_.values(qpxInTarget));_.find(qpxInArr,_.bind(function(list){if(list.returnDate==fullDate.format("YYYY-MM-DD"))qpxInPrice=list},this))}if(this.options.outDataQPX&&this.options.hasValue=="")this.selectTime="";var spkgInfo=null;var currentTime=moment.getTime(fullDate);var currentDate=fullDate.format("YYYY-MM-DD");if(this.options.spkgData&&this.options.spkgData.length>=0)spkgInfo=this.options.spkgData.filter(function(info){return info.dates.indexOf(currentDate)>=
0});var selected=this.options.bizId=="DISCOUNT"||this.options.bizId=="HOTEL"?_.contains(this.options.occupiedDates,dftSelectTime)?false:dftSelectTime===currentDate:dftSelectTime===currentDate,disabled=this.isDisableDate(currentTime,minTime,maxTime,this.options.occupiedDatesApplyDisabled,this.options.occupiedDates,currentDate),outDataQPX=this.options.outDataQPX?qpxOutPrice:null,inDataQPX=this.options.inDataQPX?qpxInPrice:null,data={date:printDate,selected:selected,disabled:disabled,occupied:this.options.occupiedDates&&
this.options.occupiedDates.indexOf(currentDate)>=0,time:currentDate,outDataQPX:outDataQPX,inDataQPX:inDataQPX,index:printDate-1,day:days[dayIdx],id:printDate+"-"+this.options.seq,isQPX:this.options.isQPX,type:this.options.type,spkg:spkgInfo&&spkgInfo.length>0?spkgInfo[0]:null};if(this.options.bizId=="HOTEL")if(selected)this.selectTime=currentDate;week.push(data);qpxOutPrice="";qpxInPrice=""}else week.push(null)}return weeks},lowestPrice:function(){var fares=this.$el.find(".fare"),$targetFare=[],faresArr=
[],lowestFare;_.each(fares,function(fare){$targetFare.push(fare);faresArr.push(Number(fare.textContent.split("$")[1]))});lowestFare=_.sortBy(faresArr);_.each(fares,function(fare){if(lowestFare[0]==fare.textContent.split("$")[1])$(fare).addClass("discount")})},showQPXTooltip:function(e){if(this.options.isQPX){this.hideAllQPXTooltip();var $target=$(e.currentTarget),html="",dateFormat="MM.DD (ddd)",fromDate=$target.find(".fare").attr("data-from"),toDate=$target.find(".fare").attr("data-to"),oneway=this.options.isRoundTrip?
Granite.I18n.get("roundtrip-label"):Granite.I18n.get("oneway-label"),price=$target.find(".fare").text().split("$")[1],currency=$target.find(".fare").data("currency"),boxRow=5-$target.parent().index(),boxCol=$target.index();html+='\x3cspan aria-hidden\x3d"true" class\x3d"ko"\x3e\x3c/span\x3e';if(this.options.isRoundTrip)if(this.options.isDeparture)html+='\x3cp class\x3d"range-fare"\x3e\x3cspan style\x3d"display:block;"\x3e'+moment(fromDate).format(dateFormat)+"\x3c/span\x3e";else html+='\x3cp class\x3d"range-fare"\x3e'+
moment(fromDate).format(dateFormat)+' \x3cspan aria-hidden\x3d"true"\x3e~\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("from-price-label")+"\x3c/span\x3e "+moment(toDate).format(dateFormat);else html+='\x3cp class\x3d"range-fare"\x3e'+moment(fromDate).format(dateFormat);html+="\x3cem\x3e"+oneway;if($target.find(".fare").hasClass("discount"))html+='\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("discount-ticket-lowest-fare-remarks")+"\x3c/span\x3e";else html+='\x3cspan class\x3d"offscreen"\x3e'+
Granite.I18n.get("UWA-normal-fare-label")+"\x3c/span\x3e";currency=this.getCurrency(currency);html+=currency+price+"\x3c/em\x3e";if(this.options.isDeparture)html+=' \x3cspan aria-hidden\x3d"true"\x3e~\x3c/span\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("from-price-label")+"\x3c/span\x3e ";html+="\x3c/p\x3e";if($target.hasClass("available qpx")&&$target.find("span.fare").length>0){this.$el.find(".range-tooltip").css({"position":"relative","top":-(42*boxRow)-1+"px","left":46*boxCol-110+
"px"});this.$el.find(".range-tooltip").html(html)}var targetTime=$target.attr("data-time"),todayTxt="";if(targetTime==this.today)todayTxt=Granite.I18n.get("UWA-today-schedule")+", ";var labels="",curFull=this.getFullCurrency($target.find(".fare").data("currency"));if(this.options.isRoundTrip)if(this.options.isDeparture)labels=moment($target.data("time")).format(dateFormat)+", "+todayTxt+oneway+", "+Granite.I18n.get("from-price-label")+" "+curFull+price;else labels=moment($target.data("time")).format("DD dddd")+
", "+todayTxt+oneway+", "+Granite.I18n.get("from-price-label")+" "+moment(fromDate).format(dateFormat)+" "+Granite.I18n.get("UWA-to-calender-label")+" "+moment(toDate).format(dateFormat)+" "+curFull+price;else labels=moment(fromDate).format(dateFormat)+", "+todayTxt+oneway+". "+Granite.I18n.get("from-price-label")+" "+curFull+price;if($target.find("span").hasClass("discount"))labels+=", "+Granite.I18n.get("discount-ticket-lowest-fare-remarks");if($target.hasClass("unavailable"))labels+=", "+Granite.I18n.get("cal-legend-miles-unavail");
else if($target.hasClass("occupied"))labels+=", "+Granite.I18n.get("redeem-hotel-dates-not-available");else if($target.hasClass("available"))labels+=", "+Granite.I18n.get("cal-legend-miles-avail");else if($target.hasClass("no-seat"))labels+=", "+Granite.I18n.get("redeem-hotel-dates-not-available");if($target.hasClass("selected"))labels+=", "+Granite.I18n.get("WA-selected");if($target.find(".fare").length>0)$target.attr("aria-label",labels)}},hideQPXTooltip:function(e){var $target=$(e.currentTarget);
if($target.hasClass("available qpx")&&$target.find("span.fare").length>0)this.$el.find(".range-tooltip").attr("aria-hidden",true).html("")},hideAllQPXTooltip:function(){$(".modal-calendar").find(".range-tooltip").attr("aria-hidden",true).html("")},buttonHandler:function(e){this.dir="select";e.preventDefault();var $el=$(e.currentTarget),time=$el.data("time");if($el.hasClass("no-flight")){var msg=Granite.I18n.get("calendar-notAllow-click-date"),label=this.$("td.selected").attr("aria-label");if(label)label=
label.replace(", "+Granite.I18n.get("WA-selected"),"");this.trigger("show-error",msg);this.selectTime="";this.$("td.selected").removeClass("selected").attr("aria-label",label).blur();return}if($el.hasClass("unavailable"))return;var $fSel=this.$("td.selected");var $tSel=$el;if($fSel.length>0)$fSel.removeClass("selected");if($tSel.length>0)$tSel.addClass("selected");this.selectedDayElement=this.currentDateItem=$fSel;this.selectTime=this.currentDateItem=time;this.$el.find("tbody td.selected span.selected-label").remove();
this.$el.find("tbody td.selected").append('\x3cspan class\x3d"offscreen selected-label"\x3e'+Granite.I18n.get("WA-selected")+"\x3c/span\x3e");this.dispatchEvent("input:change");this.applyStatus(e);this.enableDir();if(this.options.bizId=="HOTEL"||this.options.bizId=="DISCOUNT")if($el.hasClass("occupied")){var msg=Granite.I18n.get("calendar-occupied-invaild-date");this.trigger("show-error",msg);return}this.trigger("hide-error");if(this.options.isQPX){if(this.options.isDeparture)$fSel.find(".fare").removeClass("dp-none");
else $(".from-calendar-area").find(".date.selected .fare").addClass("dp-none");this.setTotalPirce($el.find(".fare"))}},setTotalPirce:function(tgt){var $target=$(".qpxcal_wrap").find(".btn-c"),$fromTarget=$(".from-calendar-area").find(".date.selected"),$toTarget=$(".to-calendar-area").find(".date.selected"),$selectedTarget=this.options.isRoundTrip?$toTarget:$fromTarget,price=tgt.text().split("$")[1],currency,prevHtml='\x3cspan class\x3d"cal-label"\x3e'+Granite.I18n.get("UWA-cal-amount-total-label")+
"\x3c/span\x3e\x3cstrong\x3e",nextHtml="\x3cspan\x3e "+Granite.I18n.get("UWA-per-label")+"\x3c/span\x3e "+Granite.I18n.get("adult-label")+"\x3c/strong\x3e";if($selectedTarget.length>0)if($(".total-fare").children().length>0)if($selectedTarget.find(".fare").length>0){currency=this.getFullCurrency($selectedTarget.find(".fare").data("currency"));$(".total-fare").html(prevHtml+currency+$selectedTarget.find(".fare").text().split("$")[1]+nextHtml)}else $(".total-fare").children().remove();else{if($selectedTarget.find(".fare").length>
0){currency=this.getFullCurrency(tgt.data("currency"));$(".total-fare").html(prevHtml+currency+price+nextHtml)}}else $(".total-fare").children().remove()},getCurrency:function(target){switch(target){case "USD":return" US$";break;case "CAD":return" CA$";break}},getFullCurrency:function(target){switch(target){case "USD":return"USD ";break;case "CAD":return"CAD ";break}},isDisableDate:function(current,min,max,occupiedDatesApplyDisabled,occupiedDates,currentDate){if(occupiedDatesApplyDisabled)return current<
min||current>max||occupiedDates.indexOf(currentDate)>=0;else return current<min||current>max},dispatchEvent:function(type){this.trigger(type,{type:type,date:this.getData()})},selectTimeRangeCorrection:function(select,min,max){var selectTime=moment.getTime(select),minTime=moment.getTime(min),maxTime=moment.getTime(max);if(selectTime>=minTime&&selectTime<=maxTime)this.selectTime=moment.withZone(select).format("YYYY-MM-DD");else this.selectTime=null},reset:function(options){if(!this.options)this.options=
{};_.extend(this.options,options);if(!this.options.min)this.options.min="1970-01-01";if(!options.date)this.options.date=moment.withZone().format("YYYY-MM-DD");if(_.isUndefined(options.select)||_.isNull(options.select)){if(this.selectTime)this.selectTimeRangeCorrection(this.selectTime,this.options.min,this.options.max)}else this.selectTimeRangeCorrection(this.options.select,this.options.min,this.options.max);this.$el.empty();this.render()},scheduleStatus:function(){this.qpxLoading=new koreanair.QPXLoadingScreen;
this.qpxLoading.render();var data={"tripType":"O","airlineCode":"KE","itineraryInformationList":[{"departureLocationCode":this.options.dep,"arrivalLocationCode":this.options.arr,"departureDate":moment.withZone(this.options.date.substr(0,7)).format("YYYYMMDD")}]};return koreanair.ServiceApi.scheduleStatus.post({async:true,data:JSON.stringify(data),success:_.bind(function(data){this.scheduleData=data.availableDates;this.inqueryDate=data.inqueryDate},this),error:function(jqXHR,textStatus){}})},setSchedule:function(isYNY){if(this.qpxLoading)this.qpxLoading.remove();
if(this.scheduleData.length>0&&moment(this.options.date).format("YYYYMM")===this.inqueryDate.substr(0,6)){_.each(this.$("td.available"),_.bind(function(date){$(date).addClass("no-flight")},this));_.each(this.scheduleData,_.bind(function(date){this.$el.find("td.available[data-time\x3d"+date+"]").removeClass("no-flight")},this));_.each(this.$("td.available.no-flight"),_.bind(function(date){var label=$(date).attr("aria-label");if($(date).hasClass("selected")){$(date).removeClass("selected");this.selectTime=
null}label=label.replace(", "+Granite.I18n.get("WA-selected"),"");label=label.replace(", "+Granite.I18n.get("cal-legend-miles-avail"),"");$(date).attr("aria-label",label+", "+Granite.I18n.get("viewBonusSeat-result-label-noFlight"))},this));_.each(this.$("td.available").not(".no-flight"),_.bind(function(date){var label=$(date).attr("aria-label");label=label.replace(", "+Granite.I18n.get("cal-legend-miles-avail"),", "+Granite.I18n.get("yes-flight-operate"));$(date).attr("aria-label",label)},this));
var trip=this.options.isRoundTrip?"multi":"single";var html='\x3cdiv class\x3d"legend '+trip+'" aria-hidden\x3d"true"\x3e\x3cul\x3e';html+='\x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+Granite.I18n.get("cal-legend-miles-unavail")+"\x3c/span\x3e\x3c/li\x3e";html+='\x3cli\x3e\x3cspan class\x3d"available"\x3e'+Granite.I18n.get("yes-flight-operate")+"\x3c/span\x3e\x3c/li\x3e";html+='\x3cli\x3e\x3cspan class\x3d"no-flight"\x3e'+Granite.I18n.get("viewBonusSeat-result-legend-noFlight")+"\x3c/span\x3e\x3c/li\x3e";
html+="\x3c/ul\x3e\x3c/div\x3e";if($(".content-pop").find(".legend."+trip).length<1){$(".content-pop").find(".legend").remove();$(".content-pop").append(html);$.colorbox.resize()}}else if(isYNY){_.each(this.$("td.available"),_.bind(function(date){$(date).addClass("no-flight")},this));_.each(this.scheduleData,_.bind(function(date){this.$el.find("td.available[data-time\x3d"+date+"]").removeClass("no-flight")},this));_.each(this.$("td.available.no-flight"),_.bind(function(date){var label=$(date).attr("aria-label");
if($(date).hasClass("selected")){$(date).removeClass("selected");this.selectTime=null}label=label.replace(", "+Granite.I18n.get("WA-selected"),"");label=label.replace(", "+Granite.I18n.get("cal-legend-miles-avail"),"");$(date).attr("aria-label",label+", "+Granite.I18n.get("viewBonusSeat-result-label-noFlight"))},this));_.each(this.$("td.available").not(".no-flight"),_.bind(function(date){var label=$(date).attr("aria-label");label=label.replace(", "+Granite.I18n.get("cal-legend-miles-avail"),", "+
Granite.I18n.get("yes-flight-operate"));$(date).attr("aria-label",label)},this));var trip=this.options.isRoundTrip?"multi":"single";var html='\x3cdiv class\x3d"legend '+trip+'" aria-hidden\x3d"true"\x3e\x3cul\x3e';html+='\x3cli\x3e\x3cspan class\x3d"unavailable"\x3e'+Granite.I18n.get("cal-legend-miles-unavail")+"\x3c/span\x3e\x3c/li\x3e";html+='\x3cli\x3e\x3cspan class\x3d"available"\x3e'+Granite.I18n.get("yes-flight-operate")+"\x3c/span\x3e\x3c/li\x3e";html+='\x3cli\x3e\x3cspan class\x3d"no-flight"\x3e'+
Granite.I18n.get("viewBonusSeat-result-legend-noFlight")+"\x3c/span\x3e\x3c/li\x3e";html+="\x3c/ul\x3e\x3c/div\x3e";if($(".content-pop").find(".legend."+trip).length<1){$(".content-pop").find(".legend").remove();$(".content-pop").append(html);$.colorbox.resize()}}},applyStatus:function(e){this.$el.find("tbody td .offscreen").remove();this.$el.find("tbody td.unavailable").attr("aria-disabled",true);this.$el.find("tbody td").each(function(idx,ele){var labelAttr=$(ele).attr("aria-label");if(labelAttr)$(ele).attr("aria-label",
labelAttr.replace(new RegExp(", "+Granite.I18n.get("WA-selected")),""))});if(e==null){var bizId=this.options.bizId;var today=this.today;_.forEach(this.$el.find("tbody td"),function(ele,idx){var labelAttr=$(ele).attr("aria-label");if($(ele).attr("data-time")==today)if(labelAttr&&labelAttr.indexOf(Granite.I18n.get("UWA-today-schedule"))<0)labelAttr=labelAttr+", "+Granite.I18n.get("UWA-today-schedule");var addStr="";if(labelAttr!=null){if(bizId==="DISCOUNT")if($(ele).hasClass("unavailable"))addStr=labelAttr+
", "+Granite.I18n.get("cal-legend-miles-unavail");else if($(ele).hasClass("occupied"))addStr=labelAttr+", "+Granite.I18n.get("redeem-hotel-dates-not-available");else{if($(ele).hasClass("available"))addStr=labelAttr+", "+Granite.I18n.get("cal-legend-miles-avail")}else if(bizId==="HOTEL")if($(ele).hasClass("unavailable"))addStr=labelAttr+", "+Granite.I18n.get("cal-legend-miles-unavail");else if($(ele).hasClass("occupied"))addStr=labelAttr+", "+Granite.I18n.get("redeem-hotel-dates-not-available");else if($(ele).hasClass("spkg"))addStr=
labelAttr+", "+Granite.I18n.get("redeem-hotel-date-spkg");else{if($(ele).hasClass("available"))addStr=labelAttr+", "+Granite.I18n.get("redeem-hotel-date-available")}else if(bizId=="RENTCAR")if($(ele).hasClass("unavailable"))addStr=labelAttr+", "+Granite.I18n.get("cal-legend-miles-unavail");else{if($(ele).hasClass("available"))addStr=labelAttr+", "+Granite.I18n.get("cal-legend-miles-avail")}else if(bizId=="MILEAGE"||bizId=="LOSTFOUND")if($(ele).hasClass("unavailable"))addStr=labelAttr+", "+Granite.I18n.get("cal-legend-miles-unavail");
else if($(ele).hasClass("available"))addStr=labelAttr+", "+Granite.I18n.get("cal-legend-miles-avail");if(!bizId)if($(ele).hasClass("available"))addStr=labelAttr+", "+Granite.I18n.get("cal-legend-miles-avail");else if($(ele).hasClass("unavailable"))addStr=labelAttr+", "+Granite.I18n.get("cal-legend-miles-unavail");$(ele).attr("aria-label",addStr)}})}var todayAttr=this.$el.find('tbody td[data-time\x3d"'+this.today+'"]').attr("aria-label");if(todayAttr&&todayAttr.indexOf(Granite.I18n.get("UWA-today-schedule"))<
0)this.$el.find('tbody td[data-time\x3d"'+this.today+'"]').attr("aria-label",todayAttr+", "+Granite.I18n.get("UWA-today-schedule"));var selectedAttr=this.$el.find("tbody td.selected").attr("aria-label");if(selectedAttr&&selectedAttr.indexOf(Granite.I18n.get("WA-selected"))<0)this.$el.find("tbody td.selected").attr("aria-label",selectedAttr+", "+Granite.I18n.get("WA-selected"))},validate:function(){return!_.isNull(this.selectTime)},getData:function(format){var data=moment.withZone(this.selectTime).format(format||
this.options.format);return data=="Invalid date"?null:data},clear:function(){this.$el.empty();this.undelegateEvents();return this}});koreanair.CalendarCore=CalendarCore})(jQuery,koreanair,Handlebars.templates);
(function($,koreanair,Templates,Booking,I18n){var Calendar=koreanair.View.extend({template:Templates["modal-calendar"],templateQpx:Templates["modal-QPX-calendar"],events:{"change select.dateComboYear":"comboChangeHandler","change select.monthSelect":"comboChangeHandler"},selectDate:null,initialize:function(options){this.resetData(options);this.render();this.$el.find("button.btn-combo").on("click",this.comboBtnHandler.bind(this))},render:function(){var templateData=this.getTemplateData(),html=this.options.isQPX?
this.templateQpx(this.getTemplateData()):this.template(this.getTemplateData());this.$el.html(html);this.calendarCore=new koreanair.CalendarCore({arr:this.options.arr,dep:this.options.dep,bizId:this.options.bizId,isQPX:this.options.isQPX,isSTA:this.options.isSTA,outDataQPX:this.options.outDataQPX,inDataQPX:this.options.hasValue==""?"":this.options.inDataQPX,selectedAdult:this.options.selectedAdult,selectedChild:this.options.selectedChild,hasValue:this.options.hasValue,isRoundTrip:this.options.isRoundTrip,
el:this.$(".calendar-area"),date:this.options.date,select:this.options.select,format:"YYYY-MM-DD",min:this.options.isDiscount?this.options.min:this.options.currentMin,max:this.options.max,occupiedDatesApplyDisabled:this.options.occupiedDatesApplyDisabled,occupiedDates:this.options.occupiedDates,spkgData:this.options.spkgData,title:this.options.title&&this.options.title.trim().length>0?this.options.title:null,isDeparture:this.options.isDeparture,selectTitle:this.options.selectTitle,seq:this.options.calendarId,
type:this.options.calendarType});this.calendarCore.on("input:change",_.bind(function(e){this.options.select=e.date;koreanair.utils.removeErrorElements(this.$el.find("p.error"));this.trigger("input:change",{type:"input:change",date:e.date})},this));this.calendarCore.on("first-in",_.bind(function(){this.bindAriaLabel("first-in")},this));this.calendarCore.on("focus-out",_.bind(function(){this.$el.find("select.monthSelect").focus()},this));this.calendarCore.on("change-date",_.bind(function(date){this.changeCalendar(date,
true);this.setComboData(date);this.calendarCore.setDate(date);this.bindAriaLabel("change-date");if(this.options.isBonusSeatView)this.trigger("change-date",{type:"change-date",date:date})},this));this.calendarCore.on("update-date",_.bind(function(date){this.setComboData(date);this.bindAriaLabel("update-date")},this));this.calendarCore.on("show-error",_.bind(function(msg){koreanair.utils.removeErrorElements(this.$el.find("p.error"));var $error=koreanair.utils.buildErrorElement(Granite.I18n.get(msg));
$error.removeAttr("role").removeAttr("aria-live");this.$el.find(".error-container").attr("aria-live","assertive").append($error)},this));this.calendarCore.on("hide-error",_.bind(function(){koreanair.utils.removeErrorElements(this.$el.find("p.error"))},this));if(this.options.ymSeparated){this.$el.find("select.monthSelect").eq(0).addClass("dateComboYear");this.$el.find("select.monthSelect").eq(1).addClass("dateComboMonth")}var $prev=this.$el.find("button[data-name\x3dprev]");var $next=this.$el.find("button[data-name\x3dnext]");
$prev.html(this.options.prevBtnTitle);$next.html(this.options.nextBtnTitle);this.setComboData(this.options.date);this.setTime();koreanair.setKeSelectbox()},bindAriaLabel:function(status){var id=this.$el.find(".month select").attr("id")+"-dummy";var ids=[];this.$el.find(".date-label").each(function(index,item){var $item=$(item);var itemId=id+index;$item.attr({"id":id+index,"aria-live":"assertive"});ids.push(itemId)});$(".modal-calendar").find(".date-label").html("");this.$el.find(".calendar-area table").attr("aria-labelledby",
ids.join(" "));var self=this;var isFirefox=window.navigator.userAgent.indexOf("irefox")!=-1,$select=self.$el.find("select.monthSelect option:selected");if(this.options.ymSeparated)setTimeout(function(){self.$el.find(".year-label").html("\x3cspan\x3e"+$select.eq(0).text()+"\x3c/span\x3e");self.$el.find(".month-label").html("\x3cspan\x3e"+$select.eq(1).text()+"\x3c/span\x3e")},0);else setTimeout(function(){self.$el.find(".month-label").html("\x3cspan\x3e"+$select.text()+"\x3c/span\x3e")},0)},getTemplateData:function(){var result=
{title:this.options.title,options:this.monthToOptions(this.options.min,this.options.max),ymSeparated:this.options.ymSeparated?true:false,randomId:this.randomId(),yearOptions:this.buildYearOptions(this.options.min,this.options.max),monthOptions:this.buildMonthOptions(),isDeparture:this.options.isDeparture,isTimeSelect:this.options.isTimeSelect,selectTitle:this.options.selectTitle,nextBtnTitle:this.options.nextBtnTitle,prevBtnTitle:this.options.prevBtnTitle,calendarId:this.options.calendarId};return result},
buildYearOptions:function(minDate,maxDate){var option=[],miny=moment.withZone(minDate).year(),maxy=moment.withZone(maxDate).year(),nowy=moment.withZone(this.options.date).year();var _langDat=moment.localeData();for(var yyyy=miny;yyyy<=maxy;yyyy++)option.push({label:yyyy+(_langDat._yearUnitStr||""),value:yyyy,selected:nowy==yyyy});return option},buildMonthOptions:function(){var option=[],nowm=moment.withZone(this.options.date).month()+1,digitFunc=function(value){value="0"+value;return value.substr(value.length-
2,2)};for(var mm=1;mm<13;mm++){var curM=moment("2000-"+digitFunc(mm)+"-01");option.push({label:curM.format("MMMM"),value:curM.month(),selected:mm==nowm})}return option},comboBtnHandler:function(e){var $btn=this.$(e.currentTarget),$select=$btn.parent().find("select.monthSelect"),$options=$select.find("option"),$option=$select.find("option:selected"),name=$btn.data("name"),date=name==="next"?$option.next().val():$option.prev().val();if(date){this.changeCalendar(date,$(".from-calendar-area").find(".date.selected").length>
0);this.setComboData(date);this.bindAriaLabel("change-date2");koreanair.utils.removeErrorElements(this.$el.find("p.error"));if(this.options.isBonusSeatView)this.trigger("change-date",{type:"change-date",date:date});koreanair.utils.removeErrorElements(this.$el.find("p.error"))}else if($btn.data("name")=="prev")this.calendarCore.trigger("show-error",I18n.get("cannot-select-prev-month"));else this.calendarCore.trigger("show-error",I18n.get("cannot-select-next-month"))},comboChangeHandler:function(e){var date;
if(this.options.ymSeparated){var digitFunc=function(value){value="0"+value;return value.substr(value.length-2,2)};date=this.$("select.dateComboYear").find("option:selected").val()+"-"+digitFunc(parseInt(this.$("select.dateComboMonth").find("option:selected").val())+1)+"-01"}else date=this.$(e.target).find("option:selected").val();this.changeCalendar(date,$(".from-calendar-area").find(".date.selected").length>0);this.setComboBtnStatus(date);this.setComboData(date);this.bindAriaLabel("change-date");
koreanair.utils.removeErrorElements(this.$el.find("p.error"));if(this.options.isBonusSeatView)this.trigger("change-date",{type:"change-date",date:date})},changeCalendar:function(viewDate,isQPX){this.calendarCore.reset({date:viewDate,min:this.options.currentMin,select:this.options.select,isQPX:this.options.isQPX,inDataQPX:isQPX?this.options.inDataQPX:""})},setComboBtnStatus:function(date){var $select=this.$("select.monthSelect"),$selectOption=$select.find("option[value\x3d"+date+"]"),length=$select.find("option").length,
idx=$selectOption.index(),$prev=$select.siblings("button[data-name\x3dprev]"),$next=$select.siblings("button[data-name\x3dnext]"),$table=$select.parents(".calender-st").find(".calendar-area \x3e table");if(idx<=0){$prev.addClass("disabled");$prev.prop("disabled",true);$prev.attr("aria-disabled",true);if($prev.hasClass("firstTabbableContent"))if(!$next.hasClass("disabled")){$prev.removeClass("firstTabbableContent");$next.addClass("firstTabbableContent")}}else{$prev.removeClass("disabled");$prev.removeProp("disabled");
$prev.removeAttr("aria-disabled")}if(idx>=length-1){$next.addClass("disabled");$next.prop("disabled",true);$next.attr("aria-disabled",true);if($next.hasClass("firstTabbableContent"))if(!$prev.hasClass("disabled")){$next.removeClass("firstTabbableContent");$prev.addClass("firstTabbableContent")}}else{$next.removeClass("disabled");$next.removeProp("disabled");$next.removeAttr("aria-disabled")}},setComboData:function(date){var self=this;if(this.options.ymSeparated){var $selecty=this.$("select.dateComboYear"),
$selectm=this.$("select.dateComboMonth"),comboDate=moment(date);$selecty.val(comboDate.year());$selectm.val(comboDate.month())}else{var $select=this.$("select.monthSelect"),comboDate=moment.withZone(date).format("YYYY-MM");comboDate=moment.withZone(comboDate).format("YYYY-MM-DD");$select.val(comboDate);this.setComboBtnStatus(comboDate)}},monthToOptions:function(minDate,maxDate){var option=[],nowMoment=minDate?moment.withZone(minDate):moment.withZone(),nowTime=moment.getTime(nowMoment.format("YYYY-MM")),
minTime=moment.getTime(moment.withZone(minDate).format("YYYY-MM")),currentTime=nowTime<minTime?nowTime:minTime,maxTime=moment.getTime(moment.withZone(maxDate).format("YYYY-MM")),selectTime=currentTime;var gapMonth=moment(maxDate).diff(currentTime,"month",true);gapMonth=Math.ceil(gapMonth);for(var i=0;i<=gapMonth;++i){if(currentTime<=maxTime)option.push({selected:selectTime===currentTime,time:moment.withZone(currentTime).format("YYYY-MM-DD")});else break;currentTime=moment.getTime(moment.withZone(currentTime).add(1,
"month").format("YYYY-MM-DD"))}return option},selectTimeByToday:function(selectDate){var result=moment.getTime(selectDate),nowTime=this.options.min?moment.getTime(this.options.min):moment.getTime(),selectTime=result;if(selectDate&&selectTime<nowTime)return null;else return selectDate},resetData:function(options){if(!this.options)this.options={};_.extend(this.options,options);var currentDate=moment.withZone().format("YYYY-MM-DD");if(!this.options.min)this.options.min=currentDate;if(!this.options.currentMin)this.options.currentMin=
currentDate;if(this.options.select){var selectTime=moment.getTime(this.options.select),minTime=moment.getTime(this.options.min);if(minTime>selectTime)this.options.select=null;else this.options.select=this.selectTimeByToday(this.options.select)}else this.options.select=null;if(!this.options.max)this.options.max=moment.withZone().add(365,"days").format("YYYY-MM-DD");if(options.date){this.options.date=this.selectTimeByToday(this.options.date);if(!this.options.date)this.options.date=currentDate}else this.options.date=
this.options.select||currentDate;if(!this.options.selectTitle)if(this.options.isRoundTrip)this.options.selectTitle=this.options.isDeparture?I18n.get("UWA-calendar-deselect"):I18n.get("UWA-calendar-reselect");else this.options.selectTitle=I18n.get("UWA-calendar-start")},validate:function(val){var isValied=!_.isNull(this.getData());if(!isValied){var message="";if(this.options.bizId=="HOTEL")message=this.options.checkio=="check-in"?Granite.I18n.get("redeem-hotel-validate-input-checkin-date"):Granite.I18n.get("redeem-hotel-validate-input-checkout-date");
else message=val=="from"?Granite.I18n.get("flight-from-date-required-label"):Granite.I18n.get("flight-to-date-required-label");if(this.options.errMsg)message=this.options.errMsg;koreanair.utils.removeErrorElements(this.$el.find("p.error"));var $error=koreanair.utils.buildErrorElement(message);$error.removeAttr("role").removeAttr("aria-live");this.$el.find(".error-container").attr("role","alert").attr("aria-live","assertive").append($error)}return isValied},reset:function(options){this.resetData(options);
this.changeCalendar(this.options.date,true);this.setComboData(this.options.date)},setTime:function(){if(this.options.fromTime)this.$el.find(".time-select-area select").val(this.options.fromTime)},getData:function(format){return this.calendarCore.getData(format||this.options.format)},getTime:function(){return this.$el.find(".time-select-area select").val()},clear:function(){this.calendarCore.clear();this.$el.empty();this.undelegateEvents();return this}});koreanair.Calendar=Calendar})(jQuery,koreanair,
Handlebars.templates,koreanair.Booking,Granite.I18n);
(function($,koreanair,Templates,Airports,Booking,Utils,$B){var modalAirportSelector=function(options){var deferred=$.Deferred(),airportSelector=null;if(!options)options={};options.tripDirection=options.tripDirection||"arrive";koreanair.Modal.standard(null,{inline:false,returnFocus:true,html:'\x3cdiv id\x3d"modal-airports"\x3e\x3c/div\x3e',ariaLabelledby:"dialog-tit-citylist",onClosed:function(){deferred.reject()},onComplete:function(){airportSelector=new AirportSelector(_.extend(options,{deferred:deferred}));
deferred.always(function(){airportSelector.clear()})}});return deferred.promise()};var AirportSelector=Backbone.View.extend({el:"#modal-airports",template:Templates["modal-airport-selector"],events:{},initialize:function(options){Airports.getRegionGroupAirportList(Booking.TRIP_TYPES.INTERNATIONAL,this.options.paymentType,this.options.tripDirection,this.options.useAwardOnline,this.options.isMulti).done(_.bind(function(airportsByRegion){if(koreanair.Lang=="zh-hk"||koreanair.Lang=="zh-cn")_.each(airportsByRegion,
_.bind(function(airportByRegion){airportByRegion.airports=this.chineseSort(airportByRegion.airports,airportByRegion.code);airportByRegion.onlineAirports=this.chineseSort(airportByRegion.onlineAirports,airportByRegion.code);airportByRegion.offlineAirports=this.chineseSort(airportByRegion.offlineAirports,airportByRegion.code)},this));if(this.options.isWishList)if(this.options.tripDirection==="depart"){airportsByRegion.splice(1,airportsByRegion.length-1);airportsByRegion=Utils.cloneObject(airportsByRegion);
airportsByRegion=Airports.filterWishListCityAirports(airportsByRegion)}else{airportsByRegion.splice(0,1);airportsByRegion=Utils.cloneObject(airportsByRegion);airportsByRegion=Airports.filterWishListCityAirports(airportsByRegion);this.options.select=airportsByRegion[0].airports[0].code}else if(this.options.filters&&this.options.filters.airportCodes)airportsByRegion=Airports.filterRegionAirports(airportsByRegion,this.options.filters.airportCodes);else airportsByRegion=Utils.cloneObject(airportsByRegion);
airportsByRegion=_.reject(airportsByRegion,function(region){return region.code=="China"});_.each(airportsByRegion,function(region){if(region.code=="Japan")region.name=Granite.I18n.get("northeast-asia-region-label")});if(koreanair.Lang=="ja"){airportsByRegion[1].airports=_.sortBy(airportsByRegion[1].airports,function(airport){return airport.name.search(/[\u30A0-\u30FF]+/g)==0});airportsByRegion[1].onlineAirports=_.sortBy(airportsByRegion[1].onlineAirports,function(airport){return airport.name.search(/[\u30A0-\u30FF]+/g)==
0})}this.render(airportsByRegion);this.setTabUI()},this));return this},chineseSort:function(airports,code){var arrCN=[];_.each(airports,function(airport){arrCN.push(airport.name)});arrCN=arrCN.sort(function(airport,locales){return airport.localeCompare(locales,["zh-CN-u-co-pinyin"])});var sortCN=[];_.each(arrCN,function(list){_.each(airports,function(airport){if(list==airport.name)sortCN.push(airport)})});if(code==="Korea")sortCN=Airports.sortedFavoriteAirports(sortCN,["ICN","GMP","PUS","CJU"]);return sortCN},
render:function(airportsByRegion){this.airportsByRegion=airportsByRegion;var html=this.template(this.getTemplateData());this.$el.html(html);this.$el.find("a.active").on("click",this.airportClickHandler.bind(this));this.$el.find("a.nonClick").on("click",this.airportnonClickHandler.bind(this));var $airportButton=this.$el.find("a.airport");$airportButton.attr("role","button");koreanair.common.utils.anchorToButton($airportButton);if(this.options.paymentType=="award")this.getAwardAllow();return this},
setTabUI:function(){this.tabUIManager=new koreanair.utils.TabUIManager({wrapperSelector:".city-select-location ul#tabAirpotSelect[role\x3d'tablist']",itemSelector:"\x3eli a[role\x3d'tab']",panelSelector:".city-select-location div[role\x3d'tabpanel']",isVertical:true,onChange:_.bind(onChange,this)});function onChange(e,type){$(e.currentTarget).closest(".city-select-location").find(".error").remove();koreanair.tabbable.AirportSelector()}koreanair.tabbable.popupDefault()},getTemplateData:function(){var isActive=
false;if(this.options.eventId&&this.options.eventId.indexOf("multi-from-airport")>-1)if(this.options.select!=null)isActive=true;var data={isDeparture:this.options.tripDirection==="depart",isAct:isActive,groupAirports:this.airportsByRegion,selectRegion:this.getRegionCode(this.options.select),selectAirport:this.options.select,airportsOnline:this.options.airportsOnline,isMulti:this.options.isMulti,isChange:this.options.isChange,depRegion:this.options.depRegion,depEx:this.options.depEx,isExpRegion:this.options.isExpRegion,
exRegion:this.options.exRegion,paymentType:this.options.paymentType,isSameFirstDep:this.options.isSameFirstDep,firstLastAirports:this.options.firstLastAirports,multiWithKorea:this.options.multiWithKorea,multiRegion:_.compact(_.uniq(this.options.multiRegion)),domOnDData:this.options.domOnDData};return data},getRegionCode:function(airportCode){var result="Korea";if(airportCode)_.some(this.airportsByRegion,function(region){var isSame=_.some(region.airports,function(airport){return airport.code===airportCode});
if(isSame)result=region.code;return isSame});return result},getAwardAllow:function(){switch(this.options.departure){case "LAX":$(".city-select-location").find('a.nonClick[data-code\x3d"GRU"]').removeClass("nonClick").addClass("active");break;case "GRU":$(".city-select-location").find('a.nonClick[data-code\x3d"LAX"]').removeClass("nonClick").addClass("active");break;case "CMB":$(".city-select-location").find('a.nonClick[data-code\x3d"MLE"]').removeClass("nonClick").addClass("active");break;case "MLE":$(".city-select-location").find('a.nonClick[data-code\x3d"CMB"]').removeClass("nonClick").addClass("active");
break;case "ZRH":$(".city-select-location").find('a.nonClick[data-code\x3d"VIE"]').removeClass("nonClick").addClass("active");break;case "VIE":$(".city-select-location").find('a.nonClick[data-code\x3d"ZRH"]').removeClass("nonClick").addClass("active");break}},airportClickHandler:function(e){var $target=this.$(e.currentTarget);this.options.deferred.resolve($target.data("code"));$.colorbox.close()},airportnonClickHandler:function(e){var errmsg=Granite.I18n.get("airports-not-allow");if($(e.currentTarget).attr("data-region")==
"Korea")errmsg=Granite.I18n.get("domestic-not-allow-airports-info");var errorMessage='\x3cp class\x3d"error" role\x3d"alert" aria-live\x3d"assertive"\x3e'+errmsg+"\x3c/p\x3e";$(e.currentTarget).closest(".city-select-location").find(".error").remove();$(e.currentTarget).closest(".city-select-location").append(errorMessage)},clear:function(){this.$(".city-list").each(_.bind(function(idx,el){this.$(el).find("a.airport:last").off("keydown")},this));this.$el.empty();this.undelegateEvents();return this}});
var DomesticAirportSelector=Backbone.View.extend({template:Templates["domestic-airport-selector"],events:{"focusin":"elFocusHandler","focusout":"elFocusHandler","keydown ul":"keyControl","keydown span.domestic-airport-guide":"goAirportList"},isVisible:false,initialize:function(options){Airports.getRegionGroupAirportList(Booking.TRIP_TYPES.DOMESTIC,this.options.paymentType).done(_.bind(function(airportsByRegion){if(this.options.filters&&this.options.filters.airportCodes)airportsByRegion=Airports.filterRegionAirports(airportsByRegion,
this.options.filters.airportCodes);else airportsByRegion=Utils.cloneObject(airportsByRegion);this.render(airportsByRegion[0].airports)},this));this.timer=new $B.utils.Timer(100,1,{onTimer:_.bind(function(){this.hide()},this)});$(document).on("click",_.bind(function(e){var target=e.target?e.target:window.event.srcElement;if(!$(target).hasClass("fromTarget")||$(target).attr("aria-controls")!=this.$el.find("ul").closest("div").attr("id"))this.hide()},this));$(document).on("focusin",_.bind(function(e){var target=
e.target?e.target:window.event.srcElement;if($(target).hasClass("domestic-airport-guide"))return;if($(target).closest("ul").attr("id")!=this.$el.find("ul").attr("id"))this.hide()},this));return this},render:function(region){var isLeft=true;var selectorId=this.options.el.attr("id");_.each(region,_.bind(function(el){if(isLeft)el.liClass="odd";else el.liClass="even";isLeft=!isLeft;el.selectorId=selectorId;if(this.options.domOnDData&&_.indexOf(this.options.domOnDData,el.code)<0)el.ondClass="disabled"},
this));var html=this.template(_.extend(region,{id:this.options.el.attr("id")+"_ul"}));this.$el.html(html);this.$el.prepend('\x3cspan aria-hidden\x3d"true" class\x3d"ko"\x3e\x3c/span\x3e');this.$el.find("li span").off("click").on("click",this.airportClickHandler.bind(this));return this},airportClickHandler:function(e){var $target=this.$(e.currentTarget);if($target&&$target.length>0&&!$target.closest("li").hasClass("disabled"))this.trigger("input:change",$target.data("code"));this.hide();this.options.$returnFocusEl.focus()},
elFocusHandler:function(e){if(e.type==="focusin")this.timer.reset();else this.timer.reset().start()},keyControl:function(e){switch(e.keyCode){case 13:case 32:e.preventDefault();var $target=this.$el.find("span.selected");if($target&&$target.length>0&&!$target.closest("li").hasClass("disabled"))this.trigger("input:change",$target.data("code"));this.hide();this.options.$returnFocusEl.focus();break;case 27:this.hide();this.options.$returnFocusEl.focus();break;case 38:e.preventDefault();var selectedObj=
this.$el.find("span.selected").closest("li");var prev_li_list=this.$el.find("li").filter(function(index,el){return index<selectedObj.index()&&!$(el).hasClass("disabled")});if(!prev_li_list||prev_li_list.length==0)prev_li_list=this.$el.find("li").filter(function(index,el){return!$(el).hasClass("disabled")});var prevObj=prev_li_list.filter(":last");this.setSelectedAirport(prevObj);break;case 40:e.preventDefault();var selectedObj=this.$el.find("span.selected").closest("li");var next_li_list=this.$el.find("li").filter(function(index,
el){return index>selectedObj.index()&&!$(el).hasClass("disabled")});if(!next_li_list||next_li_list.length==0)next_li_list=this.$el.find("li").filter(function(index,el){return!$(el).hasClass("disabled")});var nextObj=next_li_list.filter(":first");this.setSelectedAirport(nextObj);break;default:return}},goAirportList:function(event){var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if(!$focused.parent().hasClass("dp-none"))if(keyCode==$.ui.keyCode.TAB)if(!event.shiftKey){var $airportUl=
$focused.next();var $airportLi=$airportUl.find("li").filter(function(index,el){return!$(el).hasClass("disabled")}).filter(":first");$airportLi.attr("aria-selected","true").attr("data-focused","true");$airportLi.find("span").addClass("selected");$airportLi.focus();event.preventDefault();return}},setSelectedAirport:function(obj){this.$el.find("span").removeClass("selected");this.$el.find("li").attr("aria-selected","false").attr("data-focused","false");obj.attr("aria-selected","true").attr("data-focused",
"true");obj.find("span").addClass("selected");obj.find("span").closest("li").focus()},show:function(){if(this.isVisible)return;this.$el.removeClass("dp-none");this.$el.closest(".new-airport-list").prev().attr("aria-expanded","true");this.$el.closest(".new-airport-list").attr("aria-hidden","false");this.isVisible=true;if($("#tab-booking"))$("#tab-booking").removeAttr("tabindex");if($("#domestic_flight"))$("#domestic_flight").removeAttr("tabindex");return this},hide:function(){if(!this.$el.hasClass("dp-none")){if($("#tab-booking"))$("#tab-booking").attr("tabindex",
"0");if($("#domestic_flight"))$("#domestic_flight").attr("tabindex","0")}this.$el.addClass("dp-none");if(this.$el.closest(".new-airport-list").prev().attr("aria-expanded"))this.$el.closest(".new-airport-list").prev().attr("aria-expanded","false");this.$el.closest(".new-airport-list").attr("aria-hidden","true");this.$el.find("ul").off("keydown");this.$el.empty();this.undelegateEvents();this.isVisible=false;return this},clear:function(){this.$el.empty();this.undelegateEvents();return this}});koreanair.DomesticAirportSelector=
DomesticAirportSelector;koreanair.modalAirportSelector=modalAirportSelector})(jQuery,koreanair,Handlebars.templates,koreanair.Airports,koreanair.Booking,koreanair.utils,ixBand);
(function($,koreanair,Templates,Airports,STAirports,Booking,Utils,$B){var ModalSkyteamAirportSelector=function(options){var deferred=$.Deferred(),airportSelector=null;if(!options)options={};options.tripDirection=options.tripDirection||"arrive";koreanair.Modal.standard(null,{inline:false,returnFocus:true,html:'\x3cdiv id\x3d"modal-airports"\x3e\x3c/div\x3e',ariaLabelledby:"dialog-tit-citylist",onClosed:function(){deferred.reject()},onComplete:function(){airportSelector=new STAirportSelector(_.extend(options,
{deferred:deferred}));deferred.always(function(){airportSelector.clear()})}});return deferred.promise()};var STAirportSelector=Backbone.View.extend({el:"#modal-airports",template:Templates["modal-sta-airport-selector"],events:{},initialize:function(){this.render();return this},render:function(){STAirports.allRegionGroupAirportList().done(_.bind(function(airports){STAirports.getRegionList().done(_.bind(function(list){this.airportsRegion=list;this.airportsByRegion=airports;var html=this.template(this.getTemplateData());
this.$el.html(html);this.setTabUI();this.$el.find("#tabAirpotSelect").find("li a").on("click",this.regionClickHandler.bind(this));this.$el.find("#countriesWrap").find("button.country").on("click",this.countryClickHandler.bind(this));this.$el.find("#countriesWrap").find("button.country").on("focus",this.airportFocusHandler.bind(this));this.$el.find(".cityarea").find("button").on("click",this.airportClickHandler.bind(this));if(!this.options.select)$("#tab-city-list0").click();else{var index=this.getCountryIndex(this.options.select),
scrollH=$("#countriesWrap").find("[data-region-idx\x3d"+index+"]").find("button.active").attr("data-index");$("#countriesWrap").find(".city-list-new").attr({"aria-expanded":false,"tabindex":"-1","aria-hidden":true});$("#countriesWrap").find("[data-region-idx\x3d"+index+"]").attr({"aria-expanded":true,"tabindex":"0","aria-hidden":false});$("#countriesWrap").find("[data-region-idx\x3d"+index+"]").find("\x3e.overflow-wrap").scrollTop(scrollH*26);$("#countriesWrap").find("[data-region-idx\x3d"+index+
"]").find("button.active").removeClass("active").click()}},this))},this));return this},setTabUI:function(){this.tabUIManager=new koreanair.utils.TabUIManager({wrapperSelector:"#tabAirpotSelect",itemSelector:"\x3eli a[role\x3d'tab']",panelSelector:"#countriesWrap div[role\x3d'tabpanel']",isVertical:true,onChange:_.bind(onChange,this)});function onChange(e,type){koreanair.tabbable.AirportSelector()}koreanair.tabbable.popupDefault()},getTemplateData:function(){var isActive=false;if(this.options.eventId&&
this.options.eventId.indexOf("multi-from-airport")>-1)if(this.options.select!=null)isActive=true;var data={isDeparture:this.options.tripDirection==="depart",isAct:isActive,groupAirports:this.airportsByRegion,airportsRegion:this.airportsRegion,selectRegion:this.getRegionCode(this.options.select),selectCountryIdx:this.getCountryIndex(this.options.select),selectCountryCode:this.getCountryCode(this.options.select),selectAirport:this.options.select,airportsOnline:this.options.airportsOnline,isMulti:this.options.isMulti,
isChange:this.options.isChange,depRegion:this.options.depRegion,depEx:this.options.depEx,isExpRegion:this.options.isExpRegion,exRegion:this.options.exRegion,paymentType:this.options.paymentType,isSameFirstDep:this.options.isSameFirstDep,multiWithKorea:this.options.multiWithKorea,multiRegion:_.compact(_.uniq(this.options.multiRegion)),domOnDData:this.options.domOnDData};return data},getRegionCode:function(airportCode){var result="ALL";if(airportCode)_.some(this.airportsByRegion,function(regions){_.some(regions,
function(region){var isSame=_.some(region.airports,function(airport){return airport.airportCode===airportCode});if(isSame)result=region.regionCode;return isSame})});return result},getCountryIndex:function(airportCode){var result="";if(airportCode){_.some(this.airportsByRegion,function(regions,idx){_.some(regions,function(region){var isSame=_.some(region.airports,function(airport){return airport.airportCode===airportCode});if(isSame)result=idx;return isSame})});return result}},getCountryCode:function(airportCode){var result=
"";if(airportCode){_.some(this.airportsByRegion,function(regions,idx){_.some(regions,function(region){var isSame=_.some(region.airports,function(airport){return airport.airportCode===airportCode});if(isSame)result=region.countryCode;return isSame})});return result}},regionClickHandler:function(e){var $target=this.$(e.currentTarget),idx=$target.attr("data-index");$("#tabAirpotSelect").find("li").removeClass("on");$("#tabAirpotSelect").find("a").removeClass("firstTabbableContent").attr("tabindex","-1").find(".arricon").remove();
$target.parent().addClass("on");$target.attr("tabindex","0").addClass("firstTabbableContent");$("#countriesWrap").find(".city-list-new").hide();$("#countriesWrap").find('.city-list-new[data-region-idx\x3d"'+idx+'"]').find("button.country").removeClass("active");$("#countriesWrap").find('.city-list-new[data-region-idx\x3d"'+idx+'"]').show().find(".cityarea").hide()},countryClickHandler:function(e){var $target=$(e.currentTarget);if($target.hasClass("active")){$("#countriesWrap").find("button.country").attr("aria-expanded",
false);$("#countriesWrap").find(".cityarea").hide().attr("aria-hidden",true);$("#countriesWrap").find("button.country").removeClass("active")}else{$("#countriesWrap").find("button.country").attr("aria-expanded",false);$target.attr("aria-expanded",true);$("#countriesWrap").find(".cityarea").hide().attr("aria-hidden",true);$("#countriesWrap").find("button.country").removeClass("active");$target.addClass("active").closest("li").find(".cityarea").show().attr("aria-hidden",false)}},airportClickHandler:function(e){var $target=
$(e.currentTarget);this.options.deferred.resolve($target.data("code"));$.colorbox.close()},airportFocusHandler:function(e){var $target=$(e.currentTarget);if(!$target.hasClass("active")&&$target.hasClass("country")){$("#countriesWrap").find(".cityarea").hide().attr("aria-hidden",true);$("#countriesWrap").find("button.country").attr("aria-expanded",false);$("#countriesWrap").find("button.country").removeClass("active")}},clear:function(){this.$(".city-list").each(_.bind(function(idx,el){this.$(el).find("a.airport:last").off("keydown")},
this));this.$el.empty();this.undelegateEvents();return this}});koreanair.ModalSkyteamAirportSelector=ModalSkyteamAirportSelector})(jQuery,koreanair,Handlebars.templates,koreanair.Airports,koreanair.STAirports,koreanair.Booking,koreanair.utils,ixBand);
(function($,koreanair,Templates,Booking,I18n){var modalDateSelector=function(options){var deferred=$.Deferred(),dateSelector=null;if(!options)options={};options.type=options.type||"single";var modalSizeClass=options.type==="single"?"modal-calendar-single":"modal-calendar-multi",isQPX=options.isQPX?" qpx-cont":"";koreanair.Modal.standard(null,{inline:false,returnFocus:true,html:'\x3cdiv class\x3d"modal-calendar '+modalSizeClass+isQPX+'"\x3e\x3c/div\x3e',ariaLabelledby:"dialog-tit-calendar",onClosed:function(){deferred.reject()},
onComplete:function(){dateSelector=new DateSelector(_.extend(options,{deferred:deferred}));$.colorbox.resize();deferred.always(function(){dateSelector.clear()})}});return deferred.promise()};var DateSelector=Backbone.View.extend({el:".modal-calendar",template:Templates["modal-date-selector"],templateQpx:Templates["modal-QPX-date-selector"],events:{"change #adult-option":"adultSelectHandler","change #child-option":"childSelectHandler","change #infant-option":"infantSelectHandler","change #class-option":"classSelectHandler"},
qpxTagName:"",crtSelect:"",crtToSelect:"",initialize:function(){this.render();return this},render:function(option){this.selectedAdult=this.options.seAdult;this.selectedChild=this.options.seChild;this.selectedInfant=this.options.seInfant;this.selectedCabin=this.options.seCabin;if(this.crtSelect)this.options.select=this.options.hasValue=this.crtSelect;if(this.crtToSelect)this.options.toSelect=this.options.hasValue=this.crtToSelect;var templateData={isSingleCalendar:this.options.type==="multi"?false:
true,isRentacar:this.options.isRentacar||false,outDataQPX:this.options.outDataQPX,isDiscountTicket:this.options.isQPX&&this.options.isDiscount?true:false,bizId:this.options.bizId||"",isBonusSeatView:this.options.isBonusSeatView},html=this.options.isQPX?this.templateQpx(templateData):this.template(templateData);var from_calendar_el=".from-calendar-area";var to_calendar_el=".to-calendar-area";if(this.options.isNonModal)if(this.options.isBonusSeatView){this.$el=this.options.$el;this.$el.html(html);from_calendar_el=
this.$(".from-calendar-area")}else{this.el='\x3cdiv\x3e\x3cdiv class\x3d"modal-calendar modal-calendar-multi"\x3e\x3c/div\x3e\x3c/div\x3e';this.$el=$(this.el);this.$el.html(html);from_calendar_el=this.$(".from-calendar-area");to_calendar_el=this.$(".to-calendar-area")}else this.$el.html(html);var currentDate=moment().format("YYYY-MM-DD");var multiDate="";if(this.options.multiDate==true)multiDate=this.options.min;else multiDate=this.options.select||currentDate;var discountFromSelect=this.options.select;
var discounToSelect=this.options.toSelect;if(this.options.isDiscount){if(!this.options.select)discountFromSelect=this.options.fromMin;if(!this.options.toSelect)discounToSelect=this.options.toMin}this.fromCalendar=new koreanair.Calendar({arr:this.options.arr,dep:this.options.dep,bizId:this.options.bizId,isQPX:this.options.isQPX,isSTA:this.options.isSTA,outDataQPX:this.options.outDataQPX,selectedAdult:this.options.seAdult,selectedChild:this.options.seChild,hasValue:this.options.hasValue,isRoundTrip:this.options.type===
"multi",el:from_calendar_el,title:this.options.fromTitle||I18n.get("calendar-departure-label"),selectTitle:this.options.selectFromTitle,date:this.options.isDiscount?discountFromSelect||multiDate:multiDate,select:this.options.select||currentDate,fromTime:this.options.fromTime,isTimeSelect:this.options.isTimeSelect,format:"YYYY-MM-DD",min:this.options.fromMin||this.options.min||currentDate,max:this.options.fromMax||this.options.max,currentMin:this.options.isDiscount?this.options.fromMin||this.options.min||
currentDate:this.options.min||currentDate,occupiedDatesApplyDisabled:this.options.occupiedDatesApplyDisabled||false,occupiedDates:this.options.occupiedDates||[],spkgData:this.options.spkgData||[],ymSeparated:this.options.ymSeparated||false,nextBtnTitle:this.options.nextBtnFromTitle,prevBtnTitle:this.options.prevBtnFromTitle,calendarId:"startcalendar-des",calendarType:"out",isDeparture:true,isDiscount:this.options.isDiscount,isBonusSeatView:this.options.isBonusSeatView,checkio:this.options.checkio,
errMsg:this.options.errMsg});if(this.options.type==="multi")this.toCalendar=new koreanair.Calendar({arr:this.options.dep,dep:this.options.arr,bizId:this.options.bizId,isQPX:this.options.isQPX,isSTA:this.options.isSTA,outDataQPX:this.options.outDataQPX,inDataQPX:this.options.inDataQPX,hasValue:this.options.hasValue,isRoundTrip:this.options.type==="multi",el:to_calendar_el,title:this.options.toTitle||I18n.get("calendar-return-label"),selectTitle:this.options.selectToTitle,date:this.options.isDiscount?
discounToSelect||currentDate:this.options.toSelect||currentDate,select:this.options.toSelect,fromTime:this.options.toTime,isTimeSelect:this.options.isTimeSelect,format:"YYYY-MM-DD",min:this.options.toMin||this.options.min,max:this.options.toMax||this.options.max,currentMin:this.fromCalendar.getData()||currentDate,occupiedDatesApplyDisabled:this.options.occupiedDatesApplyDisabled||false,occupiedDates:this.options.occupiedDates||[],spkgData:this.options.spkgData||[],ymSeparated:this.options.ymSeparated||
false,nextBtnTitle:this.options.nextBtnToTitle,prevBtnTitle:this.options.prevBtnToTitle,calendarId:"endcalendar-des",calendarType:"in",isDiscount:this.options.isDiscount,isDeparture:false});this.fromCalendar.on("input:change",_.bind(function(e){var fromTime=(new Date(moment(e.date).format("YYYY-MM"))).getTime();if(this.options.type==="multi"){var toTime=(new Date(this.toCalendar.getData("YYYY-MM"))).getTime(),options={currentMin:e.date,date:e.date};if(toTime)if(fromTime>=toTime)this.toCalendar.reset(options);
else this.toCalendar.reset({currentMin:e.date});else this.toCalendar.reset(options)}this.trigger("input:change",{type:"input:change",date:e.date,dir:"from"})},this));if(this.options.isBonusSeatView)this.fromCalendar.on("change-date",_.bind(function(e){this.trigger("change-date",{type:"change-date",date:e.date})},this));if(this.options.type==="multi")this.toCalendar.on("input:change",_.bind(function(e){this.trigger("input:change",{type:"input:change",date:e.date,dir:"to"})},this));if(this.options.isQPX&&
!this.options.isDiscount){this.resetSelect($("#adult-option"),"adult",9-this.options.seChild,this.options.seAdult);this.resetSelect($("#child-option"),"child",9-this.options.seAdult,this.options.seChild);this.resetSelect($("#infant-option"),"infant",this.options.seAdult,this.options.seInfant);this.setCabinSelect($("#class-option"),"class",this.options.seCabin);this.setNotice();if(option=="change")$(".option-change").focus()}this.$el.find("button.btn-select").on("click",this.selectHandler.bind(this));
this.$el.find("button.option-change").on("click",this.changeHandler.bind(this));if(this.options.isBonusSeatView)koreanair.tabbable.calendarSelector("bonusSeatView");else{koreanair.tabbable.calendarSelector();this.setSelectBoxFocusEvent()}},selectHandler:function(e){var isValid=this.fromCalendar.validate("from");if(!isValid)return;if(this.options.bizId=="HOTEL"||this.options.bizId=="DISCOUNT"){var fromSelected=this.$el.find(".from-calendar-area td.selected").hasClass("occupied");var toSelected=this.$el.find(".to-calendar-area td.selected").hasClass("occupied");
var msg=Granite.I18n.get("calendar-occupied-invaild-date");var $error=koreanair.utils.buildErrorElement(Granite.I18n.get(msg));$error.removeAttr("role").removeAttr("aria-live");if(fromSelected){koreanair.utils.removeErrorElements($(".from-calendar-area .error-container p.error"));$(".from-calendar-area .error-container").attr("role","alert").attr("aria-live","assertive").append($error);return}else if(toSelected){koreanair.utils.removeErrorElements($(".to-calendar-area .error-container p.error"));
$(".to-calendar-area .error-container").attr("role","alert").attr("aria-live","assertive").append($error);return}}var data={type:"single",formDate:this.fromCalendar.getData(),fromTime:this.fromCalendar.getTime(),dateString:this.fromCalendar.getData(this.options.format),seAdult:this.selectedAdult,seChild:this.selectedChild,seInfant:this.selectedInfant,seCabin:this.selectedCabin,qpxPrice:$(".date.selected").last().find(".fare").text().split("$")[1],qpxTagName:this.qpxTagName};if(this.options.type===
"multi"){data.type="multi";data.toDate=this.toCalendar.getData();data.toTime=this.toCalendar.getTime();data.dateString+="/"+this.toCalendar.getData(this.options.format);isValid=this.toCalendar.validate("to")}if($(e.currentTarget).hasClass("mg-l5"))data.flightDirect=true;if(isValid){this.options.deferred.resolve(data);$.colorbox.close()}},changeHandler:function(e){var tripType=this.options.type=="oneway",type=tripType?"mdd":"mds",minDate=moment().format("YYYY-MM-DD"),maxDate=moment().add(6,"month").format("YYYY-MM-DD"),
cabin=this.selectedCabin,cabinT,total=Number(this.selectedAdult)+Number(this.selectedChild);switch(cabin){case "economy":cabinT="COACH";break;case "prestige":cabinT="BUSINESS";break;default:cabinT="";break}this.qpxTagName=cabinT+"-"+total;this.crtSelect=this.$el.find(".date.selected").eq(0).data("time"),this.crtToSelect=this.$el.find(".date.selected").eq(1).data("time");this.$el.find("select.monthSelect").attr("disabled",true).parent().addClass("disabled");this.$el.find(".date").removeClass("selected").addClass("unavailable");
this.$el.find(".btn-select").attr("disabled",true);this.qpxLoading=new koreanair.QPXLoadingScreen;this.qpxLoading.render();koreanair.utils.QPXcall(this.qpxTagName,type,this.options.dep,this.options.arr,tripType,1,21,minDate,maxDate,"JSON").done(_.bind(function(data){this.qpxLoading.remove();this.options.outDataQPX=data;_.each(this.options.outDataQPX.solution,_.bind(function(sol){sol.price=Math.ceil(sol.price/(Number(this.selectedAdult)+Number(this.selectedChild)))},this));this.options.seAdult=this.selectedAdult;
this.options.seChild=this.selectedChild;this.options.seInfant=this.selectedInfant;this.options.seCabin=this.selectedCabin;this.options.inDataQPX=_.groupBy(this.options.outDataQPX.solution,function(sol){return sol.departureDate});setTimeout(_.bind(function(){this.render("change")},this),500)},this))},adultSelectHandler:function(e){var value=$(e.currentTarget).val();this.resetSelect($("#infant-option"),"infant",value,this.selectedInfant);this.resetSelect($("#child-option"),"child",9-value,this.selectedChild);
this.selectedAdult=value;this.setNotice()},childSelectHandler:function(e){var value=$(e.currentTarget).val();this.resetSelect($("#adult-option"),"adult",9-value,this.selectedAdult);this.selectedChild=value;this.setNotice()},infantSelectHandler:function(e){var value=$(e.currentTarget).val();this.selectedInfant=value;this.setNotice()},resetSelect:function($target,name,value,setData){$target.html("");var stIdx=0;switch(name){case "adult":if(9-value==0)stIdx=1;break;case "child":if(9-value==0)stIdx=1;
break}for(var i=stIdx;i<=value;++i){var html='\x3coption value\x3d"'+i+'"\x3e'+Granite.I18n.get(name+"-label")+" "+i+"\x3c/option\x3e";$target.append(html)}$target.find('option[value\x3d"'+setData+'"]').attr("selected",true)},classSelectHandler:function(e){var value=$(e.currentTarget).val();this.selectedCabin=value},setCabinSelect:function($target,name,setData){$target.find('option[value\x3d"'+setData+'"]').attr("selected",true)},setNotice:function(){if(this.selectedAdult>0&&this.selectedChild==0&&
this.selectedInfant==0)this.removeNotice();else if(this.selectedChild>0||this.selectedInfant>0)if(this.selectedAdult==0)this.addNotice("unaccompanied-child-disclaimer",$(".qpxnotice").find("li").length<4);else this.addNotice("accompanying-adult-18-label",$(".qpxnotice").find("li").length<4)},addNotice:function(msg,noti){var html=Granite.I18n.get(msg);if(noti)$(".qpxnotice").find("ul").append('\x3cli class\x3d"notAdult"\x3e'+html+"\x3c/li\x3e");else $(".qpxnotice").find("ul .notAdult").html(html)},
removeNotice:function(){$(".qpxnotice").find(".notAdult").remove()},clear:function(){this.fromCalendar.clear();if(this.toCalendar)this.toCalendar.clear();this.$el.empty();this.undelegateEvents();return this},setSelectBoxFocusEvent:function(){this.$el.find(".ke-selectbox").off("focus");this.$el.find(".ke-selectbox").on("focus",function(){$(this).closest(".styled-select").addClass("focus")});this.$el.find(".ke-selectbox").off("focusout");this.$el.find(".ke-selectbox").on("focusout",function(){$(this).closest(".styled-select").removeClass("focus")})}});
koreanair.modalDateSelector=modalDateSelector;koreanair.DateSelector=DateSelector})(jQuery,koreanair,Handlebars.templates,koreanair.Booking,Granite.I18n);
(function($,koreanair,Templates,Booking,Airports,I18n){var DateChooser=koreanair.View.extend({el:".date-chooser-area",template:Templates["booking-gate-date-chooser"],events:{"change input[type\x3dtext]":"resetSelectedHandler","keydown input[type\x3dtext]":"keyHandler","focusout input[type\x3dtext]":"validate","focusin input[type\x3dtext]":"checkAirport"},moduleName:"date-chooser",selectData:null,oldSelectValue:null,fromTime:null,toTime:null,isDisable:false,segErrorMsg:null,isQPX:false,qpxTagName:"",
fullPageLoadingScreen:new koreanair.FullpageLoadingScreen({withTransparentBackground:true,hideContent:true}),initialize:function(){_.bindAll(this);this.render();this.$el.find("button.dateTarget").on("click",this.dateClickHandler.bind(this));return this},render:function(){var html=this.template({inputId:this.options.inputId||this.randomId(),tripDirection:this.options.tripDirection,isShowLabel:this.options.isShowLabel||false,label:this.options.label||""});this.$el.html(html);this.$label=this.$("label");
this.$span=this.$("span");this.$btn=this.$("button.dateTarget");this.$input=this.$("input[type\x3dtext]");this.$input.placeholder();this.reset(this.options);koreanair.utils.removeValueFromAriaDescribedBy(this.$input,this.$input.attr("id")+"-time")},resetSelectedHandler:function(e){if($(e.currentTarget).val()==""){this.options.select="";this.options.toSelect=""}else if($(e.currentTarget).val()<this.options.min||$(e.currentTarget).val()<this.options.max){this.options.select="";this.options.toSelect=
""}},dateClickHandler:function(e){e.preventDefault();if(!this.checkAirport())return;var $target=this.$el.closest(".airports-single").find("input.tripdetail-input"),region=$target.eq(0).attr("data-region"),dep=$target.eq(0).attr("data-airport-code"),arr=$target.eq(1).attr("data-airport-code"),tripType=this.options.flightType=="oneway",type=tripType?"mdd":"mds",minDate=moment().format("YYYY-MM-DD"),maxDate=moment().add(6,"month").format("YYYY-MM-DD"),location=window.location.href.indexOf("booking-gate")>
-1||koreanair.quick,cabin=$(".cabin-class").find("input:checked").val()||$("#cabin").find("option:selected").val(),cabinT,total=Number($(".input_Adult").val())+Number($(".input_Child").val()),isUpgrade=this.options.isUpgrade||$("#upgradable").attr("checked");switch(cabin){case "economy":cabinT="COACH";break;case "prestige":cabinT="BUSINESS";break;default:cabinT="";break}this.qpxTagName=cabinT+"-"+total;if((koreanair.Country=="us"||koreanair.Country=="br")&&this.options.flightType=="roundtrip"&&region==
"Americas"&&arr&&this.options.paymentType=="revenue"&&location&&!isUpgrade){this.fullPageLoadingScreen.render();koreanair.utils.QPXcall(this.qpxTagName,type,dep,arr,tripType,1,21,minDate,maxDate,"JSON").done(_.bind(function(data){this.fullPageLoadingScreen.hide();_.each(data.solution,_.bind(function(sol){sol.price=Math.ceil(sol.price/(Number($(".input_Adult").val())+Number($(".input_Child").val())))},this));if(data.count>0){this.isQPX=true;this.openModal(true,data)}else{this.isQPX=false;this.openModal(false,
data)}},this))}else{this.isQPX=false;this.openModal(false)}},dateSelectHandler:function(data){this.setSelectDate(data.formDate,data.toDate,data.fromTime,data.toTime);if(this.isQPX){if(data.qpxTagName)this.qpxTagName=data.qpxTagName;this.setPassengers(data.seAdult,data.seChild,data.seInfant,data.seCabin,data.qpxPrice,this.qpxTagName,data.flightDirect)}if(this.getValid()&&$(".tripDetails p.error").data("errored-element")==this.$input.attr("id"))koreanair.utils.removeErrorElements($(".tripDetails p.error"));
if(this.getValid()===true)koreanair.utils.removeErrorElements($(".errorMessageContainer p.error"))},modalClosed:function(){this.trigger("modalClosed")},keyHandler:function(e){var keyCode=e.which;if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105);else if(_.contains([8,46,32,109,189,111,191,37,39,35,36,9,16,173],keyCode));else e.preventDefault()},openModal:function(isQPX,outDataQPX){if(this.isDisable)return;var localDate=moment().format("YYYY-MM-DD");var toTitle=this.isMultiDate()?null:
this.$span.text().split("(")[0],$target=this.$el.closest("ul").find("input.tripdetail-input"),$airportTarget=this.$el.closest(".airports-single").find("input.ui-autocomplete-input"),inDataQPX={},isTimeSelect=this.isTimeSelector($airportTarget);if(this.options.isChange&&this.options.isPartial)this.options.max=this.options.toSelect;if(outDataQPX)inDataQPX=_.groupBy(outDataQPX.solution,function(sol){return sol.departureDate});var select=this.options.select||localDate;if(this.options.bizId=="HOTEL")select=
this.options.select||this.options.min;koreanair.modalDateSelector({bizId:this.options.bizId,isQPX:isQPX,isSTA:this.options.isSTA,outDataQPX:outDataQPX,inDataQPX:inDataQPX,hasValue:$target.eq(2).val(),seAdult:$(".input_Adult").val(),seChild:$(".input_Child").val(),seInfant:$(".input_Infant").val(),seCabin:$(".cabin-class").find("input:checked").val()||$("#cabin").find("option:selected").val(),dep:$target.eq(0).attr("data-airport-code"),arr:$target.eq(1).attr("data-airport-code"),type:this.isMultiDate()?
"multi":"single",min:this.options.min,max:this.options.max||moment().add(361,"days").format("YYYY-MM-DD"),toMax:this.options.toMax||moment().add(361,"days").format("YYYY-MM-DD"),select:select,toSelect:this.options.toSelect||null,fromTime:this.options.fromTime||null,toTime:this.options.toTime||null,isTimeSelect:isTimeSelect,format:"YYYY-MM-DD",fromTitle:this.options.fromTitle||toTitle,toTitle:this.options.toTitle||null,selectFromTitle:this.options.selectFromTitle,selectToTitle:this.options.selectToTitle,
nextBtnFromTitle:this.options.nextBtnFromTitle||I18n.get("UWA-month-next"),prevBtnFromTitle:this.options.prevBtnFromTitle||I18n.get("UWA-month-prev"),nextBtnToTitle:this.options.nextBtnToTitle||I18n.get("UWA-month-next-return"),prevBtnToTitle:this.options.prevBtnToTitle||I18n.get("UWA-month-prev-return"),occupiedDates:this.options.occupiedDates||[],spkgData:this.options.spkgData||[],ymSeparated:this.options.ymSeparated||false,isRentacar:this.options.isRentacar||false,multiDate:this.options.multiDate||
false,checkio:this.options.checkio,errMsg:this.options.errMsg}).done(this.dateSelectHandler).fail(this.modalClosed)},isMultiDate:function(){var isRoundTrip=this.options.flightType===Booking.FLIGHT_TYPE.ROUND_TRIP;return!this.isReissueOrChange()&&isRoundTrip},isMultiCity:function(){return $("#boundList \x3e ul").length>2},isReissueOrChange:function(){return this.options.isReissue||this.options.isChange},setSelectDate:function(select,toSelect,sTime,tTime,silent){var viewFormat=this.options.format||
"YYYY-MM-DD",value="";this.options.select=select?moment.withZone(select).format("YYYY-MM-DD"):"";this.options.toSelect=toSelect?moment.withZone(toSelect).format("YYYY-MM-DD"):"";this.options.fromTime=sTime;this.options.toTime=tTime;if(this.isMultiDate()){if(select&&toSelect)value=moment.withZone(select).format(viewFormat)+"/"+moment.withZone(toSelect).format(viewFormat)}else if(select)value=moment.withZone(select).format(viewFormat);this.$input.val(value).trigger("placeholder:updated");koreanair.utils.removeValueFromAriaDescribedBy(this.$input,
this.$input.attr("id")+"-time");this.$input.parent().removeClass("selected-time");this.$input.parent().find(".tripdetail-time").remove();if(this.options.fromTime&&this.options.fromTime!="0000T"&&this.options.flightType=="multi"){var timeLabel="";switch(this.options.fromTime){case "0600T":timeLabel="fromTime06-label";break;case "1200T":timeLabel="fromTime12-label";break;case "1800T":timeLabel="fromTime18-label";break;default:break}if(timeLabel){koreanair.utils.addValueToAriaDescribedBy(this.$input,
this.$input.attr("id")+"-time");this.$input.parent().addClass("selected-time");this.$input.parent().find(".tripdetail-time").remove();this.$input.after('\x3cspan id\x3d"'+this.$input.attr("id")+'-time" class\x3d"tripdetail-time"\x3e'+I18n.get(timeLabel)+"\x3c/span\x3e")}}if(!silent&&(this.oldSelectValue!==value||this.fromTime!==sTime||this.toTime!==tTime))this.trigger("input:change",{type:"input:change",moduleName:this.moduleName,eventId:this.options.eventId,data:this.getData()});this.oldSelectValue=
value;this.fromTime=sTime;this.toTime=tTime},setPassengers:function(seAdult,seChild,seInfant,seCabin,qpxPrice,name,flightDirect){this.trigger("input:changePax",{type:"input:changePax",seAdult:seAdult,seChild:seChild,seInfant:seInfant,seCabin:seCabin,qpxPrice:qpxPrice,qpxTagName:this.qpxTagName,flightDirect:flightDirect})},setLabel:function(){if(this.isMultiDate()){this.$span.text(I18n.get("depart-return-label-double"));this.$label.text(I18n.get("UWA-roundtrip-date-pattern"));this.$btn.text(I18n.get("WA-btn-select-date"))}else if($("#boundList \x3e ul").length>
0){this.$span.text(I18n.get("start-date-label")+" ("+I18n.get("WA-yyyy-mm-dd-label")+")");this.$label.text(I18n.get("UWA-oneway-date-pattern"));this.$btn.text(I18n.get("WA-btn-select-date"))}else if(this.options.isNonTripDate){var text=I18n.get("WA-yyyy-mm-dd-label");this.$span.text(text);this.$label.text(text);this.$btn.text(I18n.get("WA-btn-select-date"))}else if($(".quick .tripDetails \x3e ul").length==1&&this.options.flightType===Booking.FLIGHT_TYPE.ONE_WAY){this.$span.text(I18n.get("start-date-label")+
" ("+I18n.get("WA-yyyy-mm-dd-label")+")");this.$label.text(I18n.get("UWA-oneway-date-pattern"));this.$btn.text(I18n.get("WA-btn-select-date"))}else{var label="";if(this.options.tripDirection===Airports.TRIP_DIRECTIONS.DESTINATION){var sp_label=I18n.get("return-date-label")+" ("+I18n.get("WA-yyyy-mm-dd-label")+")",la_label=I18n.get("UWA-oneway-date-pattern");this.$span.text(sp_label);this.$label.text(la_label);this.$btn.text(I18n.get("WA-btn-select-date"))}else{var sp_label=I18n.get("departure-date-label")+
" ("+I18n.get("WA-yyyy-mm-dd-label")+")",la_label=I18n.get("UWA-oneway-date-pattern");this.$span.text(sp_label);if(this.$label.text()=="")this.$label.text(la_label);if(this.options.isShowLabel)this.$("span.offscreen").text("("+I18n.get("UWA-date-pattern")+")");this.$btn.text(I18n.get("WA-btn-select-date"))}}if(this.options.inputLabel)this.$span.text(this.options.inputLabel)},parseInputString:function(){var value=this.$input.val();this.selectData={};if(!value){this.selectData.select="";this.selectData.toSelect=
"";this.segErrorMsg=Granite.I18n.get("date-empty-error-message");return}if(this.isMultiDate()){var dates=value.split("/");if(dates[0]==undefined||dates[1]==undefined){var label="(e.g. "+moment().format("YYYY-MM-DD")+"/"+moment().add(1,"months").format("YYYY-MM-DD")+")";this.makeSegErrorMsg(this.$input.val(),label)}if(dates.length===2)this.validateDateMultiValue(dates[0].trim(),dates[1].trim());else this.selectData=null}else this.validateDateValue(value)},validateDateValue:function(value){if(value.length==
8)value=value.substring(0,4)+"-"+value.substring(4,6)+"-"+value.substring(6,8);if(value.length!=10){this.makeSegErrorMsg(value);return}value=moment(value).format("YYYY-MM-DD");if(value=="Invalid date")this.makeSegNotDateErrorMsg(this.$input.val());else{this.segErrorMsg="";this.selectData.select=value;this.$input.val(value)}},validateDateMultiValue:function(date1,date2){if(date1.length==8)date1=date1.substring(0,4)+"-"+date1.substring(4,6)+"-"+date1.substring(6,8);if(date2.length==8)date2=date2.substring(0,
4)+"-"+date2.substring(4,6)+"-"+date2.substring(6,8);if(date1.length!=10){this.makeSegErrorMsg(date1);return}if(date2.length!=10){this.makeSegErrorMsg(date2);return}var date1Validate=moment(date1).format("YYYY-MM-DD");var date2Validate=moment(date2).format("YYYY-MM-DD");if(date1Validate=="Invalid date"){this.makeSegErrorMsg(date1);return}else{this.segErrorMsg="";this.selectData.select=date1Validate}if(date2Validate=="Invalid date"){this.makeSegErrorMsg(date2);return}else{this.segErrorMsg="";this.selectData.toSelect=
date2Validate}this.$input.val(date1Validate+"/"+date2Validate)},makeSegErrorMsg:function(inputString,label){label=label||"(e.g. "+moment().format("YYYY-MM-DD")+")";this.segErrorMsg=Granite.I18n.get("{0} is not a valid date - it must be in the format {1}").replace("{1}",label).replace("{0}",inputString)},makeSegNotDateErrorMsg:function(inputString){this.segErrorMsg=Granite.I18n.get("UWA-invalid-date-checkin-panel").replace("{0}",inputString)},getTime:function(date){return(new Date(moment(date).format("YYYY-MM-DD"))).getTime()},
isTimeSelector:function($target){if(!this.options.isBooking)return false;if(this.options.isReissue||this.options.paymentType=="award")return false;if(this.options.flightType==="multi")if($("#boundList \x3e ul").length>2)return true;else return false;if(this.options.isSTA)return false;var isOffine=_.some($target,function(target){return $(target).val()!==""&&$(target).attr("data-online")==="false"}),isNotAllKorea=_.every($target,function(target){return $(target).val()!==""&&$(target).attr("data-region")!==
"Korea"});if(isOffine)return true;else if(isNotAllKorea)return true;else return false},validate:function(){var isValid=this.getValid();if(isValid){this.setSelectDate(this.selectData.select,this.selectData.toSelect,this.options.fromTime,this.options.toTime);if($(".tripDetails p.error").data("errored-element")==this.$input.attr("id"))koreanair.utils.removeErrorElements($(".tripDetails p.error"))}else{if(this.oldSelectValue!==this.$input.val())this.trigger("input:change",{type:"input:change",moduleName:this.moduleName,
eventId:this.options.eventId,data:{select:"",toSelect:""}});this.oldSelectValue=this.$input.val()}return isValid},getValid:function(){this.parseInputString();var isValid=false;if(!_.isNull(this.selectData)){var minTime=this.options.min?this.getTime(this.options.min):this.getTime(moment().add(-1,"days")),maxTime=this.options.max?this.getTime(this.options.max):this.getTime(moment().add(361,"days")),timePeriodLabel=I18n.get("time-period-label")+" "+moment(minTime).add(1,"days").format("YYYY-MM-DD")+
" ~ "+moment(maxTime).format("YYYY-MM-DD"),fromTime,toTime;if(this.isMultiDate()){if(this.selectData.select&&this.selectData.toSelect){fromTime=this.getTime(this.selectData.select);toTime=this.getTime(this.selectData.toSelect);if(fromTime>toTime)this.segErrorMsg=I18n.get("discount-ticket-alert-reselect-dep-date");else if(fromTime>maxTime||fromTime<minTime)this.segErrorMsg=timePeriodLabel;if(this.segErrorMsg)isValid=false;else isValid=true}}else if(this.selectData.select){fromTime=this.getTime(this.selectData.select);
if(fromTime>maxTime){if(this.options.isNonTripDate)timePeriodLabel=I18n.get("time-period-error-label");this.segErrorMsg=timePeriodLabel}else if(fromTime<minTime)if(this.options.min)if(this.options.isNonTripDate)this.segErrorMsg=I18n.get("time-period-error-label");else this.segErrorMsg=I18n.get("discount-ticket-alert-reselect-dep-date");else this.segErrorMsg=timePeriodLabel;else{if(this.isMultiCity())if(this.options.min){var daydiff=parseInt(moment(this.selectData.select).diff(moment(this.options.min).format("YYYY-MM-DD"),
"days"));if(daydiff>=0&&daydiff<2)Booking.dateMessage=I18n.get("multicity-but-roundtrip-label")}isValid=true}}}return isValid},errorFocus:function(){this.$input.focus()},getErrorMessage:function(){if(!this.segErrorMsg)return I18n.get("double-date-format-error-message");else return this.segErrorMsg},disable:function(){this.isDisable=true;this.$input.attr("disabled",true);this.$btn.attr("disabled",true);this.$(".dateholder").addClass("disabled");return this},enable:function(){this.isDisable=false;this.$input.attr("disabled",
false);this.$btn.attr("disabled",false);this.$(".dateholder").removeClass("disabled");return this},reset:function(options){if(!this.options)this.options={};_.extend(this.options,options);if(options.occupiedDates)this.options.occupiedDates=options.occupiedDates;if(options.spkgData)this.options.spkgData=options.spkgData;var maxLength,silent=this.options.select||this.options.select===""?false:true;if(this.isMultiDate())maxLength=23;else maxLength=10;this.setSelectDate(this.options.select,this.options.toSelect,
this.options.fromTime,this.options.toTime,silent);this.setLabel();this.$input.attr("maxlength",maxLength);if($("#boundList").find(".tripdetail-time").length>0)$(".change-itinerary").addClass("inner-departure-time");else $(".change-itinerary").removeClass("inner-departure-time")},getData:function(format){this.parseInputString();if(this.selectData==null){this.selectData={};this.selectData.select="";this.selectData.toSelect="";this.selectData.fromTime="";this.selectData.toTime=""}this.selectData.select=
this.selectData.select?moment.utc(this.selectData.select).startOf("day").format(format):"";this.selectData.fromTime=this.options.fromTime;if(this.isMultiDate()){this.selectData.toSelect=this.selectData.toSelect?moment.utc(this.selectData.toSelect).startOf("day").format(format):"";this.selectData.toTime=this.options.toTime}return this.selectData},clear:function(){this.$el.empty();this.undelegateEvents();return this},checkAirport:function(){if(koreanair.quick)return true;var departureInput=this.options.departureInput;
var arrivalInput=this.options.arrivalInput;var errorContainer=this.options.errorContainer;if(departureInput&&departureInput.val()!=""&&!departureInput.attr("data-airport-code")){koreanair.utils.removeErrorElements($(".errorMessageContainer p.error"));var $error=koreanair.utils.buildErrorElement(I18n.get("departure-invalid-error-message"),departureInput);errorContainer.html($error);departureInput.focus();return false}else if(arrivalInput&&arrivalInput.val()!=""&&!arrivalInput.attr("data-airport-code")){koreanair.utils.removeErrorElements($(".errorMessageContainer p.error"));
var $error=koreanair.utils.buildErrorElement(I18n.get("arrival-invalid-error-message"),arrivalInput);errorContainer.html($error);arrivalInput.focus();return false}return true}});koreanair.DateChooser=DateChooser})(jQuery,koreanair,Handlebars.templates,koreanair.Booking,koreanair.Airports,Granite.I18n);
(function($,koreanair,Templates,Booking,Airports,STAirports,I18n,Utils){var AirportChooser=koreanair.View.extend({template:Templates["airport-chooser"],events:{"keydown input.tripdetail-input":"autoCompleteHandler","focusout input.tripdetail-input":"inputFocusOutHandler","focusin input.input-for-focus":"virtualFocusHandler"},moduleName:"airport-chooser",isDisable:false,airports:[],skyteamAirports:[],koreaAirports:[],exRegion:["Korea","Americas","Europe","Oceania/Guam"],exCode:{"CMB":"MLE","MLE":"CMB",
"RUH":"JED","JED":"RUH"},domOnDData:{"SEL":["TAE","PUS","CJU","RSU","USN","HIN","KPO"],"ICN":["TAE","PUS","YNY"],"GMP":["PUS","CJU","RSU","USN","HIN","KPO"],"PUS":["GMP","CJU","ICN"],"CJU":["GMP","PUS","KWJ","KUV","TAE","RSU","USN","WJU","HIN","CJJ","MWX"],"KWJ":["CJU"],"KUV":["CJU"],"TAE":["ICN","CJU"],"RSU":["GMP","CJU"],"USN":["GMP","CJU"],"WJU":["CJU"],"HIN":["GMP","CJU"],"CJJ":["CJU"],"KPO":["GMP"],"YNY":["ICN"],"MWX":["CJU"]},airportsAllList:"",autoCompleteListLen:0,airportsAllListDomestic:"",
autoCompleteListDomesticLen:0,isExpRegion:"",initialize:function(options){if(moment().utc().format("YYYYMMDDHH")<2017100515){this.domOnDData["ICN"].push("CJU");this.domOnDData["CJU"].push("ICN")}this.render();this.$el.find("button").on("click",this.iconClickHandler.bind(this));this.$el.find("button").on("keydown",this.iconKeydownHandler.bind(this));return this},render:function(){var placeholderLabel=this.options.placeholderLabel||(this.options.tripDirection===Airports.TRIP_DIRECTIONS.ORIGIN?I18n.get("depart-airport-label"):
I18n.get("arrive-airport-label"));var html=this.template({inputId:this.options.inputId||this.randomId(),label:placeholderLabel,title:placeholderLabel,isShowLabel:this.options.isShowLabel||false});this.$el.html(html);this.$btn=this.$("button");this.$input=this.$("input.tripdetail-input");this.$input.placeholder();var isIE=function(){var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE");if(msie>0||!!navigator.userAgent.match(/Trident/))return true};this.$combobox=this.$el.find('[role\x3d"combobox"]');
this.$combobox.attr("tabindex",0);if(this.$combobox[0]&&this.$combobox[0].attachEvent){this.$combobox[0].attachEvent("onfocusin",_.bind(function(e){this.divFocusHandler(e)},this));this.$input[0].attachEvent("onfocusin",_.bind(function(e){this.inputFocusInHandler(e)},this));this.$input[0].attachEvent("onfocusout",_.bind(function(e){this.inputFocusOutHandler(e)},this))}else{this.$combobox.on("focusin",_.bind(function(e){this.divFocusHandler(e)},this));this.$input.on("focusin",_.bind(function(e){this.inputFocusInHandler(e)},
this))}return this},autoCompleteHandler:function(e){var keyCode=e.which;var $input=this.$el.find("input[type\x3d'text']"),$comboboxDiv=$input.closest('[role\x3d"combobox"]');if(this.$el.find("input[type\x3d'text']").val()=="")if(e.altKey&&keyCode==38);else{if(keyCode==38||keyCode==40){this.$el.find(".div-airport-list ul.ui-autocomplete").find("li").remove();this.$el.find(".div-airport-list ul.ui-autocomplete").append(this.airportsAllList);setTimeout(_.bind(function(){this.$el.find(".div-airport-list ul.ui-autocomplete").attr("style",
"display:block")},this),300);if(this.$el.find(".div-airport-list")&&this.$el.find(".div-airport-list").hasClass("new-airport-list"))this.$el.find(".div-airport-list").removeClass("new-airport-list").addClass("org-airport-list");if(this.$el.find(".div-airport-list"))this.$el.find(".div-airport-list").attr("style","display:block");var label="";label=I18n.get("WA-autofill-result-info {0}",[this.autoCompleteListLen]);this.$el.find("input.tripdetail-input").attr("aria-expanded","true");this.$("div.ui-helper-hidden-accessible").html($("\x3cspan\x3e",
{}).text(label))}}else{if(keyCode==9)this.$el.find(".div-airport-list ul.ui-autocomplete").attr("tabindex",-1);if(keyCode==13)if(this.$el.find(".div-airport-list").find("li").length===1){var codeTxt=this.$el.find(".div-airport-list").find("li").first().find("span").text(),val=codeTxt.split("("),len=val.length;var code=val[len-1].split(")")[0];this.checkData(code);this.$input.autocompleteAria("close")}else if($input.val().length==3&&this.$el.find(".div-airport-list").find("li").length>1){var inputCode=
$input.val().toUpperCase();var hasOtherCode=_.some(this.$el.find(".div-airport-list").find("li"),_.bind(function(airportEl){var codeTxt=$(airportEl).find("span").text(),val=codeTxt.split("("),len=val.length;var code=val[len-1].split(")")[0];return code!=inputCode},this));if(!hasOtherCode){this.checkData(inputCode);this.$input.autocompleteAria("close")}}}},iconClickHandler:function(e){e.preventDefault();if(this.isDisable)return;var code=this.$input.closest("ul").find("input.tripdetail-input").eq(0).attr("data-airport-code");
if($("#boundList").children("ul").length==2&&this.$input.closest("ul").index()==1)switch($(e.currentTarget).parent().find("input").eq(0).attr("data-region")){case "China":this.isExpRegion="Japan";break;case "Japan":this.isExpRegion="China";break;case "Europe":this.isExpRegion="Russia/Mongolia/Central Asia";break;case "Russia/Mongolia/Central Asia":this.isExpRegion="Europe";break;default:this.isExpRegion="";break}else this.isExpRegion="";if(this.options.tripType===Booking.TRIP_TYPES.INTERNATIONAL||
!this.options.isReissue&&this.options.isResetTriptype)if(this.options.isSTA)koreanair.ModalSkyteamAirportSelector({tripDirection:this.options.airportsType,tripType:this.options.tripType,paymentType:this.options.paymentType,select:this.options.select||null,filters:this.options.filters||null,eventId:this.options.eventId,isExpRegion:this.isExpRegion,airportsOnline:this.options.tripDirection=="arrive"?this.$input.closest("ul").find("input").eq(0).attr("data-online")!="false":true,isMulti:this.options.isMulti,
isChange:this.options.isChange,depRegion:this.$input.closest("ul").find("input.tripdetail-input").eq(0).attr("data-region"),departure:this.$input.closest("ul").find("input.tripdetail-input").eq(0).attr("data-airport-code"),depEx:_.values(_.pick(this.exCode,code))[0],exRegion:this.exRegion,isSameFirstDep:this.options.isSameFirstDep,multiWithKorea:this.options.multiWithKorea,multiRegion:this.mRegions,domOnDData:this.options.tripDirection=="arrive"?_.values(_.pick(this.domOnDData,code))[0]:null,useAwardOnline:this.options.useAwardOnline}).done(_.bind(this.airportSelectHandler,
this));else koreanair.modalAirportSelector({tripDirection:this.options.airportsType,tripType:this.options.tripType,paymentType:this.options.paymentType,select:this.options.select||null,filters:this.options.filters||null,eventId:this.options.eventId,isExpRegion:this.isExpRegion,airportsOnline:this.options.tripDirection=="arrive"?this.$input.closest("ul").find("input").eq(0).attr("data-online")!="false":true,isMulti:this.options.isMulti,isChange:this.options.isChange,depRegion:this.$input.closest("ul").find("input.tripdetail-input").eq(0).attr("data-region"),
departure:this.$input.closest("ul").find("input.tripdetail-input").eq(0).attr("data-airport-code"),depEx:_.values(_.pick(this.exCode,code))[0],exRegion:this.exRegion,isSameFirstDep:this.options.isSameFirstDep,firstLastAirports:this.options.firstLastAirports,multiWithKorea:this.options.multiWithKorea,multiRegion:this.mRegions,domOnDData:this.options.tripDirection=="arrive"?_.values(_.pick(this.domOnDData,code))[0]:null,isWishList:this.options.isWishList?this.options.isWishList:false,useAwardOnline:this.options.useAwardOnline}).done(_.bind(this.airportSelectHandler,
this));else if(this.options.isBookingGate)this.showDomesticAirportList();else{this.$el.find(".div-airport-list ul.ui-autocomplete").find("li").remove();this.$el.find(".div-airport-list ul.ui-autocomplete").append(this.airportsAllListDomestic);this.$el.find(".div-airport-list ul.ui-autocomplete").attr("style","display:block");if(this.$el.find(".div-airport-list"))this.$el.find(".div-airport-list").attr("style","display:block");this.$combobox.focus();this.$el.find("input.tripdetail-input").attr("aria-expanded",
"true");var label="";label=I18n.get("WA-autofill-result-info {0}",[this.autoCompleteListDomesticLen]);this.$("div.ui-helper-hidden-accessible").html($("\x3cspan\x3e",{}).text(label))}},iconKeydownHandler:function(event){var keyCode=window.event?event.which:event.keyCode;var $focused=$(":focus");if($focused.hasClass("fromTarget")&&$focused.next().hasClass("new-airport-list")&&!$focused.next().hasClass("dp-none"))if(keyCode==$.ui.keyCode.TAB){if(!event.shiftKey){var $airportUl=$focused.next().find("ul");
var $airportLi=$airportUl.find("li").filter(function(index,el){return!$(el).hasClass("disabled")}).filter(":first");$airportLi.attr("aria-selected","true").attr("data-focused","true");$airportLi.find("span").addClass("selected");$airportLi.focus();event.preventDefault();return}}else if(keyCode==27){if(this.demesticAirportSelector)this.demesticAirportSelector.hide();event.preventDefault();return}},inputFocusOutHandler:function(e){var $input=this.$el.find("input[type\x3d'text']");if($("#booking-gate-from-to-chooser-error").hasClass("err-multi")){$("#booking-gate-from-to-chooser-error").removeClass("err-multi");
this.removeErrorElements()}if(this.$el.find(".div-airport-list").find("li").length===1){var codeTxt=this.$el.find(".div-airport-list").find("li").first().find("span").text(),val=codeTxt.split("("),len=val.length;var code=val[len-1].split(")")[0];this.checkData(code,true);this.$input.autocompleteAria("close")}else if($input.val().length==3&&this.$el.find(".div-airport-list").find("li").length>1){var inputCode=$input.val().toUpperCase();var hasOtherCode=_.some(this.$el.find(".div-airport-list").find("li"),
_.bind(function(airportEl){var codeTxt=$(airportEl).find("span").text(),val=codeTxt.split("("),len=val.length;var code=val[len-1].split(")")[0];return code!=inputCode},this));if(!hasOtherCode){this.checkData(inputCode,true);this.$input.autocompleteAria("close")}}this.$el.find(".div-airport-list ul.ui-autocomplete").attr("tabindex",0);var data=this.getData(),code=data.code,city=data.city,region=data.region,online=data.online;this.dispatchEvent("input:change",code,data.country,region,online,city);this.$input.attr("data-airport-code",
code);this.$input.attr("data-region",region);this.$input.attr("data-online",online);this.$combobox.attr("tabindex",0);if(this.$input.val()==""){this.$input.removeAttr("aria-activedescendant");_.each($(".errorMessageContainer p.error"),_.bind(function(errorEl){if($(errorEl).attr("data-errored-element")==this.$input.attr("id"))koreanair.utils.removeErrorElements($(errorEl))},this))}this.$("div.ui-helper-hidden-accessible").empty()},inputFocusInHandler:function(e){this.$combobox.attr("tabindex",-1);
this.$input.select();if(this.demesticAirportSelector)this.demesticAirportSelector.hide()},divFocusHandler:function(e){var target=e.target?e.target:window.event.srcElement,tagName=target.tagName;if(tagName==="DIV")_.delay(function(){$(target).find($('input[type\x3d"text"]')).focus()},200);return false},virtualFocusHandler:function(e){this.$input.val("");this.$input.removeAttr("aria-activedescendant");this.$combobox.focus()},airportSelectHandler:function(airportCode){this.setData(airportCode);this.checkData(airportCode)},
dispatchEvent:function(type,code,country,region,online,city,silent,prefill){if(!silent)this.trigger(type,{type:type,moduleName:this.moduleName,eventId:this.options.eventId,data:{code:code,country:country||"",region:region||"",online:online||online==false?online:"",city:city},prefill:prefill})},checkData:function(code,isFocusOut){var airportData,paymentType,region="",online="",country="",depart;if(code){airportData=this.airportCodeByData(code);if(airportData){paymentType=this.options.paymentType;region=
this.options.isSTA?airportData.airportCode:airportData[paymentType].code;online=airportData.online;depart=this.$input.closest("ul").find("input.tripdetail-input").eq(0)}}if(this.options.isSTA){this.setData(code,undefined,isFocusOut);return}if(!this.options.isMulti||this.options.eventId.indexOf("to-airport")>-1)this.removeErrorElements();if(this.options.isMulti){if(this.options.eventId.indexOf("to-airport")>-1)if($(depart).attr("data-region")==region)if(this.options.paymentType=="award")if(depart.attr("data-airport-code")==
"LAX"&&airportData.code=="GRU"||depart.attr("data-airport-code")=="GRU"&&airportData.code=="LAX"||depart.attr("data-airport-code")=="CMB"&&airportData.code=="MLE"||depart.attr("data-airport-code")=="MLE"&&airportData.code=="CMB"||depart.attr("data-airport-code")=="ZRH"&&airportData.code=="VIE"||depart.attr("data-airport-code")=="VIE"&&airportData.code=="ZRH");else if(region!="Korea"){if(_.isEmpty($("#booking-gate-from-to-chooser-error2")))koreanair.Modal.alert(I18n.get("award-departure-region-same-region"),
{onClosed:_.bind(function(){this.$input.val("");this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();this.$combobox.focus()},this),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(I18n.get("award-departure-region-same-region"),$("#booking-gate-from-to-chooser-error2"),true);this.$input.val("");
errorContainer.html($error);this.errorFocus()}return}else this.removeErrorElements();if(this.options.eventId.indexOf("multi-from")>-1)if(this.options.selectRegion==this.airportCodeByData(code).revenue.code||this.isExpRegion==this.airportCodeByData(code).revenue.code)this.removeErrorElements();else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error"),$error=koreanair.utils.buildErrorElement(I18n.get("OJT-MULTI-change-info"),this.$input,false);
errorContainer.html($error).addClass("err-multi");$(this.options.el[0]).find("input").val(this.airportCodeByData(this.options.select).name);this.$combobox.focus();return}}if(this.options.eventId&&this.options.eventId.indexOf("to-airport")>-1)if($(depart).attr("data-region")==region)if(region=="Korea"){var list=_.values(_.pick(this.domOnDData,$(depart).attr("data-airport-code")))[0];if(_.indexOf(list,code)==-1){if(_.isEmpty($("#booking-gate-from-to-chooser-error2")))koreanair.Modal.alert(I18n.get("domestic-not-allow-airports-info"),
{onClosed:_.bind(function(){this.$input.val("");this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();this.$combobox.focus()},this),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(I18n.get("domestic-not-allow-airports-info"),$("#booking-gate-from-to-chooser-error2"),true);this.$input.val("");
errorContainer.html($error);this.errorFocus()}return}else this.removeErrorElements()}this.setData(code,undefined,isFocusOut);if(this.options.eventId&&this.options.eventId.indexOf("to-airport")>-1)if(!online&&$(depart).attr("data-online")=="false"){if(_.isEmpty($("#booking-gate-from-to-chooser-error2")))koreanair.Modal.alert(I18n.get("offline-regions-only-offline"),{onClosed:_.bind(function(){this.$input.val("");this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();
this.$combobox.focus()},this),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(I18n.get("offline-regions-only-offline"),$("#booking-gate-from-to-chooser-error2"),true);this.$input.val("");errorContainer.html($error);this.errorFocus()}return}else this.removeErrorElements();if(this.options.isMulti)if(this.options.eventId.indexOf("to-airport")>
-1)if($(depart).attr("data-region")==region){if(_.indexOf(this.exRegion,region)==-1)if(_.values(_.pick(this.exCode,depart.attr("data-airport-code")))[0]!=code){if(_.isEmpty($("#booking-gate-from-to-chooser-error2")))koreanair.Modal.alert(I18n.get("departure-region-same-region"),{onClosed:_.bind(function(){this.$input.val("");this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();this.$combobox.focus()},this),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});
else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(I18n.get("departure-region-same-region"),$("#booking-gate-from-to-chooser-error2"),true);this.$input.val("");errorContainer.html($error);this.errorFocus()}return}else this.removeErrorElements();if(region=="Korea"){var list=_.values(_.pick(this.domOnDData,$(depart).attr("data-airport-code")))[0];if(_.indexOf(list,code)==-1){if(_.isEmpty($("#booking-gate-from-to-chooser-error2")))koreanair.Modal.alert(I18n.get("domestic-not-allow-airports-info"),
{onClosed:_.bind(function(){this.$input.val("");this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();this.$combobox.focus()},this),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(I18n.get("domestic-not-allow-airports-info"),$("#booking-gate-from-to-chooser-error2"),true);this.$input.val("");
errorContainer.html($error);this.errorFocus()}return}else this.removeErrorElements()}}else if(_.intersection(["Korea"],this.mRegions).length>0){if(this.options.isSameFirstDep)if(this.$input.closest("ul").find("input.tripdetail-input").eq(0).attr("data-region")!=region){var msg=I18n.get("regions-more-allow-info");if(this.options.paymentType=="award")msg=I18n.get("award-multi-2");if(_.isEmpty($("#booking-gate-from-to-chooser-error2")))koreanair.Modal.alert(msg,{onClosed:_.bind(function(){this.$input.val("");
this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();this.$combobox.focus()},this),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(msg,$("#booking-gate-from-to-chooser-error2"),true);this.$input.val("");errorContainer.html($error);this.errorFocus()}return}else this.removeErrorElements();if(this.mRegions.length>
3){if(_.isEmpty($("#booking-gate-from-to-chooser-error2")))koreanair.Modal.alert(I18n.get("regions-not-allow"),{onClosed:_.bind(function(){this.$input.val("");this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();this.$combobox.focus()},this),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(I18n.get("regions-not-allow"),
$("#booking-gate-from-to-chooser-error2"),true);this.$input.val("");errorContainer.html($error);this.errorFocus()}return}else this.removeErrorElements()}else if(this.mRegions.length>2&&$("#boundList").children("ul").length>2){if(_.isEmpty($("#booking-gate-from-to-chooser-error2")))koreanair.Modal.alert(I18n.get("regions-max-info"),{onClosed:_.bind(function(){this.$input.val("");this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();this.$combobox.focus()},
this),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});else{$("#booking-gate-from-to-chooser-error3").html("");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(I18n.get("regions-max-info"),$("#booking-gate-from-to-chooser-error2"),true);this.$input.val("");errorContainer.html($error);this.errorFocus()}return}else this.removeErrorElements()},removeErrorElements:function(){_.each($(".errorMessageContainer p.error"),_.bind(function(errorEl){if($(errorEl).attr("data-errored-element")==
""||$(errorEl).attr("data-errored-element")==undefined||$(errorEl).attr("data-errored-element")==this.$input.attr("id")||$(errorEl).attr("data-errored-element")==$(errorEl).closest(".errorMessageContainer").attr("id"))koreanair.utils.removeErrorElements($(errorEl))},this))},setData:function(code,silent,isFocusOut){var airportData,paymentType,name="",region="",online="",country="",city="",timeZone="";if(code){airportData=this.airportCodeByData(code);if(airportData){paymentType=this.options.paymentType;
name=this.options.isSTA?airportData.airportName:airportData.name;region=this.options.isSTA?airportData.regionCode:airportData[paymentType].code;online=airportData.online;country=this.options.isSTA?airportData.countryCode:airportData.country.code;city=this.options.isSTA?airportData.cityCode:"";timeZone=this.options.isSTA?"":airportData.timezoneGMT}}if(paymentType=="award"&&!this.options.isSTA)switch(code){case "TPE":case "VVO":case "ULN":case "IKT":region="China";break;case "MLE":case "BOM":case "KTM":case "CMB":case "TAS":case "DEL":region=
"Southwest Asia/India";break;case "GUM":region="Southeast Asia/India";break}this.$input.attr("data-airport-code",code);this.$input.attr("data-region",region);this.$input.attr("data-online",online);this.$input.attr("data-country",country);this.$input.attr("data-city",city);this.$input.attr("data-timeZone",timeZone);if(!this.options.isSTA)name=name.replace(/([^,]* -|,[^,-]*$)/,"");this.$input.val(name).trigger("placeholder:updated");this.$input.attr("aria-activedescendant")&&$("#"+this.$input.attr("aria-activedescendant")).attr("aria-selected",
true);if(code&&!name)this.trigger("input:change",{moduleName:"noAirport"});this.dispatchEvent("input:change",code,country,region,online,city,silent,this.options.prefill);this.options.select=code;if(typeof silent==="undefined"){this.$input.removeAttr("aria-activedescendant");this.$("div.ui-helper-hidden-accessible").empty();this.$(".div-airport-list ul.ui-autocomplete").empty();if(!isFocusOut)this.$input.select()}},showDomesticAirportList:function(){var code=this.$input.closest("ul").find("input.tripdetail-input").eq(0).attr("data-airport-code");
this.demesticAirportSelector=new koreanair.DomesticAirportSelector({el:this.$(".domestic-airports-area"),paymentType:this.options.paymentType,domOnDData:this.options.tripDirection=="arrive"?_.values(_.pick(this.domOnDData,code))[0]:null,$returnFocusEl:this.$btn,filters:this.options.filters||null});this.demesticAirportSelector.on("input:change",_.bind(this.airportSelectHandler,this));if(this.$btn.attr("aria-expanded")=="true")this.demesticAirportSelector.hide();else this.demesticAirportSelector.show()},
resetDomesticAirportList:function(){if(this.demesticAirportSelector)this.demesticAirportSelector.hide()},setAutofillAirports:function(airportList,chkSTA){if(!chkSTA)_.each(airportList,function(airList){airList.name=airList.name.replace(/([^,]* -|,[^,-]*$)/,"")});var pluckedNameArray=chkSTA?_.pluck(airportList,"airportName"):_.pluck(airportList,"name"),pluckedOtherNameArray=chkSTA?[]:_.pluck(airportList,"otherName"),pluckedCodeArray=chkSTA?_.pluck(airportList,"airportCode"):_.pluck(airportList,"code"),
pluckedRegionArray=chkSTA?_.pluck(airportList,"regionCode"):_.pluck(_.pluck(airportList,"revenue"),"code"),combinedAirportArray=[],i,pluckedNameLength=pluckedNameArray.length;for(i=0;i<pluckedNameLength;++i)if(this.options.isMulti&&this.options.selectRegion)if($("#boundList").children("ul").length==2&&this.$input.closest("ul").index()==1){switch(this.options.selectRegion){case "China":this.isExpRegion="Japan";break;case "Japan":this.isExpRegion="China";break;case "Europe":this.isExpRegion="Russia/Mongolia/Central Asia";
break;case "Russia/Mongolia/Central Asia":this.isExpRegion="Europe";break}if(true)combinedAirportArray.push({"label":pluckedNameArray[i],"enLabel":pluckedOtherNameArray[i],"enSubLabel":pluckedOtherNameArray[i]?pluckedOtherNameArray[i].split("(")[0].split("/")[1]||null:null,"value":pluckedCodeArray[i],"subLabel":chkSTA?pluckedNameArray[i].split("(")[0].split("-")[1]||null:pluckedNameArray[i].split("(")[0].split("/")[1]||null,"subText":chkSTA?pluckedNameArray[i].split("(")[1].split(")")[0]:null})}else{this.isExpRegion=
"";if(true)combinedAirportArray.push({"label":pluckedNameArray[i],"enLabel":pluckedOtherNameArray[i],"enSubLabel":pluckedOtherNameArray[i]?pluckedOtherNameArray[i].split("(")[0].split("/")[1]||null:null,"value":pluckedCodeArray[i],"subLabel":chkSTA?pluckedNameArray[i].split("(")[0].split("-")[1]||null:pluckedNameArray[i].split("(")[0].split("/")[1]||null,"subText":chkSTA?pluckedNameArray[i].split("(")[1].split(")")[0]:null})}else if(this.options.isChange&&this.options.eventId=="from-airport"){if(pluckedRegionArray[i]==
this.mRegions[0])combinedAirportArray.push({"label":pluckedNameArray[i],"enLabel":pluckedOtherNameArray[i],"enSubLabel":pluckedOtherNameArray[i]?pluckedOtherNameArray[i].split("(")[0].split("/")[1]||null:null,"value":pluckedCodeArray[i],"subLabel":chkSTA?pluckedNameArray[i].split("(")[0].split("-")[1]||null:pluckedNameArray[i].split("(")[0].split("/")[1]||null,"subText":chkSTA?pluckedNameArray[i].split("(")[1].split(")")[0]:null})}else combinedAirportArray.push({"label":pluckedNameArray[i],"enLabel":pluckedOtherNameArray[i],
"enSubLabel":pluckedOtherNameArray[i]?pluckedOtherNameArray[i].split("(")[0].split("/")[1]||null:null,"value":pluckedCodeArray[i],"subLabel":chkSTA?pluckedNameArray[i].split("(")[0].split("-")[1]||null:pluckedNameArray[i].split("(")[0].split("/")[1]||null,"subText":chkSTA?pluckedNameArray[i].split("(")[1].split(")")[0]:null});this.$input.autocompleteAria({source:_.bind(function(inputStr,callback){var searchResults=[],kor2eng=koreanair.ime.kor2eng,searchTerm=$.ui.autocomplete.escapeRegex(inputStr.term);
var matchFunc=function(src){var stPl=new RegExp("^"+searchTerm,"i"),stGl=new RegExp("^"+kor2eng(searchTerm),"i");return stPl.test(src)||stGl.test(kor2eng(src))};var airportCodeStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.value)});searchResults=searchResults.concat(airportCodeStartsWith);var airportSubNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.subLabel?
airport.subLabel.trim():airport.subLabel)});searchResults=searchResults.concat(airportSubNameStartsWith);var airportSubTextStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.subText?airport.subText.trim():airport.subText)});searchResults=searchResults.concat(airportSubTextStartsWith);var airportOtherNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.enLabel?airport.enLabel.trim():
airport.enLabel)});searchResults=searchResults.concat(airportOtherNameStartsWith);var airportOtherSubNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.enSubLabel?airport.enSubLabel.trim():airport.enSubLabel)});searchResults=searchResults.concat(airportOtherSubNameStartsWith);var airportNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.label)});var sortedAirportNameStartsWithAndContains=
_.sortBy(airportNameStartsWith,"sort");searchResults=searchResults.concat(sortedAirportNameStartsWithAndContains);callback(searchResults)},this),position:{my:"left top",at:"left bottom",collision:"flipfit"},appendTo:this.$(".div-airport-list"),select:_.bind(function(e,ui){e.preventDefault();this.$("div.ui-helper-hidden-accessible").empty();this.checkData(ui.item.value);if(e.keyCode===13)this.$combobox.focus();else this.$btn.focus()},this),open:_.bind(function(event,ui){if(this.$el.find(".ui-autocomplete").css("display")==
"block")if(this.$el.find(".div-airport-list"))this.$el.find(".div-airport-list").attr("style","display:block")},this)})},airportCodeByData:function(airportCode){var result=null;if(!airportCode)return null;var airports=Utils.cloneObject(this.airports);_.some(airports,_.bind(function(airport){if(this.options.isSTA){if(airport.airportCode===airportCode)result=airport}else if(airport.code===airportCode)result=airport;return result!==null},this));return result},airportCodeByInputValue:function(){var value=
this.$input.val(),result="";if(value)value.replace(/(?:\()([A-Z]{3})(?:\))/,function(str,code){result=code});return result},validate:function(){return this.getData().code?true:false},isSelectedRegion:function(region){return this.$input.attr("data-region")===region||this.$input.attr("data-country")===region},errorFocus:function(){this.$combobox.focus()},getErrorMessage:function(){if(this.options.tripDirection===Airports.TRIP_DIRECTIONS.ORIGIN)return I18n.get("departure-invalid-error-message");else return I18n.get("arrival-invalid-error-message")},
disable:function(){this.isDisable=true;this.$input.attr("disabled",true);this.$combobox.attr("tabindex",-1);this.$btn.attr("disabled",true);this.$('[role\x3d"combobox"]').addClass("disabled").attr("aria-disabled",true);this.$el.find("div.fillholder").addClass("disabled");return this},enable:function(){this.isDisable=false;this.$input.attr("disabled",false);this.$btn.attr("disabled",false);this.$('[role\x3d"combobox"]').removeClass("disabled").removeAttr("aria-disabled");this.$el.find("div.fillholder").removeClass("disabled");
return this},reset:function(options){_.extend(this.options,options);if(this.options.isSTA){if(this.airports.length<1)Airports.getAirportList(this.options.tripType,this.options.paymentType,this.options.airportsType,false,this.options.isBookingGate,this.options.useAwardOnline).done(_.bind(function(airports){if(this.options.filters&&this.options.filters.airportCodes)this.airports=Airports.filterAirports(airports,this.options.filters.airportCodes);else this.airports=Utils.cloneObject(airports)},this));
if(this.skyteamAirports.length<1)STAirports.getAirportList().done(_.bind(function(airports){if(koreanair.Country==="br")airports.airportInfo=_.filter(airports.airportInfo,function(airport){return airport.countryCode!=="BR"});var silent=options.select||options.select===""?false:true;_.each(airports.airportInfo,_.bind(function(airport){_.each(this.airports,_.bind(function(air){if(airport.airportCode===air.code)airport.online=air.online},this))},this));this.airports=Utils.cloneObject(airports.airportInfo);
this.skyteamAirports=this.airports;this.setData(options.select,silent);this.setAutofillAirports(this.airports,true);this.airportsAllList="";for(var i=0;i<airports.airportInfo.length;i++){var uiId=koreanair.common.utils.generateUniqueViewID("ui-id","");var cnm="odd";if(i%2==1)cnm="even";this.airportsAllList+='\x3cli class\x3d"ui-menu-item '+cnm+'" id\x3d"'+uiId+'"role\x3d"option" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3cspan\x3e'+airports.airportInfo[i].airportName+"\x3c/span\x3e\x3c/li\x3e"}this.autoCompleteListLen=
airports.airportInfo.length},this));else{var silent=options.select||options.select===""?false:true;this.airports=this.skyteamAirports;this.setData(options.select,silent);this.setAutofillAirports(this.airports,true);this.airportsAllList="";for(var i=0;i<this.airports.length;i++){var uiId=koreanair.common.utils.generateUniqueViewID("ui-id","");var cnm="odd";if(i%2==1)cnm="even";this.airportsAllList+='\x3cli class\x3d"ui-menu-item '+cnm+'" id\x3d"'+uiId+'"role\x3d"option" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3cspan\x3e'+
this.airports[i].airportName+"\x3c/span\x3e\x3c/li\x3e"}this.autoCompleteListLen=this.airports.length}}else{var tripType=this.options.tripType;if(location.hash==="#bookingChange"&&tripType==="domestic")tripType="international";Airports.getAirportList(tripType,this.options.paymentType,this.options.airportsType,false,this.options.isBookingGate,this.options.useAwardOnline,!this.options.isResetTriptype,this.options.isMulti).done(_.bind(function(airports){if(this.options.isWishList)this.airports=Airports.filterWishListAirports(airports,
this.options.airportsType);else if(this.options.filters&&this.options.filters.airportCodes)this.airports=Airports.filterAirports(airports,this.options.filters.airportCodes);else this.airports=Utils.cloneObject(airports);this.airportsAllListDomestic="";for(var i=0;i<this.airports.length;i++){var uiId=koreanair.common.utils.generateUniqueViewID("ui-id","");var cnm="odd";if(i%2==1)cnm="even";this.airportsAllListDomestic+='\x3cli class\x3d"ui-menu-item '+cnm+'" id\x3d"'+uiId+'"role\x3d"option" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3cspan\x3e'+
this.airports[i].name+"\x3c/span\x3e\x3c/li\x3e"}this.autoCompleteListDomesticLen=this.airports.length},this));Airports.getAirportList(tripType,this.options.paymentType,this.options.airportsType,true,this.options.isBookingGate,this.options.useAwardOnline,!this.options.isResetTriptype,this.options.isMulti).done(_.bind(function(airports){var silent=options.select||options.select===""?false:true;if(this.options.isWishList)this.airports=Airports.filterWishListAirports(airports,this.options.airportsType);
else if(this.options.filters&&this.options.filters.airportCodes)this.airports=Airports.filterAirports(airports,this.options.filters.airportCodes);else this.airports=Utils.cloneObject(airports);this.setData(options.select,silent);this.setAutofillAirports(this.airports,false);this.airportsAllList="";for(var i=0;i<this.airports.length;i++){var uiId=koreanair.common.utils.generateUniqueViewID("ui-id","");var cnm="odd";if(i%2==1)cnm="even";this.airportsAllList+='\x3cli class\x3d"ui-menu-item '+cnm+'" id\x3d"'+
uiId+'"role\x3d"option" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3cspan\x3e'+this.airports[i].name+"\x3c/span\x3e\x3c/li\x3e"}this.autoCompleteListLen=this.airports.length},this))}if(this.options.tripType===Booking.TRIP_TYPES.DOMESTIC&&this.options.isBookingGate){if(this.$("#airport-list_"+this.$input.attr("id")).length<1){var airport_template='\x3cdiv class\x3d"domestic-airports-area new-airport-list dp-none" id\x3d"airport-list_'+this.$input.attr("id")+'" aria-hidden\x3d"true"\x3e'+"\x3c/div\x3e";
this.$btn.after(airport_template)}this.$btn.attr("aria-expanded","false");this.$btn.attr("aria-controls",this.$btn.next().attr("id"))}else{if(this.demesticAirportSelector)this.demesticAirportSelector.hide();if(this.$("#airport-list_"+this.$input.attr("id")))this.$("#airport-list_"+this.$input.attr("id")).remove();this.$btn.removeAttr("aria-expanded aria-controls")}return this},resetTripType:function(tripType){this.options.tripType=tripType;this.options.isBookingGate=true},clear:function(){this.$el.empty();
this.undelegateEvents();return this},getData:function(){var inputCode=this.$input.attr("data-airport-code"),data=this.airportCodeByInputValue(),airportCode="",region="",city="",online="",country="";if(data&&inputCode===data){airportCode=inputCode;country=this.$input.attr("data-country");region=this.$input.attr("data-region");online=this.$input.attr("data-online")=="true";city=this.$input.attr("data-city")}return{code:airportCode,country:country,region:region,city:city,online:online}},resetAirportList:function(type){this.reset({tripType:"international",
paymentType:type,airportsType:"arrive"})},resetRegions:function(regions){this.mRegions=regions}});koreanair.AirportChooser=AirportChooser})(jQuery,koreanair,Handlebars.templates,koreanair.Booking,koreanair.Airports,koreanair.STAirports,Granite.I18n,koreanair.utils);
(function($,koreanair,Templates,Booking,Airports,I18n){var FromToChooser=koreanair.View.extend({el:"#from-to-chooser",template:Templates["booking-gate-from-to-chooser"],multiPopupTemplate:Templates["multi-popup"],events:{"change input[type\x3dradio]":"radioClick"},moduleName:"from-to-chooser",multiFromAirportChooser:[],multiToAirportChooser:[],multiDateChooser:[],multiChooserNum:0,multiRegion:[],mRegion:[],multiWithKorea:false,isMultiButtonClick:false,isIncreaseMultiChooser:false,isMultiFlightSelect:false,
isFlightSelect:false,isSameFirstDep:false,keydownState:false,addBoundsLastIndex:false,exRegion:["Korea","Americas","Europe","Oceania/Guam"],exCodeAwardDep:["CMB","MLE","LAX","GRU"],exCodeAwardArr:["CMB","LAX"],initialize:function(options){_.bindAll(this);this.model=new koreanair.FromToChooserModel;this.multiFromAirportChooser=[];this.multiToAirportChooser=[];this.multiDateChooser=[];this.multiChooserNum=0;this.multiRegion=[];this.mRegion=[];this.render();this.$el.find(".multi-info").on("click",this.infoClick.bind(this));
this.$el.find("#isFlex").on("click",this.ckeckboxHandler.bind(this));return this},render:function(){var templateDatas=_.extend(this.model.toJSON(),this.options);templateDatas.randomId=this.randomId();var hash=window.location.href;if(hash.match(/ximt/g)||hash.match(/xaimt/g)){templateDatas.isMultiFlightSelect=true;this.isMultiFlightSelect=true}if(koreanair.router)this.isFlightSelect=true;this.$el.html(this.template(templateDatas));this.makeSingleChooser();return this},makeSingleChooser:function(){this.fromAirportChooser=
new koreanair.AirportChooser({el:this.$("ul.airports-single .airports-departure-area"),eventId:"from-airport",tripDirection:Airports.TRIP_DIRECTIONS.ORIGIN,airportsType:Airports.TRIP_DIRECTIONS.ORIGIN,isBookingDomestic:this.model.get("tripType")==Booking.TRIP_TYPES.DOMESTIC,isBookingGate:this.options.isBookingGate,useAwardOnline:this.options.isBookingGate||this.options.useAwardOnline,isWishList:this.options.isWishList,isChange:this.options.isChange,isSTA:this.options.isSTA,isResetTriptype:this.options.isResetTriptype});
this.toAirportChooser=new koreanair.AirportChooser({el:this.$("ul.airports-single .airports-arrival-area"),eventId:"to-airport",tripDirection:Airports.TRIP_DIRECTIONS.DESTINATION,airportsType:Airports.TRIP_DIRECTIONS.DESTINATION,isBookingDomestic:this.model.get("tripType")==Booking.TRIP_TYPES.DOMESTIC,isBookingGate:this.options.isBookingGate,useAwardOnline:this.options.isBookingGate||this.options.useAwardOnline,isWishList:this.options.isWishList,isChange:this.options.isChange,isSTA:this.options.isSTA,
isResetTriptype:this.options.isResetTriptype});this.dateChooser=new koreanair.DateChooser({el:this.$("ul.airports-single .date-chooser-area"),isBooking:true,eventId:"from-date",tripDirection:Airports.TRIP_DIRECTIONS.ORIGIN,departureInput:this.$("ul.airports-single .airports-departure-area input[type\x3dtext]"),arrivalInput:this.$("ul.airports-single .airports-arrival-area input[type\x3dtext]"),errorContainer:$("#booking-gate-from-to-chooser-error")});this.fromAirportChooser.on("input:change",this.moduleEventHandler);
this.fromAirportChooser.on("input:changeRegion",this.getMultiRegion);this.toAirportChooser.on("input:change",this.moduleEventHandler);this.toAirportChooser.on("input:changeRegion",this.getMultiRegion);this.dateChooser.on("input:change",this.moduleEventHandler);this.dateChooser.on("input:changePax",this.modulePaxEventHandler)},makeMultiChooser:function(insertBoundIndex){var insertBoundIndex=insertBoundIndex||0;var multiChooserIndex=0;if(insertBoundIndex>0)multiChooserIndex=insertBoundIndex-1;if($(".airports-single").length>
1)$(".airports-single").last().remove();var multiHtml='\x3cul class\x3d"airports-multi" role\x3d"presentation"\x3e';if(this.isMultiFlightSelect)multiHtml+='\x3cli class\x3d"label"\x3e\x3cstrong\x3e'+I18n.get("nb-itr-label")+" 2\x3c/strong\x3e\x3c/li\x3e";multiHtml+='\x3cli class\x3d"airports-departure-area"\x3e\x3c/li\x3e';multiHtml+='\x3cli class\x3d"airports-arrival-area"\x3e\x3c/li\x3e';multiHtml+='\x3cli class\x3d"date-chooser-area"\x3e\x3c/li\x3e';multiHtml+='\x3cli class\x3d"multi-itr-controls"\x3e';
multiHtml+='\x3cbutton class\x3d"decrease" data-name\x3d"decrease"\x3e'+I18n.get("UWA-delete-label")+"\x3c/button\x3e";multiHtml+='\x3cbutton class\x3d"increase" data-name\x3d"increase"\x3e'+I18n.get("UWA-add-label")+"\x3c/button\x3e";multiHtml+="\x3c/li\x3e\x3c/ul\x3e";if($("ul.airports-multi").length==0)$("#boundList").append(multiHtml);this.multiFromAirportChooser.splice(multiChooserIndex,0,new koreanair.AirportChooser({el:this.$("ul.airports-multi").eq(multiChooserIndex).find(".airports-departure-area"),
eventId:"multi-from-airport-"+multiChooserIndex,tripDirection:Airports.TRIP_DIRECTIONS.ORIGIN,airportsType:Airports.TRIP_DIRECTIONS.DESTINATION,isBookingDomestic:this.model.get("tripType")==Booking.TRIP_TYPES.DOMESTIC,isBookingGate:this.options.isBookingGate,useAwardOnline:this.options.isBookingGate||this.options.useAwardOnline,isChange:this.options.isChange,isReissue:this.options.isReissue,isSTA:this.options.isSTA,tripType:this.model.get("tripType"),paymentType:this.model.get("paymentType")}));var options=
{tripType:this.model.get("tripType"),paymentType:this.model.get("paymentType")};this.multiFromAirportChooser[multiChooserIndex].reset(_.extend(_.clone(options),{select:this.model.get("bounds").at(multiChooserIndex+1)?this.model.get("bounds").at(multiChooserIndex+1).get("departureAirport"):this.model.get("bounds").at(multiChooserIndex).get("departureAirport"),eventId:"multi-from-airport-"+multiChooserIndex,isMulti:this.model.get("flightType")=="multi",multiRegion:this.mRegion,buttonClick:this.isIncreaseMultiChooser,
isSTA:this.options.isSTA,isChange:this.options.isChange,isReissue:this.options.isReissue,selectRegion:this.model.get("bounds").at(multiChooserIndex+1)?this.model.get("bounds").at(multiChooserIndex+1).get("departureRegion"):this.model.get("bounds").at(multiChooserIndex).get("departureRegion")}));this.multiToAirportChooser.splice(multiChooserIndex,0,new koreanair.AirportChooser({el:this.$("ul.airports-multi").eq(multiChooserIndex).find(".airports-arrival-area"),eventId:"multi-to-airport-"+multiChooserIndex,
tripDirection:Airports.TRIP_DIRECTIONS.DESTINATION,airportsType:Airports.TRIP_DIRECTIONS.DESTINATION,isBookingDomestic:this.model.get("tripType")==Booking.TRIP_TYPES.DOMESTIC,isBookingGate:this.options.isBookingGate,useAwardOnline:this.options.isBookingGate||this.options.useAwardOnline,isChange:this.options.isChange,isReissue:this.options.isReissue,isSTA:this.options.isSTA,tripType:this.model.get("tripType"),paymentType:this.model.get("paymentType")}));this.multiToAirportChooser[multiChooserIndex].reset(_.extend(_.clone(options),
{select:this.model.get("bounds").at(multiChooserIndex+1)?this.model.get("bounds").at(multiChooserIndex+1).get("arrivalAirport"):this.model.get("bounds").at(multiChooserIndex).get("arrivalAirport"),eventId:"multi-to-airport-"+multiChooserIndex,isMulti:this.model.get("flightType")=="multi",isSameFirstDep:this.multiToAirportChooser.length-1==multiChooserIndex?this.isSameFirstDep:null,firstLastAirports:this.firstLastAirports,multiWithKorea:this.multiWithKorea,multiRegion:this.mRegion,buttonClick:this.isIncreaseMultiChooser,
isChange:this.options.isChange,isReissue:this.options.isReissue,isSTA:this.options.isSTA}));this.multiDateChooser.splice(multiChooserIndex,0,new koreanair.DateChooser({el:this.$("ul.airports-multi").eq(multiChooserIndex).find(".date-chooser-area"),eventId:"multi-to-date-"+multiChooserIndex,isBooking:true,tripDirection:Airports.TRIP_DIRECTIONS.DESTINATION,departureInput:this.$("ul.airports-multi").eq(multiChooserIndex).find(".airports-departure-area input[type\x3dtext]"),arrivalInput:this.$("ul.airports-multi").eq(multiChooserIndex).find(".airports-arrival-area input[type\x3dtext]"),
errorContainer:$("#booking-gate-from-to-chooser-error")}));this.multiFromAirportChooser[multiChooserIndex].on("input:change",this.moduleEventHandler);this.multiFromAirportChooser[multiChooserIndex].on("input:changeRegion",this.getMultiRegion);this.multiToAirportChooser[multiChooserIndex].on("input:change",this.moduleEventHandler);this.multiToAirportChooser[multiChooserIndex].on("input:changeRegion",this.getMultiRegion);this.multiDateChooser[multiChooserIndex].on("input:change",this.moduleEventHandler);
if(this.isIncreaseMultiChooser==true&&!this.model.get("preFill")){var defaults=this.model.defaults;var bounds=this.model.get("bounds").toJSON();bounds.splice(insertBoundIndex,0,_.last(defaults.bounds));var options={tripType:this.model.get("tripType"),paymentType:this.model.get("paymentType"),flightType:this.model.get("flightType"),bounds:bounds};this.resetModel(options);this.setFlightType(this.model.get("flightType"));this.isMultiButtonClick=false;this.isIncreaseMultiChooser=false;this.insertDateChooserMulti();
this.setFocusAfterAddedBound()}if(this.addBoundsLastIndex){this.setFlightType(this.model.get("flightType"));this.addBoundsLastIndex=false}this.$el.find(".multi-itr-controls button").off().on("click",this.multiButton.bind(this));this.disableButton();if($("ul.airports-multi").length==1&&!this.isReissueOrChange())this.autoDepPrefill(0,this.model.get("preFill"))},insertDateChooserMulti:function(){var prevMultiChooserValue="",dateIndex=-1;_.each(this.multiDateChooser,_.bind(function(multiDateChooser,index){var date=
multiDateChooser.$input.val();if(date){prevMultiChooserValue=date;dateIndex=index}}));if(prevMultiChooserValue==""){var dateChooserValue=this.dateChooser.$input.val();prevMultiChooserValue=dateChooserValue?dateChooserValue:moment().format("YYYY-MM-DD")}this.setDateChooserMulti(prevMultiChooserValue,dateIndex)},multiButton:function(e){e.preventDefault();var dataName=this.$(e.currentTarget).attr("data-name");var boundList=$("#boundList").children("ul");var bounds=this.model.get("bounds").toJSON(),firstAir=
_.first(bounds).departureRegion,lastAir=_.last(bounds).arrivalRegion,firstLastAirports=firstAir==lastAir,endRegion;_.some(bounds,_.bind(function(bound,idx){if(firstAir==bound.arrivalRegion)return endRegion=idx},this));this.firstLastAirports=firstLastAirports;this.setMultiRegion();if(dataName=="increase")if(boundList.length<6){if(this.options.isSTA){if(this.checkIsMultiInputValue(e)){this.isMultiButtonClick=true;this.increaseMultiChooser(e)}else koreanair.Modal.alert('\x3cp class\x3d"modal-info"\x3e'+
I18n.get("multi-bounds-input-empty-label")+"\x3cp/\x3e",{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});return}if(this.checkIsMultiInputValue(e)){if(this.model.get("tripType")==="domestic"){koreanair.Modal.alert(I18n.get("multi-more-needs-intl-label"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});this.isMultiButtonClick=false;return}this.isMultiButtonClick=true;if(firstLastAirports){if(_.intersection(this.exRegion,[firstAir]).length>0)if(boundList.length>
endRegion+1){var msg="";if(this.model.get("paymentType")=="award")msg=I18n.get("award-multi-2");else msg=I18n.get("CABOTAGE_extraone");koreanair.Modal.alert(msg,{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});this.isMultiButtonClick=false}else if(bounds[1].departureRegion==bounds[0].arrivalRegion)if(this.model.get("paymentType")=="award"&&bounds[0].departureRegion!=="Korea"&&bounds[1].arrivalRegion!=="Korea")if(_.indexOf(this.exCodeAwardDep,bounds[0].departureAirport)>-1&&_.indexOf(this.exCodeAwardArr,
_.last(bounds).arrivalAirport)>-1)this.increaseMultiChooser(e);else{koreanair.Modal.alert(I18n.get("award-multi-2"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});this.isMultiButtonClick=false}else this.increaseMultiChooser(e);else{koreanair.Modal.alert(I18n.get("OJT-MULTI-change-info"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});$(".airports-multi").find(".airports-arrival-area input").eq(1).val("").trigger("focusout");this.isMultiButtonClick=false;
return}else if(boundList.length>endRegion&&this.mRegion.length>2)if(this.model.get("paymentType")=="award")if(_.indexOf(this.exCodeAwardDep,bounds[0].departureAirport)>-1&&_.indexOf(this.exCodeAwardArr,_.last(bounds).arrivalAirport)>-1)this.increaseMultiChooser(e);else{koreanair.Modal.alert(I18n.get("regions-with-korea"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});this.isMultiButtonClick=false}else{koreanair.Modal.alert(I18n.get("regions-with-korea"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});
this.isMultiButtonClick=false}else if(this.model.get("paymentType")=="award")if(_.indexOf(this.exCodeAwardDep,bounds[0].departureAirport)>-1&&_.indexOf(this.exCodeAwardArr,_.last(bounds).arrivalAirport)>-1)this.increaseMultiChooser(e);else{koreanair.Modal.alert(I18n.get("award-multi-2"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});this.isMultiButtonClick=false}else this.increaseMultiChooser(e);if(boundList.length>2)this.isSameFirstDep=true}else{if(_.intersection(["Korea"],
this.mRegion).length>0)if(this.mRegion.length>3){koreanair.Modal.alert(I18n.get("regions-with-korea"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});this.isMultiButtonClick=false}else if(bounds[1].departureRegion==bounds[0].arrivalRegion)this.increaseMultiChooser(e);else{koreanair.Modal.alert(I18n.get("OJT-MULTI-change-info"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});this.isMultiButtonClick=false}else if(this.mRegion.length>2){koreanair.Modal.alert(I18n.get("regions-max-info"),
{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});this.isMultiButtonClick=false}else this.increaseMultiChooser(e);this.isSameFirstDep=false}}else koreanair.Modal.alert('\x3cp class\x3d"modal-info"\x3e'+I18n.get("multi-bounds-input-empty-label")+"\x3cp/\x3e",{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")})}else koreanair.Modal.alert(I18n.get("multi-bounds-max-six-label"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")});else if(dataName==
"decrease")if(boundList.length>2)this.decreaseMultiChooser(e);else koreanair.Modal.alert(I18n.get("multi-bounds-min-two-label"),{button:true,ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")})},checkIsMultiInputValue:function(e){var isInputValue=true;_.each($("#boundList input").not(".offscreen"),function(input,index){if($(input).val()==""){isInputValue=false;return false}});return isInputValue},increaseMultiChooser:function(e){this.isIncreaseMultiChooser=true;this.multiChooserNum++;var $currenTarget=
"";if(e)$currenTarget=$(e.currentTarget).parents("ul.airports-multi");else $currenTarget=$("#boundList").children("ul").last();var $multiInput=$currenTarget.clone();$currenTarget.after($multiInput);$currenTarget.children(".multi-itr-controls").remove();$multiInput.find("input").val("");this.disableButton();var insertBoundIndex=$multiInput.index();this.setFlex(this.model.get("isFlex"));if(this.isMultiFlightSelect)this.reMakeAirportChooerLabel();if(this.model.get("preFill"))this.makeMultiChooser(insertBoundIndex);
else setTimeout(_.bind(function(){this.makeMultiChooser(insertBoundIndex)},this),10)},decreaseMultiChooser:function(e){var $currenTarget="";if(e)$currenTarget=$(e.currentTarget).parents("ul.airports-multi");else $currenTarget=$("#boundList").children("ul").last();var buttonSet=$currenTarget.children(".multi-itr-controls").clone();$currenTarget.prev().append(buttonSet);var index=$(".airports-multi").index($currenTarget);this.removeMultiChooserTemplate(index);this.disableButton();this.setFocusAfterAddedBound();
if(this.isMultiFlightSelect)this.reMakeAirportChooerLabel();if(e)setTimeout(_.bind(function(){this.deleteMultiChooser(index)},this),10);else this.deleteMultiChooser(index)},deleteMultiChooser:function(index){var bounds=this.model.get("bounds").toJSON(),radioClick=false;if(index=="reset"){bounds=bounds.slice(0,1);radioClick=true;this.isIncreaseMultiChooser=false}else bounds.splice(index+1,1);var options={tripType:this.model.get("tripType"),paymentType:this.model.get("paymentType"),flightType:this.model.get("flightType"),
bounds:bounds};var firstAir=_.first(bounds).departureRegion,lastAir=_.last(bounds).arrivalRegion,firstLastAirports=firstAir==lastAir,endRegion;_.some(bounds,_.bind(function(bound,idx){if(firstAir==bound.arrivalRegion)return endRegion=idx},this));this.firstLastAirports=firstLastAirports;this.setMultiRegion();this.resetModel(options,radioClick);this.deleteMultiAirportChooser(index);this.setFlightType(options.flightType);this.setFlex(this.model.get("isFlex"));this.dispatchEvent("input:change");this.insertDateChooserMulti()},
deleteMultiAirportChooser:function(index){if(index=="reset"){this.multiFromAirportChooser=this.multiFromAirportChooser.slice(0,1);this.multiToAirportChooser=this.multiToAirportChooser.slice(0,1);this.multiDateChooser=this.multiDateChooser.slice(0,1);if(this.model.get("flightType")!=Booking.FLIGHT_TYPE.MULTI_CITY){this.multiFromAirportChooser.splice(0,1);this.multiToAirportChooser.splice(0,1);this.multiDateChooser.splice(0,1)}this.multiChooserNum=0}else{this.multiFromAirportChooser.splice(index,1);
this.multiToAirportChooser.splice(index,1);this.multiDateChooser.splice(index,1);this.multiChooserNum--}},removeMultiChooserTemplate:function(index){if(this.multiFromAirportChooser[index]){this.multiFromAirportChooser[index].off();this.multiToAirportChooser[index].off();this.multiDateChooser[index].off()}$(".airports-multi").eq(index).remove()},resetMultiChooser:function(){var $multiItr=$("ul.airports-multi").eq(0);if($("ul.airports-multi").length>1&&$multiItr.children(".multi-itr-controls").length<
1){var $lastMultiltr=$("ul.airports-multi").last();var buttonSet=$lastMultiltr.children(".multi-itr-controls").clone();$multiItr.append(buttonSet)}$multiItr.nextAll().remove();this.deleteMultiChooser("reset")},reMakeAirportChooerLabel:function(){var labelArr=$("#boundList").find("li[class\x3dlabel]").children("strong");_.each(labelArr,function(label,index){$(label).text(I18n.get("nb-itr-label")+" "+(index+1))})},showHideMultiChooserPlusButton:function(){var $boundList=$("#boundList"),$lastBoundButton=
$boundList.find("\x3eul").last().find(".multi-itr-controls");var isShowButton=false;if(this.model.get("flightType")==Booking.FLIGHT_TYPE.MULTI_CITY&&!this.model.get("isChange")&&!(this.model.get("inflowroute")=="giftTicket")){$boundList.addClass("multi-itr");$lastBoundButton.show();isShowButton=true}else{$boundList.removeClass("multi-itr");$lastBoundButton.hide();this.disableButton();isShowButton=false}if(this.isFlightSelect||this.options.hiddenMulti){$boundList.removeClass("multi-itr");$lastBoundButton.hide();
this.disableButton();isShowButton=false}if(this.model.get("preFill")&&this.multiChooserNum>0&&isShowButton)this.$el.find(".multi-itr-controls button").off().on("click",this.multiButton.bind(this))},setMultiRegion:function(){this.multiRegion=[];this.mRegion=[];var bounds=this.model.get("bounds").toJSON();_.each(bounds,_.bind(function(bound){if(this.model.get("paymentType")=="award"){if(bound.departureAirport=="SVO"||bound.departureAirport=="LED"){this.multiRegion.push("FRANCE");this.mRegion.push("FRANCE")}else{this.multiRegion.push(bound.departureRegion);
this.mRegion.push(bound.departureRegion)}if(bound.arrivalAirport=="SVO"||bound.arrivalAirport=="LED"){this.multiRegion.push("FRANCE");this.mRegion.push("FRANCE")}else{this.multiRegion.push(bound.arrivalRegion);this.mRegion.push(bound.arrivalRegion)}}else{this.multiRegion.push(bound.departureRegion);this.multiRegion.push(bound.arrivalRegion);this.mRegion.push(bound.departureRegion);this.mRegion.push(bound.arrivalRegion)}},this));if(_.indexOf(this.multiRegion,"Korea")>-1)if(bounds.length==2)this.multiWithKorea=
true;else this.multiWithKorea=false;else{this.multiWithKorea=false;this.multiRegion.push("Korea")}this.mRegion=_.compact(_.uniq(this.mRegion));this.multiRegion=_.compact(_.uniq(this.multiRegion))},getMultiRegion:function(m){this.setMultiRegion();return this.mRegion},radioClick:function(e){if(this.multiChooserNum>0)this.resetMultiChooser();var flightType=this.$(e.currentTarget).val();var options={tripType:this.model.get("tripType"),paymentType:this.model.get("paymentType"),flightType:flightType,bounds:this.model.get("bounds").toJSON(),
inflowroute:this.model.get("inflowroute"),isWishList:this.model.get("isWishList")};this.resetModel(options,true);this.setFlightType(flightType);this.setFlex(this.model.get("isFlex"));this.dispatchEvent("input:change");if(flightType=="multi"){this.$el.find(".check-flexible-wrap").addClass("multi-itr");this.makeMultiChooser()}else{this.$el.find(".check-flexible-wrap").removeClass("multi-itr");this.deleteMultiChooser("reset");this.removeMultiChooserTemplate(0)}this.showHideMultiChooserPlusButton();$(".errorMessageContainer").html("")},
infoClick:function(e){var infoHtml="";if(this.model.get("tripType")==Booking.TRIP_TYPES.DOMESTIC){infoHtml="\x3cp\x3e"+I18n.get("multi-stopover-info-label")+"\x3c/p\x3e";koreanair.Modal.info(infoHtml)}else if(this.model.get("inflowroute")=="giftTicket")koreanair.Modal.info(I18n.get("gift-ticket-multi-info-label"));else{var params={isAward:this.model.get("paymentType")==Booking.PAYMENT_TYPES.AWARD?true:false,isSTA:this.options.isSTA};infoHtml=this.multiPopupTemplate(params);koreanair.Modal.standard(infoHtml)}},
ckeckboxHandler:function(e){var isChecked=this.$(e.currentTarget).attr("checked")==="checked";this.setFlex(isChecked);this.dispatchEvent("input:change")},isMutilineChooser:function(){var isReissueOrChange=this.isReissueOrChange()&&this.model.get("flightType")!==Booking.FLIGHT_TYPE.ONE_WAY,isMultiCity=this.model.get("flightType")===Booking.FLIGHT_TYPE.MULTI_CITY;return isReissueOrChange||isMultiCity},isMultiTripOverThreeBound:function(){var boundLength=this.model.get("bounds").length;if(boundLength>
2)return boundLength;return false},isMultiCity:function(){return $("#boundList \x3e ul").length>2},isReissueOrChange:function(){return this.model.get("isReissue")||this.model.get("isChange")},moduleEventHandler:function(e){if(e.moduleName=="noAirport"){this.fromAirportChooser.$input.val("").trigger("placeholder:updated");this.toAirportChooser.$input.val("").trigger("placeholder:updated");var options={tripType:this.model.get("tripType"),paymentType:this.model.get("paymentType"),flightType:this.model.get("flightType")};
this.resetModel(options);this.dispatchEvent("input:change");return}var bounds=this.model.get("bounds"),bound="";var eventIdArray=e.eventId.split("-");if(eventIdArray[0]=="multi")var multiChooserId=_.last(eventIdArray);switch(e.eventId){case "from-airport":bound=bounds.at(0);if(bound.get("departureAirport")!==e.data.code)bounds.at(0).set("depTime","");bound.set("departureAirport",e.data.code);bound.set("departureRegion",e.data.region);bound.set("departureOnline",e.data.online);bound.set("departureCountry",
e.data.country);bound.set("departureCity",e.data.city);this.setDateChooser("from",e.data.code);if(this.isMutilineChooser()&&e.data.code&&!this.model.get("preFill"))this.autoDepPrefill(0,e.prefill);break;case "to-airport":bound=bounds.at(0);if(bound.get("arrivalAirport")!==e.data.code)if(bounds.at(1))bounds.at(1).set("depTime","");bound.set("arrivalAirport",e.data.code);bound.set("arrivalRegion",e.data.region);bound.set("arrivalOnline",e.data.online);bound.set("arrivalCountry",e.data.country);bound.set("arrivalCity",
e.data.city);this.setDateChooser("to",e.data.code);if(this.isMutilineChooser()&&e.data.code&&!this.model.get("preFill"))this.autoDepPrefill(0,e.prefill);break;case "from-date":bounds.at(0).set("departure",e.data.select);bounds.at(0).set("depTime",e.data.fromTime);if(e.data.toSelect){bounds.at(1).set("departure",e.data.toSelect);bounds.at(1).set("depTime",e.data.toTime)}if(this.isMutilineChooser())this.setDateChooserMulti(e.data.select,-1);break;case "to-date":bounds.at(1).set("departure",e.data.select);
bounds.at(1).set("depTime",e.data.toTime);break;case "multi-from-airport-"+multiChooserId:bound=bounds.at(parseInt(multiChooserId)+1);bound.set("departureAirport",e.data.code);bound.set("departureRegion",e.data.region);bound.set("departureOnline",e.data.online);bound.set("departureCountry",e.data.country);bound.set("departureCity",e.data.city);this.setDateChooser("multi",e.data.code,multiChooserId);break;case "multi-to-airport-"+multiChooserId:bound=bounds.at(parseInt(multiChooserId)+1);bound.set("arrivalAirport",
e.data.code);bound.set("arrivalRegion",e.data.region);bound.set("arrivalOnline",e.data.online);bound.set("arrivalCountry",e.data.country);bound.set("arrivalCity",e.data.city);this.setFlex(false);if(!this.model.get("preFill"))if(this.isMultiButtonClick==true)this.autoDepPrefill(parseInt(multiChooserId),e.prefill);else this.autoDepPrefill(parseInt(multiChooserId)+1,e.prefill);break;case "multi-to-date-"+multiChooserId:bounds.at(parseInt(multiChooserId)+1).set("departure",e.data.select);bounds.at(parseInt(multiChooserId)+
1).set("depTime",e.data.fromTime);this.setDateChooserMulti(e.data.select,multiChooserId);break}if(!this.isMutilineChooser()&&this.model.get("flightType")===Booking.FLIGHT_TYPE.ROUND_TRIP)this.autoFillWhenRoundTrip(bounds);if(this.options.isResetTriptype)this.resetTripType();this.dispatchEvent("input:change",e.prefill);this.resetMultiRegion(e)},modulePaxEventHandler:function(e){this.dispatchPaxEvent("input:changePax",e)},setDateChooserMulti:function(date,id,selTime){_.each(this.multiDateChooser,_.bind(function(multiDateChooser,
index){if(index>id){multiDateChooser.reset({min:date,multiDate:true});return false}},this));if(selTime)this.multiDateChooser[id-1].reset({fromTime:selTime})},autoFillWhenRoundTrip:function(bounds){var bounds=bounds||this.model.get("bounds");var fromBound=bounds.at(0),toBound=bounds.at(1),arrivalAirport=fromBound.get("arrivalAirport"),departureAirport=fromBound.get("departureAirport"),arrivalRegion=fromBound.get("arrivalRegion"),departureRegion=fromBound.get("departureRegion"),arrivalOnline=fromBound.get("arrivalOnline"),
departureOnline=fromBound.get("departureOnline"),arrivalCountry=fromBound.get("arrivalCountry"),departureCountry=fromBound.get("departureCountry"),arrivalCity=fromBound.get("arrivalCity"),departureCity=fromBound.get("departureCity");toBound.set("departureAirport",arrivalAirport);toBound.set("arrivalAirport",departureAirport);toBound.set("departureRegion",arrivalRegion);toBound.set("arrivalRegion",departureRegion);toBound.set("departureOnline",arrivalOnline);toBound.set("arrivalOnline",departureOnline);
toBound.set("departureCountry",arrivalCountry);toBound.set("arrivalCountry",departureCountry);toBound.set("departureCity",arrivalCity);toBound.set("arrivalCity",departureCity)},autoDepPrefill:function(idx,prefill){if(this.options.hiddenMulti&&this.model.get("bounds").length>idx+1&&!this.model.get("bounds").at(idx+1).get("toBeChanged"))return;var options={tripType:this.model.get("tripType"),paymentType:this.model.get("paymentType")};if(this.multiFromAirportChooser[idx]){var bounds=this.model.get("bounds");
var fromBound=bounds.at(idx),toBound=bounds.at(idx+1),arrivalAirport=fromBound.get("arrivalAirport"),arrivalRegion=fromBound.get("arrivalRegion"),arrivalOnline=fromBound.get("arrivalOnline"),arrivalCountry=fromBound.get("arrivalCountry"),arrivalCity=fromBound.get("arrivalCity");var defRegion=false,toRegion=toBound.get("departureRegion");if(bounds.length==2)switch(arrivalRegion){case "China":defRegion=toRegion=="Japan";break;case "Japan":defRegion=toRegion=="China";break;case "Europe":defRegion=toRegion==
"Russia/Mongolia/Central Asia"||toRegion=="Europe";break;case "Russia/Mongolia/Central Asia":defRegion=toRegion=="Russia/Mongolia/Central Asia"||toRegion=="Europe";break;default:defRegion=arrivalRegion==toBound.get("departureRegion");break}else defRegion=arrivalRegion==toBound.get("departureRegion");if(!defRegion&&!prefill){toBound.set("departureAirport",arrivalAirport);toBound.set("departureRegion",arrivalRegion);toBound.set("departureOnline",arrivalOnline);toBound.set("departureCountry",arrivalCountry);
toBound.set("departureCity",arrivalCity);this.setMultiRegion();if(!prefill){if(arrivalAirport)this.multiFromAirportChooser[idx].reset(_.extend(_.clone(options),{isMulti:true,select:this.model.get("bounds").at(idx+1).get("departureAirport"),selectRegion:this.model.get("bounds").at(idx+1).get("departureRegion"),eventId:"multi-from-airport-"+idx}));else this.multiFromAirportChooser[idx].reset(_.extend(_.clone(options),{isMulti:true,eventId:"multi-from-airport-"+idx}));if(this.multiToAirportChooser[idx])this.multiToAirportChooser[idx].reset(_.extend(_.clone(options),
{multiWithKorea:this.multiWithKorea,multiRegion:this.mRegion}))}}}},dispatchEvent:function(type,prefill){this.trigger(type,{type:type,moduleName:this.moduleName,data:this.getData(),prefill:prefill})},dispatchPaxEvent:function(type,e){this.trigger(type,{type:type,moduleName:this.moduleName,data:{seAdult:e.seAdult,seChild:e.seChild,seInfant:e.seInfant,seCabin:e.seCabin,qpxPrice:e.qpxPrice,qpxTagName:e.qpxTagName,flightDirect:e.flightDirect}})},setAirprotChooser:function(){var options={tripType:this.model.get("tripType"),
paymentType:this.model.get("paymentType"),isWishList:this.model.get("isWishList")};this.setMultiRegion();this.fromAirportChooser.reset(_.extend(_.clone(options),{select:this.model.get("bounds").at(0).get("departureAirport"),isMulti:this.model.get("flightType")=="multi",multiRegion:this.mRegion,isChange:this.model.get("isChange"),buttonClick:this.isIncreaseMultiChooser,isSTA:this.options.isSTA,isWishList:this.options.isWishList,prefill:this.model.get("preFill")}));this.toAirportChooser.reset(_.extend(_.clone(options),
{select:this.model.get("bounds").at(0).get("arrivalAirport"),isMulti:this.model.get("flightType")=="multi",multiRegion:this.mRegion,firstLastAirports:this.firstLastAirports,buttonClick:this.isIncreaseMultiChooser,isSTA:this.options.isSTA,isWishList:this.options.isWishList,prefill:this.model.get("preFill")}));if(this.isMutilineChooser()){_.each(this.multiFromAirportChooser,_.bind(function(multiFromChooser,index){multiFromChooser.reset(_.extend(_.clone(options),{select:this.model.get("bounds").at(index+
1)?this.model.get("bounds").at(index+1).get("departureAirport"):this.model.get("bounds").at(index).get("departureAirport"),eventId:"multi-from-airport-"+index,isMulti:this.model.get("flightType")=="multi",multiRegion:this.mRegion,buttonClick:this.isIncreaseMultiChooser,isSTA:this.options.isSTA,prefill:this.model.get("preFill")}))},this));_.each(this.multiToAirportChooser,_.bind(function(multiToChooser,index){multiToChooser.reset(_.extend(_.clone(options),{select:this.model.get("bounds").at(index+
1)?this.model.get("bounds").at(index+1).get("arrivalAirport"):this.model.get("bounds").at(index).get("arrivalAirport"),eventId:"multi-to-airport-"+index,isMulti:this.model.get("flightType")=="multi",isSameFirstDep:this.multiToAirportChooser.length-1==index?this.isSameFirstDep:null,firstLastAirports:this.firstLastAirports,multiWithKorea:this.multiWithKorea,multiRegion:this.mRegion,buttonClick:this.isIncreaseMultiChooser,isSTA:this.options.isSTA,prefill:this.model.get("preFill")}))},this))}},resetArrivalAirportList:function(e){if(e.eventId){var intl=
this.model.get("tripType")=="international",depart=e.eventId.indexOf("from-airport")!=-1,single=e.eventId.indexOf("multi")==-1,idx=single?null:Number(_.last(e.eventId.split("-")));if(intl&&depart)if(single)if(this.model.get("bounds").at(0).get("departureOnline"))this.toAirportChooser.resetAirportList("revenue");else this.toAirportChooser.resetAirportList("award");else if(this.model.get("bounds").at(idx+1).get("departureOnline"))this.multiToAirportChooser[idx].resetAirportList("revenue");else this.multiToAirportChooser[idx].resetAirportList("award")}},
resetMultiRegion:function(e){this.setMultiRegion();if(e.eventId){var intl=this.model.get("tripType")=="international";if(intl){this.fromAirportChooser.resetRegions(this.mRegion);this.toAirportChooser.resetRegions(this.mRegion);_.each(this.multiFromAirportChooser,_.bind(function(multiAirportChooser){multiAirportChooser.resetRegions(this.mRegion)},this));_.each(this.multiToAirportChooser,_.bind(function(multiAirportChooser){multiAirportChooser.resetRegions(this.mRegion)},this))}}},setDateChooser:function(type,
code,multiChooserId){var options={flightType:this.model.get("flightType"),paymentType:this.model.get("paymentType"),isReissue:this.model.get("isReissue"),isChange:this.model.get("isChange"),isPartial:this.model.get("isPartial"),isWishList:this.model.get("isWishList"),isSTA:this.options.isSTA},dateOptions={select:this.model.get("bounds").at(0).get("departure"),fromTime:this.model.get("bounds").at(0).get("depTime")},timeOptions={};if(this.model.get("isChange")&&this.model.get("isPartial")){if(this.model.get("flightType")!==
Booking.FLIGHT_TYPE.ONE_WAY){dateOptions.toSelect=this.model.get("bounds").at(1).get("departure");dateOptions.toTime=this.model.get("bounds").at(1).get("depTime")}}else if(this.model.get("flightType")===Booking.FLIGHT_TYPE.ROUND_TRIP){dateOptions.toSelect=this.model.get("bounds").at(1).get("departure");dateOptions.toTime=this.model.get("bounds").at(1).get("depTime")}else if(this.model.get("flightType")===Booking.FLIGHT_TYPE.MULTI_CITY&&multiChooserId)options.fromTime=this.model.get("bounds").at(Number(multiChooserId)+
1).get("depTime");if(code){var timeZ="";koreanair.Airports.getAirportList().done(_.bind(function(airportList){_.each(airportList,function(airport){if(airport.code==code){timeZ=airport.timezone;return false}});if(timeZ)if(type=="to"){timeOptions.toMax=moment.tz(moment([]),timeZ).add(361,"days").format("YYYY-MM-DD");if(this.options.isWishList)timeOptions.max=moment.tz(moment([]),timeZ).add(this.options.maxDate,"days").format("YYYY-MM-DD")}else{timeOptions.max=moment.tz(moment([]),timeZ).add(361,"days").format("YYYY-MM-DD");
if(this.options.isWishList)timeOptions.max=moment.tz(moment([]),timeZ).add(this.options.maxDate,"days").format("YYYY-MM-DD")}if(this.isMutilineChooser())if(multiChooserId)_.each(this.multiDateChooser,_.bind(function(multiDateChooser,index){if(multiChooserId==index)multiDateChooser.reset(_.extend(_.clone(options),{select:this.model.get("bounds").at(index+1)?this.model.get("bounds").at(index+1).get("departure"):this.model.get("bounds").at(index).get("departure"),eventId:"multi-to-date-"+index},timeOptions))},
this));else{timeOptions.toMax="";this.dateChooser.reset(_.extend(_.clone(options),dateOptions,timeOptions))}else this.dateChooser.reset(_.extend(_.clone(options),dateOptions,timeOptions))},this))}else if(this.isMutilineChooser()){this.dateChooser.reset(_.extend(_.clone(options),dateOptions));_.each(this.multiDateChooser,_.bind(function(multiDateChooser,index){multiDateChooser.reset(_.extend(_.clone(options),{select:this.model.get("bounds").at(index+1)?this.model.get("bounds").at(index+1).get("departure"):
this.model.get("bounds").at(index).get("departure"),eventId:"multi-to-date-"+index},timeOptions))},this))}else this.dateChooser.reset(_.extend(_.clone(options),dateOptions,timeOptions))},setFlex:function(status){var bounds=this.model.get("bounds").toJSON(),regions=[];_.each(bounds,function(bound){regions.push(bound.arrivalRegion);regions.push(bound.departureRegion)});regions=_.uniq(_.compact(regions));var multi_chooser=this.$(".airports-multi");if(!multi_chooser)multi_chooser=[];if(this.model.get("tripType")===
Booking.TRIP_TYPES.INTERNATIONAL&&this.model.get("paymentType")===Booking.PAYMENT_TYPES.REVENUE&&regions.length<3&&multi_chooser.length<2){$("#isFlex").attr({"disabled":false,"aria-disabled":false}).removeClass("disabled");if(status)this.$el.find(".tripDetails").addClass("flexible-mg");else this.$el.find(".tripDetails").removeClass("flexible-mg");this.$(".check-flexible").show();if($(".cabin-class input[name\x3dcabin-class][value\x3d"+Booking.CABIN_CLASS.ECONOMY+"]").attr("checked")=="checked"){$("#upgradable").attr({"disabled":false,
"aria-disabled":false}).removeClass("disabled");$(".bonus-upgrade-search").show()}}else{$("#isFlex").attr({"disabled":true,"aria-disabled":true}).addClass("disabled");this.$el.find(".tripDetails").removeClass("flexible-mg");this.$(".check-flexible").hide();$("#upgradable").attr({"disabled":true,"aria-disabled":true}).addClass("disabled");$(".bonus-upgrade-search").hide();if(!$(".upgrade-info").hasClass("dp-none"))$(".upgrade-info").addClass("dp-none");if(this.model.get("tripType")!==Booking.TRIP_TYPES.INTERNATIONAL||
this.model.get("paymentType")!==Booking.PAYMENT_TYPES.REVENUE)status=true}this.$("#isFlex").attr("checked",status);this.model.set("isFlex",status);if(status)if(this.$(".check-flexible").is(":visible")&&this.model.get("tripType")===Booking.TRIP_TYPES.INTERNATIONAL&&this.model.get("paymentType")===Booking.PAYMENT_TYPES.REVENUE){var flexInfo="\x3cp\x3e"+I18n.get("flex-info-label")+"\x3c/p\x3e";this.$("input#isFlex").attr("aria-describedby","checkbox-flex-message");this.$("#checkbox-flex-message").removeClass("dp-none");
this.$("#checkbox-flex-message").html(flexInfo)}else{this.$("#checkbox-flex-message").addClass("dp-none");this.$("#checkbox-flex-message").html("")}else{this.$("input#isFlex").removeAttr("aria-describedby");this.$("#checkbox-flex-message").addClass("dp-none");this.$("#checkbox-flex-message").html("")}},setErrorMessage:function(val,element){var $error=koreanair.utils.buildErrorElement(val,element);this.$("#booking-gate-from-to-chooser-error").append($error)},getErrorChooser:function(choosers){var result;
_.every(choosers,function(chooser){var isValid=true;if(!chooser.isDisable)isValid=chooser.validate();if(!isValid)result=chooser;return isValid});return result},resetModel:function(options,radioClick){var options=options||{},radioClick=radioClick||false,defaults=this.model.defaults;if(options.bounds&&radioClick)if(options.bounds.length==1)options.bounds.push(_.last(defaults.bounds));else{options.bounds=options.bounds.slice(0,1);options.bounds.push(_.last(defaults.bounds));options.bounds[0].departure=
"";options.bounds[0].arrival="";options.bounds[0].depTime=""}if(options.isSTA&&options.bounds.length==1){options.bounds.push(_.last(defaults.bounds));options.bounds[0].departure="";options.bounds[0].arrival=""}this.model.set("tripType",options.tripType||defaults.tripType);this.model.set("paymentType",options.paymentType||defaults.paymentType);this.model.set("flightType",options.flightType||defaults.flightType);this.model.get("bounds").reset(options.bounds||defaults.bounds);this.model.set("isFlex",
options.isFlex||defaults.isFlex);this.model.set("isChange",options.isChange||defaults.isChange);this.model.set("isPartial",options.isPartial||false);this.model.set("isReissue",options.isReissue||defaults.isReissue);this.model.set("preFill",options.preFill||false);this.model.set("inflowroute",options.inflowroute||defaults.inflowroute);this.model.set("isWishList",options.isWishList||false);this.$el.find(".multi-itr-controls button").off().on("click",this.multiButton.bind(this))},validateSameAirports:function(){var isValied=
true;if(this.fromAirportChooser.getData().code===this.toAirportChooser.getData().code){this.errorChooser=this.toAirportChooser;isValied=false}if(this.isMutilineChooser())_.each(this.multiFromAirportChooser,_.bind(function(multiAirportChooser,index){if(isValied&&this.multiFromAirportChooser[index].getData().code===this.multiToAirportChooser[index].getData().code){this.errorChooser=this.multiToAirportChooser[index];isValied=false}},this));return isValied},sameRegionCheck:function(){var bounds=this.model.get("bounds").toJSON(),
allowDep=bounds[0].departureAirport=="CMB"||bounds[0].departureAirport=="MLE",allowArr=bounds[0].arrivalAirport=="CMB"||bounds[0].arrivalAirport=="MLE";if(this.model.get("tripType")=="multi"||bounds[0].departureRegion=="Korea"||bounds[0].arrivalRegion=="Korea"||this.options.isSTA||allowDep&&allowArr)return true;else if(bounds[0].departureRegion==bounds[0].arrivalRegion){this.errorChooser=this.toAirportChooser;return false}else return true},validateDomesticAirports:function(){var isValied=true,checkChoosers,
koreaAirportChoosers;if(this.model.get("tripType")===Booking.TRIP_TYPES.INTERNATIONAL||this.options.isSTA){if(this.isMutilineChooser()){checkChoosers=_.union([this.fromAirportChooser,this.toAirportChooser],this.multiFromAirportChooser,this.multiToAirportChooser);koreaAirportChoosers=_.filter(checkChoosers,function(chooser){return chooser.isSelectedRegion("Korea")});var boundLength=this.isMultiTripOverThreeBound();if(boundLength){if(koreaAirportChoosers.length>boundLength*2-1)isValied=false}else if(koreaAirportChoosers.length>
3)isValied=false}else{checkChoosers=[this.fromAirportChooser,this.toAirportChooser];koreaAirportChoosers=_.filter(checkChoosers,function(chooser){return chooser.isSelectedRegion("Korea")||chooser.isSelectedRegion("KR")});if(koreaAirportChoosers.length>1)isValied=false}if(!isValied)_.every(koreaAirportChoosers,_.bind(function(korChooser){if(!korChooser.isDisable)this.errorChooser=korChooser;return korChooser.isDisable},this))}return isValied},setFlightType:function(type){$(".tripType").find("input").attr("checked",
false).prop("checked",false);$(".tripType").find("input").closest("li").find("label").removeClass("on");$(".tripType").find('input[value\x3d"'+type+'"]').attr("checked",true).prop("checked",true);$(".tripType").find("input:checked").closest("li").find("label").addClass("on");if(this.options.isSTA){$(".tripType").find('input[value\x3d"oneway"]').attr("disabled",true).parent().addClass("disabled");$(".tripType").find('input[value\x3d"oneway"]').parent().hide()}else if(!this.isReissueOrChange()){$(".tripType").find('input[value\x3d"oneway"]').removeAttr("disabled").parent().removeClass("disabled");
$(".tripType").find('input[value\x3d"oneway"]').parent().show()}this.model.set("flightType",type);this.$(".error").addClass("dp-none");this.setAirprotChooser();this.setDateChooser()},errorTopStatus:function(){if(this.options.option)if(this.model.get("tripType")===Booking.TRIP_TYPES.DOMESTIC)this.$(".error").addClass("pd-t20");else if(this.model.get("paymentType")===Booking.PAYMENT_TYPES.REVENUE)this.$(".error").removeClass("pd-t20");else this.$(".error").addClass("pd-t20");else this.$(".error").addClass("pd-t20")},
disableStatus:function(options,state){var methodName=state?"disable":"enable";_.each(options,_.bind(function(option,index){if(option)var lineNumber=option.lineNumber,isThisLineState=option.isThisLineState||false,from=option.from,to=option.to,date=option.date,multiIndex=lineNumber-1;if(lineNumber==0){if(isThisLineState||from)this.fromAirportChooser[methodName]();if(isThisLineState||to)this.toAirportChooser[methodName]();if(isThisLineState||date)this.dateChooser[methodName]()}else{if(isThisLineState||
from)this.multiFromAirportChooser[multiIndex][methodName]();if(isThisLineState||to)this.multiToAirportChooser[multiIndex][methodName]();if(isThisLineState||date)this.multiDateChooser[multiIndex][methodName]()}},this))},validate:function(options){Booking.dateMessage="";koreanair.utils.removeErrorElements(this.$("p.error"));var checkChoosers=[this.fromAirportChooser,this.toAirportChooser,this.dateChooser];if(this.isMutilineChooser())checkChoosers=_.union(checkChoosers,this.multiFromAirportChooser,this.multiToAirportChooser,
this.multiDateChooser);this.errorChooser=this.getErrorChooser(checkChoosers);if(this.errorChooser)if(this.errorChooser.moduleName=="date-chooser")this.setErrorMessage(this.errorChooser.getErrorMessage(),$($(this.errorChooser.el).find("input")));else this.setErrorMessage(this.errorChooser.getErrorMessage(),$($(this.errorChooser.el).find("input")));else{if(!this.validateSameAirports()){this.setErrorMessage(I18n.get("bounds-same-error-message"),$($(this.errorChooser.el).find("input")));return false}if(!this.sameRegionCheck()){var msg=
this.model.get("paymentType")=="revenue"?I18n.get("select-same-region-airports-rev-error"):I18n.get("select-same-region-airports-awd-error");this.setErrorMessage(msg,$($(this.errorChooser.el).find("input")));return false}if(this.model.get("inflowroute")=="giftTicket"||options.returnGate||options.isReissue||options.isChange||this.options.isSTA)if(options&&options.domesticAirportsCheck)if(!this.validateDomesticAirports())if(options&&options.returnGate){var errorMsg="\x3cp\x3e"+I18n.get("select-domestic-airports-change-error")+
"\x3c/p\x3e";koreanair.Modal.confirm(errorMsg,{button:true,confirmLabel:I18n.get("confirm-label"),cancelLabel:I18n.get("cancel-confirm-label")}).done(_.bind(function(){this.resetDomesticChange();var params=koreanair.BookingBar.Controller.getQueryStringParams(),param=$.param(params);koreanair.utils.setSessionStorage(param,Booking.STORAGE_KEY.BOOKING_GATE);koreanair.utils.goTo("/booking/booking-gate.html#bookingChange")},this))}else{var errorMsg=this.isReissueOrChange()?I18n.get("select-domestic-airports-error"):
I18n.get("select-domestic-radio-label");if(this.options.isSTA)errorMsg=I18n.get("select-domestic-STA-radio-label");if(options.isWishList)errorMsg=I18n.get("alert-domestic-select-err");var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(errorMsg,$("#booking-gate-from-to-chooser-error2"),true);errorContainer.html($error);this.errorFocus();return false}if(this.isMutilineChooser()){var fromDate=this.dateChooser.getData("X").select;var toTime=[];var dateChooserSelectArr;
_.each(this.multiDateChooser,_.bind(function(multiDateChooser){toTime.push(multiDateChooser.getData("X").select)},this));dateChooserSelectArr=_.union([fromDate],toTime);_.every(_.union([this.dateChooser],this.multiDateChooser),_.bind(function(chooser,index){var isValid=true;if(dateChooserSelectArr[index]>dateChooserSelectArr[index+1]){this.errorChooser=chooser;this.setErrorMessage(chooser.getErrorMessage());isValid=false}return isValid},this))}if(this.options.isSTA&&this.model.get("flightType")===
Booking.FLIGHT_TYPE.MULTI_CITY){var bounds=this.model.get("bounds").toJSON(),hasDom=false;_.each(bounds,function(bound){if(bound.departureCountry==="KR"&&bound.arrivalCountry==="KR")hasDom=true});var errorMsg=I18n.get("select-domestic-STA-radio-label");if(hasDom){var errorContainer=$("#booking-gate-from-to-chooser-error2"),$error=koreanair.utils.buildErrorElement(I18n.get("select-domestic-STA-radio-label"),$("#booking-gate-from-to-chooser-error2"),true);errorContainer.html($error);this.errorFocus();
return false}}}return!this.errorChooser},errorFocus:function(){if(this.errorChooser)this.errorChooser.errorFocus()},disable:function(options){this.disableStatus(options,true);return this},enable:function(options){this.disableStatus(options,false);return this},reset:function(options){this.resetModel(options);var len=options.isReissue||options.isChange?1:2;this.options.isSTA=options.isSTA;if(this.options.isWishList)this.options.maxDate=options.maxDate;if(koreanair.Country==="jp"&&!options.preFill)if(this.model.get("tripType")==
"international")this.model.set("isFlex",true);else this.model.set("isFlex",false);if(options.preFill&&options.bounds.length>len){if($("ul.airports-multi").length<options.bounds.length-1)_.each(options.bounds,_.bind(function(bound,index){if(index>0){if(index==options.bounds.length-1)this.addBoundsLastIndex=true;this.increaseMultiChooser()}},this))}else if(options.flightType=="multi"&&options.bounds.length==2&&options.preFill){this.addBoundsLastIndex=true;if($("ul.airports-multi").length<1)this.increaseMultiChooser()}else{this.setFlightType(this.model.get("flightType"));
this.setFlex(this.model.get("isFlex"));this.dispatchEvent("input:change",options.preFill)}this.errorTopStatus();if(!options.preFill&&this.multiFromAirportChooser.length>0)this.resetMultiChooser();if(!options.preFill)if(this.model.get("flightType")!="multi")this.removeMultiChooserTemplate(0);this.showHideMultiChooserPlusButton();if(this.model.get("preFill"))this.model.set("preFill",false)},resetDomesticChange:function(){var itinerary=koreanair.router.itinerary;itinerary.set("isDomestic",true);itinerary.get("bounds").reset(this.model.get("bounds").toJSON());
if(itinerary.get("originalCabinClass")=="FIRST")itinerary.get("bounds").each(function(bound){bound.set("cabinClass","ECONOMY")});if(itinerary.get("bounds").length>2)for(var idx=itinerary.get("bounds").length-1;idx>1;idx--)itinerary.get("bounds").at(idx).destroy()},resetTripType:function(){var bounds=this.model.get("bounds").toJSON(),tripType=this.getTripType(bounds);this.model.set("tripType",tripType);this.fromAirportChooser.resetTripType(tripType);this.toAirportChooser.resetTripType(tripType);if(!this.model.get("preFill")&&
this.model.get("tripType")==Booking.TRIP_TYPES.INTERNATIONAL)if(koreanair.Country==="jp")this.setFlex(true);else this.setFlex(false);else this.setFlex(this.model.get("isFlex"));if(this.model.get("paymentType")=="award")if(tripType=="domestic"){if(!$("#sta-sk").attr("checked"))$("#sta-sk").attr("disabled",true)}else $("#sta-sk").attr("disabled",false);this.dispatchEvent("input:tripType")},getTripType:function(bounds){if(this.model.get("flightType")==="multi"){var regArr=[];_.each(bounds,function(bound){regArr.push(bound.departureRegion);
regArr.push(bound.arrivalRegion)});regArr=_.uniq(regArr);if(regArr.length==1&&(regArr[0]==="Korea"||regArr[0]==="KR")){this.model.set("isDomestic",true);return Booking.TRIP_TYPES.DOMESTIC}else{this.model.set("isDomestic",false);return Booking.TRIP_TYPES.INTERNATIONAL}}else if(this.options.isChange||this.options.isReissue)return this.model.get("tripType");else if((bounds[0].departureRegion==="Korea"||bounds[0].departureCountry==="KR")&&(bounds[0].arrivalRegion==="Korea"||bounds[0].arrivalCountry===
"KR")){this.model.set("isDomestic",true);return Booking.TRIP_TYPES.DOMESTIC}else{this.model.set("isDomestic",false);return Booking.TRIP_TYPES.INTERNATIONAL}},getData:function(){return this.model.toJSON()},changeButtonAttr:function(e){if(e.button==2)return;var $button=$(e.currentTarget);if(e.type=="mousedown"||e.type=="mouseup")if(e.type=="mousedown"){this.keydownState=true;$button.attr("aria-pressed",true)}else{if(e.type=="mouseup"){$button.attr("aria-pressed",false);if(this.keydownState){this.keydownState=
false;this.multiButton(e)}}}else if(e.type=="keydown"||e.type=="keyup"){var keyCode=window.event?e.which:e.keyCode;if(keyCode==$.ui.keyCode.ENTER||keyCode==$.ui.keyCode.SPACE)if(e.type=="keydown"){this.keydownState=true;$button.attr("aria-pressed",true)}else if(e.type=="keyup"){$button.attr("aria-pressed",false);if(this.keydownState){this.keydownState=false;this.multiButton(e)}}}},disableButton:function(){var $button=$("#boundList").children("ul"),$increaseButton=$button.find("button.increase"),$decreaseButton=
$button.find("button.decrease");if($button.length>5)$increaseButton.prop("disabled",true);else if($button.length<3)if(this.isReissueOrChange()){$increaseButton.prop("disabled",true);$decreaseButton.prop("disabled",true)}else $decreaseButton.prop("disabled",true);else{$increaseButton.removeAttr("disabled");$decreaseButton.removeAttr("disabled")}},setFocusAfterAddedBound:function(){setTimeout(_.bind(function(){$("#boundList \x3e .airports-multi").last().find(".airports-departure-area input[type\x3dtext]").focus()},
this),100)},resetAirportChooser:function(){if(this.fromAirportChooser)this.fromAirportChooser.resetDomesticAirportList();if(this.toAirportChooser)this.toAirportChooser.resetDomesticAirportList();if(this.multiChooserNum>0){_.each(this.multiFromAirportChooser,_.bind(function(multiFromAirportChooser,index){multiFromAirportChooser.resetDomesticAirportList()}));_.each(this.multiToAirportChooser,_.bind(function(multiToAirportChooser,index){multiToAirportChooser.resetDomesticAirportList()}))}}});koreanair.FromToChooser=
FromToChooser})(jQuery,koreanair,Handlebars.templates,koreanair.Booking,koreanair.Airports,Granite.I18n);
(function(_,$,Backbone,Templates,koreanair,BookingBar,$B){BookingBar.MainMenu=BookingBar.MainMenu||{};BookingBar.MainMenu.closeMainMenu=function(){if($("#mainmenu").hasClass("open"))$("#mainmenu").slideUp(200,function(){$("#mainmenu").removeClass("open");$("#menu-item").removeClass("active");$("#top-nav-menu").attr("aria-expanded","false");$("body").removeClass("freeze");$("#top-nav-menu").focus()})};BookingBar.MainMenu.openMainMenu=function(){koreanair.closeRegionSelect();$("#mainmenu").slideDown(400,
function(){$("#mainmenu").addClass("open");$("#mainmenu").find(":tabbable").first().focus();$("#menu-item").addClass("active");$("#top-nav-menu").attr("aria-expanded","true");$("body").addClass("freeze");$("#myFlightsDropDown").slideUp()})};var Base=koreanair.View.extend({template:Templates["booking-bar-base"],events:{"click #top-nav-book":"transitionToBookAFlight","click #top-nav-menu":"transitionToMegaMenu","click #top-nav-my-flights":"transitionToMyFlights","click .cancelChanges":"cancelRevisedBookingSearch",
"click #top-nav-checkin":"showCheckInPanel","click #bookingClose":"bookingClose","click #top-nav-status":"toggleFlightStatusPanel"},render:function(){var html=this.template({base:this.options.viewModel,notPC:$B.ua.ANDROID||$B.ua.MOBILE_IOS});this.$el.html(html);$("#mainmenuClose button").on("click",_.bind(this.transitionToMegaMenu,this));$("#mainmenuClose button").on("keydown",function(event){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.TAB)if(!event.shiftKey)BookingBar.MainMenu.closeMainMenu()});
$("#topMenu").on("keydown",function(event){var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.ESCAPE)koreanair.BookingBar.MainMenu.closeMainMenu()});return this},transitionToMegaMenu:function(){this.topNavClose(false);if($("#mainmenu").hasClass("open"))BookingBar.MainMenu.closeMainMenu();else BookingBar.MainMenu.openMainMenu();return false},transitionToBookAFlight:function(e){e.preventDefault();koreanair.utils.goTo("/booking/booking-gate.html")},transitionToMyFlights:function(){BookingBar.Controller.transitionToMyFlights();
return false},transitionToChoosePassengers:function(event){event.preventDefault();BookingBar.Controller.expandBookingBar();this.isBookingFlow(event.target);BookingBar.Controller.transitionToChoosePassengers()},transitionToSelectDiscounts:function(event){event.preventDefault();BookingBar.Controller.expandBookingBar();BookingBar.Controller.transitionToSelectDiscounts()},cancelRevisedBookingSearch:function(event){event.preventDefault();BookingBar.Controller.progressView.resetBookingSteps()},isBookingFlow:function(targetElement){if(BookingBar.Controller.isBookingFlow())$("#topNav").addClass("bookingFlow");
else $("#topNav").removeClass("bookingFlow")},performSearch:function(){BookingBar.Controller.performSearch()},createCheckInPanel:function(){var searchPanel=new koreanair.checkin.views.SearchPanel;$(".logoNav").append(searchPanel.el);return searchPanel},showCheckInPanel:function(event){this.topNavClose(true);if(this.checkinPanel)this.checkinPanel.remove();$("#checkin-item").addClass("active");window.scroll(0,0);this.checkinPanel=this.createCheckInPanel();this.checkinPanel.$el.show().find(".login-content \x3e button").focus();
koreanair.tabbable.checkin()},toggleFlightStatusPanel:function(e){e.preventDefault();koreanair.utils.goTo("/booking/schedule-flight.html")},bookingClose:function(e){e.preventDefault();var $dropdown=$("#bookingDropDown");var $body=$("body");$body.removeClass("freeze");$dropdown.slideUp(400);$(".booking-start").remove();$("#book-a-flight-item").css({"width":"auto","padding-right":""});$("#book-a-flight-item").siblings().show();$("#top-nav-book").fadeToggle("fast");koreanair.BookingBar.Controller.progressView=
undefined;koreanair.BookingBar.Controller.clearViews()},topNavClose:function(menu){if(menu)if($("#mainmenu").hasClass("open"))this.transitionToMegaMenu();if($("#top-nav-checkin").hasClass("open")){$("#top-nav-checkin").removeClass("open");$("#checkin-close").find("a.close").click()}if($("#top-nav-status").hasClass("open")){$("#top-nav-status").removeClass("open");$("#search-panel-close-button").click()}}});BookingBar.BaseView=Base})(_,jQuery,Backbone,Handlebars.templates,koreanair,koreanair.BookingBar,
ixBand);
(function(_,$,Backbone,Templates,koreanair,Booking,BookingBar,Airports,moment,focusUtil){var preservedCalendar="";var calendarDates=[];var openClick=false;var TripSelector=Backbone.View.extend({template:Templates["booking-bar-trip-selector"],toFromTemplate:Templates["booking-bar-to-from-date"],events:{"click #trip-region-dom":"tripRegionSelected","click #trip-region-intl":"tripRegionSelected","click .typeSelector":"tripTypeSelected","focus .fromInput":"onInputFocus","focus .toInput":"onInputFocus",
"focus .dateInput":"calendarInputFocused","blur .fromInput":"onInputBlur","blur .toInput":"onInputBlur","blur .dateInput":"calendarInputBlurred","click .dateSelectorButton":"dateCalendarClicked",'click input[name\x3d"isFlex"]':"enableFlexDates",'click input[name\x3d"isAward"]':"enableAward","click .addBound":"addMultiCityBound","click .removeBound":"removeMultiCityBound","click #multiCitySelector .info-button":"displayMultiCityModal"},render:function(){Airports.setAirportList(this.bookingType);var html=
this.template(this.model.toJSON());this.$el.html(html);if(koreanair.Lang=="ko"&&!this.isBookingFlow()&&!this.model.isReissue())this.model.set("isDomestic",true);if(this.model.get("isDomestic"))$("#trip-region-dom").prop("checked",true).closest(".trip-region").addClass("on");else $("#trip-region-intl").prop("checked",true).closest(".trip-region").addClass("on");this.fromDefault=this.$el.find(".fromInput").attr("placeholder");this.toDefault=this.$el.find(".toInput").attr("placeholder");this.dateDefault=
this.$el.find(".dateInput").val();this.region=this.$el.find("#regionTypeSelector").find("input:checked").data("region");this.setCurrentValues();if(this.model.get("bookingType")!==Booking.PAYMENT_TYPES.REVENUE||this.model.get("tripType")===Booking.TRIP_TYPES.MULTI_CITY||this.model.isChange()||this.model.isReissue())$(".flexDates").hide();$(window).resize(_.bind(this.updateTripTypeGap,this));koreanair.CustomForms.renderTabBars($("#bookingDropDown"));this.updateTripTypeGap();Airports.getOrigins(this.bookingType,
this.fromAirportsDataReceived.bind(this));Airports.getDestinations(this.bookingType,this.toAirportsDataReceived.bind(this));Airports.getOriginsByRegion(this.bookingType,this.updateFromAirports.bind(this));Airports.getDestinationsByRegion(this.bookingType,this.updateToAirports.bind(this));return this},initialize:function(){_.bindAll(this);this.bookingType=this.model.get("bookingType");this.validateTripSelections=BookingBar.controller.validateTripSelections},isBookingFlow:function(){return BookingBar.controller.isBookingFlow()},
setCurrentValues:function(){var isOneWay=this.model.isOneWay(),isRoundTrip=this.model.isRoundTrip(),isMultiCity=this.model.isMultiCity(),isChange=this.model.isChange()||this.model.isReissue(),tripBounds=this.model.get("bounds"),fromField=null,toField=null,dateField=null,depAirport="",arrAirport="",depDate="";if(isRoundTrip){this.tripTypeObject=this.$el.find(".selected");if(isChange)this.matchInputsToBounds()}else{$(".tabbar-option a").removeClass("selected");if(isOneWay)this.tripTypeObject=$("#oneWaySelector a");
else{this.tripTypeObject=$("#multiCitySelector a");this.matchInputsToBounds()}this.tripTypeObject.addClass("selected")}calendarDates=[];if(isMultiCity||isChange)for(var i=0;i<tripBounds.length;i++){fromField=$(this.$el.find(".fromInput").get(i));toField=$(this.$el.find(".toInput").get(i));dateField=$(this.$el.find(".dateInput").get(i));var boundCanChange=!_.isUndefined(tripBounds.models[i].get("toBeChanged"))?Boolean(tripBounds.models[i].get("toBeChanged")):isMultiCity;depAirport=tripBounds.models[i].get("departureAirport");
if(depAirport!==""){fromField.val(Granite.I18n.get(depAirport+"-airport-label ({0})",[depAirport])+" ");fromField.attr("data-option",depAirport);fromField.blur();if(i===0&&this.model.isReissue()&&!this.model.get("isDomestic")||!boundCanChange)fromField.parent().parent().parent().addClass("disableInput");else fromField.addClass("beenUsed")}arrAirport=tripBounds.models[i].get("arrivalAirport");if(arrAirport!==""){toField.val(Granite.I18n.get(arrAirport+"-airport-label ({0})",[arrAirport])+" ");toField.attr("data-option",
arrAirport);toField.blur();if(!boundCanChange)toField.parent().parent().parent().addClass("disableInput");else toField.addClass("beenUsed")}depDate=tripBounds.models[i].get("departure");if(depDate!==""){dateField.val(moment.withZone(depDate).format(Booking.INPUT.DATE_FORMAT));if(!boundCanChange)dateField.parent().parent().addClass("disableInput");else dateField.blur()}}else{fromField=this.$el.find(".fromInput");toField=this.$el.find(".toInput");dateField=this.$el.find(".dateInput");depAirport=tripBounds.first().get("departureAirport");
if(depAirport!==""){fromField.val(Granite.I18n.get(depAirport+"-airport-label ({0})",[depAirport]));fromField.attr("data-option",depAirport);fromField.blur();fromField.addClass("beenUsed")}arrAirport=tripBounds.first().get("arrivalAirport");if(arrAirport!==""){toField.val(Granite.I18n.get(arrAirport+"-airport-label ({0})",[arrAirport]));toField.attr("data-option",arrAirport);toField.blur();toField.addClass("beenUsed")}depDate=tripBounds.first().get("departure");if(isOneWay){if(depDate!==""){dateField.val(moment.withZone(depDate).format(Booking.INPUT.DATE_FORMAT));
dateField.blur();dateField.addClass("beenUsed");calendarDates[0]=moment.withZone(depDate).startOf("day").toDate()}}else{var retDate=tripBounds.last().get("departure");if(depDate!==""&&retDate!==""){dateField.val(moment.withZone(depDate).format(Booking.INPUT.DATE_FORMAT)+" - "+moment.withZone(retDate).format(Booking.INPUT.DATE_FORMAT));dateField.blur();calendarDates[0]=moment.withZone(depDate).startOf("day").toDate();calendarDates[1]=moment.withZone(retDate).startOf("day").toDate()}}}if(this.model.get("award"))$("#isAward").attr("checked",
true)},displayMultiCityModal:function(){var multicityTip=Granite.I18n.get("multi-stopover-info-label");var multicityNotBookable=Granite.I18n.get("multi-not-bookable-label");var modalContent='\x3cdiv class\x3d"multicity-info-modal"\x3e\x3cp\x3e'+multicityTip+"\x3c/p\x3e"+"\x3cp\x3e"+multicityNotBookable+"\x3c/p\x3e\x3c/div\x3e";koreanair.Modal.info(modalContent)},getAirportName:function(airportCode,targetInput){return $('.flyout [data-option\x3d"'+airportCode+'"]:first')},fromAirportsDataReceived:function(airportList){if(_.isObject(this.tempToAirportObject))airportList.push(this.tempToAirportObject);
if(!this.model.isChange()&&!this.model.isReissue()){var enMergeAirports=airportList.concat(Airports.engOriginAirports);this.updateAutofillAirports($(".fromInput"),enMergeAirports)}},updateFromAirports:function(airports){if((this.model.isChange()||this.model.isReissue())&&this.model.get("isDomestic")){var containingRegion=[];$(".fromInput").each(_.bind(function(index,el){_.forEach(airports,function(region){var containsAirport=false;_.forEach(region.airports,function(airport){if(airport.code===$(el).attr("data-option"))containsAirport=
true});if(containsAirport)containingRegion.push(region)});var thisFromSelector=$(el).closest(".fromSelector");this.updateAirportsDropdown(thisFromSelector,$(thisFromSelector.find(".fromFlyout")),containingRegion);this.updateAirportInputs($(el));if(index===0){var enMergeAirports=containingRegion[0].airports.concat(Airports.engOriginAirports);this.updateAutofillAirports($(".fromInput").first(),enMergeAirports);this.updateAutofillAirports($(".toInput").last(),enMergeAirports)}},this))}else{this.updateAirportsDropdown($(".fromSelector"),
$(".fromFlyout"),_.sortBy(airports,"name"));this.updateAirportInputs($(".fromInput"))}},toAirportsDataReceived:function(airportList){if(!this.model.isChange()&&!this.model.isReissue()){var enMergeAirports=airportList.concat(Airports.engDestinationAirports);this.updateAutofillAirports($(".toInput"),enMergeAirports)}},updateAutofillAirports:function($target,airportList){if(this.model.get("isDomestic")){var domesticList=_.where(airportList,function(list){return list.country.code=="KOREA, REPUBLIC OF"});
airportList=domesticList}var pluckedNameArray=_.pluck(airportList,"name");var pluckedCodeArray=_.pluck(airportList,"code");var combinedAirportArray=[];for(var i=0;i<pluckedNameArray.length;i++)combinedAirportArray.push({"label":pluckedNameArray[i],"subLabel":pluckedNameArray[i].split("(")[0].split("/")[1]||"","value":pluckedCodeArray[i]});$target.autocompleteAria({source:function(request,response){var searchResults=[],kor2eng=koreanair.ime.kor2eng,searchTerm=$.ui.autocomplete.escapeRegex(request.term);
var matchFunc=function(src){var stPl=new RegExp("^"+searchTerm,"i"),stGl=new RegExp("^"+kor2eng(searchTerm),"i");return stPl.test(src)||stGl.test(kor2eng(src))};var airportCodeStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.value)});searchResults=searchResults.concat(airportCodeStartsWith);var airportSubNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.subLabel?
airport.subLabel.trim():airport.subLabel)});searchResults=searchResults.concat(airportSubNameStartsWith);var airportNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&matchFunc(airport.label)});var sortedAirportNameStartsWithAndContains=_.sortBy(airportNameStartsWith,"sort");searchResults=searchResults.concat(sortedAirportNameStartsWithAndContains);response(searchResults)},autoFocus:true,position:{my:"left top",at:"left bottom",collision:"flipfit",
within:$("#bookingSteps \x3e div")},select:_.bind(function(event,ui){this.updateBoundsFromAutoFill(event,ui);return true},this),focus:_.bind(function(event,ui){$(event.fromElement).attr("aria-label",ui.item.label);$(event.target).data("uiAutocompleteAria").liveRegion.append("\x3cdiv\x3e"+ui.item.label+"\x3c/div\x3e")},this)})},addToAirporttoFromAirports:function(airportObject){this.tempToAirportObject=airportObject},updateToAirports:function(airports){if((this.model.isChange()||this.model.isReissue())&&
this.model.get("isDomestic")){var containingRegion=[];var toAirportObject;$(".toInput").each(_.bind(function(index,el){_.forEach(airports,function(region){var containsAirport=false;_.forEach(region.airports,function(airport){if(airport.code===$(el).attr("data-option")){containsAirport=true;toAirportObject=airport}});if(containsAirport)containingRegion.push(region)});var thisToSelector=$(el).closest(".toSelector");this.updateAirportsDropdown(thisToSelector,$(thisToSelector.find(".toFlyout")),containingRegion);
this.updateAirportInputs($(el));if(index===0){var enMergeAirports=containingRegion[0].airports.concat(Airports.engDestinationAirports);this.updateAutofillAirports($(".toInput").first(),enMergeAirports);this.updateAutofillAirports($(".fromInput").last(),enMergeAirports)}this.addToAirporttoFromAirports(toAirportObject)},this))}else{this.updateAirportsDropdown($(".toSelector"),$(".toFlyout"),_.sortBy(airports,"name"));this.updateAirportInputs($(".toInput"))}},updateAirportInputs:function(selector){if(this.isBookingFlow()&&
!selector.attr("data-label")){var $fromInput=$(".fromInput"),$fromOption=this.getAirportName($fromInput.attr("data-option")),fromLabel=$fromOption.text(),fromCode=$fromOption.attr("data-option"),$toInput=$(".toInput"),$toOption=this.getAirportName($toInput.attr("data-option")),toLabel=$toOption.text(),toCode=$toOption.attr("data-option");$fromInput.attr("data-label",fromLabel);$toInput.attr("data-label",toLabel);$fromInput.attr("data-option",fromCode);$toInput.attr("data-option",toCode)}},updateAirportsDropdown:function($target,
$flyout,regions){var html;if(this.model.get("isDomestic"))html=Templates["booking-bar-airports-dropdown"]({regions:Airports.sortedDropdownDomAirports(_.findWhere(regions,{"code":"Korea"}).airports),regionType:"domestic"});else html=Templates["booking-bar-airports-dropdown"]({regions:Airports.sortedDropdownAirports(regions),regionType:"international"});$flyout.html(html);if(this.model.get("isDomestic"))koreanair.CustomForms.bindDomesticFlyouts($target,this.updateBoundsFromDropdown);else koreanair.CustomForms.bindFlyouts($target,
this.updateBoundsFromDropdown)},matchInputsToBounds:function(){$("#tripDetailsContainer").html(this.toFromTemplate());var fromAirports,toAirports;if(this.model.isChange()||this.model.isReissue()){fromAirports=Airports.concatEngAirports("destinationAirports");toAirports=Airports.concatEngAirports("originAirports");this.updateAutofillAirports($(".fromInput").last(),fromAirports);this.updateAutofillAirports($(".toInput").last(),toAirports)}else{fromAirports=Airports.concatEngAirports("originAirports");
toAirports=Airports.concatEngAirports("destinationAirports");this.updateAutofillAirports($(".fromInput"),fromAirports);this.updateAutofillAirports($(".toInput"),toAirports)}this.updateAirportsDropdown($(".fromSelector").last(),$(".fromFlyout").last(),Airports.originAirportsByRegion);this.updateAirportsDropdown($(".toSelector").last(),$(".toFlyout").last(),Airports.destinationAirportsByRegion);if(this.model.get("tripType")===Booking.TRIP_TYPES.MULTI_CITY||this.model.isChange()||this.model.isReissue())while($("#tripDetailsContainer .individualTripDetailsContainer").length!==
this.model.get("bounds").length)this.addBound();this.updateCalendarInputs()},tripRegionSelected:function(e){this.region=$(e.currentTarget).data("region");if(this.region=="domestic")this.model.set("isDomestic",true);else this.model.set("isDomestic",false);$(".trip-region").removeClass("on");$(e.currentTarget).closest(".trip-region").addClass("on");this.model.resetBounds();this.updateAirportInputs($(".fromInput"));this.matchInputsToBounds();this.updateCalendarInputs();this.setCurrentValues();window.setTimeout(_.bind(function(){this.updateTripTypeGap()},
this),400)},tripTypeSelected:function(e){e.preventDefault();if(this.model.get("tripType")!==$(e.currentTarget).attr("data")){this.model.set("tripType",$(e.currentTarget).attr("data"));this.model.resetBounds();this.updateAirportInputs($(".fromInput"));this.matchInputsToBounds();this.updateCalendarInputs();this.setCurrentValues();window.setTimeout(_.bind(function(){this.updateTripTypeGap()},this),400)}calendarDates=[];if(this.model.get("bookingType")!==Booking.PAYMENT_TYPES.REVENUE||this.model.get("tripType")===
Booking.TRIP_TYPES.MULTI_CITY||this.model.isChange()||this.model.isReissue())$(".flexDates").hide();else $(".flexDates").show();this.model.set("isFlex",$("#isFlex").is(":checked"))},updateTripTypeGap:function(){if(!this.model.isChange()&&!this.model.isReissue()){var totalWordsWidth=this.$el.find("#oneWaySelector").width()+this.$el.find("#roundTripSelector").width()+this.$el.find("#multiCitySelector").width()+this.$el.find("#myTrips").width();var paddingLeft=Number(this.$el.find("#oneWaySelector").css("left").replace("px",
""));var paddingRight=Number(this.$el.find("#myTrips").css("right").replace("px",""));var newGap=(this.$el.find("#tripTypeSelector").width()-totalWordsWidth-paddingLeft-paddingRight)/3;var secondLeft=paddingLeft+this.$el.find("#oneWaySelector").width()+newGap;var secondRight=paddingRight+this.$el.find("#myTrips").width()+newGap;this.$el.find("#roundTripSelector").css("left",secondLeft+"px");this.$el.find("#multiCitySelector").css("right",secondRight+"px")}},calendarInputFocused:function(e){var $calendarInput=
$(e.currentTarget);$calendarInput.siblings(".dateSelectorButton").children("img").click()},onInputFocus:function(e){var $targetInput=$(e.currentTarget),isFromInput=$targetInput.hasClass("fromInput"),defaultValue=isFromInput?this.fromDefault:this.toDefault;$targetInput.val($targetInput.val().trim());this.focusInput($targetInput,defaultValue);$targetInput.addClass("beenUsed")},focusInput:function(focusedField,defaultValue){if(focusedField.val()===defaultValue){focusedField.val("");focusedField.addClass("beenUsed")}},
updateBoundsFromAutoFill:function(event,ui){event.preventDefault();var $targetOption=$(event.target),airportCode=ui.item.value,aiportLabel=ui.item.label,$targetInput=$targetOption.closest(".autoFillHolder").find("input:first");$targetInput.attr("data-option",airportCode);$targetInput.attr("data-label",aiportLabel);$targetInput.val(aiportLabel)},updateBoundsFromDropdown:function(event){var $targetOption=$(event.target),airportCode=$targetOption.attr("data-option"),aiportLabel=$targetOption.text(),
$targetInput=$targetOption.closest(".autoFillHolder").find("input:first");$targetInput.attr("data-option",airportCode);$targetInput.attr("data-label",aiportLabel);$targetOption.closest(".autoFillHolder").find("\x3ea").focus()},addMultiCityBound:function(event){if($("#tripDetailsContainer .individualTripDetailsContainer").length<6){this.addBound();var currentBounds=this.model.get("bounds");currentBounds.push({});this.model.set("bounds",currentBounds)}},addBound:function(){$("#tripDetailsContainer").append(this.toFromTemplate());
$(".addBound").replaceWith('\x3ca class\x3d"removeBound boundButton" href\x3d"#" alt\x3d"Click to remove flight"\x3e\x3c/a\x3e');if($("#tripDetailsContainer .individualTripDetailsContainer").length<6&&!(this.model.get("isChange")||this.model.get("isReissue")));if($(".tripDetailsSelector").length>=3)$("#isAward").attr("disabled",true);var newestDateField=this.$el.find(".dateInput").last();newestDateField.addClass("singleDate");newestDateField.attr("placeholder",Granite.I18n.get("depart-return-label-single"));
BookingBar.Controller.updateMaxDropDownHeight();var fromAirports,toAirports;if(this.model.isChange()||this.model.isReissue()){fromAirports=Airports.concatEngAirports("destinationAirports");toAirports=Airports.concatEngAirports("originAirports");this.updateAutofillAirports($(".fromInput").last(),Airports.destinationAirports);this.updateAutofillAirports($(".toInput").last(),Airports.originAirports)}else{fromAirports=Airports.concatEngAirports("originAirports");var completeAirportList=Airports.engCompleteAirportList();
this.updateAutofillAirports($(".fromInput:first"),fromAirports);this.updateAutofillAirports($(".fromInput:gt(0)"),completeAirportList);this.updateAutofillAirports($(".toInput"),completeAirportList)}var completeAirportsByRegion=Airports.completeAirportListByRegion();this.updateAirportsDropdown($($(".fromSelector").last()),$($(".fromFlyout").last()),completeAirportsByRegion);this.updateAirportsDropdown($($(".toSelector").last()),$($(".toFlyout").last()),completeAirportsByRegion)},removeMultiCityBound:function(event){var boundElement=
$(event.currentTarget).parent();var currentBounds=this.model.get("bounds");currentBounds.remove(currentBounds.at(boundElement.index()));this.model.set("bounds",currentBounds);boundElement.remove();if(!$.contains($("#tripDetailsContainer .individualTripDetailsContainer").last(),'\x3ca class\x3d"addBound boundButton" href\x3d"#" alt\x3d"Click to add flight"\x3e+\x3c/a\x3e'))$($("#tripDetailsContainer .individualTripDetailsContainer").last()).append('\x3ca class\x3d"addBound boundButton" href\x3d"#" alt\x3d"Click to add flight"\x3e+\x3c/a\x3e');
if($(".tripDetailsSelector").length<3)$("#isAward").removeAttr("disabled")},enableFlexDates:function(event){this.model.set("isFlex",$(event.target).is(":checked"))},enableAward:function(){var self=this;BookingBar.controller.canPayWithMiles().always(function(){$("#isAward").prop("checked",this.state()==="resolved");self.model.set("award",this.state()==="resolved")});if($("#isAward").is(":checked"))$('label[for\x3d"isFlex"]').hide();else $('label[for\x3d"isFlex"]').show()},onInputBlur:function(event){var $targetInput=
$(event.currentTarget),isFromInput=$targetInput.hasClass("fromInput"),defaultValue=isFromInput?this.fromDefault:this.toDefault,inputValue=$targetInput.val(),firstAirportType=isFromInput?"departureAirport":"arrivalAirport",secondAirportType=isFromInput?"arrivalAirport":"departureAirport",validAirportObject=null,airportList;if(isFromInput){var isMultiCity=BookingBar.controller.bookingitinerary.get("tripType")===Booking.TRIP_TYPES.MULTI_CITY;var completeAirportList;if(isMultiCity)completeAirportList=
Airports.engCompleteAirportList();airportList=isMultiCity?completeAirportList:Airports.concatEngAirports("originAirports");if(inputValue.length===3&&inputValue!==defaultValue)validAirportObject=_.findWhere(airportList,{"code":inputValue.toUpperCase()});else validAirportObject=_.findWhere(airportList,{"name":inputValue})}else{airportList=Airports.concatEngAirports("destinationAirports");if(inputValue.length===3&&inputValue!==defaultValue)validAirportObject=_.findWhere(airportList,{"code":inputValue.toUpperCase()});
else validAirportObject=_.findWhere(airportList,{"name":inputValue})}if(validAirportObject){$targetInput.attr("data-option",validAirportObject.code);$targetInput.val(validAirportObject.name);if(isFromInput){var date=$targetInput.closest(".tripDetailsSelector").find(".dateSelector input.dateInput").val();if(date){date=date.split(" ").join("").split("-")[0];if(BookingBar.controller.isInvalidAdvancedBookingDays(date,validAirportObject.bookAvailable))$("#flightError").text(Granite.I18n.get("advanced-booking-date-error-message")).css("display",
"block")}}var boundIndex=this.$el.find($targetInput.parent().parent().parent().parent().parent()).index();var bounds=this.model.get("bounds");this.updateBounds(bounds.models[boundIndex],firstAirportType,validAirportObject.code);if(this.model.isRoundTrip()&&!(this.model.isChange()||this.model.isReissue()))this.updateBounds(bounds.last(),secondAirportType,validAirportObject.code);if(this.model.isMultiCity()&&this.checkForInternational()&&this.allBoundsFilled())$(this.$el.find(".addBound")).removeClass("disabled");
else $(this.$el.find(".addBound")).addClass("disabled")}},allBoundsFilled:function(){var bounds=this.model.get("bounds").toJSON();var allFilled=true;_.forEach(bounds,function(bound){if(_.isEmpty(bound.departureAirport))allFilled=false;if(_.isEmpty(bound.arrivalAirport))allFilled=false});return allFilled},checkForInternational:function(){var bounds=this.model.get("bounds").toJSON();var boundsContainInternational=_.some(bounds,function(bound){var koreanAirports=function(region){return _.findWhere(region,
{code:"Korea"}).airports},domesticOriginAirports=koreanAirports(Airports.originAirportsByRegion),domesticDestinationAirports=koreanAirports(Airports.destinationAirportsByRegion),destinationDomestic=_.findWhere(domesticOriginAirports,{"code":bound.departureAirport})!==undefined,arrivalDomestic=_.findWhere(domesticDestinationAirports,{"code":bound.arrivalAirport})!==undefined;return destinationDomestic!==true||arrivalDomestic!==true});return boundsContainInternational},blurInput:function(blurredField,
defaultValue){if(blurredField.val()==="")blurredField.removeClass("beenUsed");else blurredField.addClass("beenUsed")},updateBounds:function(targetBound,property,value){targetBound.set(property,value)},checkForEmptyInput:function(blurredField,defaultValue){if(blurredField.val()===""){blurredField.val(defaultValue);blurredField.removeClass("beenUsed")}else blurredField.addClass("beenUsed")},updateCalendarInputs:function(){calendarDates=[];var dateInputs=this.$el.find(".dateInput");var dateLabel="";
dateInputs.removeClass("beenUsed");if(this.model.get("tripType")===Booking.TRIP_TYPES.ROUND_TRIP&&!(this.model.isChange()||this.model.isReissue())){dateLabel=Granite.I18n.get("depart-return-label-double");this.$el.find(".calendarContainer").removeClass("singleDate")}else{dateLabel=Granite.I18n.get("depart-return-label-single");this.$el.find(".calendarContainer").addClass("singleDate")}dateInputs.val("");dateInputs.attr("placeholder",dateLabel);this.dateDefault=dateLabel},calendarInputBlurred:function(e){if($(e.currentTarget).val()===
this.dateDefault)return;switch(this.model.get("tripType")){case Booking.TRIP_TYPES.ONE_WAY:this.setOnewayTripDate();break;case Booking.TRIP_TYPES.MULTI_CITY:this.setMultiCityTripDate();break;default:if(this.model.isChange()||this.model.isReissue())this.setMultiCityTripDate();else this.setRoundTripDate();break}this.blurInput($(e.currentTarget),this.dateDefault)},setOnewayTripDate:function(){var dateInput=$(".dateSelector input").val();var departureDate=moment.utc(dateInput,Booking.INPUT.DATE_FORMAT).startOf("day");
if(!departureDate.isValid()||dateInput.match(/[a-zA-Z]/g))return;if(this.isBookingFlow())calendarDates[0]=departureDate;this.model.get("bounds").first().set("departure",departureDate)},setMultiCityTripDate:function(){calendarDates=[];$(".dateSelector input").each(_.bind(function(index,el){var departureDate="";var dateInput=$(el).val();if($(el).val()!==this.dateDefault&&dateInput!==""){departureDate=moment.utc(dateInput,Booking.INPUT.DATE_FORMAT).startOf("day");if(!departureDate.isValid()||dateInput.match(/[a-zA-Z]/g))return;
calendarDates[index]=departureDate.toDate();if(!$(el).parent().parent().hasClass("disableInput"))this.model.get("bounds").models[index].set("departure",departureDate)}},this))},setRoundTripDate:function(){var dateInput=$(".dateSelector input").val();var spaceIndex=dateInput.indexOf(" - ");if(spaceIndex===-1||dateInput.match(/[a-zA-Z]/g))return;var startDate=moment.utc(dateInput.substring(0,spaceIndex),Booking.INPUT.DATE_FORMAT).startOf("day");var endDate=moment.utc(dateInput.substring(spaceIndex+
3),Booking.INPUT.DATE_FORMAT).startOf("day");if(!startDate.isValid()||!endDate.isValid())return;if(endDate.isBefore(startDate))return;var bounds=this.model.get("bounds");bounds.first().set("departure",startDate);bounds.last().set("departure",endDate)},getCalendarDateString:function(firstDate,secondDate){firstDate=moment.fn.getStdFormattedDate(firstDate);secondDate=moment.fn.getStdFormattedDate(secondDate);return firstDate+" - "+secondDate},dateCalendarClicked:function(e){e.preventDefault();var dateSelector=
$(e.currentTarget).closest(".dateSelector"),localDateInput=dateSelector.find("input");this.focusInput(localDateInput,this.dateDefault);this.currentCalendarContainer=dateSelector.parent().siblings(".calendarContainer");this.currentCalendarContainer.html("").datepicker("destroy");var departureAirportCode=$(e.target).closest(".dateSelector").siblings(".fromSelector").find("input.fromInput").attr("data-option");var tripType=BookingBar.controller.bookingitinerary.get("tripType");var advancedBookingDays=
Airports.getAdvancedBookingDays(departureAirportCode,tripType);var calendarIndex=this.$el.find($(e.currentTarget).closest(".individualTripDetailsContainer")).index();if(calendarDates[calendarIndex]===null)this.currentCalendarContainer.datepicker({numberOfMonths:2,minDate:0+advancedBookingDays,maxDate:"+361d",nextText:"",prevText:"",showMonthAfterYear:true,monthNames:Booking.CALENDAR_MONTHS,dayNamesMin:Booking.CALENDAR_DAY_ABBREVIATIONS,showOn:"both",onSelect:_.bind(this.activateCalendarListeners,
this)});else{var defaultDateValue=moment(calendarDates[calendarIndex]).toDate();this.currentCalendarContainer.datepicker({numberOfMonths:2,minDate:0+advancedBookingDays,maxDate:"+361d",defaultDate:defaultDateValue,nextText:"",prevText:"",monthNames:Booking.CALENDAR_MONTHS,dayNamesMin:Booking.CALENDAR_DAY_ABBREVIATIONS,showOn:"both",showMonthAfterYear:true,onSelect:_.bind(this.activateCalendarListeners,this),onChangeMonthYear:_.bind(function(year,month,inst){if(this.model.get("tripType")!==Booking.TRIP_TYPES.ONE_WAY)setTimeout(this.mapCalendarDateSpan,
100)},this)})}$(document).on("click",_.bind(function(eV){if(eV.currentTarget!==$(".ui-datepicker-prev")&&eV.currentTarget!==$(".ui-datepicker-next")){eV.preventDefault();this.blurInput(localDateInput,this.dateDefault);this.currentCalendarContainer.toggle();$(document).off("click");this.currentCalendarContainer.off("mouseenter mouseleave")}},this));this.currentCalendarContainer.on("click",function(e){e.stopPropagation();return false});if(this.model.get("tripType")===Booking.TRIP_TYPES.ROUND_TRIP&&
calendarDates[0]!==null&&calendarDates[1]!==null&&!(this.model.isChange()||this.model.isReissue()))this.mapCalendarDateSpan();openClick=false},activateCalendarListeners:function(clickedDate,calendarInstance){var localDateInput=this.currentCalendarContainer.parent().find(".dateSelector input");if(this.model.get("tripType")===Booking.TRIP_TYPES.ROUND_TRIP&&!(this.model.isChange()||this.model.isReissue())){if(openClick){var lastClickedDate=new Date(clickedDate);calendarDates[1]=lastClickedDate;if(lastClickedDate<
calendarDates[0]){localDateInput.val(this.getCalendarDateString(lastClickedDate,calendarDates[0]));calendarDates[1]=calendarDates[0];calendarDates[0]=lastClickedDate}else localDateInput.val(this.getCalendarDateString(calendarDates[0],lastClickedDate));openClick=false;this.blurInput(localDateInput,this.dateDefault);preservedCalendar=this.currentCalendarContainer.html();this.closeCalendar();this.setRoundTripDate();return}else{var firstClickedDate=new Date(clickedDate);var formattedDate=moment.fn.getStdFormattedDate(firstClickedDate);
localDateInput.val(formattedDate+" - ")}this.calendarMultipleSelectFunctions();openClick=true;calendarDates[0]=new Date(clickedDate);$(".calendarContainer .highlight:last").addClass("left")}else{$(".ui-state-active").addClass("selectedDay");var clickedDateObject=new Date(clickedDate);var calendarIndex=this.$el.find($("#"+calendarInstance.id).parent()).index();calendarDates[calendarIndex]=clickedDateObject;var formattedDate=moment.fn.getStdFormattedDate(clickedDateObject);localDateInput.val(formattedDate);
preservedCalendar=this.currentCalendarContainer.html();this.closeCalendar();openClick=false;this.blurInput(localDateInput,this.dateDefault);if(this.model.get("tripType")===Booking.TRIP_TYPES.ONE_WAY)this.setOnewayTripDate();else this.setMultiCityTripDate();return}},closeCalendar:function(){this.currentCalendarContainer.html(preservedCalendar);this.currentCalendarContainer.toggle();$(document).off("click");this.currentCalendarContainer.off("mouseenter mouseleave");this.currentCalendarContainer=null},
calendarMultipleSelectFunctions:function(){$(".calendarContainer").on("mouseenter mouseleave","tbody a",function(e){var selectedDate=$(".calendarContainer").datepicker("getDate");var hoveredDate=new Date($(this).parent().attr("data-year")+"-"+(Number($(this).parent().attr("data-month"))+1)+"-"+$(this).text());$(".calendarContainer a.ui-state-default").each(function(index){var thisDate=new Date($(this).parent().attr("data-year")+"-"+(Number($(this).parent().attr("data-month"))+1)+"-"+$(this).text());
if(selectedDate<hoveredDate)if(thisDate>=selectedDate&&thisDate<=hoveredDate)$(this).addClass("highlight");else $(this).removeClass("highlight");else if(thisDate<=selectedDate&&thisDate>=hoveredDate)$(this).addClass("highlight");else $(this).removeClass("highlight")});if(hoveredDate>selectedDate){$(".ui-state-active").removeClass("left").addClass("right");if(!$(this).hasClass("ui-state-active"))if(e.type==="mouseenter")$(this).addClass("left highlight");else $(this).removeClass("left highlight")}else{$(".ui-state-active").removeClass("right").addClass("left");
if(!$(this).hasClass("ui-state-active"))if(e.type==="mouseenter")$(this).addClass("right highlight");else $(this).removeClass("right highlight")}preservedCalendar=$("#calendarContainer").html()})},mapCalendarDateSpan:function(){$(".calendarContainer a.ui-state-default").each(function(index){var thisDate=new Date($(this).parent().attr("data-year")+"-"+(Number($(this).parent().attr("data-month"))+1)+"-"+$(this).text());if(calendarDates[0]<calendarDates[1])if(thisDate>=calendarDates[0]&&thisDate<=calendarDates[1])$(this).addClass("highlight");
else $(this).removeClass("right highlight");else if(thisDate<=calendarDates[0]&&thisDate>=calendarDates[1])$(this).addClass("highlight");else $(this).removeClass("right highlight");var firstDate=thisDate;var secondDate=calendarDates[1];if(moment(firstDate).isSame(secondDate,"day")){if(calendarDates[1]>calendarDates[0])$("this").removeClass("right").addClass("left");else $("this").removeClass("left").addClass("right");$(this).addClass("highlight")}});$(".ui-state-active").addClass("highlight");if(calendarDates[1]>
calendarDates[0]){$(".ui-state-active").removeClass("left").addClass("right");var $lastHighlight=$(".calendarContainer .highlight:last"),$lastHightCalendar=$lastHighlight.parent(),lastDay=$lastHighlight.text(),lastMonth=$lastHightCalendar.data("month")+1,lastYear=$lastHightCalendar.data("year");if(moment(calendarDates[1]).isSame(lastYear+"-"+lastMonth+"-"+lastDay))$(".calendarContainer .highlight:last").removeClass("right").addClass("left ui-state-active")}else if(!_.isEmpty(calendarDates)){$(".ui-state-active").removeClass("right").addClass("left");
$(".calendarContainer .highlight:first").removeClass("left").addClass("right ui-state-active")}else $(".ui-state-active").removeClass("right left")}});BookingBar.TripSelector=TripSelector})(_,jQuery,Backbone,Handlebars.templates,koreanair,koreanair.Booking,koreanair.BookingBar,koreanair.Airports,moment,koreanair.accessibility.focusUtil);
(function(_,$,Backbone,numeral,Templates,koreanair,BookingBar,Booking,Airports){var currentCabinIndex=0;var PassengerSelector=koreanair.View.extend({events:{"click .cabinLeft":"cabinLeft","click .cabinRight":"cabinRight","click #minusInfant":"subtractInfant","click #plusInfant":"addInfant","click #bookingbar-infants-info":"showInfantInfo","click #cabin-class-info":"showCabinClassInfo","click .info-link":"showMoreInfo","click #isBonusUpgrade":"onBonusUpgradeChecked"},initialize:function(){this.rendering=
$.Deferred();this.listenTo(this.model,"change:infants",this.updateInfantsView);this.listenTo(this.model,"change",this.updateNextButton)},render:function(){var templatedata={images:BookingBar.Images.CabinClass,isAward:this.model.get("award"),isDomestic:this.model.get("isDomestic"),domesticity:this.model.get("isDomestic")?"domestic":"international",isPrimeBooking:this.model.get("recordLocator")?false:true};var html=this.template(templatedata);this.$el.html(html);this.updateAllPassengers();this.displayCurrentCabinClass();
setTimeout(_.bind(function(){this.$el.find(".cabinLeft").focus()},this),100);if(this.model.isChange()||this.model.isReissue()){var $plusMinusEle=$(this.$el.find(".plus-minus"));$plusMinusEle.addClass("disableButton");$plusMinusEle.find("a").on("click",function(e){e.preventDefault();e.stopPropagation()})}if(this.rendering)this.rendering.resolve();this.updateNextButton();return this},countCabinOptions:function(e){var num=this.seatingClassOptions.length;return num},updateCabinClassView:function(e){this.$("#cabinClassItem li:gt("+
(this.countCabinOptions()-1)+")").hide();this.$("#cabinClassItem li:lt("+this.countCabinOptions()+")").show()},cabinLeft:function(e){e.preventDefault();if(currentCabinIndex===0)currentCabinIndex=this.countCabinOptions()-1;else currentCabinIndex--;this.animateToCabinClass(currentCabinIndex)},cabinRight:function(e){e.preventDefault();if(currentCabinIndex===this.countCabinOptions()-1)currentCabinIndex=0;else currentCabinIndex++;this.animateToCabinClass(currentCabinIndex)},animateToCabinClass:function(currentCabinIndex){var $cabinClassList=
this.$el.find("#cabinClassItem li"),cabinClass=$cabinClassList.eq(currentCabinIndex).attr("data");$cabinClassList.animate({left:currentCabinIndex*-100+"%"},500);this.setCabinClass(cabinClass);this.bonusUpgradeFormVisible(cabinClass)},onBonusUpgradeChecked:function(e){this.setCabinClass("economy")},bonusUpgradeFormVisible:function(cabinClass){var $bonusUpgrade=this.$el.find(".bonusUpgrade");if(cabinClass==="economy")$bonusUpgrade.css("display","block");else $bonusUpgrade.css("display","none").find("input").removeAttr("checked")},
setCabinClass:function(cabinClass){var isUpgradeableCabin=this.getBonusUpgradeChecked();this.model.set("isUpgradeableCabin",isUpgradeableCabin);if(this.model.isReissue()||this.model.isChange())this.model.get("bounds").each(_.bind(function(bound){if(bound.get("toBeChanged"))bound.set("cabinClass",cabinClass)},this));else this.model.get("bounds").invoke("set",{"cabinClass":cabinClass})},getBonusUpgradeChecked:function(){return this.$el.find(".bonusUpgrade input").is(":checked")},setBonusUpgradeChecked:function(){return this.$el.find(".bonusUpgrade input").attr("checked",
"checked")},addInfant:function(e){e.preventDefault();if(this.model.get("infants")<this.model.get("adults"))this.model.set("infants",this.model.get("infants")+1)},subtractInfant:function(e){e.preventDefault();if(this.model.get("infants")>0)this.model.set("infants",this.model.get("infants")-1)},updateInfantsView:function(model,newValue){if(window.numeral)newValue=numeral(newValue).value();$("#infantNumber").text(newValue);this.updateNextButton()},showCabinClassInfo:function(event){event.preventDefault();
var modelContent='\x3cp class\x3d"more-info"\x3e'+Granite.I18n.get("cabin-class-info-label")+"\x3c/p\x3e";koreanair.Modal.info(modelContent)},showInfantInfo:function(event){event.preventDefault();var modelContent='\x3cp class\x3d"more-info"\x3e'+Granite.I18n.get("infant-info-label")+"\x3c/p\x3e";koreanair.Modal.info(modelContent)},updateAllPassengers:function(){var adults=this.model.get("adults");var children=this.model.get("children");var infants=this.model.get("infants");$("#childNumber").text(children);
$("#adultNumber").text(adults);$("#infantNumber").text(infants)},displayCurrentCabinClass:function(){var currentCabinClass=this.model.get("bounds").first().get("cabinClass").toLowerCase();var currentCabinTarget=$("#cabinClassItem li[data\x3d"+currentCabinClass+"]");var currentCabinIndex=currentCabinTarget.index();var isUpgradeableCabin=this.model.get("isUpgradeableCabin");if(isUpgradeableCabin)this.setBonusUpgradeChecked();if(_.indexOf(this.seatingClassOptions,currentCabinClass)!==-1)this.animateToCabinClass(currentCabinIndex);
else{this.model.set("cabinClass",Booking.INTL_SEATING_CLASSES[0]);this.animateToCabinClass(0)}},updateNextButton:function(){var buttonTemplate=this.shouldShowDiscounts()?Templates["booking-bar-next-button"]:Templates["booking-bar-find-flights-button"];$(this.$el.find("#nextStepButton")).replaceWith(buttonTemplate({"passengerLength":this.model.getTotalTravellers()}));if(!this.model.get("award")&&this.model.get("adults")>0&&(this.model.get("children")||this.model.get("infants")))this.$el.find(".accompanyingAdult").show();
else this.$el.find(".accompanyingAdult").hide()},shouldShowDiscounts:function(){var departure=this.model.get("bounds").at(0).get("departureAirportCode");var isDomesticDeparture=Airports.isDomestic(Airports.originAirportsByRegion,departure);var hasMatchingPassengerTypes=this.model.get("award")?true:this.model.hasMatchingPassengerTypes();return isDomesticDeparture&&!this.model.isReissue()&&!this.model.isMultiCity()&&this.model.get("isDomestic")===this.model.get("award")&&hasMatchingPassengerTypes},
showMoreInfo:function(event){var message=$(event.currentTarget).attr("alt");koreanair.Modal.info('\x3cdiv class\x3d"more-info"\x3e\x3cp\x3e'+message+"\x3c/p\x3e\x3c/div\x3e")}});BookingBar.PassengerSelector=PassengerSelector})(_,jQuery,Backbone,numeral,Handlebars.templates,koreanair,koreanair.BookingBar,koreanair.Booking,koreanair.Airports);
(function($,Backbone,numeral,Templates,koreanair,BookingBar,Booking,PassengerSelector){var PassengerSelectorRevenue=PassengerSelector.inherits({template:Templates["booking-bar-passenger-selector"],events:{"click #minusAdult":"subtractAdult","click #plusAdult":"addAdult","click #minusChild":"subtractChild","click #plusChild":"addChild","click #bookingbar-children-info":"showChildrenInfo","click #nextStepButton":"generateTravellers"},initialize:function(){this.listenTo(this.model,"change:adults",this.updateAdultsView);
this.listenTo(this.model,"change:children",this.updateChildrensView);PassengerSelector.prototype.initialize.call(this,arguments)},subtractAdult:function(e){e.preventDefault();if(this.model.get("adults")+this.model.get("children")>1&&this.model.get("adults")>0)this.model.set("adults",this.model.get("adults")-1);if(this.model.get("adults")<this.model.get("infants"))this.model.set("infants",this.model.get("adults"));if(this.model.get("adults")===0&&this.model.get("children")>0)$("#seatSelectionContainer").addClass("unaccompanied-child")},
addAdult:function(e){e.preventDefault();if(this.model.get("adults")+this.model.get("children")<9)this.model.set("adults",this.model.get("adults")+1);$("#seatSelectionContainer").removeClass("unaccompanied-child")},updateAdultsView:function(model,newValue){if(window.numeral)newValue=numeral(newValue).value();$("#adultNumber").text(newValue);this.updateNextButton()},subtractChild:function(e){e.preventDefault();if(this.model.get("adults")+this.model.get("children")>1&&this.model.get("children")>0)this.model.set("children",
this.model.get("children")-1)},addChild:function(e){e.preventDefault();if(this.model.get("adults")+this.model.get("children")<9)this.model.set("children",this.model.get("children")+1)},updateChildrensView:function(model,newValue){if(window.numeral)newValue=numeral(newValue).value();$("#childNumber").text(newValue);this.updateNextButton()},showChildrenInfo:function(event){event.preventDefault();var modelContent='\x3cp class\x3d"more-info"\x3e'+Granite.I18n.get("children-info-label")+"\x3c/p\x3e";koreanair.Modal.info(modelContent)},
generateTravellers:function(event){event.preventDefault();this.model.generateTravellers()}});BookingBar.PassengerSelectorRevenue=PassengerSelectorRevenue})(jQuery,Backbone,numeral,Handlebars.templates,koreanair,koreanair.BookingBar,koreanair.Booking,koreanair.BookingBar.PassengerSelector);
(function(_,$,Backbone,Templates,koreanair,BookingBar,ServiceApi,moment,numeral,PassengerSelector,PASSENGER_TYPE_CODES){var PassengerSelectorAward=PassengerSelector.inherits({template:Templates["booking-bar-passenger-selector-skypass"],events:{"click #passengerSelectUpArrow, #passengerSelectDownArrow":"passengerListChange","click #nextStepButton":"performSearch","click .triggerFamilyOverlay":"triggerFamilyOverlay","click #passengerListItem input":"passengerInfoUpdate"},initialize:function(){this.rendering=
$.Deferred();this.getPassengerInfo();this.listenTo(this.model,"change:anonymousInfants",this.updateInfantsView);this.listenTo(this.model,"change",this.updateNextButton);this.listenTo(this.model,"change:adults",this.updateAnonymousInfants);this.listenTo(this.model,"change:infants",this.updateAnonymousInfants);if(!this.model.get("anonymousInfants"))this.model.set("anonymousInfants",0)},getPassengerInfo:function(){ServiceApi.skypassCompanions.get({success:_.bind(function(data){this.passengerInfoReceived(data)},
this),error:function(){$("#passengerListItem h4").text(Granite.I18n.get("unauthorized-login-label"))}})},generateAwardPassengerList:function(data){var template=Templates["award-passenger-list"],user=data.user,family=data.family||"";user.passengerType=user.type=this.getAgeClass(user.dateOfBirth);user.age=this.getAge(user.dateOfBirth);if(!this.model.isChange()&&!this.model.isReissue())user.isChecked=true;_.each(family,_.bind(function(familyMember){var dateOfBirth=familyMember.dateOfBirth;familyMember.passengerType=
familyMember.type=this.getAgeClass(dateOfBirth);familyMember.age=this.getAge(dateOfBirth)},this));this.model.get("travellers").each(_.bind(function(traveller){var familyMember=_.findWhere(family,{skypassNumber:traveller.get("frequentFlyerNumber")});if(familyMember)familyMember.isChecked=true;else if(!(this.model.isReissue()||this.model.isChange()))console.warn("Unable to find match for skypasss number.");if(this.model.isChange()||this.model.isReissue()){if(traveller.get("membershipNumber")===user.skypassNumber||
traveller.get("membershipNumber")===user.oldSkypassNumber)user.isChecked=true;familyMember=undefined;if(traveller.get("isInfant")){if(traveller.get("latinFirstName")&&traveller.get("latinLastName"))familyMember=_.findWhere(family,{latinFirstName:traveller.get("latinFirstName").toUpperCase(),latinLastName:traveller.get("latinLastName").toUpperCase()});if(familyMember===undefined)familyMember=_.findWhere(family,{koreanFirstName:traveller.get("koreanFirstName"),koreanLastName:traveller.get("koreanLastName")})}else{familyMember=
_.findWhere(family,{skypassNumber:traveller.get("membershipNumber")});if(typeof familyMember==="undefined")familyMember=_.findWhere(family,{oldSkypassNumber:traveller.get("membershipNumber")})}if(familyMember)familyMember.isChecked=true}},this));family=_.filter(family,function(arr){return arr.skypassNumber!==""});user=_.clone(user);family=_.clone(family);if(this.model.get("isDomestic")&&koreanair.Language==="ko-kr"){user.firstName=user.koreanFirstName||user.latinFirstName;user.lastName=user.koreanLastName||
user.latinLastName;family.forEach(function(familyMember){familyMember.firstName=familyMember.koreanFirstName||familyMember.latinFirstName;familyMember.lastName=familyMember.koreanLastName||familyMember.latinLastName})}else{user.firstName=user.latinFirstName||user.koreanFirstName;user.lastName=user.latinLastName||user.koreanLastName;family.forEach(function(familyMember){familyMember.firstName=familyMember.latinFirstName||familyMember.koreanFirstName;familyMember.lastName=familyMember.latinLastName||
familyMember.koreanLastName})}return template({user:user,family:family})},passengerInfoReceived:function(data){_.extend(koreanair.skypass.get("passengers"),data);if(koreanair.skypass.get("passengers").family)this.listPages=Math.ceil((koreanair.skypass.get("passengers").family.length+1)/6);var passengerListHTML=this.generateAwardPassengerList(data);this.rendering.done(_.bind(function(){this.currentListPage=1;if(this.listPages>1)$("#passengerListItem .arrow").css("visibility","visible");$("#passengerListItem .passengers").html(passengerListHTML);
this.passengerInfoUpdate(null);if(this.model.isChange()||this.model.isReissue())$("#passengerListItem input").attr("disabled",true);this.model.generateTravellerCounts()},this))},checkForAnonymousInfants:function(){if(!this.model.get("totalInfants"))return false;_.times(this.model.get("anonymousInfants"),function(index){this.model.get("travellers").push(new koreanair.BookingModel.TravellerModel({type:PASSENGER_TYPE_CODES.INFANT,number:index+1,travellerNumber:index+1}))},this);this.model.set("anonymousInfants",
0);this.model.set("infants",this.model.get("totalInfants"));return true},passengerInfoUpdate:function(e){if(e!==null){var currentCheckbox=$(e.currentTarget);var isChecked=currentCheckbox.is(":checked")?1:-1;this.updatePassengerCount(currentCheckbox.data("passenger-type"),isChecked)}var passengerArray=[];$("#passengerListItem li input:checked").each(function(){var passengerData=$(this).data();passengerData.frequentFlyerNumber=""+passengerData.frequentFlyerNumber+"";passengerArray.push(passengerData)});
this.model.get("travellers").reset(passengerArray);var isPurchaseThirdPerson=this.model.get("travellers").every(function(traveller){return traveller.get("frequentFlyerNumber")!==koreanair.skypass.getUserSkypass()},this);this.model.set("purchaseThirdPerson",isPurchaseThirdPerson);this.makeBookingBarMsg()},makeBookingBarMsg:function(){var totalInfants=this.getTotalInfants();if(totalInfants>this.model.get("adults"))this.$el.find(".loneInfant").show();else this.$el.find(".loneInfant").hide();if(this.model.get("adults")>
0&&this.model.get("children")>0||this.model.get("adults")>0&&totalInfants>0)this.$el.find(".adultChild").show();else this.$el.find(".adultChild").hide();if(this.model.get("adults")===0&&this.model.get("children")>0)this.$el.find(".onlyChild").show();else this.$el.find(".onlyChild").hide()},updatePassengerCount:function(type,change){var ageType=this.getItineraryAgeType(type),previousValue=this.model.get(ageType);this.model.set(ageType,previousValue+change)},updateInfantsView:function(model,newValue){if(window.numeral)newValue=
numeral(newValue).value();$("#infantNumber").text(newValue);this.updateAnonymousInfants()},passengerListChange:function(event){event.preventDefault();var $element=$(event.currentTarget);if($element.hasClass("inactive"))return;var marginAdjustment="";if($element.data("direction")==="down"){this.currentListPage++;marginAdjustment="-"}else{this.currentListPage--;marginAdjustment="+"}$("#passengerListScrollContainer ul").animate({marginTop:marginAdjustment+"\x3d115"},500);this.checkPassengerListLocation()},
checkPassengerListLocation:function(){if(this.currentListPage===this.listPages)this.$el.find("#passengerSelectDownArrow").addClass("inactive");else this.$el.find("#passengerSelectDownArrow").removeClass("inactive");if(this.currentListPage===1)this.$el.find("#passengerSelectUpArrow").addClass("inactive");else this.$el.find("#passengerSelectUpArrow").removeClass("inactive")},getAge:function(dateOfBirth){var departureBound=this.model.get("bounds").toJSON()[0];var departureDate=departureBound.departure;
var age=moment(departureDate).diff(dateOfBirth,"years");return age},getAgeClass:function(dateOfBirth){var age=this.getAge(dateOfBirth);var childCutoff=this.model.get("isDomestic")?12:11;if(age>childCutoff)return PASSENGER_TYPE_CODES.ADULT;else if(age>1)return PASSENGER_TYPE_CODES.CHILD;else return PASSENGER_TYPE_CODES.INFANT},getItineraryAgeType:function(type){if(type===PASSENGER_TYPE_CODES.ADULT)return"adults";else if(type===PASSENGER_TYPE_CODES.CHILD)return"children";else return"infants"},performSearch:function(event){event.preventDefault();
var totalInfants=this.getTotalInfants();if(totalInfants>this.model.get("adults")){this.$el.find(".loneInfant").show();return false}else this.$el.find(".loneInfant").hide();$(event.currentTarget).addClass("disabled");if(this.model.get("isDomestic")){this.checkForAnonymousInfants();koreanair.BookingBar.controller.transitionToSelectDiscounts()}},updateAnonymousInfants:function(){var totalInfants=this.getTotalInfants(),adults=this.model.get("adults");if(totalInfants>adults&&adults>0)this.model.set("anonymousInfants",
adults-this.model.get("infants"));this.makeBookingBarMsg()},getTotalInfants:function(){return this.model.get("infants")+this.model.get("anonymousInfants")},addInfant:function(e){e.preventDefault();if(this.getTotalInfants()<this.model.get("adults")){this.model.set("anonymousInfants",this.model.get("anonymousInfants")+1);var totalInfants=this.getTotalInfants();this.model.set("totalInfants",totalInfants)}this.model.set("infants",this.model.get("infants"))},subtractInfant:function(e){e.preventDefault();
if(this.model.get("anonymousInfants")>0){this.model.set("anonymousInfants",this.model.get("anonymousInfants")-1);var totalInfants=this.getTotalInfants();this.model.set("totalInfants",totalInfants)}this.model.set("infants",this.model.get("infants"))}});BookingBar.PassengerSelectorAward=PassengerSelectorAward})(_,jQuery,Backbone,Handlebars.templates,koreanair,koreanair.BookingBar,koreanair.ServiceApi,moment,numeral,koreanair.BookingBar.PassengerSelector,koreanair.Booking.PASSENGER_TYPE_CODES);
(function(KE,Templates,I18n,API){var DiscountSelector=KE.View.extend({templates:{"base":Templates["booking-bar-discount-selector"],"studentDiscountLink":Templates["booking-bar-student-discount-link"]},discountData:null,events:{"click #nextStepButton":"performSearch","change .passengerDiscountSelect select":"onPassengerDiscountChange"},initialize:function(){},render:function(){var html=this.templates.base(this.model.toJSON({computed:true}));this.$el.html(html);KE.CustomForms.render({selectorScope:this.$el});
this.getPassengerDiscounts().done(_.bind(function(passengerDiscountData){this.onGetPassengerDiscountsSuccess(passengerDiscountData)},this));return this},getQueryStringParams:function(){var bounds=this.model.get("bounds");var queryString={"origin":bounds.first().get("departureAirport"),"destination":bounds.first().get("arrivalAirport"),"outbound":moment(bounds.first().get("departure")).format(KE.Booking.DISCOUNT_SEARCH.DATE_FORMAT),"seatingClass":bounds.first().get("cabinClass"),"bookingType":this.model.get("bookingType").toUpperCase(),
"tripType":this.model.get("tripType"),"adults":this.model.get("adults"),"children":this.model.get("children"),"infants":this.model.get("infants"),"isFlex":this.model.get("isFlex")};if(this.model.get("award"))queryString.passengers=this.model.get("travellers").map(function(traveller){return traveller.get("frequentFlyerNumber")});if(bounds.length===2)queryString.inbound=moment(bounds.last().get("departure")).format(KE.Booking.DISCOUNT_SEARCH.DATE_FORMAT);return queryString},getPassengerDiscounts:function(){var discountParams=
this.getQueryStringParams();return API.discounts.get({path:{origin:discountParams.origin,destination:discountParams.destination,outbound:discountParams.outbound},data:discountParams})},onGetPassengerDiscountsSuccess:function(data){this.discountData=data;this.populateDiscountSelects(data);KE.CustomForms.render({selectorScope:this.$el});this.$el.find("input[role\x3dcombobox]").first().focus()},populateDiscountSelects:function(passedData){this.$el.find(".passengerDiscountSelect select").each(function(){var currentSelectField=
$(this);currentSelectField.prop("disabled",false);currentSelectField.find("option").text(I18n.get("select-discount"));var passengerType=$(this).attr("ageClass");var discountCodes=passedData[passengerType];_.each(discountCodes,function(discountCode){currentSelectField.append('\x3coption value\x3d"'+discountCode+'"\x3e'+I18n.get(discountCode+"-discount-option")+"\x3c/option\x3e")})})},onPassengerDiscountChange:function(event){var $discountInfo=$(event.currentTarget).closest(".passengerDiscountSelect").find(".discount-info"),
discountLabel=I18n.get($(event.currentTarget).val()+"-discount-label"),discountInfoText=I18n.get(discountLabel);switch($(event.currentTarget).val()){case "STU":$discountInfo.html(this.templates.studentDiscountLink({text:I18n.get("student-discount-info")})).on("click",this.studentDocumentsModal);break;default:if(this.model.get("domestic"))if($(event.currentTarget).val()=="")$discountInfo.html("");else $discountInfo.html(discountInfoText);$discountInfo.off();break}},studentDocumentsModal:function(event){event.preventDefault();
KE.Modal.sized(koreanair.BookingBar.InformationLinks.studentDiscountPage,{inline:false,width:"80%"})},performSearch:function(event){event.preventDefault();$(event.currentTarget).addClass("disabled");$("#discountSelectionContainer .passengerDiscountSelect select").each(_.bind(function(index,element){this.model.get("travellers").at(index).set("discountType",$(element).val())},this))}});KE.BookingBar.DiscountSelector=DiscountSelector})(koreanair,Handlebars.templates,Granite.I18n,koreanair.ServiceApi);
(function(_,$,Backbone,Templates,I18n,koreanair,BookingBar,moment,Booking){var inroTextStartWidth=0;var ProgressBar=Backbone.View.extend({el:".booking-start",template:Templates["booking-bar-progress-bar"],awardTemplate:Templates["booking-bar-progress-bar-award"],onholdpurchaseTemplate:Templates["booking-bar-progress-bar-onholdpurchase"],modelCopy:"",searchBarClosed:true,events:{},render:function(){$("#topNav").remove();$("#top-sec").addClass("bookinOn");$(".main-contents").addClass("bookinOn");var html;
var isPurchaseOnHold=false;if(koreanair.PurchaseOnHold.Router){html=this.onholdpurchaseTemplate(this.getTemplateData());isPurchaseOnHold=true}else if(koreanair.router!==undefined)if(!koreanair.router.hasFareTypesSelect)html=this.awardTemplate(this.getTemplateData());else html=this.template(this.getTemplateData());else html=this.template(this.getTemplateData());this.$el.html(html);this.$el.find("#navLogo .koreanair-logo").attr("src",window.koreanair.BookingBar.Images.PageImages.logo);this.$el.find("#navLogo .koreanair-home").attr("href",
window.koreanair.BookingBar.HomePage);this.updateFlightView();this.updatePassengerView();this.currentStep=koreanair.Booking.BOOKING_STEPS.FLIGHT_SELECTION;if(!isPurchaseOnHold){this.$("a.book-a-flight").off("click").on("click",_.bind(this.menuClick,this));koreanair.common.utils.anchorToButton(this.$("a.book-a-flight"))}else;this.updateTitleText();return this},initialize:function(){this.listenTo(this.model,"change:tripType",this.updateTripType);var bounds=this.model.get("bounds");bounds.bind("change",
_.bind(this.updateFlightView,this));bounds.bind("add",_.bind(this.updateFlightView,this));bounds.bind("remove",_.bind(this.updateFlightView,this));bounds.bind("change:cabinClass",_.bind(this.updatePassengerView,this));this.listenTo(this.model,"change:adults",this.updatePassengerView);this.listenTo(this.model,"change:children",this.updatePassengerView);this.listenTo(this.model,"change:infants",this.updatePassengerView)},getTemplateData:function(){var isXurl=/\/x\w*.html?/.test(location.pathname),data=
{isFlightAndFareSelection:false,isFlex:this.model.get("isFlex"),isDateSelect:this.model.get("isAwardDateSelect"),isDomestic:this.model.get("isDomestic"),isDefault:true};if(isXurl&&!this.model.get("isDomestic"))if(!this.model.get("isScheduleDriven"))data.isDefault=false;else if(!this.model.isReissue())data.isFlightAndFareSelection=true;return data},updateTripType:function(){this.$el.find("#tripTypeIcon").attr("src",this.getTripIcon());this.updateFlightView()},updateFlightView:function(model,newVal){if(inroTextStartWidth===
0)inroTextStartWidth=this.$el.find("#introCopyItem").closest("#bookingHUD").outerWidth()+100;var bounds=this.model.get("bounds");if(bounds.length<1)return;var flightViewMarkup="";var dateViewMarkup="";var boundsFirst=bounds.first();if(boundsFirst.get("departure")!=="")dateViewMarkup=moment.withZone(boundsFirst.get("departure")).format("YYYY.MM.DD");if(!_.isEmpty(bounds.first().get("departureAirport")))flightViewMarkup+=boundsFirst.get("departureAirport");if(!_.isEmpty(boundsFirst.get("departureAirport"))||
!_.isEmpty(boundsFirst.get("arrivalAirport")))flightViewMarkup+=' \x3cimg id\x3d"tripTypeIcon" alt\x3d"'+Granite.I18n.get(this.model.get("tripType")+"-label")+'" src\x3d"'+this.getTripIcon()+'"\x3e ';if(!_.isEmpty(boundsFirst.get("arrivalAirport")))flightViewMarkup+=boundsFirst.get("arrivalAirport");var boundsLast=bounds.last();if(!_.isEmpty(boundsLast.get("departure"))&&this.model.get("tripType")!==koreanair.Booking.TRIP_TYPES.ONE_WAY)dateViewMarkup+=" \x26ndash; "+moment.withZone(boundsLast.get("departure")).format("YYYY.MM.DD");
if(flightViewMarkup!==""&&this.model.get("tripType")===koreanair.Booking.TRIP_TYPES.MULTI_CITY)if(bounds.length===2){flightViewMarkup+="\x3c/br\x3e";flightViewMarkup+=boundsLast.get("departureAirport");if(!_.isEmpty(boundsLast.get("departureAirport"))||!_.isEmpty(boundsLast.get("arrivalAirport")))flightViewMarkup+=' \x3cimg id\x3d"tripTypeMultiIcon" alt\x3d"'+Granite.I18n.get(this.model.get("tripType")+"-label")+'" src\x3d"'+this.getTripIcon()+'"\x3e ';flightViewMarkup+=boundsLast.get("arrivalAirport");
this.$el.addClass("open-jaw")}else{this.$el.removeClass("open-jaw");flightViewMarkup=bounds.length+" "+Granite.I18n.get("flights-label")}else this.$el.removeClass("open-jaw");if(!_.isEmpty(flightViewMarkup)||!_.isEmpty(dateViewMarkup)){this.$el.find("#tripFlightItem span").html(flightViewMarkup);this.$el.find("#tripDateItem span").html(dateViewMarkup);this.$el.find("#introCopyItem").animate({"width":"0"}).hide();if(!_.isEmpty(flightViewMarkup));if(!_.isEmpty(dateViewMarkup));}if(_.isEmpty(flightViewMarkup)&&
_.isEmpty(dateViewMarkup)&&!this.$el.find("#introCopyItem").is(":visible")&&!koreanair.BookingBar.controller.isBookingFlow){this.$el.find("#introCopyItem").show().animate({"width":inroTextStartWidth});this.$el.find("#tripFlightItem").fadeOut();this.$el.find("#tripDateItem").fadeOut()}this.updateBookingBarWidths()},showPassengerInfo:function(){this.$el.find("#tripPassengerItem").fadeIn().css("display","inline-block")},updatePassengerView:function(){if(this.$el.find("#tripPassengerItem").css("display")===
"none")this.showPassengerInfo();this.$el.find("#tripPassengerItem span").text(this.getClassLanguage(this.model.get("totalSeats")))},getTripIcon:function(){if(!this.model.get("tripType"))this.model.calculateTripType();switch(this.model.get("tripType")){case Booking.TRIP_TYPES.ONE_WAY:return"/etc/clientlibs/koreanair/images/components/bookingbar/oneWay-icon.png";case Booking.TRIP_TYPES.MULTI_CITY:return"/etc/clientlibs/koreanair/images/components/bookingbar/oneWay-icon.png";default:return"/etc/clientlibs/koreanair/images/components/bookingbar/roundTrip-icon.png"}},
getClassLanguage:function(count){var bounds=this.model.get("bounds");return I18n.get("{0} "+bounds.first().get("cabinClass").toLowerCase()+"-label",[count])},menuClick:function(e){e.preventDefault();koreanair.Modal.confirm(I18n.get("interaction-change-booking-info"),{button:true,confirmLabel:I18n.get("change-booking-label"),ariaLabel:Granite.I18n.get("WCAG-popup-label-alert")}).done(_.bind(function(){var step=$("#bookingHUD").find(".currentStep").attr("id");if(this.model.isReissue())koreanair.utils.goTo("/booking/reissue-gate.html#reissue");
else if(this.model.isChange())if(step=="step-options"||step=="step-flightselect")koreanair.utils.goTo("/booking/reissue-gate.html#change");else koreanair.Modal.confirm(I18n.get("change-return-detail-info-label"),{button:true,closeButton:false,close:I18n.get("button-next"),confirmLabel:I18n.get("button-next"),ariaLabel:Granite.I18n.get("WCAG-popup-label-alert")}).done(_.bind(function(){koreanair.utils.goTo("/booking/reservation-search.html#reservation-detail?reservationCode\x3d"+this.model.get("originalReservationNumber")+
"\x26recordLocator\x3d"+this.model.get("originalRecordLocator"))},this));else{if(step=="step-confirm"){this.model.get("bounds").reset(this.model.defaults.bounds);this.model.set("adults",1);this.model.set("children",0);this.model.set("infants",0);this.model.get("contactPoint").attributes={}}var param=$.param(koreanair.Booking.getParamData(this.model));koreanair.utils.setSessionStorage(param,Booking.STORAGE_KEY.BOOKING_GATE);koreanair.utils.goTo("/booking/booking-gate.html#bookingChange")}},this))},
bookingStepChange:function(e){e.preventDefault()},resetBookingSteps:function(){this.model.clear({silent:true});this.model.set(this.modelCopy);this.updatePassengerView();this.updateFlightView();koreanair.BookingBar.controller.closeBookingBar();this.searchBarClosed=true},changeStep:function(stepID){var curStepHtml='\x3cspan class\x3d"offscreen"\x3e'+I18n.get("UWA-currentStep")+"\x26nbsp;\x3c/span\x3e";this.$el.find(".currentStep span.offscreen").remove();this.$el.find(".currentStep").removeClass("currentStep");
this.currentStep=this.$el.find("#"+stepID);this.currentStep.addClass("currentStep");this.currentStep.removeClass("inactiveStep");var previousStep=this.currentStep.prev();while(previousStep.hasClass("inactiveStep")){previousStep.removeClass("inactiveStep");previousStep=previousStep.prev()}if($("#bookingHUD .stepContainer.currentStep span.offscreen").length===0)$("#bookingHUD .stepContainer.currentStep .bookingStep").prepend(curStepHtml);this.updateTitleText()},showFlightSelectSteps:function(stepToGoTo){this.$el.find("#introCopyItem").hide();
this.$el.find(".stepContainer").show();this.$el.find("#bookingClose").hide();this.changeStep(stepToGoTo)},updateBookingBarWidths:function(e){},getCurrentStep:function(){return $(this.currentStep).attr("id")},updateTitleText:function(){var $bookingStep=$("#bookingHUD .stepContainer.currentStep .bookingStep");var _stepName=$bookingStep.data("step");var _stepSubName=$bookingStep.text();if(_stepName&&_stepSubName)document.title="("+I18n.get("Step")+" "+_stepName+") "+_stepSubName+(koreanair.pageTitleText?
" - "+koreanair.pageTitleText:"")+" - "+I18n.get("KE-airline-name");else console.warn("invalid data/updateTitleText:"+_stepName+"/"+_stepSubName)}});BookingBar.ProgressBar=ProgressBar})(_,jQuery,Backbone,Handlebars.templates,Granite.I18n,koreanair,koreanair.BookingBar,moment,koreanair.Booking);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["booking-airports-dropdown"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper;buffer+='\x3cli\x3e\x3ca href\x3d"#"\x3e';
if(helper=helpers.name)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.name;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/a\x3e\x3cul class\x3d"second-level-menu"\x3e        ';stack1=helpers["if"].call(depth0,depth0&&depth0.onlineAirports,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";stack1=helpers["if"].call(depth0,
depth0&&depth0.offlineAirports,{hash:{},inverse:self.noop,fn:self.program(5,program5,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/ul\x3e\x3c/li\x3e";return buffer}function program2(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3cli class\x3d"sub-menu-header online"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"online-label",options):helperMissing.call(depth0,"i18n","online-label",
options)))+"\x3c/li\x3e            ";stack1=helpers.each.call(depth0,depth0&&depth0.onlineAirports,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}function program3(depth0,data){var buffer="",stack1,helper;buffer+='            \x3cli\x3e                \x3ca href\x3d"#" data-option\x3d"';if(helper=helpers.code)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.code;stack1=typeof helper===
functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.name)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.name;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/a\x3e            \x3c/li\x3e            ";return buffer}function program5(depth0,data){var buffer="",stack1,helper,options;buffer+='            \x3cli class\x3d"sub-menu-header offline"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"offline-label",options):helperMissing.call(depth0,"i18n","offline-label",options)))+"\x3c/li\x3e            ";stack1=helpers.each.call(depth0,depth0&&depth0.offlineAirports,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="        ";return buffer}stack1=helpers.each.call(depth0,depth0&&depth0.regions,{hash:{},inverse:self.noop,
fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)return stack1;else return""});templates["flight-status-detail"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,functionType="function";buffer+='\x3cdiv class\x3d"grid inner-grid"\x3e    \x3cdiv class\x3d"col-1-4 flyingTime"\x3e        \x3cp class\x3d"column-header-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flying-time",options):helperMissing.call(depth0,"i18n","flying-time",options)))+"\x3c/p\x3e        \x3cp\x3e";if(helper=helpers.flyingTime)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flyingTime;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e    \x3c/div\x3e    \x3cdiv class\x3d"col-1-4 groundTime"\x3e        \x3cp class\x3d"column-header-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"ground-time",options):helperMissing.call(depth0,"i18n","ground-time",options)))+"\x3c/p\x3e        \x3cp\x3e";if(helper=helpers.groundTime)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.groundTime;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e    \x3c/div\x3e    \x3cdiv class\x3d"col-1-4 totalDuration"\x3e        \x3cp class\x3d"column-header-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-duration",options):helperMissing.call(depth0,"i18n","total-duration",options)))+"\x3c/p\x3e        \x3cp\x3e";if(helper=helpers.totalDuration)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.totalDuration;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e    \x3c/div\x3e    \x3cdiv class\x3d"col-1-4 totalDistance"\x3e        \x3cp class\x3d"column-header-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"total-distance",options):helperMissing.call(depth0,"i18n","total-distance",options)))+"\x3c/p\x3e        \x3cp\x3e";if(helper=helpers.totalDistance)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.totalDistance;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+" "+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"capital-miles-label",options):helperMissing.call(depth0,"i18n","capital-miles-label",options)))+"\x3c/p\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer});templates["flight-status-question"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",helper,options,helperMissing=helpers.helperMissing,escapeExpression=
this.escapeExpression;buffer+='\x3cdiv id\x3d"question-wrapper"\x3e    \x3cul\x3e        \x3cli\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-info-is-displayed",options):helperMissing.call(depth0,"i18n","flight-info-is-displayed",options)))+"\x3c/li\x3e        \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"canceled-flight-is-displayed",options):
helperMissing.call(depth0,"i18n","canceled-flight-is-displayed",options)))+"\x3c/li\x3e        \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"delay-refers-to-departure",options):helperMissing.call(depth0,"i18n","delay-refers-to-departure",options)))+"\x3c/li\x3e        \x3cli\x3e"+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"only-korean-air-flight",options):
helperMissing.call(depth0,"i18n","only-korean-air-flight",options)))+'\x3c/li\x3e        \x3ca href\x3d"http://www.delta.com/" target\x3d"_blank"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"DL-airline-name",options):helperMissing.call(depth0,"i18n","DL-airline-name",options)))+'\x3cspan class\x3d"offscreen"\x3e('+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,
"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+')\x3c/span\x3e\x3c/a\x3e        \x3ca href\x3d"http://www.hawaiianairlines.com/services/pages/flightstatus.aspx" target\x3d"_blank"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"HA-airline-name",options):helperMissing.call(depth0,"i18n","HA-airline-name",options)))+'\x3cspan class\x3d"offscreen"\x3e('+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+')\x3c/span\x3e\x3c/a\x3e        \x3ca href\x3d"http://www.aeromexico.com/us/welcome.html" target\x3d"_blank"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"AM-airline-name",options):helperMissing.call(depth0,"i18n","AM-airline-name",options)))+'\x3cspan class\x3d"offscreen"\x3e('+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+')\x3c/span\x3e\x3c/a\x3e        \x3ca href\x3d"http://www.alaskaair.com/" target\x3d"_blank"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"AS-airline-name",options):helperMissing.call(depth0,"i18n","AS-airline-name",options)))+
'\x3cspan class\x3d"offscreen"\x3e('+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"Open in new window",options):helperMissing.call(depth0,"i18n","Open in new window",options)))+")\x3c/span\x3e\x3c/a\x3e    \x3c/ul\x3e\x3c/div\x3e";return buffer});templates["flight-status-results"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||
{};var buffer="",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper;buffer+='            \x3cp class\x3d"airport-label"\x3e';if(helper=helpers.stopoverLabel)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.stopoverLabel;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/p\x3e            ";
return buffer}function program3(depth0,data){var buffer="",stack1,helper,options;buffer+='                \x3cdiv class\x3d"row" tabindex\x3d"0"\x3e                    \x3cdiv class\x3d"grid"\x3e                        \x3cdiv class\x3d"col-1-4"\x3e                            \x3cdiv class\x3d"depart-arrive-block"\x3e                                \x3cp class\x3d"airport-name"\x3e';if(helper=helpers.origin)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.origin;stack1=typeof helper===
functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                                \x3cp class\x3d"airport-name"\x3e';if(helper=helpers.destination)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.destination;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                            \x3c/div\x3e                        \x3c/div\x3e                        \x3cdiv class\x3d"col-3-4"\x3e                            \x3cdiv class\x3d"grid inner-grid"\x3e                                \x3cdiv class\x3d"col-1-5"\x3e                                    \x3cimg class\x3d"status-icon" src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/';
if(helper=helpers.statusCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.statusCode;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'.png" alt\x3d"';if(helper=helpers.flightStatus)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightStatus;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e                                    \x3cspan class\x3d"flight-number"\x3eKE\x3c/span\x3e\x3cspan class\x3d"flight-number" id\x3d"flight-number"\x3e';
if(helper=helpers.flightNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/span\x3e                                    \x3cp class\x3d"';if(helper=helpers.statusCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.statusCode;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=
escapeExpression(stack1)+' status-code"\x3e';if(helper=helpers.flightStatus)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightStatus;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"col-1-5"\x3e                                    \x3cp class\x3d"column-header-label"\x3e'+escapeExpression((helper=helpers.i18n||
depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-status-scheduled",options):helperMissing.call(depth0,"i18n","flight-status-scheduled",options)))+'\x3c/p\x3e                                    \x3cp class\x3d"time"\x3e'+escapeExpression((stack1=(stack1=depth0&&depth0.depart,stack1==null||stack1===false?stack1:stack1.scheduledTime),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e                                    \x3cp\x3e"+escapeExpression((stack1=
(stack1=depth0&&depth0.depart,stack1==null||stack1===false?stack1:stack1.scheduledDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/p\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"col-1-5"\x3e                                    \x3cp class\x3d"column-header-label"\x3e';if(helper=helpers.departHeader)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.departHeader;stack1=typeof helper===functionType?helper.call(depth0,
{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                                    \x3cp class\x3d"time"\x3e'+escapeExpression((stack1=(stack1=depth0&&depth0.depart,stack1==null||stack1===false?stack1:stack1.actualTime),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e                                    \x3cp\x3e"+escapeExpression((stack1=(stack1=depth0&&depth0.depart,stack1==null||stack1===false?stack1:stack1.actualDate),typeof stack1===functionType?
stack1.apply(depth0):stack1))+'\x3c/p\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"col-1-5"\x3e                                    \x3cp class\x3d"column-header-label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-status-scheduled",options):helperMissing.call(depth0,"i18n","flight-status-scheduled",options)))+'\x3c/p\x3e                                    \x3cp class\x3d"time"\x3e'+
escapeExpression((stack1=(stack1=depth0&&depth0.arrive,stack1==null||stack1===false?stack1:stack1.scheduledTime),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e                                    \x3cp\x3e"+escapeExpression((stack1=(stack1=depth0&&depth0.arrive,stack1==null||stack1===false?stack1:stack1.scheduledDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/p\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"col-1-10"\x3e                                    \x3cp class\x3d"column-header-label"\x3e';
if(helper=helpers.arriveHeader)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.arriveHeader;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                                    \x3cp class\x3d"time"\x3e'+escapeExpression((stack1=(stack1=depth0&&depth0.arrive,stack1==null||stack1===false?stack1:stack1.actualTime),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e                                    \x3cp\x3e"+
escapeExpression((stack1=(stack1=depth0&&depth0.arrive,stack1==null||stack1===false?stack1:stack1.actualDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/p\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"col-1-10"\x3e                                    \x3ca class\x3d"toggle-detail" href\x3d"#"\x3e                                        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/down-arrow.png" alt\x3d"'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"toggle-more-information",options):helperMissing.call(depth0,"i18n","toggle-more-information",options)))+'"\x3e                                    \x3c/a\x3e                                \x3c/div\x3e                            \x3c/div\x3e                            \x3cdiv class\x3d"status-message ';if(helper=helpers.statusCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.statusCode;
stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.flightStatusDesc)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightStatusDesc;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/div\x3e                            \x3cdiv class\x3d"detail-wrapper"\x3e\x3c/div\x3e                        \x3c/div\x3e                    \x3c/div\x3e                \x3c/div\x3e                ';
return buffer}buffer+='\x3cdiv class\x3d"sub-panel"\x3e    \x3ch1 id\x3d"flight-status-title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-status",options):helperMissing.call(depth0,"i18n","flight-status",options)))+'\x3c/h1\x3e    \x3ca href\x3d"" id\x3d"search-panel-close-button"\x3e        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/close.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"close",options):helperMissing.call(depth0,"i18n","close",options)))+'"\x3e    \x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"search-type-panel" role\x3d"tablist"\x3e    \x3ca href\x3d"#" id\x3d"flight-search-link" class\x3d"search-type-button" role\x3d"tab"\x3e            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-search",options):helperMissing.call(depth0,"i18n",
"flight-search",options)))+'    \x3c/a\x3e\x3c!--    --\x3e\x3ca href\x3d"#" id\x3d"todays-flights-link" class\x3d"search-type-button" role\x3d"tab"\x3e            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"todays-flights",options):helperMissing.call(depth0,"i18n","todays-flights",options)))+'    \x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"sub-panel" tabindex\x3d"0"\x3e    \x3cdiv class\x3d"grid"\x3e        \x3cdiv class\x3d"col-2-3"\x3e            \x3ch1 id\x3d"date-header"\x3e';
if(helper=helpers.searchDate)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.searchDate;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/h1\x3e            \x3cp class\x3d"airport-label"\x3e';if(helper=helpers.departLabel)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.departLabel;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+
"\x3c/p\x3e            ";stack1=helpers["if"].call(depth0,depth0&&depth0.stopoverLabel,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='            \x3cp class\x3d"airport-label"\x3e';if(helper=helpers.arriveLabel)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.arriveLabel;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e        \x3c/div\x3e        \x3cdiv class\x3d"col-1-3"\x3e            \x3ca id\x3d"edit-search-link" href\x3d"#"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"edit-search",options):helperMissing.call(depth0,"i18n","edit-search",options)))+'\x3c/a\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"results-sub-panel" class\x3d"sub-panel"\x3e    \x3cdiv id\x3d"results-title-row"\x3e        \x3cdiv class\x3d"grid"\x3e            \x3cdiv class\x3d"col-1-4"\x3e                \x26nbsp;            \x3c/div\x3e            \x3cdiv class\x3d"col-3-4"\x3e                \x3cdiv class\x3d"grid inner-grid"\x3e                    \x3cdiv class\x3d"col-1-5"\x3e                        \x3cp class\x3d"col-title-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-num-label",options):helperMissing.call(depth0,"i18n","flight-num-label",options)))+'\x3c/p\x3e                    \x3c/div\x3e                    \x3ca id\x3d"departure-status" href\x3d"#" tabindex\x3d"-1"\x3e                        \x3cdiv class\x3d"col-2-5"\x3e                            \x3cspan class\x3d"col-title-label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"departure-status",options):helperMissing.call(depth0,"i18n","departure-status",options)))+'\x3c/span\x3e                            \x3cimg class\x3d"sortArrow" src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/down-triangle.png"\x3e                        \x3c/div\x3e                    \x3c/a\x3e                    \x3ca id\x3d"arrival-status" href\x3d"#" tabindex\x3d"-1"\x3e                        \x3cdiv class\x3d"col-2-5"\x3e                            \x3cspan class\x3d"col-title-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"arrival-status",options):helperMissing.call(depth0,"i18n","arrival-status",options)))+'\x3c/span\x3e                            \x3cimg class\x3d"sortArrow" src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/down-triangle.png"\x3e                        \x3c/div\x3e                    \x3c/a\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cdiv id\x3d"results-wrapper-outer"\x3e        \x3cdiv id\x3d"results-wrapper-inner"\x3e            \x3cdiv id\x3d"scroll-wrapper"\x3e                ';
stack1=helpers.each.call(depth0,depth0&&depth0.flightStatusList,{hash:{},inverse:self.noop,fn:self.program(3,program3,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer});templates["flight-status-search"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer="",stack1,helper,options,
functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper;buffer+='            \x3coption value\x3d"';if(helper=helpers.value)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.value;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.label)stack1=helper.call(depth0,{hash:{},data:data});
else{helper=depth0&&depth0.label;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+"\x3c/option\x3e            ";return buffer}buffer+='\x3cdiv class\x3d"sub-panel"\x3e    \x3ch1 id\x3d"flight-status-title" tabindex\x3d"0"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-status",options):helperMissing.call(depth0,"i18n","flight-status",options)))+'\x3c/h1\x3e    \x3ca href\x3d"" id\x3d"search-panel-close-button"\x3e        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/close.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"close",options):helperMissing.call(depth0,"i18n","close",options)))+'"\x3e    \x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"search-type-panel" role\x3d"tablist"\x3e    \x3ca href\x3d"#" id\x3d"flight-search-link" class\x3d"search-type-button" role\x3d"tab"\x3e        '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-search",
options):helperMissing.call(depth0,"i18n","flight-search",options)))+'    \x3c/a\x3e\x3c!--    --\x3e\x3ca href\x3d"#" id\x3d"todays-flights-link" class\x3d"search-type-button" role\x3d"tab"\x3e    '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"todays-flights",options):helperMissing.call(depth0,"i18n","todays-flights",options)))+'\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"sub-panel" id\x3d"flightStatusContainer"\x3e    \x3cform\x3e        \x3clabel for\x3d"departureDate" style\x3d"display:none"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-departure-date",options):helperMissing.call(depth0,"i18n","select-departure-date",options)))+'\x3c/label\x3e        \x3cselect name\x3d"departureDate" id\x3d"departureDate" aria-label\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"select-departure-date",options):helperMissing.call(depth0,"i18n","select-departure-date",
options)))+'"\x3e            ';stack1=helpers.each.call(depth0,depth0&&depth0.dates,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+='        \x3c/select\x3e        \x3chr\x3e        \x3cdiv class\x3d"grid"\x3e            \x3cdiv class\x3d"col-1-2"\x3e                \x3cul class\x3d"tripDetailsSelector"\x3e                    \x3cli class\x3d"fromSelector-sh flight-select-third ui-front"\x3e                        \x3cdiv class\x3d"autoFillHolder"\x3e                            \x3ca href\x3d"#" tabindex\x3d"-1"\x3e                                \x3cimg class\x3d"fromTarget-sh" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/place-icon.png" alt\x3d"Click to open menu of places"/\x3e                            \x3c/a\x3e                            \x3cdiv style\x3d"position:relative"\x3e                                \x3clabel class\x3d"offscreen" for\x3d"from-input-sh"\x3eDeparting City\x3c/label\x3e                                \x3cinput id\x3d"from-input-sh" name\x3d"departureAirport" class\x3d"fromInput-sh" type\x3d"text" value\x3d"" placeholder\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"departure-airport",options):helperMissing.call(depth0,"i18n","departure-airport",options)))+'" \x3e                                \x3cul class\x3d"fromFlyout-sh flyout" data-max\x3d\'4\' data-label\x3d".fromInput-sh" data-target\x3d".fromTarget-sh"\x3e                                    \x3cli\x3e\x3ca href\x3d"#"\x3eLoading\x3c/a\x3e\x3c/li\x3e                                    \x3cli\x3e\x3ca href\x3d"#"\x3eAirports\x3c/a\x3e\x3c/li\x3e                                    \x3cli\x3e\x3ca href\x3d"#"\x3eNow\x3c/a\x3e\x3c/li\x3e                                \x3c/ul\x3e                            \x3c/div\x3e                            \x3cp\x3e\x3c/p\x3e                        \x3c/div\x3e                    \x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e            \x3cdiv class\x3d"col-1-2"\x3e                \x3cul class\x3d"tripDetailsSelector"\x3e                    \x3cli class\x3d"toSelector-sh flight-select-third ui-front"\x3e                        \x3cdiv class\x3d"autoFillHolder"\x3e                            \x3ca href\x3d"#" tabindex\x3d"-1"\x3e                                \x3cimg class\x3d"toTarget-sh" src\x3d"/etc/clientlibs/koreanair/images/components/bookingbar/place-icon.png" alt\x3d"Click to open menu of places"/\x3e                            \x3c/a\x3e                            \x3cdiv style\x3d"position:relative"\x3e                                \x3clabel class\x3d"offscreen" for\x3d"to-input-sh"\x3eArrival City\x3c/label\x3e                                \x3cinput id\x3d"to-input-sh" name\x3d"arrivalAirport" class\x3d"toInput-sh" type\x3d"text" value\x3d"" placeholder\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"arrival-airport",options):helperMissing.call(depth0,"i18n","arrival-airport",options)))+'"\x3e                                \x3cul class\x3d"toFlyout-sh flyout" data-max\x3d\'4\' data-label\x3d".toInput-sh" data-target\x3d".toTarget-sh"\x3e                                    \x3cli\x3e\x3ca href\x3d"#"\x3eLoading\x3c/a\x3e\x3c/li\x3e                                    \x3cli\x3e\x3ca href\x3d"#"\x3eAirports\x3c/a\x3e\x3c/li\x3e                                    \x3cli\x3e\x3ca href\x3d"#"\x3eNow\x3c/a\x3e\x3c/li\x3e                                \x3c/ul\x3e                            \x3c/div\x3e                            \x3cp\x3e\x3c/p\x3e                        \x3c/div\x3e                    \x3c/li\x3e                \x3c/ul\x3e            \x3c/div\x3e        \x3c/div\x3e        \x3cdiv id\x3d"center-hr"\x3e            \x3cspan\x3e                '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"or-label",options):helperMissing.call(depth0,"i18n","or-label",options)))+'            \x3c/span\x3e        \x3c/div\x3e        \x3cdiv class\x3d"grid"\x3e            \x3cdiv class\x3d"col-1-2"\x3e                \x3cdiv class\x3d"grid"\x3e                    \x3cdiv class\x3d"col-1-5"\x3e                        \x3cspan id\x3d"ke-label"\x3eKE\x3c/span\x3e                    \x3c/div\x3e                    \x3cdiv class\x3d"col-4-5"\x3e                        \x3cinput id\x3d"flightNumberInput" type\x3d"text" name\x3d"flightNumber" placeholder\x3d"  '+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-number-hint-label",options):helperMissing.call(depth0,"i18n","flight-number-hint-label",options)))+'"\x3e                    \x3c/div\x3e                \x3c/div\x3e            \x3c/div\x3e            \x3cdiv class\x3d"col-1-2"\x3e                \x3ca id\x3d"viewFlightStatusButton" class\x3d"medium button" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"view-flight-status",options):helperMissing.call(depth0,"i18n","view-flight-status",options)))+'\x3c/a\x3e            \x3c/div\x3e        \x3c/div\x3e        \x3cdiv id\x3d"error-wrapper"\x3e\x3c/div\x3e    \x3c/form\x3e\x3c/div\x3e';return buffer});templates["todays-flights-results"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var buffer=
"",stack1,helper,options,functionType="function",escapeExpression=this.escapeExpression,helperMissing=helpers.helperMissing,self=this;function program1(depth0,data){var buffer="",stack1,helper,options;buffer+='                    \x3cdiv class\x3d"row" tabindex\x3d"0"\x3e                        \x3cdiv class\x3d"grid"\x3e                            \x3cdiv class\x3d"col-1-4"\x3e                                \x3cdiv class\x3d"depart-arrive-block"\x3e                                    \x3cp class\x3d"airport-name"\x3e';
if(helper=helpers.origin)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.origin;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                                    \x3cp class\x3d"airport-name"\x3e';if(helper=helpers.destination)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.destination;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=
escapeExpression(stack1)+'\x3c/p\x3e                                \x3c/div\x3e                            \x3c/div\x3e                            \x3cdiv class\x3d"col-3-4"\x3e                                \x3cdiv class\x3d"grid inner-grid"\x3e                                    \x3cdiv class\x3d"col-1-5"\x3e                                        \x3cimg class\x3d"status-icon" src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/';if(helper=helpers.statusCode)stack1=helper.call(depth0,{hash:{},
data:data});else{helper=depth0&&depth0.statusCode;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'.png" alt\x3d"';if(helper=helpers.flightStatus)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightStatus;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e                                        \x3cspan class\x3d"flight-number"\x3eKE\x3c/span\x3e\x3cspan class\x3d"flight-number" id\x3d"flight-number"\x3e';
if(helper=helpers.flightNumber)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightNumber;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/span\x3e                                        \x3cp class\x3d"';if(helper=helpers.statusCode)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.statusCode;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=
escapeExpression(stack1)+' status-code"\x3e';if(helper=helpers.flightStatus)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightStatus;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                                    \x3c/div\x3e                                    \x3cdiv class\x3d"col-1-5"\x3e                                        \x3cp class\x3d"column-header-label"\x3e'+escapeExpression((helper=
helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-status-scheduled",options):helperMissing.call(depth0,"i18n","flight-status-scheduled",options)))+'\x3c/p\x3e                                        \x3cp class\x3d"time"\x3e'+escapeExpression((stack1=(stack1=depth0&&depth0.depart,stack1==null||stack1===false?stack1:stack1.scheduledTime),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e                                        \x3cp\x3e"+
escapeExpression((stack1=(stack1=depth0&&depth0.depart,stack1==null||stack1===false?stack1:stack1.scheduledDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/p\x3e                                    \x3c/div\x3e                                    \x3cdiv class\x3d"col-1-5"\x3e                                        \x3cp class\x3d"column-header-label"\x3e';if(helper=helpers.departHeader)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.departHeader;stack1=
typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                                        \x3cp class\x3d"time"\x3e'+escapeExpression((stack1=(stack1=depth0&&depth0.depart,stack1==null||stack1===false?stack1:stack1.actualTime),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e                                        \x3cp\x3e"+escapeExpression((stack1=(stack1=depth0&&depth0.depart,stack1==null||stack1===false?
stack1:stack1.actualDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/p\x3e                                    \x3c/div\x3e                                    \x3cdiv class\x3d"col-1-5"\x3e                                        \x3cp class\x3d"column-header-label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-status-scheduled",options):helperMissing.call(depth0,"i18n","flight-status-scheduled",options)))+
'\x3c/p\x3e                                        \x3cp class\x3d"time"\x3e'+escapeExpression((stack1=(stack1=depth0&&depth0.arrive,stack1==null||stack1===false?stack1:stack1.scheduledTime),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e                                        \x3cp\x3e"+escapeExpression((stack1=(stack1=depth0&&depth0.arrive,stack1==null||stack1===false?stack1:stack1.scheduledDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/p\x3e                                    \x3c/div\x3e                                    \x3cdiv class\x3d"col-1-10"\x3e                                        \x3cp class\x3d"column-header-label"\x3e';
if(helper=helpers.arriveHeader)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.arriveHeader;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e                                        \x3cp class\x3d"time"\x3e'+escapeExpression((stack1=(stack1=depth0&&depth0.arrive,stack1==null||stack1===false?stack1:stack1.actualTime),typeof stack1===functionType?stack1.apply(depth0):stack1))+"\x3c/p\x3e                                        \x3cp\x3e"+
escapeExpression((stack1=(stack1=depth0&&depth0.arrive,stack1==null||stack1===false?stack1:stack1.actualDate),typeof stack1===functionType?stack1.apply(depth0):stack1))+'\x3c/p\x3e                                    \x3c/div\x3e                                    \x3cdiv class\x3d"col-1-10"\x3e                                        \x3ca class\x3d"toggle-detail" href\x3d"#"\x3e                                            \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/down-arrow.png" alt\x3d"'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"toggle-more-information",options):helperMissing.call(depth0,"i18n","toggle-more-information",options)))+'"\x3e                                        \x3c/a\x3e                                    \x3c/div\x3e                                \x3c/div\x3e                                \x3cdiv class\x3d"status-message ';if(helper=helpers.statusCode)stack1=helper.call(depth0,{hash:{},data:data});
else{helper=depth0&&depth0.statusCode;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.flightStatusDesc)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.flightStatusDesc;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/div\x3e                                \x3cdiv class\x3d"detail-wrapper"\x3e\x3c/div\x3e                            \x3c/div\x3e                        \x3c/div\x3e                    \x3c/div\x3e                ';
return buffer}buffer+='\x3cdiv class\x3d"sub-panel"\x3e    \x3ch1 id\x3d"flight-status-title"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-status",options):helperMissing.call(depth0,"i18n","flight-status",options)))+'\x3c/h1\x3e    \x3ca href\x3d"" id\x3d"search-panel-close-button"\x3e        \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/close.png" alt\x3d"'+escapeExpression((helper=helpers.i18n||depth0&&
depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"close",options):helperMissing.call(depth0,"i18n","close",options)))+'"\x3e    \x3c/a\x3e\x3c/div\x3e\x3cdiv id\x3d"search-type-panel" role\x3d"tablist"\x3e    \x3ca href\x3d"#" id\x3d"flight-search-link" class\x3d"search-type-button" role\x3d"tab"\x3e            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-search",options):helperMissing.call(depth0,"i18n",
"flight-search",options)))+'    \x3c/a\x3e\x3c!--    --\x3e\x3ca href\x3d"#" id\x3d"todays-flights-link" class\x3d"search-type-button" role\x3d"tab"\x3e            '+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"todays-flights",options):helperMissing.call(depth0,"i18n","todays-flights",options)))+'    \x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"sub-panel" tabindex\x3d"0"\x3e    \x3cdiv class\x3d"grid"\x3e        \x3cdiv class\x3d"col-2-3"\x3e            \x3ch1 id\x3d"date-header"\x3e';
if(helper=helpers.searchDate)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.searchDate;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/h1\x3e            \x3cp class\x3d"airport-label"\x3e';if(helper=helpers.departLabel)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.departLabel;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+
'\x3c/p\x3e            \x3cp class\x3d"airport-label"\x3e';if(helper=helpers.arriveLabel)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.arriveLabel;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/p\x3e        \x3c/div\x3e        \x3cdiv class\x3d"col-1-3 txt-align-r"\x3e            \x3ca id\x3d"edit-search-link" href\x3d"#"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},
data:data},helper?helper.call(depth0,"edit-search",options):helperMissing.call(depth0,"i18n","edit-search",options)))+'\x3c/a\x3e            \x3ca id\x3d"question" href\x3d"#"\x3e                \x3cimg src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/question.png"\x3e            \x3c/a\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"results-sub-panel" class\x3d"sub-panel"\x3e    \x3cdiv id\x3d"results-title-row"\x3e        \x3cdiv class\x3d"grid"\x3e            \x3cdiv class\x3d"col-1-4"\x3e                \x26nbsp;            \x3c/div\x3e            \x3cdiv class\x3d"col-3-4"\x3e                \x3cdiv class\x3d"grid inner-grid"\x3e                    \x3cdiv class\x3d"col-1-5"\x3e                        \x3cp class\x3d"col-title-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"flight-num-label",options):helperMissing.call(depth0,"i18n","flight-num-label",options)))+'\x3c/p\x3e                    \x3c/div\x3e                    \x3ca id\x3d"departure-status" href\x3d"#" tabindex\x3d"-1"\x3e                        \x3cdiv class\x3d"col-2-5"\x3e                            \x3cspan class\x3d"col-title-label"\x3e'+escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,
options={hash:{},data:data},helper?helper.call(depth0,"departure-status",options):helperMissing.call(depth0,"i18n","departure-status",options)))+'\x3c/span\x3e                            \x3cimg class\x3d"sortArrow" src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/down-triangle.png"\x3e                        \x3c/div\x3e                    \x3c/a\x3e                    \x3ca id\x3d"arrival-status" href\x3d"#" tabindex\x3d"-1"\x3e                        \x3cdiv class\x3d"col-2-5"\x3e                            \x3cspan class\x3d"col-title-label"\x3e'+
escapeExpression((helper=helpers.i18n||depth0&&depth0.i18n,options={hash:{},data:data},helper?helper.call(depth0,"arrival-status",options):helperMissing.call(depth0,"i18n","arrival-status",options)))+'\x3c/span\x3e                            \x3cimg class\x3d"sortArrow" src\x3d"/etc/clientlibs/koreanair/images/components/flight-status/down-triangle.png"\x3e                        \x3c/div\x3e                    \x3c/a\x3e                \x3c/div\x3e            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e    \x3cdiv id\x3d"results-wrapper-outer"\x3e        \x3cdiv id\x3d"results-wrapper-inner"\x3e            \x3cdiv id\x3d"scroll-wrapper"\x3e                ';
stack1=helpers.each.call(depth0,depth0&&depth0.flightStatusList,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="            \x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e";return buffer})})();
(function(Backbone,Templates,$,I18n,ServiceApi,koreanair){var shortDesc={CNL:I18n.get("cancelled"),DIV:I18n.get("diverted"),DLA:I18n.get("delayed-arrival"),DLD:I18n.get("delayed-departure"),BTK:I18n.get("ready-to-take-off"),DTK:I18n.get("ready-to-take-off"),TXG:I18n.get("taxiing"),FLT:I18n.get("in-flight"),ARV:I18n.get("arrived"),DLL:I18n.get("cancel-code-due-to-heavydla"),undefined:I18n.get("not-yet-departed")};var desc={airportCondition:I18n.get("cancelled-airport-condition"),aircraftOperationalCondition:I18n.get("cancelled-airport-operational"),
pilotStrike:I18n.get("cancelled-pilot-strike"),weatherCondition:I18n.get("cancelled-weather-condition"),divertedTo:I18n.get("diverted-to"),delayedAirportCondition:I18n.get("delayed-airport-condition"),delayedAircraftOperational:I18n.get("delayed-aircraft-operational"),delayedPilotStrike:I18n.get("delayed-pilot-strike"),delayedWeather:I18n.get("delayed-weather"),dueToAirport:I18n.get("due-to-airport"),dueToAircraft:I18n.get("due-to-aircraft"),dueToPilot:I18n.get("due-to-pilot"),dueToWeather:I18n.get("due-to-weather"),
hvyCCWX:I18n.get("heavydla-ccwx"),hvyCCIN:I18n.get("heavydla-ccin"),hvyCCAP:I18n.get("heavydla-ccap"),hvyCCOP:I18n.get("heavydla-ccop")};var getLongDesc=function(status){var diversionAirport=I18n.get(status.diversionAirport+"-city-label {0}");var longDesc={CNL:{AIRN:"do not display",AIRS:desc.airportCondition,ARPT:desc.airportCondition,ASGN:"do not display",AUTH:desc.airportCondition,AUTO:"do not display",BIRD:desc.aircraftOperationalCondition,CCAP:desc.airportCondition,CCIN:desc.pilotStrike,CCOP:desc.aircraftOperationalCondition,
CCWX:desc.weatherCondition,COMM:desc.aircraftOperationalCondition,CREW:desc.aircraftOperationalCondition,DAMA:desc.aircraftOperationalCondition,DEFT:"do not display",EQUI:desc.aircraftOperationalCondition,EWSR:"do not display",FUEL:desc.aircraftOperationalCondition,HOLI:"do not display",INDU:desc.pilotStrike,NODE:desc.aircraftOperationalCondition,OPCO:desc.aircraftOperationalCondition,OPER:desc.aircraftOperationalCondition,PERF:desc.aircraftOperationalCondition,POLI:desc.aircraftOperationalCondition,
POSI:desc.aircraftOperationalCondition,REPO:desc.aircraftOperationalCondition,RTNS:desc.aircraftOperationalCondition,RUNW:desc.airportCondition,TECH:desc.aircraftOperationalCondition,WEAT:desc.weatherCondition},DIV:{AIRS:I18n.get("diverted-due-to-airport",[diversionAirport]),ARPT:I18n.get("diverted-due-to-airport",[diversionAirport]),AUTH:I18n.get("diverted-due-to-airport",[diversionAirport]),BIRD:I18n.get("diverted-due-to-aircraft",[diversionAirport]),COMM:I18n.get("diverted-due-to-aircraft",[diversionAirport]),
CREW:I18n.get("diverted-due-to-aircraft",[diversionAirport]),DAMA:I18n.get("diverted-due-to-aircraft",[diversionAirport]),EQUI:I18n.get("diverted-due-to-aircraft",[diversionAirport]),FUEL:I18n.get("diverted-due-to-aircraft",[diversionAirport]),HOLI:"do not display",INDU:I18n.get("diverted-due-to-pilot",[diversionAirport]),NODE:I18n.get("diverted-due-to-aircraft",[diversionAirport]),OPCO:I18n.get("diverted-due-to-aircraft",[diversionAirport]),OPER:I18n.get("diverted-due-to-aircraft",[diversionAirport]),
PERF:I18n.get("diverted-due-to-aircraft",[diversionAirport]),POLI:I18n.get("diverted-due-to-aircraft",[diversionAirport]),POSI:I18n.get("diverted-due-to-aircraft",[diversionAirport]),REPO:I18n.get("diverted-due-to-aircraft",[diversionAirport]),RTNS:I18n.get("diverted-due-to-aircraft",[diversionAirport]),RUNW:I18n.get("diverted-due-to-airport",[diversionAirport]),TECH:I18n.get("diverted-due-to-aircraft",[diversionAirport]),WEAT:I18n.get("diverted-due-to-weather",[diversionAirport])},DLA:{AA:desc.delayedAirportCondition,
AD:desc.delayedAirportCondition,AF:desc.delayedAirportCondition,AG:desc.delayedAirportCondition,AM:desc.delayedAirportCondition,AR:desc.delayedAirportCondition,AS:desc.delayedAirportCondition,AT:desc.delayedAirportCondition,CA:desc.delayedAircraftOperational,CC:desc.delayedAircraftOperational,CD:desc.delayedAircraftOperational,CE:desc.delayedAircraftOperational,CI:desc.delayedAircraftOperational,CL:desc.delayedAircraftOperational,CO:desc.delayedAircraftOperational,CP:desc.delayedAircraftOperational,
CU:desc.delayedAircraftOperational,DF:desc.delayedAircraftOperational,DG:desc.delayedAircraftOperational,EC:desc.delayedAircraftOperational,ED:desc.delayedAircraftOperational,EF:desc.delayedAircraftOperational,FA:desc.delayedAircraftOperational,FB:desc.delayedAircraftOperational,FC:desc.delayedAircraftOperational,FF:desc.delayedAircraftOperational,FL:desc.delayedAircraftOperational,FM:desc.delayedAircraftOperational,FP:desc.delayedAircraftOperational,FR:desc.delayedAircraftOperational,FS:desc.delayedAircraftOperational,
FT:desc.delayedAircraftOperational,GB:desc.delayedAircraftOperational,GC:desc.delayedAircraftOperational,GD:desc.delayedAircraftOperational,GE:desc.delayedAircraftOperational,GF:desc.delayedAircraftOperational,GL:desc.delayedAircraftOperational,GS:desc.delayedAircraftOperational,GT:desc.delayedAircraftOperational,GU:desc.delayedAircraftOperational,MF:desc.delayedAircraftOperational,MI:desc.delayedPilotStrike,MO:desc.delayedPilotStrike,MS:desc.delayedAircraftOperational,MX:desc.delayedAircraftOperational,
NA:desc.delayedAircraftOperational,NB:desc.delayedAircraftOperational,NC:desc.delayedAircraftOperational,ND:desc.delayedAircraftOperational,NE:desc.delayedAircraftOperational,NF:desc.delayedAircraftOperational,NG:desc.delayedAircraftOperational,NP:desc.delayedAircraftOperational,NR:desc.delayedAircraftOperational,NS:desc.delayedAircraftOperational,NT:desc.delayedAircraftOperational,NW:desc.delayedAircraftOperational,PB:desc.delayedAircraftOperational,PC:desc.delayedAircraftOperational,PD:desc.delayedAircraftOperational,
PE:desc.delayedAircraftOperational,PG:desc.delayedAircraftOperational,PH:desc.delayedAircraftOperational,PL:desc.delayedAircraftOperational,PO:desc.delayedAircraftOperational,PS:desc.delayedAircraftOperational,RC:desc.delayedAircraftOperational,RL:desc.delayedAircraftOperational,RO:desc.delayedAircraftOperational,RS:desc.delayedAircraftOperational,RT:desc.delayedAircraftOperational,SG:desc.delayedAircraftOperational,TA:desc.delayedAircraftOperational,TC:desc.delayedAircraftOperational,TD:desc.delayedAircraftOperational,
TL:desc.delayedAircraftOperational,TM:desc.delayedAircraftOperational,TN:desc.delayedAircraftOperational,TR:desc.delayedAircraftOperational,TS:desc.delayedAircraftOperational,TV:desc.delayedAircraftOperational,WG:desc.delayedWeather,WI:desc.delayedWeather,WO:desc.delayedWeather,WR:desc.delayedWeather,WS:desc.delayedWeather,WT:desc.delayedWeather,XX:"do not display"},DLD:{AA:desc.delayedAirportCondition,AD:desc.delayedAirportCondition,AF:desc.delayedAirportCondition,AG:desc.delayedAirportCondition,
AM:desc.delayedAirportCondition,AR:desc.delayedAirportCondition,AS:desc.delayedAirportCondition,AT:desc.delayedAirportCondition,CA:desc.delayedAircraftOperational,CC:desc.delayedAircraftOperational,CD:desc.delayedAircraftOperational,CE:desc.delayedAircraftOperational,CI:desc.delayedAircraftOperational,CL:desc.delayedAircraftOperational,CO:desc.delayedAircraftOperational,CP:desc.delayedAircraftOperational,CU:desc.delayedAircraftOperational,DF:desc.delayedAircraftOperational,DG:desc.delayedAircraftOperational,
EC:desc.delayedAircraftOperational,ED:desc.delayedAircraftOperational,EF:desc.delayedAircraftOperational,FA:desc.delayedAircraftOperational,FB:desc.delayedAircraftOperational,FC:desc.delayedAircraftOperational,FF:desc.delayedAircraftOperational,FL:desc.delayedAircraftOperational,FM:desc.delayedAircraftOperational,FP:desc.delayedAircraftOperational,FR:desc.delayedAircraftOperational,FS:desc.delayedAircraftOperational,FT:desc.delayedAircraftOperational,GB:desc.delayedAircraftOperational,GC:desc.delayedAircraftOperational,
GD:desc.delayedAircraftOperational,GE:desc.delayedAircraftOperational,GF:desc.delayedAircraftOperational,GL:desc.delayedAircraftOperational,GS:desc.delayedAircraftOperational,GT:desc.delayedAircraftOperational,GU:desc.delayedAircraftOperational,MF:desc.delayedAircraftOperational,MI:desc.delayedPilotStrike,MO:desc.delayedPilotStrike,MS:desc.delayedAircraftOperational,MX:desc.delayedAircraftOperational,NA:desc.delayedAircraftOperational,NB:desc.delayedAircraftOperational,NC:desc.delayedAircraftOperational,
ND:desc.delayedAircraftOperational,NE:desc.delayedAircraftOperational,NF:desc.delayedAircraftOperational,NG:desc.delayedAircraftOperational,NP:desc.delayedAircraftOperational,NR:desc.delayedAircraftOperational,NS:desc.delayedAircraftOperational,NT:desc.delayedAircraftOperational,NW:desc.delayedAircraftOperational,PB:desc.delayedAircraftOperational,PC:desc.delayedAircraftOperational,PD:desc.delayedAircraftOperational,PE:desc.delayedAircraftOperational,PG:desc.delayedAircraftOperational,PH:desc.delayedAircraftOperational,
PL:desc.delayedAircraftOperational,PO:desc.delayedAircraftOperational,PS:desc.delayedAircraftOperational,RC:desc.delayedAircraftOperational,RL:desc.delayedAircraftOperational,RO:desc.delayedAircraftOperational,RS:desc.delayedAircraftOperational,RT:desc.delayedAircraftOperational,SG:desc.delayedAircraftOperational,TA:desc.delayedAircraftOperational,TC:desc.delayedAircraftOperational,TD:desc.delayedAircraftOperational,TL:desc.delayedAircraftOperational,TM:desc.delayedAircraftOperational,TN:desc.delayedAircraftOperational,
TR:desc.delayedAircraftOperational,TS:desc.delayedAircraftOperational,TV:desc.delayedAircraftOperational,WG:desc.delayedWeather,WI:desc.delayedWeather,WO:desc.delayedWeather,WR:desc.delayedWeather,WS:desc.delayedWeather,WT:desc.delayedWeather,XX:"do not display"},DLL:{CCWX:desc.hvyCCWX,CCIN:desc.hvyCCIN,CCAP:desc.hvyCCAP,CCOP:desc.hvyCCOP}};if(!status.code||!status.messageCode||!longDesc[status.code])return"";return longDesc[status.code][status.messageCode]};koreanair.FlightStatus=koreanair.FlightStatus||
{};koreanair.FlightStatus.shortDesc=shortDesc;koreanair.FlightStatus.getLongDesc=getLongDesc})(Backbone,Handlebars.templates,jQuery,Granite.I18n,koreanair.ServiceApi,koreanair);
(function(Backbone,Templates,$,I18n,ServiceApi,koreanair){var DetailView=Backbone.View.extend({id:"flight-status-detail",template:Templates["flight-status-detail"],events:{},render:function(){this.$el.html(this.template(this.options));return this}});koreanair.FlightStatus=koreanair.FlightStatus||{};koreanair.FlightStatus.DetailView=DetailView})(Backbone,Handlebars.templates,jQuery,Granite.I18n,koreanair.ServiceApi,koreanair);
(function(Backbone,Templates,$,I18n,ServiceApi,koreanair){var buildPath=function($elem,state){var base=$elem.attr("src").split("/").slice(0,-1).join("/");if(state)return base+"/up-triangle.png";else return base+"/down-triangle.png"};var ResultsView=Backbone.View.extend({id:"flight-status-results-panel",className:"flight-status-panel",template:Templates["flight-status-results"],departSortAscend:false,arriveSortAscend:false,events:{"click #search-panel-close-button":function(e){e.preventDefault();$("#top-nav-status").removeClass("open");
koreanair.FlightStatus.controller.toggleSearchPanel()},"click #edit-search-link":function(e){e.preventDefault();this.backToSearch()},"click #flight-search-link":function(e){e.preventDefault();koreanair.FlightStatus.controller.setSearchType("flight-search");this.backToSearch()},"click #todays-flights-link":function(e){e.preventDefault();koreanair.FlightStatus.controller.setSearchType("todays-flights");koreanair.FlightStatus.controller.todaysFlights()},"click #departure-status":function(e){e.preventDefault();
this.doSort("departureDatetime","scheduled","departSortAscend");var $arrow=$("#departure-status .sortArrow");$arrow.attr("src",buildPath($arrow,this.departSortAscend))},"click #arrival-status":function(e){e.preventDefault();this.doSort("arrivalDatetime","scheduled","arriveSortAscend");var $arrow=$("#arrival-status .sortArrow");$arrow.attr("src",buildPath($arrow,this.arriveSortAscend))},"click .toggle-detail":function(e){e.preventDefault();var buildPath=function($elem){var base=$elem.attr("src").split("/").slice(0,
-1).join("/");if($elem.hasClass("active"))return base+"/down-arrow.png";else return base+"/up-arrow.png"};var $arrow=$(e.target);if($arrow.is("a"))$arrow=$arrow.find("img");$arrow.attr("src",buildPath($arrow));var $row=$arrow.parents(".row");if($arrow.hasClass("active")){$row.find(".status-message").css("display","none");$row.find("#flight-status-detail").remove();this.resize()}else{this.requestDetails($row,$arrow);if($row.find(".status-message").text()!=="")$row.find(".status-message").css("display",
"block")}$arrow.toggleClass("active")}},"onDetailsSuccess":function($row,$arrow,data){var getTimeString=function(time){var hours=parseInt(time.substr(0,2));var minutes=parseInt(time.substr(2));return numeral(hours*60+minutes).format("00:00:00").split(":").slice(1).join(":")};if($arrow.hasClass("active")){$row.find("#flight-status-detail").remove();$row.find(".detail-wrapper").append((new koreanair.FlightStatus.DetailView({flyingTime:getTimeString(data.flyingTime),groundTime:getTimeString(data.groundTime),
totalDuration:getTimeString(data.totalDuration),totalDistance:data.totalDistance})).render().el);this.resize()}},"requestDetails":function($row,$arrow){koreanair.ServiceApi.flightStatusDetail.get({path:{date:this.options.searchParams.departureDate,flightNumber:$row.find("#flight-number").text(),fromCode:this.options.flightResults.flightList[$($row).index()].departureAirportCode,toCode:this.options.flightResults.flightList[$($row).index()].arrvalAirportCode},success:function(data){console.log(JSON.stringify(data));
this.onDetailsSuccess($row,$arrow,data)}.bind(this)})},"doSort":function(sortByInner,sortByOuter,toggleVar){var sorted=this.options.flightResults.flightList.sort(koreanair.FlightStatus.buildCompareFunc(sortByInner,sortByOuter));if(!this[toggleVar])sorted=sorted.reverse();this[toggleVar]=!this[toggleVar];var airports={};var view=this;koreanair.FlightStatus.controller.getAirports(airports).then(function(){view.options.flightStatusList=koreanair.FlightStatus.statusListFromResults(sorted,airports);view.render();
koreanair.FlightStatus.controller.setSearchType("flight-search")})},"backToSearch":function(){koreanair.FlightStatus.controller.toggleSearchPanel();koreanair.FlightStatus.controller.toggleSearchPanel()},resize:function(){if(this.options.flightStatusList.length<4){var scrollBarHeight=15;var wrapperHeight=_($(".row").map(function(i,elem){return parseInt($(elem).css("height"))})).reduce(function(sum,elem){return sum+elem});$("#results-wrapper-inner").css("height",wrapperHeight+scrollBarHeight);$("#results-wrapper-outer").css("height",
wrapperHeight)}},scrollPos:0,setupScroll:function(){var $wrapper=this.$("#results-wrapper-inner");var height=$wrapper.find("#scroll-wrapper").height();var view=this;$wrapper.scroll(function(e){view.scrollPos=$wrapper.scrollTop()});$wrapper.mouseenter(function(){if(!/MSIE/i.test(navigator.userAgent))$("body").on("wheel.modal mousewheel.modal",function(e){e.preventDefault()});$(window).bind("mousewheel",function(event){if(event.originalEvent.wheelDelta>=0){view.scrollPos-=20;if(view.scrollPos<0)view.scrollPos=
0}else{view.scrollPos+=20;if(view.scrollPos>height)view.scrollPos=height}$wrapper.scrollTop(view.scrollPos)})});$wrapper.mouseleave(function(){$("body").off("wheel.modal mousewheel.modal");$(window).unbind("mousewheel")})},render:function(){this.$el.html(this.template(this.options));this.$(".status-message").each(function(i,statusMessage){if(statusMessage===""||statusMessage==="do not display")statusMessage.css("display","none")});this.$el.attr("role","search");return this}});koreanair.FlightStatus=
koreanair.FlightStatus||{};koreanair.FlightStatus.ResultsView=ResultsView})(Backbone,Handlebars.templates,jQuery,Granite.I18n,koreanair.ServiceApi,koreanair);
(function(Backbone,Templates,$,I18n,ServiceApi,koreanair,FlightStatus){var SearchView=Backbone.View.extend({id:"flight-status-search-panel",className:"flight-status-panel",template:Templates["flight-status-search"],events:{"click #search-panel-close-button":"closeFlightStatus","click #viewFlightStatusButton":"searchFlightStatusHandler","submit form":"searchFlightStatusHandler","click #flight-search-link":"flightSearchTabClick","click #todays-flights-link":"todaysFlightsTabClick"},objectFromForm:function($form){return _($form.serializeArray()).map(function(elem){return[elem.name,
elem.value]}).object().value()},IEplaceHolderGuard:function(){if(!/^\d*[A-Z]{0,1}$/.test($("#flightNumberInput").val()))$("#flightNumberInput").val("")},render:function(){this.$el.html(this.template(this.options));if($().chosen)this.$("select").chosen({"disable_search":true});this.$el.attr("role","search");return this},closeFlightStatus:function(event){event.preventDefault();$("#top-nav-status").removeClass("open");FlightStatus.controller.toggleSearchPanel()},flightSearchTabClick:function(event){event.preventDefault();
FlightStatus.controller.setSearchType("flight-search");FlightStatus.controller.toggleSearchPanel();FlightStatus.controller.toggleSearchPanel()},loadingDisplayStatus:function(event){var $targetPanelElement=$(event.target).closest(".flight-status-panel");$targetPanelElement.addClass("loading")},todaysFlightsTabClick:function(event){event.preventDefault();this.loadingDisplayStatus(event);FlightStatus.controller.setSearchType("todays-flights");FlightStatus.controller.todaysFlights()},searchFlightStatusHandler:function(event){event.preventDefault();
var $form=this.$("form");this.IEplaceHolderGuard();if(!this.validate($form))return;var formData=this.objectFromForm($form);var view=this;var airports={};FlightStatus.controller.getAirports(airports).done(function(){formData.departureAirport=formData.flightNumber?undefined:view.getAirportCode(formData.departureAirport,airports.origins);formData.arrivalAirport=formData.flightNumber?undefined:view.getAirportCode(formData.arrivalAirport,airports.destinations);view.loadingDisplayStatus(event);view.searchFlightStatus(formData)})},
getAirportCode:function(airportString,airportList){return FlightStatus.controller.codeFromAirport(airportString,airportList)},validate:function($form){this.$(".chosen-container").css("border","none");var $departure=$('input[name\x3d"departureAirport"]');var $arrive=$('input[name\x3d"arrivalAirport"]');var checkForDefaultValue=function($selector){return $selector.val()===""||$selector.val()===$selector.attr("placeholder")};var airportRequired=function(){var $flightNumber=$('input[name\x3d"flightNumber"]');
return checkForDefaultValue($flightNumber)};if(airportRequired()){$departure.add($arrive).addClass("required");var getErrorMessage=function(){var depart=checkForDefaultValue($departure);var arrive=checkForDefaultValue($arrive);if(depart&&arrive)return"depart-arrive-required";if(depart)return"depart-required";if(arrive)return"arrive-required"};$("#error-wrapper").text(I18n.get(getErrorMessage()))}else $departure.add($arrive).removeClass("required");$form.validate({errorPlacement:function(error,element){element.css("border",
"2px solid red")}});return $form.valid()},searchFlightStatus:function(searchParams){var _this=this;var onResults=function(flightResults){var flightList=flightResults.flightList;searchParams.departureAirport=searchParams.departureAirport||flightList[0].departureAirportCode;searchParams.arrivalAirport=searchParams.arrivalAirport||(flightList.length>1?flightList[1].arrvalAirportCode:flightList[0].arrvalAirportCode);var airports={};FlightStatus.controller.getAirports(airports).done(function(){var flightStatusList=
statusListFromResults(flightResults.flightList,airports),stopover=FlightStatus.controller.getStopover(flightStatusList);FlightStatus.controller.switchToResultsPanel({searchDate:moment(searchParams.departureDate,"YYYYMMDD").format("YYYY-MM-DD"),departLabel:I18n.get("depart-label")+" "+FlightStatus.controller.airportFromCode(searchParams.departureAirport,_this.options.airports.destinations),arriveLabel:I18n.get("arrival-status-label")+" "+FlightStatus.controller.airportFromCode(searchParams.arrivalAirport,
_this.options.airports.origins),stopoverLabel:stopover?I18n.get("stopover-label")+" "+stopover:stopover,flightStatusList:flightStatusList,searchParams:searchParams,flightResults:flightResults})})};if(searchParams.flightNumber)ServiceApi.flightStatus.get({path:{date:searchParams.departureDate,type:searchParams.flightNumber},success:function(data){onResults(data)},error:function(jqXHR,textStatus){console.log(jqXHR.responseText);this.$el.removeClass("loading");$("#error-wrapper").text(I18n.get("failed-find-flight-status"))}.bind(this)});
else ServiceApi.flightStatus.post({path:{date:searchParams.departureDate,type:"cities"},data:JSON.stringify({departureAirportList:[searchParams.departureAirport],arrivalAirportList:[searchParams.arrivalAirport]}),success:function(data){onResults(data)},error:function(jqXHR,textStatus){console.log(jqXHR.responseText);this.$el.removeClass("loading");$("#error-wrapper").text(I18n.get("failed-find-flight-status"))}.bind(this)})}});var departEstimatedActualFromStatusCode={CNL:"estimated",DIV:"actual",
DLA:"actual",DLD:"estimated",BTK:"actual",TXG:"actual",FLT:"actual",ARV:"actual",DLL:"estimated",undefined:"estimated"};var arriveEstimatedActualFromStatusCode={CNL:"estimated",DIV:"estimated",DLA:"estimated",DLD:"estimated",BTK:"estimated",TXG:"estimated",FLT:"estimated",ARV:"actual",DLL:"estimated",undefined:"estimated"};var statusListFromResults=function(flightList,airports){return _(flightList).map(function(flight){return{origin:FlightStatus.controller.airportFromCode(flight.departureAirportCode,
airports.origins),destination:FlightStatus.controller.airportFromCode(flight.arrvalAirportCode,airports.destinations),flightNumber:flight.flightNumber,flightStatus:FlightStatus.shortDesc[flight.status.code],statusCode:flight.status.code,flightStatusDesc:FlightStatus.getLongDesc(flight.status),departHeader:I18n.get(departEstimatedActualFromStatusCode[flight.status.code]),arriveHeader:I18n.get(arriveEstimatedActualFromStatusCode[flight.status.code]),depart:{scheduledTime:moment(flight.departureDatetime.scheduled,
"YYYYMMDDHHmmss").format("HH:mm"),scheduledDate:moment(flight.departureDatetime.scheduled,"YYYYMMDDHHmmss").format("YYYY-MM-DD"),actualTime:flight.status.code==="CNL"||flight.status.code==="DLL"?"-":moment(flight.departureDatetime[departEstimatedActualFromStatusCode[flight.status.code]],"YYYYMMDDHHmmss").format("HH:mm"),actualDate:flight.status.code==="CNL"||flight.status.code==="DLL"?"-":moment(flight.departureDatetime[departEstimatedActualFromStatusCode[flight.status.code]],"YYYYMMDDHHmmss").format("YYYY-MM-DD")},
arrive:{scheduledTime:moment(flight.arrivalDatetime.scheduled,"YYYYMMDDHHmmss").format("HH:mm"),scheduledDate:moment(flight.arrivalDatetime.scheduled,"YYYYMMDDHHmmss").format("YYYY-MM-DD"),actualTime:flight.status.code==="CNL"||flight.status.code==="DLL"?"-":moment(flight.arrivalDatetime[arriveEstimatedActualFromStatusCode[flight.status.code]],"YYYYMMDDHHmmss").format("HH:mm"),actualDate:flight.status.code==="CNL"||flight.status.code==="DLL"?"-":moment(flight.arrivalDatetime[arriveEstimatedActualFromStatusCode[flight.status.code]],
"YYYYMMDDHHmmss").format("YYYY-MM-DD")}}}).value()};koreanair.FlightStatus=FlightStatus||{};koreanair.FlightStatus.SearchView=SearchView;koreanair.FlightStatus.statusListFromResults=statusListFromResults})(Backbone,Handlebars.templates,jQuery,Granite.I18n,koreanair.ServiceApi,koreanair,koreanair.FlightStatus);
(function(Backbone,Templates,$,I18n,ServiceApi,koreanair){var sortCompare=function(L,R){if(L<R)return-1;if(L>R)return 1;return 0};var buildCompareFunc=function(sortByOuter,sortByInner){return function(left,right){var L=parseInt(left[sortByOuter][sortByInner]+("0000"+left.flightNumber).substr(-4,4));var R=parseInt(right[sortByOuter][sortByInner]+("0000"+right.flightNumber).substr(-4,4));if(L<R)return-1;if(L>R)return 1;return 0}};var sortRegionsByName=function(regionsList){return regionsList.sort(function(left,
right){var L=left.name;var R=right.name;return sortCompare(L,R)})};var airportsByRegion=function(regions){return $.when(koreanair.Airports.getOriginsByRegion(koreanair.Booking.PAYMENT_TYPES.REVENUE,function(data){regions.origins=sortRegionsByName(data)}),koreanair.Airports.getDestinationsByRegion(koreanair.Booking.PAYMENT_TYPES.REVENUE,function(data){regions.destinations=sortRegionsByName(data)}))};var sortByStatus=function(flightList){var val={CNL:0,DIV:1,DLA:2,DLD:3,BTK:4,TXG:5,FLT:6,ARV:7};return flightList.sort(function(left,
right){var L=val[left.status.code];var R=val[right.status.code];return sortCompare(L,R)})};var getRegion=function(){return"Korea"};var controller={appendToSelector:"body","active":false,showSearchView:function(){var airports={};var self=this;this.getAirports(airports).done(function(){self.buildSearchViewData(airports)})},onlyOnlineAirports:function(regionsList){return _(regionsList).map(function(region){region.airports=_(region.airports).filter(function(airport){return airport.online}).value();return region}).value()},
toggleSearchPanel:function(){if(this.active)$(".flight-status-panel").remove();else this.showSearchView();this.active=!this.active},setSearchType:function(type){var isFlightSearch=type==="flight-search",$fsLink=$("#flight-search-link.search-type-button"),$todayLink=$("#todays-flights-link.search-type-button");this.setActiveTab(isFlightSearch?$fsLink:$todayLink);this.setInactiveTab(isFlightSearch?$todayLink:$fsLink)},setActiveTab:function($input){$input.addClass("active");$input.attr("aria-selected",
true);$input.attr("aria-expanded",true)},setInactiveTab:function($input){$input.removeClass("active");$input.removeAttr("aria-selected");$input.removeAttr("aria-expanded")},getAirports:function(){var cache={};return function(airports){if(cache.origins&&cache.destinations){airports.origins=cache.origins;airports.destinations=cache.destinations;return $.Deferred().resolve().promise()}return $.when(koreanair.Airports.getOrigins(koreanair.Booking.PAYMENT_TYPES.REVENUE,function(data){cache.origins=airports.origins=
data}),koreanair.Airports.getDestinations(koreanair.Booking.PAYMENT_TYPES.REVENUE,function(data){cache.destinations=airports.destinations=data}))}}(),airportFromCode:function(code,airportList){return _(airportList).map(function(airport){return[airport.code,airport.name]}).object().value()[code]},codeFromAirport:function(airportName,airportList){return _(airportList).map(function(airport){return[airport.name,airport.code]}).object().value()[airportName]},getDates:function(){var base=moment().subtract("days",
2);return _.map([0,1,1,1],function(offset){var dateOption=base.add("days",offset);return{label:dateOption.format("YYYY-MM-DD"),value:dateOption.format("YYYYMMDD")}})},getStopover:function(flightStatusList){var listLength=flightStatusList.length;if(listLength>1){var departure=flightStatusList[0],arrival=flightStatusList[1];if(departure.flightNumber===arrival.flightNumber)if(departure.destination===arrival.origin)return arrival.origin}return},buildSearchViewData:function(airports){this.renderSearchView({airports:airports,
dates:this.getDates()})},airportsDropdownTemplate:Templates["booking-bar-airports-dropdown"],updateAirportsDropdown:function($target,$flyout,regions,onLeft){_.each(regions,function(region){region.onlineAirports=_.filter(region.airports,function(airport){return airport.online===true});region.offlineAirports=_.filter(region.airports,function(airport){return airport.online!==true})});var html=this.airportsDropdownTemplate({regions:koreanair.Airports.sortedDropdownAirports(regions)});$flyout.html(html);
koreanair.CustomForms.bindFlyouts($target,_.noop,onLeft)},renderSearchView:function(viewData){var searchView=(new koreanair.FlightStatus.SearchView(viewData)).render().el;$(this.appendToSelector).append(searchView);$("#flight-status-title").focus();$("#departureDate").val(viewData.dates[2].value);koreanair.CustomForms.render(searchView);$(".chosen-container, .chosen-drop \x3e .chosen-search \x3e input").css("width","98%");koreanair.FlightStatus.controller.setSearchType("flight-search");this.fromToSelectView=
new koreanair.FromToSelector.BaseView({showFlyoutOnLeft:true,fromToContainerId:"#flightStatusContainer"});this.fromToSelectView.render()},airportsByRegion:function(regions){return $.when(koreanair.Airports.getOriginsByRegion(koreanair.Booking.PAYMENT_TYPES.REVENUE,function(data){regions.origins=sortRegionsByName(data)}),koreanair.Airports.getDestinationsByRegion(koreanair.Booking.PAYMENT_TYPES.REVENUE,function(data){regions.destinations=sortRegionsByName(data)}))},initializeAutoComplete:function(){var self=
this;var regions=[];this.airportsByRegion(regions).done(function(){self.updateAirportsDropdown($(".fromSelector"),$(".fromFlyout"),self.onlyOnlineAirports(regions.origins));self.updateAirportsDropdown($(".toSelector"),$(".toFlyout"),self.onlyOnlineAirports(regions.origins),true)});var airports={};this.getAirports(airports).done(function(){var pluckedNameArray=_.pluck(airports,"name");var pluckedCodeArray=_.pluck(airports,"code");var combinedAirportArray=[];for(var i=0;i<pluckedNameArray.length;i++)combinedAirportArray.push({"label":pluckedNameArray[i],
"value":pluckedCodeArray[i]});var autoCompleateSource=function(request,response){var searchResults=[],searchTerm=$.ui.autocomplete.escapeRegex(request.term),startsWithMatcher=new RegExp("^"+searchTerm+"|/"+searchTerm,"i");var airportCodeStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&startsWithMatcher.test(airport.value)});searchResults=searchResults.concat(airportCodeStartsWith);var airportNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,
searchResults)<0&&startsWithMatcher.test(airport.label)});var sortedAirportNameStartsWithAndContains=_.sortBy(airportNameStartsWith,"sort");searchResults=searchResults.concat(sortedAirportNameStartsWithAndContains);response(searchResults)};$("#from-input").autocomplete({autoFocus:true,source:autoCompleateSource});$("#to-input").autocomplete({autoFocus:true,source:autoCompleateSource})})},todaysFlights:function(){var regions=[];var self=this;this.airportsByRegion(regions).done(function(){koreanair.ServiceApi.todaysFlights.post({data:JSON.stringify({arrivalAirportList:_.map(_.find(regions.destinations,
function(region){return region.code===getRegion()}).airports,function(airport){return airport.code})}),success:function(flightResults){var airports={};self.getAirports(airports).done(function(){self.switchToTodaysFlights({searchDate:moment().format("YYYY-MM-DD"),flightStatusList:koreanair.FlightStatus.statusListFromResults(flightResults.flightList.sort(buildCompareFunc("departureDatetime","scheduled")),airports),flightResults:flightResults})})},error:function(jqXHR,textStatus){console.log(jqXHR.responseText);
$("#error-wrapper").text(I18n.get("failed-find-flight-status"))},complete:function(){$(".loading").removeClass("loading")}})})},switchToResultsPanel:function(viewData){$(".flight-status-panel").remove();$(".loading").removeClass("loading");var resultsView=new koreanair.FlightStatus.ResultsView(viewData);$(this.appendToSelector).append(resultsView.render().el);$("#flight-status-title").parent().siblings().filter(".sub-panel").first().focus();resultsView.resize();resultsView.setupScroll();koreanair.FlightStatus.controller.setSearchType("flight-search")},
switchToTodaysFlights:function(viewData){$(".flight-status-panel").remove();var todaysFlightsView=new koreanair.FlightStatus.TodaysFlightsView(viewData);$(this.appendToSelector).append(todaysFlightsView.render().el);$("#flight-status-title").parent().siblings().filter(".sub-panel").first().focus();todaysFlightsView.resize();todaysFlightsView.setupScroll();koreanair.FlightStatus.controller.setSearchType("todays-flights")}};koreanair.FlightStatus=koreanair.FlightStatus||{};koreanair.FlightStatus.sortByStatus=
sortByStatus;koreanair.FlightStatus.buildCompareFunc=buildCompareFunc;koreanair.FlightStatus.airportsByRegion=airportsByRegion;koreanair.FlightStatus.controller=controller})(Backbone,Handlebars.templates,jQuery,Granite.I18n,koreanair.ServiceApi,koreanair);
(function(Backbone,Templates,$,I18n,ServiceApi,koreanair){var TodaysFlightsView=koreanair.FlightStatus.ResultsView.extend({id:"todays-flights-results-panel",template:Templates["todays-flights-results"],events:function(){return _.extend({},koreanair.FlightStatus.ResultsView.prototype.events,{"click #question":function(e){e.preventDefault();$.colorbox({html:Templates["flight-status-question"](),width:700})}})},"requestDetails":function($row,$arrow){var flightNumber=$row.find("#flight-number").text();
var flightMap={};_.forEach(this.options.flightResults.flightList,function(result){flightMap[result.flightNumber]=result});koreanair.ServiceApi.flightStatusDetail.get({path:{date:moment(flightMap[flightNumber].arrivalDatetime.scheduled,"YYYYMMDDHHmmss").format("YYYYMMDD"),flightNumber:flightNumber,fromCode:flightMap[flightNumber].departureAirportCode,toCode:flightMap[flightNumber].arrvalAirportCode},success:function(data){this.onDetailsSuccess($row,$arrow,data)}.bind(this)})}});koreanair.FlightStatus=
koreanair.FlightStatus||{};koreanair.FlightStatus.TodaysFlightsView=TodaysFlightsView})(Backbone,Handlebars.templates,jQuery,Granite.I18n,koreanair.ServiceApi,koreanair);
(function(_,Backbone,Epoxy,koreanair,BookingModel){var Flight=koreanair.Model.extend({defaults:{departure:"",arrival:"",departureAirportCode:"",destinationAirportCode:""},computeds:{departureAirport:Epoxy.createMappedComputed("departureAirportCode"),arrivalAirport:Epoxy.createMappedComputed("destinationAirportCode")}});BookingModel.FlightModel=Flight})(_,Backbone,Backbone.Epoxy,koreanair,koreanair.BookingModel);
(function(koreanair,BookingModel){var FlightCollection=koreanair.Collection.extend({model:BookingModel.FlightModel,getFlightsEligibleForCheckIn:function(){return this.filter(function(flight){return flight.get("checkinEligible")})},byFlightLegId:function(){var out=[];this.each(function(flight){_.each(flight.get("flightLegId"),function(flightLegId){var f=flight.toJSON(),airportRegex=/(\w{3})(\w{3})$/,regexApplied;regexApplied=airportRegex.exec(flightLegId);if(regexApplied&&regexApplied.length>=2){f.departureAirportCode=
airportRegex.exec(flightLegId)[1];f.destinationAirportCode=airportRegex.exec(flightLegId)[2]}f.flightLegId=flightLegId;out.push(f)})});return out}});BookingModel.FlightCollection=FlightCollection})(koreanair,koreanair.BookingModel);
(function(_,moment,Backbone,koreanair,BookingModel,Epoxy){var Bound=koreanair.Model.extend({relations:{},defaults:{departureAirport:"",departure:"",arrivalAirport:"",arrival:"",depTime:"",toBeChanged:false,cabinClass:"economy"},computeds:{departureAirportCode:Epoxy.createMappedComputed("departureAirport"),destinationAirportCode:Epoxy.createMappedComputed("arrivalAirport"),duration:{deps:["flights"],get:function(){var lastFlight=this.get("flights")?_.last(this.get("flights")):undefined;if(lastFlight&&
lastFlight.flightTime){var offsetTime=_.last(this.get("flights")).flightTime;var hours=Math.floor(offsetTime/(1E3*60*60));offsetTime-=hours*1E3*60*60;var minutes=Math.floor(offsetTime/(1E3*60));offsetTime-=minutes*1E3*60;var seconds=Math.floor(offsetTime/1E3);var offset={hours:hours,minutes:minutes,seconds:seconds};return offset}}},travelDayOffset:function(){var departure=moment.withZone(this.get("departure"));var arrival=moment.withZone(this.get("arrival"));return arrival.dayOffset(departure)},noOffset:function(){return this.get("travelDayOffset")===
0},hasFlightsEligibleForCheckIn:{deps:["flights"],get:function(){return this.flightsEligibleForCheckIn().length>0}},allFlightsEligibleForCheckIn:{deps:["flights"],get:function(){return this.flightsEligibleForCheckIn().length===(this.get("flights")?this.get("flights").length:0)}}},calculateTripDelays:function(){var flights=this.get("flights");if(flights.length<2)return[];var tripDelayCollection=_.map(flights,function(flight,index){if(index<flights.length-1){var arrival=moment.withZone(flights[index].arrival);
var depart=moment.withZone(flights[index+1].departure);return arrival.timeDiff(depart)}});tripDelayCollection.pop();return tripDelayCollection},flightsEligibleForCheckIn:function(){return(new BookingModel.FlightCollection(this.get("flights"))).getFlightsEligibleForCheckIn()},toPathParameters:function(){var getTime=this.get("depTime")?this.get("depTime").split("T")[0]:"",time=getTime==0?"0000":getTime.toString();var path=["from",this.get("departureAirport"),"to",this.get("arrivalAirport"),"on",moment.withZone(this.get("departure")).format("MM-DD-YYYY")+
"-"+time];return path.join("/")},toJSON:function(){var json=koreanair.Model.prototype.toJSON.apply(this,arguments);json.checkedInPassenger=json.flights?_.findWhere(json.flights,{checkedInPassenger:true})!==undefined:false;return json}});BookingModel.BoundModel=Bound})(_,moment,Backbone,koreanair,koreanair.BookingModel,Backbone.Epoxy);
(function(_,koreanair,BookingModel){var BoundCollection=koreanair.Collection.extend({model:BookingModel.BoundModel,hasMultipleCabinClasses:function(){if(this.length===1)return false;var cabinClasses=this.pluck("cabinClass");var firstCabinClass=_.first(cabinClasses);return!_.all(cabinClasses,function(cabinClass){return cabinClass===firstCabinClass})},toPathParameters:function(){return this.map(function(bound){return bound.toPathParameters()}).join("/")},stripBookingClass:function(){this.each(function(bound){if(bound.get("toBeChanged")){bound.unset("bookingClasses",
{silent:true});bound.unset("bookingClass",{silent:true})}});return this},hasMoreThanOneFlight:function(){this.each(function(bound){if(bound.get("flights")&&bound.get("flights").length>1)return true});return false}});BookingModel.BoundCollection=BoundCollection})(_,koreanair,koreanair.BookingModel);
(function($,_,moment,Backbone,Epoxy,koreanair,BookingModel){var Trip=koreanair.Model.inherits({relations:{flights:BookingModel.FlightCollection},defaults:{departureAirport:"",arrivalAirport:"",departure:"",arrival:"",flights:[]},computeds:{departureAirportCode:Epoxy.createMappedComputed("departureAirport"),destinationAirportCode:Epoxy.createMappedComputed("arrivalAirport"),duration:function(){var departure=moment.withZone(this.get("departure"));var arrival=moment.withZone(this.get("arrival"));return departure.timeDiff(arrival)},
travelDayOffset:function(){var departure=moment.withZone(this.get("departure"));var arrival=moment.withZone(this.get("arrival"));return arrival.dayOffset(departure)},noOffset:function(){return this.get("travelDayOffset")===0},stops:function(){var flights=this.get("flights").toJSON();var totalStops=0;if(flights.length)_.forEach(flights,function(flight){totalStops+=flight.stops;totalStops++});return totalStops-1},flightNumbers:function(){return this.get("flights").pluck("flightNumber")}},calculateTripDelays:function(){var flights=
this.get("flights");if(!flights.at(1))return[];var tripDelayCollection=flights.map(function(flight,index){if(index<flights.length-1){var arrival=moment.withZone(flights.at(index).get("arrival"));var depart=moment.withZone(flights.at(index+1).get("departure"));return arrival.timeDiff(depart)}});tripDelayCollection.pop();return tripDelayCollection}});koreanair.BookingModel.Trip=Trip})(jQuery,_,moment,Backbone,Backbone.Epoxy,koreanair,koreanair.BookingModel);
(function(koreanair,BookingModel){var TripCollection=koreanair.Collection.extend({model:BookingModel.Trip,hasMoreThanOneFlight:function(){var hasTwoOrMore=false;this.each(function(bound){if(bound.get("flights").length>1)hasTwoOrMore=true});return hasTwoOrMore}});BookingModel.TripCollection=TripCollection})(koreanair,koreanair.BookingModel);
(function(){var useKorean=function(){return koreanair.Language==="ko-kr"||koreanair.isCheckin};var Traveller=koreanair.Model.extend({initialize:function(){this.listenTo(this,"change:selected",this.linkInfantToAdult)},defaults:{title:"",latinFirstName:"",latinLastName:"",koreanFirstName:"",koreanLastName:"",age:"",gender:null,membershipCode:"",membershipNumber:"",type:"",number:"",discountType:"",dateOfBirth:"",accompanyAdultNumber:"",passportDetails:"",segmentDetails:[],flightCheckInStatus:[],selected:false,
forceLatinName:false},relations:{passportDetails:koreanair.checkin.models.PassportDetails,flightCheckInStatus:koreanair.checkin.collections.SegmentDetailCollection,segmentDetails:koreanair.checkin.collections.SegmentDetailCollection},computeds:{lastName:{deps:["latinLastName","koreanLastName","forceLatinName"],get:function(latinLastName,koreanLastName,forceLatinName){return useKorean()&&!forceLatinName?koreanLastName||latinLastName:latinLastName||koreanLastName},set:function(value){if(useKorean()&&
!this.get("forceLatinName"))this.set("koreanLastName",value);else this.set("latinLastName",value)}},firstName:{deps:["latinFirstName","koreanFirstName","forceLatinName"],get:function(latinFirstName,koreanFirstName,forceLatinName){return useKorean()&&!forceLatinName?koreanFirstName||latinFirstName:latinFirstName||koreanFirstName},set:function(value){if(useKorean()&&!this.get("forceLatinName"))this.set("koreanFirstName",value);else this.set("latinFirstName",value)}},isAdult:{deps:["type"],get:function(){return this.get("type")===
koreanair.Booking.PASSENGER_TYPE_CODES.ADULT}},isChild:{deps:["type"],get:function(){return this.get("type")===koreanair.Booking.PASSENGER_TYPE_CODES.CHILD}},isInfant:{deps:["type"],get:function(){return this.get("type")===koreanair.Booking.PASSENGER_TYPE_CODES.INFANT}}},requireLatinName:function(){return useKorean()&&this.get("forceLatinName")||!useKorean()},flightsByLegId:function(){var data=[];this.get("flightCheckInStatus").each(function(fci){fci.get("seats").each(function(seat){data.push(seat.importParent(fci))})},
[]);return new Backbone.Collection(data)},linkInfantToAdult:function(){if(this.get("isAdult")&&this.get("infant"))this.get("infant").set("selected",this.get("selected"))},isAnonymousInfant:function(){var isInfant=this.get("type")===koreanair.Booking.PASSENGER_TYPE_CODES.INFANT;var isAnonymous=_.isEmpty(this.get("membershipNumber"))&&_.isUndefined(this.get("skypassNumber"));return isInfant||isAnonymous}});Traveller.prototype.fromPassengerNameRecord=function(passengerNameRecord){if(passengerNameRecord===
undefined)return;return new Traveller({title:passengerNameRecord.title,latinFirstName:passengerNameRecord.latinFirstName,latinLastName:passengerNameRecord.latinLastName,gender:passengerNameRecord.gender,koreanFirstName:passengerNameRecord.koreanFirstName,koreanLastName:passengerNameRecord.koreanLastName,type:passengerNameRecord.type,number:passengerNameRecord.travellerNumber?parseInt(passengerNameRecord.travellerNumber):undefined,travellerNumber:passengerNameRecord.travellerNumber})};koreanair.BookingModel.TravellerModel=
Traveller})();
(function(KE,BookingModel){var TravellerCollection=KE.Collection.extend({model:BookingModel.TravellerModel,fromPassengerNameRecords:function(passengerNameRecords){if(passengerNameRecords===undefined||!_.isArray(passengerNameRecords))return;var travellerArray=_.map(passengerNameRecords,function(passengerNameRecord,index){var matchingTraveller=this.at(index).toJSON();var newTraveller=_.extend(matchingTraveller,passengerNameRecord),typeCrossRef=KE.Booking.IBE_PASSENGER_TYPE_CODE_CROSS_REF[newTraveller.typeCode];
if(typeCrossRef)newTraveller.type=typeCrossRef||newTraveller.type||newTraveller.typeCode;return new BookingModel.TravellerModel(newTraveller)},this);this.reset(travellerArray)},fromPassengerNameRecordsByOrder:function(passengerNameRecords){if(passengerNameRecords===undefined||!_.isArray(passengerNameRecords))return;var fieldsToCompare=["koreanFirstName","koreanLastName","latinFirstName","latinLastName","type","membershipNumber","membershipCode"];var travellerArray=_.map(passengerNameRecords,function(passengerNameRecord,
index){var matchingTraveller={};this.each(function(tvr){var tvrj=tvr.toJSON(),isSameTvr=true;_.each(fieldsToCompare,function(itm){isSameTvr=isSameTvr&&(!tvrj[itm]||!passengerNameRecord[itm]||tvrj[itm]==passengerNameRecord[itm])});if(isSameTvr)matchingTraveller=tvrj});var newTraveller=_.extend(matchingTraveller,passengerNameRecord),typeCrossRef=KE.Booking.IBE_PASSENGER_TYPE_CODE_CROSS_REF[newTraveller.typeCode];if(typeCrossRef)newTraveller.type=typeCrossRef||newTraveller.type||newTraveller.typeCode;
return new BookingModel.TravellerModel(newTraveller)},this);this.reset(travellerArray)},getPassengerNameRecords:function(){var propertyBlacklist=["age","frequentFlyerProgram","frequentFlyerNumber","number"];return this.map(function(traveller,index){var travellerObject=traveller.toJSON({computed:true});var birthDate=moment(travellerObject.dateOfBirth,KE.Booking.INPUT.DATE_FORMAT);if(birthDate.isValid())travellerObject.dateOfBirth=birthDate.format(KE.Booking.FLIGHT_SEARCH.DATE_FORMAT);if(typeof travellerObject.membershipNumber==
"undefined")travellerObject.membershipNumber=travellerObject.segmentDetails[0].membershipNumber;if(typeof travellerObject.title=="undefined")travellerObject.title="";travellerObject.membershipNumber=travellerObject.frequentFlyerNumber||travellerObject.membershipNumber.toUpperCase();travellerObject.membershipCode=travellerObject.frequentFlyerProgram||travellerObject.membershipCode;travellerObject.travellerNumber=(index+1).toString();if(travellerObject.title&&typeof travellerObject.title=="string")travellerObject.title=
travellerObject.title.toUpperCase();return _.omit(travellerObject,propertyBlacklist)})},updatePassengerTypeIndex:function(){var collectionsByType=this.groupBy(function(model){return model.get("type")});var travelersByTypeIterator=function(model,index){model.set("number",index+1)};for(var key in collectionsByType)_.each(collectionsByType[key],travelersByTypeIterator);this.each(function(model,index){model.set("travellerId",index+1)})},attachInfantsToAdults:function(){_.each(this.where({type:KE.Booking.PASSENGER_TYPE_CODES.INFANT}),
_.bind(function(infant){this.attachInfantToAdult(infant)},this))},attachInfantToAdult:function(infant){if(infant.get("accompanyAdultNumber"))this.findWhere({travellerNumber:infant.get("accompanyAdultNumber"),type:KE.Booking.PASSENGER_TYPE_CODES.ADULT}).set("infant",infant)},mergePassengerDatas:function(newData){this.each(function(traveller){var targetTraveller=_.find(newData,{"membershipNumber":traveller.get("membershipNumber")});if(_.isUndefined(targetTraveller))targetTraveller=_.find(newData,{"type":traveller.get("type")});
var mergedTraveller=_.merge(traveller.toJSON(),targetTraveller);traveller.set(mergedTraveller)})}});BookingModel.TravellerCollection=TravellerCollection})(koreanair,koreanair.BookingModel);
(function(koreanair,BookingModel){var ContactPoint=koreanair.Model.extend({defaults:{email:"",phoneCode:"",phoneNumber:"",countrycode:"",countryNumber:"",smsAgree:"",emailAgree:"N"}});BookingModel.ContactPoint=ContactPoint})(koreanair,koreanair.BookingModel);
(function(_,Backbone,koreanair,BookingModel){var Fare=koreanair.Model.extend({defaults:{total:0,passengers:1},computeds:{passengerTotal:function(){return this.get("total")/this.get("passengers")}}});BookingModel.Fare=Fare})(_,Backbone,koreanair,koreanair.BookingModel);
(function(koreanair,BookingModel){var FareCollection=koreanair.Collection.extend({model:BookingModel.Fare});BookingModel.FareCollection=FareCollection})(koreanair,koreanair.BookingModel);
(function(_,Backbone,koreanair,BookingModel){var FareDetail=koreanair.Model.extend({idAttribute:"_id",relations:{fares:BookingModel.FareCollection}});BookingModel.FareDetail=FareDetail})(_,Backbone,koreanair,koreanair.BookingModel);
(function(_,koreanair,BookingModel){var FareDetailsCollection=koreanair.Collection.extend({model:BookingModel.FareDetail,getSummedFareDetail:function(){if(this.length===0)return null;if(this.length===1)return this.getFareDetailExt(this.at(0).toJSON());var fareCollections=this.pluck("fares");if(!_.all(fareCollections))return null;fareCollections=_.map(fareCollections,function(data){return data.toJSON()});var collectionsByPassenger=_.zip(fareCollections);var summedFares=collectionsByPassenger.map(function(passengerFares){var startingFare=
_.clone(_.first(passengerFares));return _.reduce(_.rest(passengerFares,1),function(memo,data){memo.amount+=data.amount;memo.awardAmount+=data.awardAmount;memo.awardTotal+=data.awardTotal;memo.tax+=data.tax;memo.fuelSurcharge+=data.fuelSurcharge;memo.total+=data.total;return memo},startingFare)});var addTogether=function(array){return _.reduce(array,function(first,second){return first+second},0)};return new BookingModel.FareDetail({total:addTogether(this.pluck("total")),awardTotal:addTogether(this.pluck("awardTotal")),
fares:summedFares})},getSummedFareDetailDay2:function(){if(this.length===0)return null;if(this.length===1)return this.getFareDetailExt(this.at(0).toJSON());var fareCollections=this.pluck("fares");var total=this.pluck("total");var awardTotal=this.pluck("awardTotal");if(!_.all(fareCollections)){if(!_.any(fareCollections))return null;fareCollections=_.compact(fareCollections);total=_.compact(total);awardTotal=_.compact(awardTotal)}fareCollections=_.map(fareCollections,function(data){return data.toJSON()});
var collectionsByPassenger=_.zip(fareCollections);var summedFares=collectionsByPassenger.map(function(passengerFares){var startingFare=_.clone(_.first(passengerFares));return _.reduce(_.rest(passengerFares,1),function(memo,data){memo.amount+=data.amount;memo.awardAmount+=data.awardAmount;memo.awardTotal+=data.awardTotal;memo.tax+=data.tax;memo.fuelSurcharge+=data.fuelSurcharge;memo.total+=data.total;return memo},startingFare)});var addTogether=function(array){return _.reduce(array,function(first,
second){return first+second},0)};return new BookingModel.FareDetail({total:addTogether(total),awardTotal:addTogether(awardTotal),fares:summedFares})},getFareDetailExt:function(detail){var fareDetail=new BookingModel.FareDetail(detail),fares=fareDetail.get("fares");if(fares)fares.each(function(fare){if(typeof fare.get("awardTotal")==="undefined")fare.set("awardTotal",fare.get("awardAmount"));if(typeof fare.get("previousTotalFare")!="undefined")fare.set("previousTotalMiles",fare.get("previousMiles"))});
return fareDetail},getTotalAwardMiles:function(){if(!_.isUndefined(this.at(0).get("totalCollectMiles")))return this.at(0).get("totalCollectMiles");return this.reduce(function(memo,fareDetail){return memo+fareDetail.get("awardTotal")},0)},getTotalRefundMiles:function(){return this.at(0).get("refundTotalMiles")},getFareFamilies:function(){if(this.length===0)return null;if(this.length===1&&this.at(0).get("fareFamilies"))return this.at(0).get("fareFamilies");var fareCollections=_.compact(this.pluck("fares"));
if(fareCollections.length===0){this.each(function(fare){if(!_.isEmpty(fare.toJSON()))fareCollections.push(fare.pluck("fares"))});if(_.compact(fareCollections).length===0)return}fareCollections=_.map(fareCollections,function(data){return data.toJSON()});var fareFamilies=_.pluck(_.flatten(fareCollections),"fareFamily");return _.uniq(fareFamilies)}});var calculatePreviousMiles=function(fare){if(_.isUndefined(fare))return;var previousMiles=0;if(fare.collectMiles>0)previousMiles=fare.awardAmount-fare.collectMiles;
else if(fare.refundMiles>0)previousMiles=fare.awardAmount+fare.refundMiles;else previousMiles=fare.awardAmount;return previousMiles};BookingModel.FareDetailsCollection=FareDetailsCollection})(_,koreanair,koreanair.BookingModel);
(function($,_,koreanair){var bindLatinNames=function(){var forceLatinName=function(setTo){this.get("travellers").each(function(traveller){traveller.set("forceLatinName",setTo)})}.bind(this);this.listenTo(this,"change:isDomestic",function(event,domesticValue){forceLatinName(!domesticValue)}.bind(this));this.listenTo(this.get("travellers"),"add",function(event,objectAdded){var currentDomestic=this.get("isDomestic");forceLatinName(!currentDomestic)}.bind(this));this.listenTo(this.get("travellers"),"reset",
function(event,newCollection){var currentDomestic=this.get("isDomestic");forceLatinName(!currentDomestic)}.bind(this));this.listenTo(this,"change:travellers",function(event,objectAdded){var currentDomestic=this.get("isDomestic");objectAdded.set("forceLatinName",!currentDomestic)}.bind(this))};koreanair.commonBindings=koreanair.commonBindings||{};koreanair.commonBindings.latinName=bindLatinNames})(jQuery,_,koreanair);
(function($,_,Backbone,Templates,koreanair,BookingModel,Booking,moment){var localKeys={change:"isChange",reissue:"isReissue",upgrade:"isUpgrade"};function getOutboundDiscounts(travellers,passengerType){var filtered=_.filter(travellers,function(traveller){return traveller.type===passengerType});return _.map(filtered,function(traveller){return traveller.discountType}).join(",")}function getInboundDiscounts(travellers,passengerType){var filtered=_.filter(travellers,function(traveller){return traveller.type===
passengerType});return _.map(filtered,function(traveller){return traveller.inboundDiscountType}).join(",")}var Itinerary=koreanair.Model.inherits({initialize:function(){koreanair.Model.prototype.initialize.apply(this,arguments);koreanair.commonBindings.latinName.call(this)},relations:{bounds:BookingModel.BoundCollection,trips:BookingModel.TripCollection,travellers:BookingModel.TravellerCollection,fareDetails:BookingModel.FareDetailsCollection,contactPoint:BookingModel.ContactPoint},defaults:{tripType:Booking.TRIP_TYPES.ROUND_TRIP,
isDomestic:false,isFlex:false,bounds:[{},{}],trips:[{},{}],isDepBool:{},isArrBool:{},award:false,adults:1,children:0,infants:0,anonymousInfants:0,travellers:[],fareDetails:[],contactPoint:{},reservationName:"",reservationNumber:"",recordLocator:"",only3Dsecure:"",qpxPrice:"",qpxTagName:"",isSTA:"",currency:"",inflowroute:"",userInputData:""},computeds:{totalPassengers:function(){return parseInt(this.get("adults"))+parseInt(this.get("children"))+parseInt(this.get("infants"))+parseInt(this.get("anonymousInfants"))},
totalSeats:function(){if(this.get("children"))return parseInt(this.get("adults"))+parseInt(this.get("children"));else return parseInt(this.get("adults"))},domestic:{get:function(){return this.get("isDomestic")},set:function(newValue){this.set("isDomestic",newValue)}},domesticCity:{get:function(){return this.get("isDomestic")?"domestic":"international"}},cabinClass:{get:function(){return this.get("bounds").at(0).get("cabinClass")},set:function(newValue){this.get("bounds").each(function(bound){bound.set("cabinClass",
newValue)})},deps:["bounds"]},bookingType:{get:function(){return this.get("award")?Booking.PAYMENT_TYPES.AWARD:Booking.PAYMENT_TYPES.REVENUE},set:function(newValue){newValue=newValue||"";this.set("award",newValue.toLowerCase()===Booking.PAYMENT_TYPES.AWARD)}}},resetBounds:function(){var newBounds=[{}];if(this.isRoundTrip()||this.get("tripType")===Booking.TRIP_TYPES.MULTI_CITY)newBounds.push({});this.get("bounds").reset(newBounds);this.resetTrips()},resizeBounds:function(){var newBounds=this._resize(this.get("bounds").toJSON());
this.get("bounds").reset(newBounds);this.resizeTrips()},resizeTrips:function(){var newTrips=this._resize(this.get("trips").toJSON());this.get("trips").reset(newTrips)},_resize:function(array){var min=1,max=1;if(!this.isOneWay()){min=2;max=this.isRoundTrip()?2:array.length}while(array.length>max)array.pop();while(array<min)array.push({});return array},getLockedBounds:function(bool){if(bool===undefined)bool=true;return this.get("bounds").filterAsCollection(function(item,index){if(item.get("boundIndex")===
undefined)item.set("boundIndex",index);return item.get("toBeChanged")!==bool})},getUnlockedBounds:function(){return this.getLockedBounds(false)},resetTrips:function(){var trips=_.map(_.range(this.get("bounds").length),function(){return{}});this.get("trips").reset(trips)},standardSearchParams:function(){var outbound=this.get("bounds").first().get("toBeChanged")?this.get("bounds").first():this.get("bounds").last();var travellers=this.get("travellers").toJSON();return{adults:this.get("adults"),children:this.get("children"),
infants:this.get("infants"),cabinClass:outbound.get("cabinClass").toUpperCase(),adultDiscounts:getOutboundDiscounts(travellers,"ADULT"),adultInboundDiscounts:getInboundDiscounts(travellers,"ADULT"),childDiscounts:getOutboundDiscounts(travellers,"CHILD"),childInboundDiscounts:getInboundDiscounts(travellers,"CHILD"),infantDiscounts:getOutboundDiscounts(travellers,"INFANT"),infantInboundDiscounts:getInboundDiscounts(travellers,"INFANT")}},route:function(){var serverDateFormat="MM-DD-YYYY";var bounds=
this.get("bounds");var outbound=bounds.first();var route={origin:outbound.get("departureAirport"),destination:outbound.get("arrivalAirport"),outbound:moment(outbound.get("departure")).format(serverDateFormat)};if(bounds.length===2)route.inbound=moment(bounds.at(1).get("departure")).format(serverDateFormat);return route},generateTravellers:function(){var passengers=[];_.times(_.parseInt(this.get("adults")),function(index){var passenger=new BookingModel.TravellerModel({type:Booking.PASSENGER_TYPE_CODES.ADULT,
number:index+1,travellerNumber:(passengers.length+1).toString()});passengers.push(passenger)});_.times(_.parseInt(this.get("children")),function(index){var passenger=new BookingModel.TravellerModel({type:Booking.PASSENGER_TYPE_CODES.CHILD,number:index+1,travellerNumber:(passengers.length+1).toString()});passengers.push(passenger)});_.times(_.parseInt(this.get("infants")),function(index){var passenger=new BookingModel.TravellerModel({type:Booking.PASSENGER_TYPE_CODES.INFANT,number:index+1,travellerNumber:(passengers.length+
1).toString()});passengers.push(passenger)});this.get("travellers").reset(passengers)},generateTravellerCounts:function(){var totalAdults=0,totalChildren=0,totalInfants=0;this.get("travellers").each(function(model,index){var passengerType=model.get("type");if(passengerType===Booking.PASSENGER_TYPE_CODES.ADULT||passengerType===Booking.IBE_PASSENGER_TYPE_CODES.ADULT)totalAdults++;if(passengerType===Booking.PASSENGER_TYPE_CODES.CHILD||passengerType===Booking.IBE_PASSENGER_TYPE_CODES.CHILD)totalChildren++;
if(passengerType===Booking.PASSENGER_TYPE_CODES.INFANT||passengerType===Booking.IBE_PASSENGER_TYPE_CODES.INFANT)totalInfants++});this.set("adults",totalAdults);this.set("children",totalChildren);this.set("infants",totalInfants)},getTotalTravellers:function(){var totalTravellers=0;totalTravellers+=this.get("adults")||0;totalTravellers+=this.get("children")||0;totalTravellers+=this.get("infants")||0;totalTravellers+=this.get("anonymousInfants")||0;return totalTravellers},applyFlightNumberToBounds:function(){_.each(this.bounds,
function(bound,boundIndex){if(boundIndex>=this.trips.length)return false;this.bound.flightNumbers=[];this.bound.departure=this.trips[boundIndex].departure;_.each(this.trips[boundIndex].flights,function(flight,flightIndex){this.bound.flightNumbers.push(flight.flightNumber)})})},getFamilyMemberMiles:function(){var result={};if(this.get("award"))_.each(this.get("familyMemberMiles"),function(miles,id){if(miles>0)result[id]=miles});return result},isTaxBreakdown:function(){try{if(!_.isUndefined(this.get("fareDetails").at(0).get("fares").at(0).get("taxDetails")))return true}catch(err){return false}return false},
setChange:function(arg){this.set(localKeys.change,arg===false?false:true)},setReissue:function(arg){this.set(localKeys.reissue,arg===false?false:true)},setUpgrade:function(arg){this.set(localKeys.upgrade,arg===false?false:true)},isChange:function(){return this.get(localKeys.change)===true},isReissue:function(){return this.get(localKeys.reissue)===true},isUpgrade:function(){return this.get(localKeys.upgrade)===true},isRefund:function(){return this.isReissue()&&this.get("mode")==="refund"},isNoPayment:function(){var fareDetails=
this.get("fareDetails").toJSON();var owesNoMiles=true;if(fareDetails.length&&this.get("award"))owesNoMiles=this.get("isUpgrade")?fareDetails[0].total===0:fareDetails[0].totalCollectMiles===0;return this.isReissue()&&this.get("mode")==="0"&&owesNoMiles},isOneWay:function(){return this.get("tripType")===Booking.TRIP_TYPES.ONE_WAY},isRoundTrip:function(){return this.get("tripType")===Booking.TRIP_TYPES.ROUND_TRIP},isMultiCity:function(){return this.get("tripType")===Booking.TRIP_TYPES.MULTI_CITY&&this.get("bounds").length>
2},isOpenJaw:function(){return this.get("tripType")===Booking.TRIP_TYPES.MULTI_CITY&&this.get("bounds").length===2},isDomesticAward:function(){return this.get("award")&&this.get("isDomestic")},isDomesticRevenue:function(){return!this.get("award")&&this.get("isDomestic")},isDomesticRoundTrip:function(){return this.get("isDomestic")&&this.isRoundTrip()},isReissueInternationRevenue:function(){return this.isReissue()&&!this.isDomesticAward()},isReissueDomsticAward:function(){return this.isReissue()&&
this.isDomesticAward()},isInternationalRevenue:function(){return!this.get("award")&&!this.get("isDomestic")},isInternationalAward:function(){return this.get("award")&&!this.get("isDomestic")},isInternationalAwardRoundTrip:function(){return this.get("award")&&!this.get("isDomestic")&&this.isRoundTrip()},isGiftTicket:function(){return this.get("inflowroute")==="giftTicket"},checkScheduleDriven:function(){function callBookingService(origin,destination,bookingType){return $.ajax(koreanair.Navigation.Booking.ruleservice,
{cache:true,path:{origin:origin,destination:destination,bookingType:bookingType}})}var bookingType=this.get("bookingType").toLowerCase();var bounds=this.get("bounds");var deferreds;if(bounds.length>2)return $.Deferred().resolve(true).promise();else if(this.isOpenJaw()){deferreds=bounds.map(_.bind(function(item){return callBookingService(item.get("departureAirport"),item.get("arrivalAirport"),bookingType)},this));return $.when.apply($,deferreds).then(function(firstLeg,secondLeg){var leg1=firstLeg[0],
leg2=secondLeg[0];return leg1.scheduleDriven||leg2.scheduleDriven})}else return callBookingService(bounds.first().get("departureAirport"),bounds.first().get("arrivalAirport"),bookingType).then(function(data){return data.scheduleDriven})},hasFirstOrPrestigeClass:function(){var hasClass=false;this.get("bounds").each(function(bound){if(_.contains(bound,{"cabinClass":"prestige"})||_.contains(bound,{"cabinClass":"first"}))hasClass=true});return hasClass},hasMatchingPassengerTypes:function(){var isAllAdults=
this.get("adults")&&!this.get("children")&&!this.get("infants");var isAllChildren=!this.get("adults")&&this.get("children")&&!this.get("infants");return isAllAdults||isAllChildren},getTripOutboundDate:function(dateFormat){try{var date=moment(this.get("bounds").first().get("departure"));return date.isValid()===true?date.format(dateFormat):false}catch(error){return false}},getTripInboundDate:function(dateFormat){try{var date=moment(this.get("bounds").last().get("departure"));return date.isValid()===
true?date.format(dateFormat):false}catch(error){return false}},getTripDateString:function(dateFormat){var result=this.getTripOutboundDate(dateFormat);if(!this.isOneWay()&&!this.isReissue()&&!this.isChange())result+=" - "+this.getTripInboundDate(dateFormat);return result},canFlex:function(){return!this.isMultiCity()&&!this.isChange()&&!this.isReissue()},calculateTripType:function(){var bounds=this.get("bounds"),airports;if(bounds.length>2)this.set("tripType",Booking.TRIP_TYPES.MULTI_CITY);else if(bounds.length<
2)this.set("tripType",Booking.TRIP_TYPES.ONE_WAY);else{airports=[];bounds.each(function(bound){airports.push(bound.get("departureAirport"));airports.push(bound.get("arrivalAirport"))});if(_.uniq(airports).length>2)this.set("tripType",Booking.TRIP_TYPES.MULTI_CITY);else this.set("tripType",Booking.TRIP_TYPES.ROUND_TRIP)}},getCurrency:function(){try{if(this.get("trips"))return this.get("trips").at(0).get("fare").currency;else return this.get("fareDetails").at(0).get("fares").at(0).currencyCode;return numeral.currency()}catch(error){console.log(error);
return numeral.currency()}}});Itinerary.currency=function(itinerary){function getCurrency(obj){if(!obj)return null;return currency||obj.currency||obj.currencyCode||null}var fareDetails,currency=null;if(_.isEmpty(itinerary.trips)){if(!_.isEmpty(itinerary.fareDetails))fareDetails=itinerary.fareDetails[0]}else fareDetails=itinerary.trips[0];currency=getCurrency(fareDetails);if(!currency&&fareDetails&&fareDetails.fare){fareDetails=fareDetails.fare;currency=getCurrency(fareDetails);if(!currency&&!_.isEmpty(fareDetails.fares))fareDetails=
fareDetails.fares[0]}return currency||getCurrency(fareDetails)||numeral.currency()};BookingModel.Itinerary=Itinerary})(jQuery,_,Backbone,Handlebars.templates,koreanair,koreanair.BookingModel,koreanair.Booking,moment);
(function(_,Backbone,koreanair,BookingBar,BookingItinerary,Booking,BookingModel,Airports,moment,I18n){var BookingBarController={seatingClassOptions:Booking.DOMESTIC_SEATING_CLASSES,isBookingFlow:function(){return $("#step-flightselect").is(":visible")},stepFailed:false,isScheduleDriven:false,initialize:function(){this.bookingitinerary=new BookingModel.Itinerary;var bookingBarBaseView=new BookingBar.BaseView({viewModel:BookingBar,router:this});$(".bookingbar").append(bookingBarBaseView.render().el)},
showCheckInPanel:function(){$("#top-nav-checkin").trigger("click")},updateMetaScale:function(){},updateMaxDropDownHeight:function(event){},resizeBar:function(e){function debouncer(func,timeout){var timeoutID;timeout=timeout||200;return function(){var scope=this,args=arguments;clearTimeout(timeoutID);timeoutID=setTimeout(function(){func.apply(scope,Array.prototype.slice.call(args))},timeout)}}},transitionToMyFlights:function(){window.location.href=koreanair.Navigation.Booking.misc.reservationSearch},
reservationInfoReceived:function(data){var currentTarget=$("#top-nav-my-flights");currentTarget.parent().siblings().removeClass("active");currentTarget.parent().addClass("active")},unloadMyFlights:function(){$("#myFlightsContainer").html("")},jumpToBookAFlight:function(triptype,to,from,depart,arrive){},transitionToBookAFlight:function(error){var code;if(_.isObject(error)&&error.message){code=error.code;error=error.message}var errorMessage=error?"\x3cp\x3e"+error+"\x3c/p\x3e":"",message=errorMessage+
"\x3cp\x3e"+I18n.get("change-booking-info")+"\x3c/p\x3e";koreanair.Modal.confirm(message,{button:true,width:"60%",confirmLabel:I18n.get("change-booking-label"),ariaLabel:Granite.I18n.get("WCAG-popup-label-alert"),onComplete:function(){var params=$.deparam(location.hash.substr(location.hash.indexOf("?")+1));var links=$("#cboxLoadedContent").find("a").attr("href");links+="?paramStrgKey\x3d"+params.paramStrgKey;$("#btnModalPopupNo").remove();$("#cboxLoadedContent").find("a").attr("href",links)}}).done(_.bind(function(){if(this.bookingitinerary.isReissue())koreanair.utils.goTo("/booking/reissue-gate.html#reissue");
else if(this.bookingitinerary.isChange())if(code=="012"||code=="3001"){var itinerary=koreanair.router.itinerary,rl=itinerary.get("recordLocator")||itinerary.get("originalRecordLocator"),pnr=(itinerary.get("reservationNumber")||itinerary.get("originalReservationNumber")).replace("-","");koreanair.utils.goTo("/booking/reservation-search.html#reservation-detail?reservationCode\x3d"+pnr+"\x26recordLocator\x3d"+rl)}else koreanair.utils.goTo("/booking/reissue-gate.html#change");else koreanair.utils.goTo("/booking/booking-gate.html#bookingChange")},
this)).fail(_.bind(function(){if(this.bookingitinerary.isReissue())koreanair.utils.goTo("/booking/reissue-gate.html#reissue");else if(this.bookingitinerary.isChange())if(code=="012"||code=="3001"){var itinerary=koreanair.router.itinerary,rl=itinerary.get("recordLocator")||itinerary.get("originalRecordLocator"),pnr=(itinerary.get("reservationNumber")||itinerary.get("originalReservationNumber")).replace("-","");koreanair.utils.goTo("/booking/reservation-search.html#reservation-detail?reservationCode\x3d"+
pnr+"\x26recordLocator\x3d"+rl)}else koreanair.utils.goTo("/booking/reissue-gate.html#change");else koreanair.utils.goTo("/booking/booking-gate.html#bookingChange")},this))},transitionToBookAFlightMulti:function(error){if(_.isObject(error)&&error.message)error=error.message;var errorMessage=error?"\x3cp\x3e"+error+"\x3c/p\x3e":"",message=errorMessage+"";koreanair.Modal.alert(message,{confirmLabel:I18n.get("change-booking-label"),ariaLabel:Granite.I18n.get("WCAG-popup-label-confirm")}).done(_.bind(function(){$.colorbox.resize();
$("#change-avail-multi .booking-ct-btn-change button").click();$("#boundList").find("input:tabbable").first().focus();window.scrollTo(0,0)},this))},expandBookingBar:function(){$("#bookingDropDown").slideDown("fast")},closeBookingBar:function(){$("#bookingDropDown").slideUp("fast")},clearViews:function(){if(this.tripSelector){this.tripSelector.remove();this.tripSelector=null}if(this.passengerView){this.passengerView.remove();this.passengerView=null}if(this.discountView){this.discountView.remove();
this.discountView=null}},bookAFlight:function(){if(this.tripSelector===undefined||this.tripSelector===null){this.tripSelector=new BookingBar.TripSelector({model:this.bookingitinerary});this.stepView=this.tripSelector;$("#bookingSteps").html(this.stepView.$el).css("visibility","hidden").show();this.stepView.render()}else{this.stepView=this.tripSelector;$("#bookingSteps").html(this.stepView.$el).css("visibility","hidden").show();this.stepView.delegateEvents()}if(BookingBar.controller.isBookingFlow()){var dateFormat=
Booking.DISCOUNT_SEARCH.DATE_FORMAT;var itinerary=koreanair.router.itinerary;var departure=moment(itinerary.get("bounds").first().get("departure")).format(dateFormat);var returnFlight=moment(itinerary.get("bounds").last().get("departure")).format(dateFormat);var itineraryDate=departure+" - "+returnFlight;$("#dateInput").val(itineraryDate);this.stepView.render();this.stepView.delegateEvents()}$("#bookingSteps").hide().css("visibility","visible").fadeIn();if(this.bookingitinerary.get("award"))koreanair.ServiceApi.skypassCompanions.get()},
canPayWithMiles:function(){var loginDeferred=$.Deferred();if(koreanair.skypass.authenticated())this.bookingitinerary.get("award")===true?loginDeferred.reject():loginDeferred.resolve();else koreanair.loginModal(loginDeferred);return loginDeferred},openProgressBar:function(showFlightSelectSteps,callbackFunction){this.progressView=new BookingBar.ProgressBar({model:this.bookingitinerary});this.progressView.render();if(!this.isBookingFlow())this.animateOpenProgressBar(showFlightSelectSteps,callbackFunction)},
animateOpenProgressBar:function(showFlightSelectSteps,callbackFunction){if(showFlightSelectSteps){this.progressView.showFlightSelectSteps(this.progressBarActiveStep);this.progressView.updatePassengerView()}if(callbackFunction!==undefined)callbackFunction()},changeProgressStep:function(stepID){if(this.progressView===undefined||this.progressView===null)this.progressBarActiveStep=stepID;else this.progressView.changeStep(stepID);if(typeof koreanair.Alert.adjustGnbBar=="function")koreanair.Alert.adjustGnbBar()},
isInvalidAdvancedBookingDays:function(departDate,advancedBookingDays){if(_.isString(departDate))departDate=moment(departDate,Booking.INPUT.DATE_FORMAT);return departDate.isBefore(moment().startOf("day").add("days",advancedBookingDays))},validateTripSelections:function(){this.stepFailed=false;$("#flightError").css("display","none");if(this.isBookingFlow())this.bookingitinerary=koreanair.router.itinerary;else if(this.bookingitinerary.isReissue()||this.bookingitinerary.isChange())this.bookingitinerary.calculateTripType();
var isRoundTrip=this.bookingitinerary.get("tripType")===Booking.TRIP_TYPES.ROUND_TRIP;isDepartureDomestic=false,isArrivalDomestic=false;$(".fromInput").each(_.bind(function(index,el){if(!$(el).val()){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("departure-empty-error-message");return}if($(el).val()===$($(".toInput").get(index)).val()){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("bounds-same-error-message");return}var isMultiCity=BookingBar.controller.bookingitinerary.get("tripType")===
Booking.TRIP_TYPES.MULTI_CITY;var airportList=isMultiCity?Airports.completeAirportList():Airports.originAirports;if(!_.contains(_.pluck(airportList,"code"),$(el).attr("data-option"))){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("departure-invalid-error-message");return}},this));if(this.stepFailed)return{stepFailed:this.stepFailed,stepFailedError:this.stepFailedError};$(".toInput").each(_.bind(function(index,el){if(!$(el).val()){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("arrival-empty-error-message");
return}if(!_.contains(_.pluck(Airports.destinationAirports,"code"),$(el).attr("data-option"))){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("arrival-invalid-error-message");return}},this));if(this.stepFailed)return{stepFailed:this.stepFailed,stepFailedError:this.stepFailedError};var previousDate=moment().startOf("day");$(".dateInput").each(_.bind(function(index,el){if(!$(el).val()){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("date-empty-error-message");return}var departureAirportCode=
$(el).closest(".dateSelector").siblings(".fromSelector").find("input.fromInput").attr("data-option"),dateInput=$(el).val();var departureAdvancedBookingDays=Airports.getAdvancedBookingDays(departureAirportCode,this.bookingitinerary.get("tripType"));if(isRoundTrip&&!(this.bookingitinerary.isChange()||this.bookingitinerary.isReissue())){var spaceIndex=dateInput.indexOf(" - ");if(spaceIndex===-1||dateInput.match(/[a-zA-Z]/g)){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("double-date-format-error-message");
return}var startDate=moment(dateInput.substring(0,spaceIndex),Booking.INPUT.DATE_FORMAT),endDate=moment(dateInput.substring(spaceIndex+3),Booking.INPUT.DATE_FORMAT);if(!startDate.isValid()||!endDate.isValid()){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("double-date-format-error-message");return}if(this.isInvalidAdvancedBookingDays(startDate,departureAdvancedBookingDays)){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("advanced-booking-date-error-message");return}if(endDate.isBefore(startDate)){this.stepFailed=
true;this.stepFailedError=Granite.I18n.get("double-date-format-error-message");return}}else if(!$(el).closest("li").hasClass("disableInput")){var departureDate=moment(dateInput,Booking.INPUT.DATE_FORMAT).startOf("day");if(!departureDate.isValid()||dateInput.match(/[a-zA-Z]/g)){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("single-date-format-error-message");return}if(this.isInvalidAdvancedBookingDays(departureDate,departureAdvancedBookingDays)){this.stepFailed=true;this.stepFailedError=
Granite.I18n.get("advanced-booking-date-error-message");return}if(departureDate.isBefore(previousDate)){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("single-date-format-error-message");return}else previousDate=departureDate}},this));if(this.bookingitinerary.isChange()||this.bookingitinerary.isReissue()){var isDomestic=Boolean(this.bookingitinerary.get("isDomestic"));var bounds=this.bookingitinerary.get("bounds").toJSON();var boundsContainInternational=_.some(bounds,function(bound){var koreanAirports=
function(region){return _.findWhere(region,{code:"Korea"}).airports},domesticOriginAirports=koreanAirports(Airports.originAirportsByRegion),domesticDestinationAirports=koreanAirports(Airports.destinationAirportsByRegion),destinationDomestic=_.findWhere(domesticOriginAirports,{"code":bound.departureAirport})!==undefined,arrivalDomestic=_.findWhere(domesticDestinationAirports,{"code":bound.arrivalAirport})!==undefined;return destinationDomestic!==true||arrivalDomestic!==true});if(isDomestic&&boundsContainInternational||
!isDomestic&&!boundsContainInternational){this.stepFailed=true;this.stepFailedError=Granite.I18n.get("domestic-to-international-error-message")}}return{stepFailed:this.stepFailed,stepFailedError:this.stepFailedError}},transitionToChoosePassengers:function(){var validation=this.validateTripSelections();if(!validation.stepFailed)this.getAirportMessages();else{$("#flightError").text(validation.stepFailedError);$("#flightError").css("display","block")}},loadChoosePassengers:function(){this.findBookingPage()},
getAirportMessages:function(){var self=this;var bounds=this.bookingitinerary.get("bounds").toJSON();var bookingType=this.bookingitinerary.get("bookingType");var messageDeffereds=[[[]]];_.forEach(bounds,function(bound){var deferred=Airports.getAirportMessages(bound,bookingType);messageDeffereds.push(deferred)});$.when.apply($,messageDeffereds).done(function(){var consolidatedMessages=[];_.forEach(arguments,function(arg){if(!_.isNull(arg)&&!_.isNull(arg[0]))consolidatedMessages.push(arg[0])});var paredDownMessages=
_.uniq(_.compact(_.flatten(consolidatedMessages)));if(!_.isEmpty(paredDownMessages))self.showAirportMessages(_.uniq(_.compact(_.flatten(consolidatedMessages))));else $("#bookingSteps").fadeOut(function(){self.loadChoosePassengers()})})},showAirportMessages:function(messageData){var newHtml=Handlebars.templates["booking-bar-airport-messages"]({"messages":messageData});koreanair.Modal.standard(this.$el,{html:newHtml,maxWidth:"60%",inline:false,closeButton:true,overlayClose:false,shouldReadAll:true,
onComplete:function(){$("#popContinue").on("click",function(e){e.preventDefault();$.colorbox.close();BookingBar.Controller.loadChoosePassengers()});$("#popClose").on("click",function(e){e.preventDefault();$.colorbox.close()})}})},findBookingPage:function(){var itinerary=this.bookingitinerary,BookingPages=koreanair.Navigation.Booking,Types=Booking.TRIP_TYPES,bounds=itinerary.get("bounds"),deferreds;var bookingType=itinerary.get("bookingType").toLowerCase();if(bounds.length>2){this.bookingPage=BookingPages[bookingType][Types.MULTI_CITY];
this.isScheduleDriven=true;this.choosePassengers()}else if(itinerary.isOpenJaw()){deferreds=itinerary.get("bounds").map(_.bind(function(item){return this.callBookingService(item.get("departureAirport"),item.get("arrivalAirport"),bookingType)},this));$.when.apply($,deferreds).done(_.bind(function(firstLeg,secondLeg){var leg1=firstLeg[0],leg2=secondLeg[0],bookingType=itinerary.get("bookingType").toLowerCase(),isDomestic=leg1.domestic&&leg2.domestic,locSearch=isDomestic?Booking.TRIP_TYPES.DOMESTIC:Booking.TRIP_TYPES.INTERNATIONAL,
allSuccess=leg1.success&&leg2.success,isSchedule=leg1.scheduleDriven||leg2.scheduleDriven,seatingClass=isDomestic?Booking.DOMESTIC_SEATING_CLASSES:Booking.INTL_SEATING_CLASSES;if(!allSuccess){alert("Error when pulling up booking page information for openJaw");return}this.bookingitinerary.set("isDomestic",isDomestic);this.isScheduleDriven=isSchedule;this.bookingPage=koreanair.Navigation.Booking[bookingType][Booking.TRIP_TYPES.ROUND_TRIP][locSearch];this.seatingClassOptions=seatingClass;this.manageScheduleDrivenBooking(isSchedule);
this.choosePassengers()},this))}else{var res=this.callBookingService(bounds.first().get("departureAirport"),bounds.first().get("arrivalAirport"),bookingType);res.done(_.bind(this.onFindBookingPageSuccess,this));res.fail(_.bind(function(){this.choosePassengers();alert("Booking Page ERROR")},this))}},callBookingService:function(origin,destination,bookingType){var BookingPages=koreanair.Navigation.Booking;return $.ajax(BookingPages.ruleservice,{cache:true,path:{origin:origin,destination:destination,
bookingType:bookingType}})},onFindBookingPageSuccess:function(data){if(!data.success){alert("Booking Page ERROR");return}var BookingPages=koreanair.Navigation.Booking,Types=Booking.TRIP_TYPES,itinerary=this.bookingitinerary,bookingType=itinerary.get("bookingType").toLowerCase(),isDomestic=data.domestic,tripType=itinerary.get("tripType"),isMultiCity=tripType===Types.MULTI_CITY,mergedTripType=isMultiCity?Types.ROUND_TRIP:tripType,dori=data.domestic?Types.DOMESTIC:Types.INTERNATIONAL;this.bookingitinerary.set("isDomestic",
isDomestic);this.bookingPage=BookingPages[bookingType][mergedTripType][isMultiCity?Types.INTERNATIONAL:dori];this.seatingClassOptions=isDomestic?Booking.DOMESTIC_SEATING_CLASSES:Booking.INTL_SEATING_CLASSES;this.manageScheduleDrivenBooking(data.scheduleDriven);this.choosePassengers();if(data.origin.currency==="KRW")if(_.isUndefined(window.ActiveXObject))alert("ActiveX not supported");else StartSmartInstall()},manageScheduleDrivenBooking:function(dataScheduleDriven){var itinerary=this.bookingitinerary;
if(itinerary.isChange()&&itinerary.getLockedBounds().length>0||itinerary.isReissue())this.isScheduleDriven=true;else this.isScheduleDriven=dataScheduleDriven},choosePassengers:function(){var SelectorType=BookingBar.PassengerSelectorRevenue;if(this.bookingitinerary.get("bookingType")===Booking.PAYMENT_TYPES.AWARD)SelectorType=BookingBar.PassengerSelectorAward;this.passengerView=new SelectorType({model:this.bookingitinerary});this.stepView=this.passengerView;$("#bookingSteps").html(this.stepView.$el);
this.stepView.seatingClassOptions=this.seatingClassOptions;this.stepView.render();this.stepView.updateCabinClassView();this.progressView.updatePassengerView();$("#bookingSteps").fadeIn()},transitionToSelectDiscounts:function(){$("#bookingSteps").fadeOut(_.bind(function(){this.selectDiscounts()},this))},selectDiscounts:function(){this.discountView=new BookingBar.DiscountSelector({model:this.bookingitinerary});this.stepView=this.discountView;$("#bookingSteps").html(this.stepView.$el);this.stepView.render();
$("#bookingSteps").fadeIn()},saveSearchToCookie:function(){if(koreanair.Cookie.get("recent_searches"))koreanair.Cookie.remove("recent_searches")},loadPageWithExtendedParams:function(){Backbone.history.stop();var params=this.getQueryStringParams(),param=$.param(params);param="paramStrgKey\x3d"+koreanair.utils.setSessionStorage(param,Booking.STORAGE_KEY.FLIGHT_SELECT);param=param+"\x26isScheduleDriven\x3d"+(params.isScheduleDriven?true:false);window.location=Booking.getBookingFunnelUrl(this.bookingitinerary)+
"?"+param;setTimeout(function(){window.location.reload(true)},100)},routeToBookingFunnel:function(params){Backbone.history.stop();params=params||{};var baseURL=this.bookingPage;if(typeof baseURL==="undefined")baseURL=location.pathname;var hashString="#flight-select";var isInternationalRoundTrip=(this.bookingitinerary.isRoundTrip()||this.bookingitinerary.isOpenJaw())&&!this.bookingitinerary.get("isDomestic");if(this.isFlex()&&isInternationalRoundTrip&&!this.checkForAward()&&!this.isScheduleDriven)hashString=
"#date-select";var param=$.param(_.extend(this.getQueryStringParams(),params));if(param.length>2E3){param="paramStrgKey\x3d"+koreanair.Router.prototype.setSessionStorage(param);param=param+"\x26isScheduleDriven\x3d"+this.isScheduleDriven}window.location=baseURL+hashString+"?"+param;if(this.isBookingFlow()&&location.pathname===baseURL)location.reload(true)},performSearch:function(){$(".flight-search").addClass("loading");this.saveSearchToCookie();this.bookingitinerary.unset("currency",{silent:true});
var baseURL=this.bookingPage;var hashString="#flight-select";var isInternationalRoundTrip=(this.bookingitinerary.isRoundTrip()||this.bookingitinerary.isOpenJaw())&&!this.bookingitinerary.get("isDomestic");if(this.isFlex()&&isInternationalRoundTrip&&!this.checkForAward()&&!this.isScheduleDriven)hashString="#date-select";var param=$.param(this.getQueryStringParams());if(param.length>2E3){param="paramStrgKey\x3d"+koreanair.Router.prototype.setSessionStorage(param);param=param+"\x26isScheduleDriven\x3d"+
this.isScheduleDriven}if(this.isBookingFlow()&&location.pathname===baseURL);},isFlex:function(){return this.bookingitinerary.get("isFlex")},checkForAward:function(){var itinerary=this.bookingitinerary;if(itinerary.get("bookingType")==="AWARD")itinerary.set("bookingType",Booking.PAYMENT_TYPES.AWARD);if(itinerary.get("award"))itinerary.set("isFlex",true);return itinerary.get("award")},getQueryStringParams:function(){var itinerary=this.bookingitinerary,bounds=itinerary.get("bounds").stripBookingClass();
this.checkForAward();var queryString={"bounds":bounds.toJSON(),"bookingType":itinerary.get("bookingType").toUpperCase(),"tripType":itinerary.get("tripType"),"adults":itinerary.get("adults"),"children":itinerary.get("children"),"only3Dsecure":itinerary.get("only3Dsecure"),"infants":itinerary.get("infants"),"isFlex":this.isFlex()?this.isFlex():false,"isKO":itinerary.get("isKO"),"isJP":itinerary.get("isKOJP"),"isKOJP":itinerary.get("isKOJP"),"isDomestic":itinerary.get("isDomestic"),"award":itinerary.get("award"),
"isScheduleDriven":this.isScheduleDriven,"isChange":itinerary.isChange(),"isReissue":itinerary.isReissue(),"originalRecordLocator":itinerary.get("recordLocator"),"originalReservationNumber":itinerary.get("reservationNumber"),"originalPassengerNameRecordForm":itinerary.get("originalPassengerNameRecordForm"),"currency":itinerary.get("currency"),"pnrSessionId":itinerary.get("pnrSessionId"),"purchaseThirdPerson":itinerary.get("purchaseThirdPerson"),"isUpgradeableCabin":itinerary.get("isUpgradeableCabin")};
queryString.travellers=itinerary.get("travellers").map(function(traveller){var simpleTraveller={type:traveller.get("type"),frequentFlyerProgram:traveller.get("frequentFlyerProgram"),frequentFlyerNumber:traveller.get("frequentFlyerNumber"),discountType:traveller.get("discountType")};return simpleTraveller});if(itinerary.isChange()||itinerary.isReissue())queryString.contactPoint=itinerary.get("contactPoint").toJSON();return queryString},openProgressBarForPayment:function(){this.openProgressBar(true,
this.jumpToPaymentSteps)},jumpToPaymentSteps:function(){this.progressView.changeStep(Booking.BOOKING_STEPS.PAYMENT)}};_.extend(BookingBarController,Backbone.Events);BookingBar.Controller=BookingBarController})(_,Backbone,koreanair,koreanair.BookingBar,koreanair.BookingBar.BookingItinerary,koreanair.Booking,koreanair.BookingModel,koreanair.Airports,moment,Granite.I18n);
(function($,Backbone,koreanair,BookingBar){var Router=koreanair.Router.extend({routes:{"showCheckInPanel":"showCheckInPanel"},showCheckInPanel:function(data){koreanair.BookingBar.controller.showCheckInPanel(data);koreanair.ServiceApi.flightSessionId="";var paramModel=$.deparam(location.hash.substr(location.hash.indexOf("?")+1),false);if(paramModel&&paramModel.inflow)koreanair.ServiceApi.checkinInflow.get({path:{inflowCode:paramModel.inflow},error:function(){console.log("Check In Inflow Summary Service API Error")}})},
pathToObject:function(path){var key,asObject=path.split("/").reduce(function(memo,urlPortion){if(key){memo[key]=urlPortion;key=undefined}else key=urlPortion;return memo},{});return asObject},search:function(path){console.log("Searching")}});koreanair.BookingBar.PreFillRouter=Router})(jQuery,Backbone,koreanair,koreanair.BookingBar);
(function($,Backbone,koreanair,BookingBar){$(function(){BookingBar.controller=BookingBar.Controller;BookingBar.controller.initialize();$("#content-area").ready(function(){setTimeout(function(){koreanair.accessibility.WA_filtering.execFiltering("#content-area");var handler=function(event){var focusObj=$(":focusable");var idx=focusObj.index($(event.target));var keyCode=window.event?event.which:event.keyCode;if(keyCode==$.ui.keyCode.TAB)if(event.shiftKey){if(focusObj.eq(idx-1).closest(".column-flow").length&&
!(focusObj.eq(idx-1).hasClass("bx-next")||focusObj.eq(idx-1).hasClass("bx-prev"))){event.preventDefault();moveColumnFlow2(focusObj.eq(idx-1),"prev")}}else if(focusObj.eq(idx+1).closest(".column-flow").length&&!(focusObj.eq(idx+1).hasClass("bx-next")||focusObj.eq(idx+1).hasClass("bx-prev"))){event.preventDefault();moveColumnFlow2(focusObj.eq(idx+1),"next")}};if($(document.body).find(".column-flow").length>0)$(document.body).on("focusout",function(e){var focusObj=$(":focusable");focusObj.off("keydown",
handler);focusObj.on("keydown",handler)})},3E3)});function moveColumnFlow2($trgObj,type){var $columnFlow=$trgObj.closest(".column-flow");var $columnSlider=$columnFlow.find("ul.columnSlider");var trgCarousel={};$.each(koreanair.carrouselsAll,function(i,carousel){if($(carousel).is($columnSlider)){trgCarousel=carousel;return false}});var goToIdx=$trgObj.parents(".new-page").index();if(goToIdx>-1)if(goToIdx>trgCarousel.slider.active.index)trgCarousel.goToSlide(goToIdx,"next",function(){setTimeout(function(){$trgObj.focus()},
1500)});else if(goToIdx<trgCarousel.slider.active.index)trgCarousel.goToSlide(goToIdx,"prev",function(){setTimeout(function(){$trgObj.focus()},1500)});else $trgObj.focus()}function findFocusObj($trgObj){var $columnFlow=$trgObj.closest(".column-flow");var $columnSlider=$columnFlow.find("ul.columnSlider");var trgCarousel={};$.each(koreanair.carrouselsAll,function(i,carousel){if($(carousel).is($columnSlider)){trgCarousel=carousel;return false}});return isValidateObj($trgObj,trgCarousel,$columnSlider)}
function isInColumnFlowObj($trgObj,carousel,$slider){var flag=false;var focusObjs=$("li:eq("+carousel.slider.active.index+")",$slider).find(":focusable");$.each(focusObjs,function(i,obj){if($(obj).is($trgObj))flag=true});return flag}function isValidateObj($trgObj,carousel,slider){if(isInColumnFlowObj($trgObj,carousel,slider))return $trgObj;else if($trgObj.hasClass("bx-next")||$trgObj.hasClass("bx-prev")||$trgObj.closest(".column-flow").length==0)return $trgObj;else return{}}koreanair.sideLoad=new BookingBar.PreFillRouter})})(jQuery,
Backbone,koreanair,koreanair.BookingBar);
(function(_,$,Backbone,koreanair){var cleanupUrl=function(url){var newUrl=url.split(".html")[0]+".content.html";if(typeof CQ!="undefined"&&typeof CQ.shared!="undefined")newUrl=CQ.shared.HTTP.setParameter(newUrl,"wcmmode",koreanair.WCM_MODES.DISABLED);return newUrl},checkHashes=function(hash){var hashes=["cta-small","cta-medium","cta-large","press-release","news-release"];var whichHash=false;for(var i=hashes.length-1;i>=0;i--)if(hash.indexOf(hashes[i])>0)whichHash=i;return whichHash},hashChanged=function(){var hash=
window.location.hash;var parentHash=hash.split("$")[1];var childHash=hash.split("$")[0];if(parentHash)window.location.hash=cleanXSS(parentHash);if(childHash)window.location.hash=cleanXSS(childHash);if(checkHashes(hash)!==false){var hashURL=hash.split("\x3d")[1],url=cleanupUrl(hashURL);var modalSize=530;switch(checkHashes(hash)){case 0:modalSize=700;break;case 1:modalSize="70%";break;case 2:case 3:case 4:modalSize="90%";break;default:modalSize=530}koreanair.Modal.sized(url,{width:modalSize,overlayClose:false})}};
koreanair.checkHashes=checkHashes;koreanair.ExecQueue.add(function(){$(document).ready(function(){var hash=window.location.hash;window.onhashchange=hashChanged;if(checkHashes(hash)!==false)$("#content-area").imagesLoaded(function(){$(document).one("modalsReady",function(event){hashChanged()})})});$(".small-overlay").live("click",function(e){e.preventDefault();var target=$(this).attr("href");window.location.hash="cta-small\x3d"+target});$(".medium-overlay").live("click",function(e){e.preventDefault();
var target=$(this).attr("href");window.location.hash="cta-medium\x3d"+target});$(".cta-shaded, .large-overlay").live("click",function(e){e.preventDefault();var target=$(this).attr("href");window.location.hash="cta-large\x3d"+target})})})(_,jQuery,Backbone,koreanair);
(function(window,$){var ParallaxScroll=function(scrollType){var _$window=$(window),_this=this;var _datas=[],_events={};var _scrollType=scrollType||"vertical",_dataLength=0,_oldIndex=-1,_deactivateCount=0;_$window.scroll(scrollHandler);this.update=function(datas){_datas=datas;_dataLength=_datas.length;_oldIndex=-1;_deactivateCount=0;return this};this.listenTo=function(type,callback){_events[type]=callback;return this};function scrollHandler(e){var scrollX=_$window.scrollLeft(),scrollY=_$window.scrollTop(),
scrollPos=_scrollType=="vertical"?scrollY:scrollX,isActivate=false;for(var i=0;i<_dataLength;++i){var data=_datas[i];if(Math.floor(data.start)<=scrollPos&&Math.floor(data.end)>scrollPos){dispatch("scroll",i,scrollX,scrollY,data.data);if(_oldIndex!=i){dispatch("activate",i,scrollX,scrollY,data.data);_oldIndex=i}isActivate=true;_deactivateCount=0}}if(!isActivate&&_deactivateCount<1){dispatch("deactivate",_oldIndex,scrollX,scrollY,undefined);_deactivateCount++;_oldIndex=-1}}function dispatch(type,index,
scrollX,scrollY,data){if(_events[type])_events[type].call(_this,{type:type,index:index,scrollX:scrollX,scrollY:scrollY,data:data})}};if(window.koreanair)if(!koreanair.ParallaxScroll)koreanair.ParallaxScroll=ParallaxScroll})(window,jQuery);
(function(_,jQuery,skrollr,koreanair){var SideNav={$el:{},$links:{},init:function(_$el){this.$el=_$el;this.$el.find(".current-page .icon").on("click",_.bind(this.onToggleIconClick,this));this.checkParallax();this.hideNav();var pageTitle=$(".icon-expand").data("page-title");var openText=Granite.I18n.get("WA-btn-detail-open");$(".icon-expand").attr("alt",Granite.I18n.get("UWA-sidenav-openclose",[openText,pageTitle]));var sidebarAriaLabel=pageTitle+" "+Granite.I18n.get("WA-side-bar");$(".side-nav").attr("aria-label",
sidebarAriaLabel);$(".side-nav ul \x3e li \x3e a .icon img").each(function(i,obj){$(obj).attr("alt","").removeAttr("title")});if($("div.side-nav ul \x3e li").length>0){var scrollBarWidthBrowsers={"chrome":15,"firefox":17,"ie":21};var sys=koreanair.common.utils.detectSystem();if(sys&&sys.os==="win"&&sys.browser){var scrollBarWidth=scrollBarWidthBrowsers[sys.browser];if(scrollBarWidth>0){$.fn.has_scrollbar=function(){var divnode=this.get(0);if(divnode.scrollHeight>divnode.clientHeight)return true};
$(window).on("resize",function(){if($("div.side-nav").has_scrollbar())$("div.side-nav").addClass("scrolled"+scrollBarWidth);else if($("div.side-nav").hasClass("scrolled15"))$("div.side-nav").removeClass("scrolled15");else if($("div.side-nav").hasClass("scrolled17"))$("div.side-nav").removeClass("scrolled17");else if($("div.side-nav").hasClass("scrolled21"))$("div.side-nav").removeClass("scrolled21")});$(window).resize()}}}this.$links=$("[data-name]",this.$el);this.$links.on("focusin",function(){$(this).addClass("r-hover")});
this.$links.on("focusout",function(){$(this).removeClass("r-hover")});koreanair.tabbable.sideNav()},jumpDown:function(){var self=this;$("#content-area").imagesLoaded(function(){var hash=document.location.hash.replace("#",""),$link=$('[data-name\x3d"'+hash+'"]');if($link.length>0)self.onLinkClick({currentTarget:$link[0],preventDefault:function(){}})})},currentPsnCallName:"",checkPsnCallTimeId:null,checkAndSendPsnMessage:function(){if(typeof psn_interact_call=="function"&&koreanair.SideNav.currentPsnCallName!=
""){console.log("checkAndSendPsnMessage : "+koreanair.SideNav.currentPsnCallName);var callName="";if(koreanair.SideNav.currentPsnCallName=="prestige-class")callName="psn_prst_vw";else if(koreanair.SideNav.currentPsnCallName=="in-flight-special-meals")callName="psn_spml_vw";else if(koreanair.SideNav.currentPsnCallName=="pets")callName="psn_ptam_vw";if(callName!=""){console.log(callName);psn_interact_call(callName)}}},updateHighlight:function(_e,_data){var $sections=$("#skrollr-body section"),$links=
this.$links,curTop=_data.curTop+$("#siteHeader").height();$sections.each(function(i,element){var $section=$(element),pixelAdjustmentforScrollTop=5,sectionTop=$section.offset()["top"]-pixelAdjustmentforScrollTop,sectionHeight=$section.outerHeight();if(curTop>sectionTop&&curTop<sectionTop+sectionHeight){$links.removeClass("active");$links.eq(i).addClass("active");var callName=$links.eq(i).attr("data-name");if(koreanair.SideNav.currentPsnCallName==""){if(callName=="prestige-class"||callName=="in-flight-special-meals"||
callName=="pets"){koreanair.SideNav.currentPsnCallName=callName;koreanair.SideNav.checkPsnCallTimeId=setTimeout(koreanair.SideNav.checkAndSendPsnMessage,1E4);console.log("setTimeout psn : "+koreanair.SideNav.currentPsnCallName)}}else if(koreanair.SideNav.currentPsnCallName!=callName)if(koreanair.SideNav.checkPsnCallTimeId!=null){console.log("clear psn : "+koreanair.SideNav.currentPsnCallName);clearTimeout(koreanair.SideNav.checkPsnCallTimeId);koreanair.SideNav.checkPsnCallTimeId=null;koreanair.SideNav.currentPsnCallName=
""}return false}})},checkParallax:function(){if($(".parallax").length>0){$(document).trigger("skrollr:fetch");this.$el.find("li a").on("click",_.bind(this.onLinkClick,this))}else{$(document).trigger("modalsReady");$(document).trigger("slidersReady")}},scrollToTop:function(e){if(!$(e.target).is("a")){$("body, html").animate({"scrollTop":"0px"},300);this.$el.toggleClass("closed",400)}},scrollToSection:function(){if(window.location.hash.length>1)if(window.location.hash!="#_"&koreanair.checkHashes(window.location.hash)==
null){var section=window.location.hash,menuHeight=$("#siteHeader").height(),sectionTop=$(section).offset().top-menuHeight+50;window.scrollTo(0,sectionTop)}},hideNav:function(){var that=this;setTimeout(function(){that.$el.addClass("closed",400,function(){koreanair.SideNav.afterHideNav()});$(document).trigger("modalsReady")},2E3)},afterHideNav:function(){$(".side-nav .desc").each(function(){$(this).closest("li").find("img").attr("alt",$(this).text());$(this).hide()})},highlightNav:function(event){var $list=
this.$el.find("ul");var onHalfway=function(direction){var $section=$(this);if(direction==="up")$section=$section.prev();var sectionName=$section.attr("id");var href="#"+sectionName;$list.find("li").removeClass("active")};$("section").waypoint(onHalfway,{offset:"50%"})},onToggleIconClick:function(event){event.preventDefault();var pageTitle=$(".icon-expand").data("page-title");if(this.$el.hasClass("closed")){$(".side-nav .desc").each(function(){$(this).closest("li").find("img").attr("alt","");$(this).show()});
var openText=Granite.I18n.get("WA-btn-detail-close");$(".icon-expand").attr("alt",Granite.I18n.get("UWA-sidenav-openclose",[openText,pageTitle]))}else{var openText=Granite.I18n.get("WA-btn-detail-open");$(".icon-expand").attr("alt",Granite.I18n.get("UWA-sidenav-openclose",[openText,pageTitle]))}this.$el.toggleClass("closed",400,function(){if($(".side-nav").hasClass("closed"))koreanair.SideNav.afterHideNav()})},onLinkClick:function(event){event.preventDefault();$(".side-nav ul \x3e li \x3e a").removeClass("active");
var $target=$(event.currentTarget),name=$target.data("name");$target.addClass("active");if($(".side-nav").hasClass("closed")==false){$(".side-nav").addClass("closed",400,function(){koreanair.SideNav.afterHideNav()});var pageTitle=$(".icon-expand").data("page-title");var openText=Granite.I18n.get("WA-btn-detail-close");$(".icon-expand").attr("alt",Granite.I18n.get("UWA-sidenav-openclose",[openText,pageTitle]))}var $section=$("#"+name);if(skrollr&&skrollr.get())skrollr.get().animateTo($section.offset().top,
{duration:400,easing:"outCubic"});if($section.find("h1:eq(0)").size()>0){$section.find("h1:eq(0)").attr("tabindex",-1).focus();$section.find("h1:eq(0)").on("blur",function(e){$(e.currentTarget).removeAttr("tabindex")})}else if($section.find("h2:eq(0)").size()>0){$section.find("h2:eq(0)").attr("tabindex",-1).focus();$section.find("h2:eq(0)").on("blur",function(e){$(e.currentTarget).removeAttr("tabindex")})}},onScrollClick:function(event){event.preventDefault();var that=this;skrollr.get().animateTo($(window).height(),
{duration:400,easing:"outCubic"})},refresh:function(){window.trigger("resize")}};koreanair.SideNav=SideNav;koreanair.ExecQueue.add(function(){$(function(){var $sideNav=$(".side-nav"),jumpDown=_.bind(koreanair.SideNav.jumpDown,koreanair.SideNav);updateHighlight=_.bind(koreanair.SideNav.updateHighlight,koreanair.SideNav);if($("#content-area").imagesLoaded)$("#content-area").imagesLoaded(function(){if($sideNav.length){koreanair.sidenav=SideNav.init($sideNav);$(document).one("skrollr:render",jumpDown);
$(document).on("skrollr:keyframe",updateHighlight)}})})})})(_,jQuery,skrollr,koreanair);
(function(_,$,skrollr,koreanair){var isTouchDevice=/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent);var skrollrInst=skrollr.get(),initSkrollr=function(){if(isTouchDevice){$("html").addClass("no-skrollr");return}if(typeof skrollrInst!=="undefined")skrollrInst.destroy();scaleBgImages();setSkrollrDataAttrs();skrollrInst=window.skrollr.init({"smoothScrolling":false,"forceHeight":false,"render":function(_data){$(document).trigger("skrollr:render",_data);if(_data.curTop>0)$(document).trigger("skrollr:keyframe",
_data)}});return skrollrInst},scaleBgImages=function(){var $section=$(".parallax section, .hero-container"),$bg=$(".background, .hero\x3eimg",$section),sectionHeight,imageHeight;$bg.attr("style","");sectionHeight=Math.max(getViewPortHeight(),$section.outerHeight());imageHeight=$bg.outerHeight();if(imageHeight==null)imageHeight=0;if(sectionHeight==null)sectionHeight=0;if(imageHeight<sectionHeight)$bg.css({"height":sectionHeight+"px"})},setSkrollrDataAttrs=function(){var constants={},$sections=$("#skrollr-body section"),
applyConstantAtts=function(_item,_i){var $section=$(_item),$gradient=$(".gradient-overlay",$section),$sectionHeader=$(".content-headings",$section),$bg=$(".background",$section),$footer=$("#footer"),top=$section.offset().top,bottom=getPageHeight(),targetTopOffset=getViewPortTop(),headerStartCSS="position:fixed; top:"+bottom+"px;",headerEndCSS="top:"+(getViewPortTop()+70)+"px;",opaqueCSS="opacity:1;",transparentCSS="opacity:0;";$(".skrollable").removeClass("skrollable skrollable-between skrollable-before skrollable-after");
$gradient.attr("data-"+targetTopOffset+"-top","");$bg.attr("data-"+(targetTopOffset+10)+"-top","");$sectionHeader.attr({"data-bottom-top":headerStartCSS+transparentCSS});$sectionHeader.attr("data-"+targetTopOffset+"-top",headerEndCSS+opaqueCSS);$footer.attr({"data-200-bottom":"bottom:-300px;z-index:700;","data-bottom":"bottom:0px"})};_.each($sections,applyConstantAtts);return constants},onPagesFetched=function(){$("#content-area").imagesLoaded(function(){$(document).trigger("ctaReady");$(document).trigger("slidersReady");
$(document).trigger("pagesFetched");initSkrollr();$(document).one("scroll",skrollrInst.refresh)})},fetchPages=function(){var $pageLinks=$(".side-nav li a"),$skrollerBody=$("#skrollr-body"),afterRender=_.after($pageLinks.length,onPagesFetched),generateURL=function(_htmlElement){var _url=$(_htmlElement).attr("href");var queryParams=$(_htmlElement).attr("data-query");_url=_url.replace(/\.html.*$/,".section-content.html");if(queryParams!=undefined&&queryParams!="")_url+="?"+queryParams;if(typeof CQ!==
"undefined"&&typeof CQ.shared!=="undefined")_url=CQ.shared.HTTP.setParameter(_url,"wcmmode",koreanair.WCM_MODES.DISABLED);return _url},loadSuccess=function(_data,_$section){var $newSection=$(_data),$timelineCarousel=$(".timeline-carousel-container",$newSection),$bg=$(".section-background\x3e.page\x3ediv",$newSection);if($timelineCarousel.length>0)$timelineCarousel.parents(".section.content-block").addClass("edge-out");$newSection.find(".cta-shaded, .cta-fixed, .small-overlay, .medium-overlay, .large-overlay").each(function(){var roleAttr=
$(this).attr("role");if(typeof roleAttr===typeof undefined&&$(this).attr("target")!=="_blank")koreanair.common.utils.anchorToButton($(this))});_$section.replaceWith($newSection);if($(".shadow",$bg).length===0)$bg.append($("\x3cspan/\x3e").addClass("shadow"));afterRender()},loadError=function(_xhr,_text,_error,_$section){_$section.hide();afterRender()},loadSection=function(_$section,url){$.ajax({url:url,dataType:"html",success:function(_data){loadSuccess(_data,_$section)},error:function(_xhr,_text,
_error){loadError(_xhr,_text,_error,_$section)}})};$pageLinks.each(function(idx,ele){var url=generateURL(ele),$krollerSection=$("\x3csection/\x3e");$skrollerBody.append($krollerSection);loadSection($krollerSection,url)})},getViewPortTop=function(){return $("#siteUtilities").height()},getPageHeight=function(){return $(window).height()},getViewPortHeight=function(){return getPageHeight()-getViewPortTop()};$(function(){if(isTouchDevice)$("html").addClass("no-skrollr");$(document).on("skrollr:fetch",
function(_evt){var resetInt=0,resetPage=function(){clearInterval(resetInt);initSkrollr()};fetchPages();var currentHeight;var currentWidth;$(window).on("resize",function(_evt){if(!skrollrInst)return;var windowHeight=$(window).height();var windowWidth=$(window).width();if(currentHeight==undefined||currentHeight!=windowHeight||currentWidth==undefined||currentWidth!=windowWidth){clearInterval(resetInt);resetInt=setInterval(resetPage,2E3);$(document).one("scroll",skrollrInst.refresh);currentHeight=windowHeight;
currentWidth=windowWidth}})});$(document).ready(function(){if(navigator.userAgent.match(/Trident\/7\./))$("body").on("mousewheel",function(){if($("body").css("overflow")!="hidden"){event.preventDefault();var wheelDelta=event.wheelDelta;console.log(wheelDelta);var currentScrollPosition=window.pageYOffset;window.scrollTo(0,currentScrollPosition-wheelDelta)}})})})})(_,jQuery,skrollr,koreanair);
var columnflow=function(callback){if($(".column-flow").length>0){var viewHeight=$(window).height()-$("#siteHeader").height()-20,$columnflow=$(".column-flow"),contentHeight=500;var afterUniqueId=_.after($columnflow.length,_.bind(function(){$columnflow.each(function(idx,ele){var $columnflow=$(ele),headingsHeight=$columnflow.find(".headings").outerHeight(true);$columnflow.find(".columnSlider").css("height",contentHeight);$columnflow.imagesLoaded(function(){buildColumns(idx,ele,contentHeight)})})},this));
function buildColumns(index,element,content_height){var $columnflow=$(element),$columnSlider=$columnflow.find(".columnSlider"),$content=$columnflow.find(".text-to-column"),$target=$columnflow.find(".new-page:last .content");$content.find("ul").addClass("dontsplit");if($content.contents().length>0){$page=$("#column_template").clone().addClass("new-page").attr("id","").css("display","block");$columnflow.find(".columnSlider").append($page);$content.columnize({columns:2,target:"#pageContent-"+index+" .new-page:last .content",
overflow:{height:content_height,"id":"#pageContent-"+index+" .text-to-column",doneFunc:function(){buildColumns(index,element,content_height)}}})}else{$("#column_template").detach();var $newPages=$(element).find(".new-page"),$columnSlider=$(element).find(".columnSlider"),contentWidth=$(element).width(),totalPages=$newPages.length,newWidth=totalPages*contentWidth;if(totalPages>0){$(element).find(".text-to-column").remove();if(!$columnSlider.parent(".bx-viewport").length){var sliderIndex=1;$columnSlider.bxSlider({mode:"horizontal",
infiniteLoop:false,hideControlOnEnd:true,"default":true,controls:true,pagerType:"short",pagerShortSeparator:" \x3cem\x3eof\x3c/em\x3e ",onSliderLoad:function(){if(callback&&typeof callback==="function")callback()}})}}else if(callback&&typeof callback==="function")callback()}}$columnflow.each(function(idx,ele){$(ele).attr("id","pageContent-"+idx);afterUniqueId()})}};koreanair.Columnflow=columnflow;
$(document).ready(function(){if($(".side-nav").length)$(document).on("slidersReady",function(event){koreanair.Columnflow=new columnflow});else koreanair.Columnflow=new columnflow});
(function(_,jQuery,koreanair){$.fn.PressReleases=function(){return this.each(function(_i,_el){var $el=$(_el),$years=$(".years-col li",$el),$snippets=$(".snippets-col .year",$el),$releases=$("li a",$snippets);$years.first().addClass("active");$snippets.first().addClass("active");$("a",$years).on("click",function(_e){_e.preventDefault();var $link=$(_e.currentTarget),href=$link.attr("href");if(!$link.parent("li").hasClass("active")){$link.parent("li").addClass("active");$years.removeClass("active");
$link.parent("li").addClass("active");$(".year.active").slideUp(function(){$link.removeClass("active");$(href).addClass("active").slideDown()})}});$(".release-snippet a, tr.news.item a").on("click",function(_e){_e.preventDefault();var url=$(_e.currentTarget).attr("href");window.location.hash="press-release\x3d"+url})})};$(document).on("skrollr:render",function(){$(".press-releases").PressReleases()})})(_,jQuery,koreanair);
(function(_,jQuery,koreanair){koreanair.newsPager={drawPage:function($pagerContainer,pageNumber,isFirstLoad){var totItemCount=$pagerContainer.data("total-item-count");var itemCountPerPage=$pagerContainer.data("item-count-per-page");var pageCountPerPageGroup=$pagerContainer.data("page-count-per-page-group");var totalPageCount=Math.ceil(totItemCount/itemCountPerPage);var pageGroupCount=Math.ceil(totalPageCount/pageCountPerPageGroup);var pageGroupNumber=Math.ceil(pageNumber/pageCountPerPageGroup);var lastPageNumber=
pageGroupNumber*pageCountPerPageGroup+1;var firstPageNumber=lastPageNumber-pageCountPerPageGroup;var pagerHtml='\x3cdiv class\x3d"paging"\x3e';pagerHtml+='\x3cul class\x3d"page-list"\x3e';if(pageGroupNumber!=1){var firstPage=Granite.I18n.get("common-pager-page-first");var prevPage=Granite.I18n.get("common-pager-page-prev",[pageCountPerPageGroup]);pagerHtml+='\x3cli\x3e\x3ca href\x3d"#1"\x3e\x3cspan data-span\x3d"1" class\x3d"prev10 each-page"\x3e'+Granite.I18n.get("common-pager-page-view",[firstPage])+
"\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e";var prevPageNumber=firstPageNumber-pageCountPerPageGroup;pagerHtml+='\x3cli\x3e\x3ca href\x3d"#'+prevPageNumber+'"\x3e\x3cspan data-span\x3d"'+prevPageNumber+'" class\x3d"prev1 each-page"\x3e'+Granite.I18n.get("common-pager-page-view",[prevPage])+"\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e"}for(var i=firstPageNumber;i<lastPageNumber;i++){if(i==pageNumber)pagerHtml+='\x3cli\x3e\x3cspan\x3e\x3cspan class\x3d"offscreen each-page" data-span\x3d"'+i+'"\x3e'+Granite.I18n.get("common-pager-page-current")+
"\x26nbsp;\x3c/span\x3e"+i+"\x3c/span\x3e\x3c/li\x3e";else pagerHtml+='\x3cli\x3e\x3ca href\x3d"#'+i+'"\x3e\x3cspan class\x3d"each-page" data-span\x3d"'+i+'"\x3e\x3cspan class\x3d"offscreen"\x3e'+Granite.I18n.get("common-pager-page-view"," ")+"\x26nbsp;\x3c/span\x3e\x3cspan\x3e"+i+"\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e";if(i>totalPageCount-1)break}if(pageGroupNumber!=pageGroupCount){var nextPage=Granite.I18n.get("common-pager-page-next",[pageCountPerPageGroup]);var lastPage=Granite.I18n.get("common-pager-page-last");
pagerHtml+='\x3cli\x3e\x3ca href\x3d"#'+lastPageNumber+'"\x3e\x3cspan data-span\x3d"'+lastPageNumber+'" class\x3d"next1 each-page"\x3e'+Granite.I18n.get("common-pager-page-view",[nextPage])+"\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e";pagerHtml+='\x3cli\x3e\x3ca href\x3d"#'+totalPageCount+'"\x3e\x3cspan data-span\x3d"'+totalPageCount+'" class\x3d"next10 each-page"\x3e'+Granite.I18n.get("common-pager-page-view",[lastPage])+"\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e"}pagerHtml+="\x3c/ul\x3e";pagerHtml+="\x3c/div\x3e";
$pagerContainer.html("");$pagerContainer.html(pagerHtml);$pagerContainer.find(".page-list a").on("click",this.pageLinkClickHandler);$pagerContainer.closest(".year").find(".release-snippet").hide();$pagerContainer.closest(".year").find('.release-snippet[data-index\x3d"'+pageNumber+'"]').show();var $pageIndicator=$pagerContainer.closest(".year").find(".pageIndicator");$pageIndicator.find("span").text("page "+pageNumber+" of "+totalPageCount);if(isFirstLoad==false){$pageIndicator.attr("tabindex",-1).focus();
$pageIndicator.blur(function(e){$(e.currentTarget).removeAttr("tabindex")})}},pageLinkClickHandler:function(e){e.preventDefault();var pageNumber=$(e.currentTarget).find("span").attr("data-span");var $pagerContainer=$(e.currentTarget).closest(".pager");koreanair.newsPager.drawPage($pagerContainer,pageNumber,false)}};$.fn.NewsReleases=function(){this.each(function(i,el){var $el=$(el);var $years=$(".years-col li",$el);var $snippets=$(".snippets-col .year",$el);var newsRowCount=0;var newsRowPageNo=0;
$years.each(function(){if($(this).index()==0){$(this).addClass("on");$snippets.hide().eq($(this).index()).show()}});$snippets.each(function(){var $indicator=$(this).find(".pager");newsRowCount=0;newsRowPageNo=0;$(this).find(".release-snippet").each(function(idx,target){if(idx%10==0){newsRowCount=0;newsRowPageNo++}else newsRowCount++;$(target).attr("data-index",newsRowPageNo)});koreanair.newsPager.drawPage($indicator,1,true)})})};$(document).on("pagesFetched",function(){koreanair.NewsReleases=$(".news-release-category").NewsReleases();
$(".news-release-category .tabWrapper").each(function(){var tabWrapperId=$(this).attr("id");var tabManager=new koreanair.utils.TabUIManager({isVertical:true,wrapperSelector:"#"+tabWrapperId+" ul[role\x3d'tablist']",itemSelector:"a[role\x3d'tab']",panelSelector:"#"+tabWrapperId+" div[role\x3d'tabpanel']"})})})})(_,jQuery,koreanair);
(function($){$(document).ready(function(){buildModals($("body"))});var buildModals=function(obj){var $modals=obj.find(".modal-area");$modals.each(function(){var $self=$(this),selfId=$self.attr("id"),$trigger=$("[data-modal-opener\x3d"+selfId+"]").eq(0),$close=$self.find(".modal-close");$close.on("click",function(e){$self.removeClass("open");$("body").removeClass("freeze");$self.fadeOut()});$trigger.on("click",function(e){e.preventDefault();if($self.hasClass("open")){$self.removeClass("open");$self.fadeOut(function(){$("body").removeClass("freeze")})}else{$self.addClass("open");
$("body").addClass("freeze");$self.css("marginTop",$(document).scrollTop());$self.fadeIn();if(!$self.hasClass("adjusted")){$self.css("height",$(window).height()-$("#topNav").height());$self.addClass("adjusted")}}function debouncer(func,timeout){var timeoutID;timeout=timeout||200;return function(){var scope=this,args=arguments;clearTimeout(timeoutID);timeoutID=setTimeout(function(){func.apply(scope,Array.prototype.slice.call(args))},timeout)}}$(window).resize(debouncer(function(e){$self.css("height",
$(window).height()-$("#topNav").height())}))})})}})(jQuery);
(function($,_,Backbone,koreanair,I18n,ServiceApi,Templates){var PagerView=Backbone.View.extend({template:Templates["pager"],render:function(){this.$el.html('\x3cdiv class\x3d"paging"\x3e\x3c/div\x3e');this.drawPage(this.options.currentPageNumber);return this},initialize:function(){_.bindAll(this);if(!this.options.currentPageNumber)this.options.currentPageNumber=1},drawPage:function(pageNumber){var totalPageCount=Math.ceil(this.options.totItemCount/this.options.itemCountPerPage);var pageGroupCount=
Math.ceil(totalPageCount/this.options.pageCountPerPageGroup);var pageGroupNumber=Math.ceil(this.options.currentPageNumber/this.options.pageCountPerPageGroup);var lastPageNumber=pageGroupNumber*this.options.pageCountPerPageGroup+1;var firstPageNumber=lastPageNumber-this.options.pageCountPerPageGroup;this.$(".paging").html("");this.$(".paging").append('\x3cul class\x3d"page-list"\x3e');if(pageGroupNumber!=1){var firstPage=I18n.get("common-pager-page-first");var prevPage=I18n.get("common-pager-page-prev",
[this.options.pageCountPerPageGroup]);this.$(".page-list").append('\x3cli\x3e\x3ca href\x3d"#1"\x3e\x3cspan data-span\x3d"1" class\x3d"prev10 each-page"\x3e'+I18n.get("common-pager-page-view",[firstPage])+"\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e");var prevPageNumber=firstPageNumber-this.options.pageCountPerPageGroup;this.$(".page-list").append('\x3cli\x3e\x3ca href\x3d"#'+prevPageNumber+'"\x3e\x3cspan data-span\x3d" '+prevPageNumber+'" class\x3d"prev1 each-page"\x3e'+I18n.get("common-pager-page-view",
[prevPage])+"\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e")}for(var i=firstPageNumber;i<lastPageNumber;i++){if(i==pageNumber)this.$(".page-list").append('\x3cli\x3e\x3cspan\x3e\x3cspan class\x3d"offscreen each-page" data-span\x3d"'+i+'"\x3e'+I18n.get("common-pager-page-current")+"\x26nbsp;\x3c/span\x3e"+i+"\x3c/span\x3e\x3c/li\x3e");else this.$(".page-list").append('\x3cli\x3e\x3ca href\x3d"#'+i+'"\x3e\x3cspan class\x3d"each-page" data-span\x3d"'+i+'"\x3e\x3cspan class\x3d"offscreen"\x3e'+I18n.get("common-pager-page-view",
" ")+"\x26nbsp;\x3c/span\x3e\x3cspan\x3e"+i+"\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e");if(i>totalPageCount-1)break}if(pageGroupNumber!=pageGroupCount){var nextPage=I18n.get("common-pager-page-next",[this.options.pageCountPerPageGroup]);var lastPage=I18n.get("common-pager-page-last");this.$(".page-list").append('\x3cli\x3e\x3ca href\x3d"#'+lastPageNumber+'"\x3e\x3cspan data-span\x3d"'+lastPageNumber+'" class\x3d"next1 each-page"\x3e'+I18n.get("common-pager-page-view",[nextPage])+"\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e");
this.$(".page-list").append('\x3cli\x3e\x3ca href\x3d"#'+totalPageCount+'"\x3e\x3cspan data-span\x3d"'+totalPageCount+'" class\x3d"next10 each-page"\x3e'+I18n.get("common-pager-page-view",[lastPage])+"\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e")}this.$(".paging").append("\x3c/ul\x3e");this.$el.find(".paging a").on("click",_.bind(this.pageLinkClickHandler,this))},pageLinkClickHandler:function(e){e.preventDefault();this.options.currentPageNumber=$(e.currentTarget).find("span").attr("data-span");this.drawPage(this.options.currentPageNumber);
$(document).trigger("pageChange",[this.options.currentPageNumber,this.options.eventId])}});koreanair.Utility=koreanair.Utility||{};koreanair.Utility.PagerView=PagerView})(jQuery,_,Backbone,koreanair,Granite.I18n,koreanair.ServiceApi,Handlebars.templates);
(function($,koreanair){koreanair.accordion={initAccordion:function($elem){$elem.find(".accordion-show-all").on("click",function(){$elem.find(".accordion-li").each(function(){koreanair.accordion.openAccordionItem($(this))})});$elem.find(".accordion-hide-all").on("click",function(){$elem.find(".accordion-li").each(function(){koreanair.accordion.closeAccordionItem($(this),false)})});$elem.find(".accordion-li").each(function(idx){$(this).find(".accordion-head").on("click",function(){if($(this).closest(".accordion-li").hasClass("on"))koreanair.accordion.closeAccordionItem($(this).closest(".accordion-li"),
true);else koreanair.accordion.openAccordionItem($(this).closest(".accordion-li"))});$(this).find(".accordion-close").on("click",function(){koreanair.accordion.closeAccordionItem($(this).closest(".accordion-li"),true)});koreanair.accordion.closeAccordionItem($(this),false)})},openAccordionItem:function($accordionLi){$accordionLi.addClass("on");$accordionLi.find(".accordion-head").attr("aria-expanded",true);$accordionLi.find(".accordion-panel").show()},closeAccordionItem:function($accordionLi,moveFocus){$accordionLi.removeClass("on");
$accordionLi.find(".accordion-panel").hide();$accordionLi.find(".accordion-head").attr("aria-expanded",false);if(moveFocus)$accordionLi.find(".accordion-head").focus()}}})(jQuery,koreanair);
(function($,_,moment,Backbone,Epoxy,koreanair,CalendarUtil){var BaseModel=koreanair.Model.extend({defaults:{isMulti:false,isBackward:false,dateFormatString:"MM.DD",minDate:"0",maxDate:"+361d",monthNames:koreanair.Booking.CALENDAR_MONTHS,dayNamesMin:koreanair.Booking.CALENDAR_DAY_ABBREVIATIONS,calendarDates:[]}});CalendarUtil.BaseModel=BaseModel})(jQuery,_,moment,Backbone,Backbone.Epoxy,koreanair,koreanair.CalendarUtil);
(function(_,$,Backbone,Templates,koreanair,CalendarUtil,moment,I18n){var preservedCalendar="";var openClick=false;var CalendarUtilBaseView=Backbone.View.extend({el:".dateSelector-sh",events:{"blur .dateInput-sh":"calendarInputBlurred","click .dateSelectorButton-sh":"dateCalendarClicked","click .dateInput-sh":"dateCalendarClicked"},render:function(){return this},initialize:function(){_.bindAll(this)},updateCalendarInputs:function(){this.model.set("calendarDates",[]);var dateInputs=this.$el.find(".dateInput-sh");
var dateLabel="";dateInputs.removeClass("beenUsed");if(this.model.get("isMulti")){dateLabel=Granite.I18n.get("depart-return-label-double");this.$el.find(".calendarContainer-sh").removeClass("singleDate")}else{dateLabel=Granite.I18n.get("depart-return-label-single");this.$el.find(".calendarContainer-sh").addClass("singleDate")}dateInputs.val("");dateInputs.attr("placeholder",dateLabel);this.dateDefault=dateLabel},focusInput:function(focusedField,defaultValue){if(focusedField.val()===defaultValue){focusedField.val("");
focusedField.addClass("beenUsed")}},blurInput:function(blurredField,defaultValue){if(blurredField.val()===""){blurredField.val(defaultValue);blurredField.removeClass("beenUsed")}else blurredField.addClass("beenUsed")},calendarInputBlurred:function(e){if($(e.currentTarget).val()===this.dateDefault)return;if(this.model.get("isMulti"))this.setRoundTripDate();else this.setOnewayTripDate();this.blurInput($(e.currentTarget),this.dateDefault)},setOnewayTripDate:function(){var dateInput=$(".dateSelector-sh input").val();
var departureDate=moment(dateInput,"MM.DD");if(!departureDate.isValid()||dateInput.match(/[a-zA-Z]/g))return;if(this.model.get("isBackward")==false)if(departureDate.isBefore(moment().startOf("day")))departureDate.add("years",1);this.model.get("calendarDates")[0]=departureDate.toDate()},setRoundTripDate:function(){var dateInput=$(".dateSelector-sh input").val();var spaceIndex=dateInput.indexOf(" - ");if(spaceIndex===-1||dateInput.match(/[a-zA-Z]/g))return;var startDate=moment.utc(dateInput.substring(0,
spaceIndex),"MM.DD").startOf("day");var endDate=moment.utc(dateInput.substring(spaceIndex+3),"MM.DD").startOf("day");if(!startDate.isValid()||!endDate.isValid())return;if(endDate.isBefore(startDate))return;if(this.model.get("isBackward")==false){if(startDate.isBefore(moment().startOf("day")))startDate.add("years",1);if(endDate.isBefore(moment().startOf("day")))endDate.add("years",1)}this.model.get("calendarDates")[0]=startDate.toDate();this.model.get("calendarDates")[1]=endDate.toDate()},getCalendarDateString:function(firstDate,
secondDate){return firstDate.getMonth()+1+"."+firstDate.getDate()+" - "+(secondDate.getMonth()+1)+"."+secondDate.getDate()},dateCalendarClicked:function(e){e.stopPropagation();e.preventDefault();var dateSelector=$(e.currentTarget).closest(".dateSelector-sh"),localDateInput=dateSelector.find("input");this.focusInput(localDateInput,this.dateDefault);this.currentCalendarContainer=$(".calendarContainer-sh");this.currentCalendarContainer.html("").datepicker("destroy");var calendarIndex=0;if(this.model.get("calendarDates")[calendarIndex]===
null)this.currentCalendarContainer.datepicker({numberOfMonths:2,minDate:this.model.get("minDate"),maxDate:this.model.get("maxDate"),nextText:"",prevText:"",showOn:"both",showMonthAfterYear:true,monthNames:koreanair.Booking.CALENDAR_MONTHS,dayNamesMin:koreanair.Booking.CALENDAR_DAY_ABBREVIATIONS,onSelect:_.bind(this.activateCalendarListeners,this)});else{var defaultDateValue=moment(this.model.get("calendarDates")[calendarIndex]).toDate();this.currentCalendarContainer.datepicker({numberOfMonths:2,minDate:this.model.get("minDate"),
maxDate:this.model.get("maxDate"),nextText:"",prevText:"",showOn:"both",showMonthAfterYear:true,monthNames:koreanair.Booking.CALENDAR_MONTHS,dayNamesMin:koreanair.Booking.CALENDAR_DAY_ABBREVIATIONS,onSelect:_.bind(this.activateCalendarListeners,this)})}this.currentCalendarContainer.fadeIn("fast",_.bind(function(){$(document).on("click",".dateSelectorButton-sh",_.bind(function(eV){if(eV.currentTarget!==$(".ui-datepicker-prev")&&eV.currentTarget!==$(".ui-datepicker-next")){eV.preventDefault();this.blurInput(localDateInput,
this.dateDefault);this.currentCalendarContainer.fadeOut();$(document).off("click");this.currentCalendarContainer.off("mouseenter mouseleave")}},this));this.currentCalendarContainer.on("click",function(e){e.stopPropagation();return false});openClick=false},this))},activateCalendarListeners:function(clickedDate,calendarInstance){var localDateInput=$(".dateSelector-sh input");var calendarDates=this.model.get("calendarDates");if(this.model.get("isMulti")){if(openClick){var lastClickedDate=new Date(clickedDate);
calendarDates[1]=lastClickedDate;if(lastClickedDate<calendarDates[0]){localDateInput.val(this.getCalendarDateString(lastClickedDate,calendarDates[0]));calendarDates[1]=calendarDates[0];calendarDates[0]=lastClickedDate}else localDateInput.val(this.getCalendarDateString(calendarDates[0],lastClickedDate));openClick=false;this.blurInput(localDateInput,this.dateDefault);preservedCalendar=this.currentCalendarContainer.html();this.closeCalendar();this.setRoundTripDate();return}else{var firstClickedDate=
new Date(clickedDate);localDateInput.val(firstClickedDate.getMonth()+1+"."+firstClickedDate.getDate()+" - ")}this.calendarMultipleSelectFunctions();openClick=true;this.model.get("calendarDates")[0]=new Date(clickedDate);$(".calendarContainer-sh .highlight:last").addClass("left")}else{$(".ui-state-active").addClass("selectedDay");var clickedDateObject=new Date(clickedDate);var calendarIndex=this.$el.find($("#"+calendarInstance.id).parent()).index();this.model.get("calendarDates")[calendarIndex]=clickedDateObject;
localDateInput.val(clickedDateObject.getMonth()+1+"."+clickedDateObject.getDate());preservedCalendar=this.currentCalendarContainer.html();this.closeCalendar();openClick=false;this.blurInput(localDateInput,this.dateDefault);this.setOnewayTripDate();return}},closeCalendar:function(){this.currentCalendarContainer.html(preservedCalendar);this.currentCalendarContainer.delay(250).fadeOut();$(document).off("click",".dateSelectorButton-sh");this.currentCalendarContainer.off("mouseenter mouseleave");this.currentCalendarContainer=
null},calendarMultipleSelectFunctions:function(){$(".calendarContainer-sh").on("mouseenter mouseleave","tbody a",function(e){var selectedDate=$(".calendarContainer-sh").datepicker("getDate");var hoveredDate=new Date($(this).parent().attr("data-year")+"-"+(Number($(this).parent().attr("data-month"))+1)+"-"+$(this).text());$(".calendarContainer-sh a.ui-state-default").each(function(index){var thisDate=new Date($(this).parent().attr("data-year")+"-"+(Number($(this).parent().attr("data-month"))+1)+"-"+
$(this).text());if(selectedDate<hoveredDate)if(thisDate>=selectedDate&&thisDate<=hoveredDate)$(this).addClass("highlight");else $(this).removeClass("highlight");else if(thisDate<=selectedDate&&thisDate>=hoveredDate)$(this).addClass("highlight");else $(this).removeClass("highlight")});if(hoveredDate>selectedDate){$(".ui-state-active").removeClass("left").addClass("right");if(!$(this).hasClass("ui-state-active"))if(e.type==="mouseenter")$(this).addClass("left highlight");else $(this).removeClass("left highlight")}else{$(".ui-state-active").removeClass("right").addClass("left");
if(!$(this).hasClass("ui-state-active"))if(e.type==="mouseenter")$(this).addClass("right highlight");else $(this).removeClass("right highlight")}preservedCalendar=$(".calendarContainer-sh").html()})},mapCalendarDateSpan:function(){$(".calendarContainer-sh a.ui-state-default").each(function(index){var thisDate=new Date($(this).parent().attr("data-year")+"-"+(Number($(this).parent().attr("data-month"))+1)+"-"+$(this).text());var calendarDates=this.model.get("calendarDates");if(calendarDates[0]<calendarDates[1])if(thisDate>=
calendarDates[0]&&thisDate<=calendarDates[1])$(this).addClass("highlight");else $(this).removeClass("right highlight");else if(thisDate<=calendarDates[0]&&thisDate>=calendarDates[1])$(this).addClass("highlight");else $(this).removeClass("right highlight");var firstDate=thisDate;var secondDate=calendarDates[1];if(moment(firstDate).isSame(secondDate,"day")){if(calendarDates[1]>calendarDates[0])$("this").removeClass("right").addClass("left");else $("this").removeClass("left").addClass("right");$(this).addClass("highlight")}});
$(".ui-state-active").addClass("highlight");if(calendarDates[1]>calendarDates[0]){$(".ui-state-active").removeClass("left").addClass("right");var $lastHighlight=$(".calendarContainer-sh .highlight:last"),$lastHightCalendar=$lastHighlight.parent(),lastDay=$lastHighlight.text(),lastMonth=$lastHightCalendar.data("month")+1,lastYear=$lastHightCalendar.data("year");if(moment(calendarDates[1]).isSame(lastYear+"-"+lastMonth+"-"+lastDay))$(".calendarContainer-sh .highlight:last").removeClass("right").addClass("left ui-state-active")}else if(!_.isEmpty(calendarDates)){$(".ui-state-active").removeClass("right").addClass("left");
$(".calendarContainer-sh .highlight:first").removeClass("left").addClass("right ui-state-active")}else $(".ui-state-active").removeClass("right left")}});CalendarUtil.BaseView=CalendarUtilBaseView})(_,jQuery,Backbone,Handlebars.templates,koreanair,koreanair.CalendarUtil,moment,Granite.I18n);
(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["from-to-airport-dropdown"]=template(function(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,"\x3e\x3d 1.0.0"];helpers=this.merge(helpers,Handlebars.helpers);data=data||{};var stack1,functionType="function",escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1,helper;buffer+='\x3cli\x3e\x3ca href\x3d"#"\x3e';if(helper=helpers.name)stack1=
helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.name;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'\x3c/a\x3e\x3cul class\x3d"second-level-menu"\x3e';stack1=helpers.each.call(depth0,depth0&&depth0.airports,{hash:{},inverse:self.noop,fn:self.program(2,program2,data),data:data});if(stack1||stack1===0)buffer+=stack1;buffer+="\x3c/ul\x3e\x3c/li\x3e";return buffer}function program2(depth0,data){var buffer="",stack1,
helper;buffer+='\x3cli\x3e\x3ca href\x3d"#" data-option\x3d"';if(helper=helpers.code)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.code;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+'"\x3e';if(helper=helpers.name)stack1=helper.call(depth0,{hash:{},data:data});else{helper=depth0&&depth0.name;stack1=typeof helper===functionType?helper.call(depth0,{hash:{},data:data}):helper}buffer+=escapeExpression(stack1)+
"\x3c/a\x3e\x3c/li\x3e";return buffer}stack1=helpers.each.call(depth0,depth0&&depth0.regions,{hash:{},inverse:self.noop,fn:self.program(1,program1,data),data:data});if(stack1||stack1===0)return stack1;else return""})})();
(function(_,$,Backbone,Templates,koreanair,FromToSelector,Airports,$B){FromToSelector.CustomForms={findFlyouts:function(obj){if($(obj).is("ul.flyout"))return $(obj);else return $(obj).find("ul.flyout")},bindFlyouts:function(obj,optionClickFunction,onLeft){var $flyouts=this.findFlyouts(obj);$flyouts.each(function(){var $this=$(this);var max=$this.attr("data-max")||5;var min=0,$firstOptions=$this.children("li").not(".flyoutUp, .flyoutDown");$firstOptions.slice(max).css("display","none");$this.prepend('\x3cli class\x3d"flyoutUp"\x3e\x3c/li\x3e');
$this.append('\x3cli class\x3d"flyoutDown"\x3e\x3c/li\x3e');var $up=$this.children(".flyoutUp"),$down=$this.children(".flyoutDown");$up.on("click",function(){var $visible=$this.children("li:visible").not(".flyoutUp, .flyoutDown"),$options=$this.children("li").not(".flyoutUp, .flyoutDown");if($visible.first().index()-1>min){$options.eq($visible.first().index()-2).show();$visible.last().hide()}$("style#flyoutUp").remove();if($visible.first().index()===min+1)$("head").append('\x3cstyle id\x3d"flyoutUp"\x3e.flyoutUp:before { color:#a6a4a5 }\x3c/style\x3e');
else $("head").append('\x3cstyle id\x3d"flyoutUp"\x3e.flyoutUp:before { color:#1f8caa }\x3c/style\x3e')});$down.on("click",function(){var $visible=$this.children("li:visible").not(".flyoutUp, .flyoutDown"),$options=$this.children("li").not(".flyoutUp, .flyoutDown"),$optionsLen=$this.children("li").not(".flyoutUp, .flyoutDown").length;if($visible.last().index()<$optionsLen){$options.eq($visible.last().index()).show();$visible.first().hide()}$("style#flyoutDown").remove();if($visible.last().index()>
$optionsLen)$("head").append('\x3cstyle id\x3d"flyoutDown"\x3e.flyoutDown:before { color:#a6a4a5 }\x3c/style\x3e');else $("head").append('\x3cstyle id\x3d"flyoutDown"\x3e.flyoutDown:before { color:#1f8caa }\x3c/style\x3e')});var $label=$($this.closest("li").find($this.attr("data-label"))),$target=$($this.closest("li").find($this.attr("data-target"))),$options=$this.find("[data-option]"),$regions=$this.children("li").not(".flyoutUp, .flyoutDown"),$allSteps=$this.find("li"),$allParts=$this.find("*"),
$list=$this;$allParts.attr("tabindex","-1");$this.parent().css("position","relative");$allParts.on("click",function(e){e.stopPropagation();e.preventDefault()});$("html.no-touch").find($regions).hover(function(e){var $this=$(e.target),$apList=$this.closest("li").find(".second-level-menu");$apList.css({"top":"0","bottom":"auto"});if($.inViewport($apList)<1)$apList.css({"top":"auto","bottom":"0"})});$target.on("click",function(e){e.stopPropagation();e.preventDefault();$("ul.flyout").not($this).css("display",
"none");$this.toggle();$this.css({"top":"38px","bottom":"initial"});if($.inViewport($this)<1)$this.css({"top":"initial","bottom":"38px"});FromToSelector.CustomForms.sizeFlyouts($this,onLeft)});$("html.touch").find($list).find("a").on("click",function(e){var $targ=$(e.currentTarget);var $targParent=$targ.closest("li");if($targ.siblings("ul").length){e.preventDefault();$list.find(".touch-active").not($targParent).removeClass("touch-active");$targParent.toggleClass("touch-active")}});$options.on("click",
function(e){$label.addClass("beenUsed");$label.val($(this).text());$label.focus();$this.hide();optionClickFunction(e)});$(document).on("click",function(){$("ul.flyout").hide();$(".touch-active").removeClass("touch-active")});function debouncer(func,timeout){var timeoutID;timeout=timeout||200;return function(){var scope=this,args=arguments;clearTimeout(timeoutID);timeoutID=setTimeout(function(){func.apply(scope,Array.prototype.slice.call(args))},timeout)}}FromToSelector.CustomForms.sizeFlyouts($this,
onLeft);$(window).resize(debouncer(function(e){FromToSelector.CustomForms.sizeFlyouts($this,onLeft)}))})},sizeFlyouts:function($this,onLeft){var $equiv=$this.closest(".flight-select-third"),eqW=$equiv.outerWidth()-1,left=-Math.round(parseFloat($equiv.css("paddingLeft"))),arrowBefore=eqW-10,arrowAfter=eqW-40;$this.css({"left":left,"width":eqW});var $subMenu=$equiv.find(".second-level-menu");if(onLeft)$subMenu.css({"left":$B.ua.DOC_MODE===9?-eqW+17:-eqW,"width":eqW});else $subMenu.css({"left":eqW,"width":eqW});
$("style.flyoutArrow").remove();$("head").append('\x3cstyle class\x3d"flyoutArrow"\x3e.flyout \x3e li:hover:before { left: '+arrowBefore+"px }\x3c/style\x3e");$("head").append('\x3cstyle class\x3d"flyoutArrow"\x3e.flyout \x3e li:hover:after { left: '+arrowAfter+"px }\x3c/style\x3e")}};var FromToSelectorBaseView=Backbone.View.extend({events:{"focus .fromInput-sh":"onInputFocus","focus .toInput-sh":"onInputFocus","blur .fromInput-sh":"onInputBlur","blur .toInput-sh":"onInputBlur"},render:function(){var origins=
Airports.getOrigins("revenue");var originsEng=Airports.getEngOrigins("revenue");var destinations=Airports.getDestinations("revenue");var destinationsEng=Airports.getEngDestinations("revenue");$.when(origins,originsEng).done(this.fromAirportsDataReceived);$.when(destinations,destinationsEng).done(this.toAirportsDataReceived);Airports.getOriginsByRegion("revenue",this.updateFromAirports);Airports.getDestinationsByRegion("revenue",this.updateToAirports)},initialize:function(){_.bindAll(this);if(this.options.showFlyoutOnLeft)this.flyoutOnLeft=
true;else this.flyoutOnLeft=false;if(this.options.fromToContainerId!=undefined&&this.options.fromToContainerId!="")this.$fromToContainer=$(this.options.fromToContainerId);else this.$fromToContainer=$(document)},buildUpAutoComplete:function(airportList,airportListEng,target,appendToTarget,isFromToPopup){airportList=Airports.sortedFavoriteAirports(airportList,["ICN","GMP"]);if(koreanair.Language!="en-us")airportList=airportList.concat(airportListEng);airportList=_.filter(airportList,function(context){if(context&&
context.online==true)return true;else return false});var pluckedNameArray=_.pluck(airportList,"name");var pluckedCodeArray=_.pluck(airportList,"code");var combinedAirportArray=_.map(pluckedNameArray,function(pluckedname,index){return{"label":pluckedNameArray[index],"value":pluckedCodeArray[index]}});target.autocomplete({source:function(request,response){var searchResults=[],searchTerm=$.ui.autocomplete.escapeRegex(request.term),startsWithMatcher=new RegExp("^"+searchTerm+"|/"+searchTerm,"i");var airportCodeStartsWith=
$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&startsWithMatcher.test(airport.value)});searchResults=searchResults.concat(airportCodeStartsWith);var airportNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&startsWithMatcher.test(airport.label)});var sortedAirportNameStartsWithAndContains=_.sortBy(airportNameStartsWith,"sort");searchResults=searchResults.concat(sortedAirportNameStartsWithAndContains);response(searchResults)},
autoFocus:true,position:{my:"left top",at:"left bottom",collision:"flipfit"},select:_.bind(function(event,ui){this.updateBoundsFromAutoFill(event,ui)},this)})},getAirportName:function(airportCode,targetInput){return this.$fromToContainer.find('.flyout [data-option\x3d"'+airportCode+'"]:first')},fromAirportsDataReceived:function(airportListResult,airportListEngResult){var airportList=airportListResult[0];var airportListEng=airportListEngResult[0];this.buildUpAutoComplete(airportList,airportListEng,
this.$fromToContainer.find(".fromInput-sh"),this.$fromToContainer.find(".fromInput-sh").closest("li"),"from")},toAirportsDataReceived:function(airportListResult,airportListEngResult){var airportList=airportListResult[0];var airportListEng=airportListEngResult[0];this.buildUpAutoComplete(airportList,airportListEng,this.$fromToContainer.find(".toInput-sh"),this.$fromToContainer.find(".toInput-sh").closest("li"),"to")},updateFromAirports:function(airports){_.each(airports,function(elem,index){elem.airports=
_.filter(elem.airports,function(context){if(context.online==true)return true;else return false})});this.updateAirportsDropdown(this.$fromToContainer.find(".fromSelector-sh"),this.$fromToContainer.find(".fromFlyout-sh"),_.sortBy(airports,"name"),false);this.updateAirportInputs(this.$fromToContainer.find(".fromInput-sh"))},updateAutofillAirports:function(target,airportList){var pluckedNameArray=_.pluck(airportList,"name");var pluckedCodeArray=_.pluck(airportList,"code");var combinedAirportArray=[];
for(var i=0;i<pluckedNameArray.length;i++)combinedAirportArray.push({"label":pluckedNameArray[i],"value":pluckedCodeArray[i]});target.autocomplete({source:function(request,response){var searchResults=[],searchTerm=$.ui.autocomplete.escapeRegex(request.term),startsWithMatcher=new RegExp("^"+searchTerm+"|/"+searchTerm,"i");var airportCodeStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&startsWithMatcher.test(airport.value)});searchResults=searchResults.concat(airportCodeStartsWith);
var airportNameStartsWith=$.grep(combinedAirportArray,function(airport){return $.inArray(airport,searchResults)<0&&startsWithMatcher.test(airport.label)});var sortedAirportNameStartsWithAndContains=_.sortBy(airportNameStartsWith,"sort");searchResults=searchResults.concat(sortedAirportNameStartsWithAndContains);response(searchResults)},autoFocus:true,position:{my:"left top",at:"left bottom",collision:"flipfit"},select:_.bind(function(event,ui){this.updateBoundsFromAutoFill(event,ui)},this)})},updateToAirports:function(airports){_.each(airports,
function(elem,index){elem.airports=_.filter(elem.airports,function(context){if(context.online==true)return true;else return false})});this.updateAirportsDropdown(this.$fromToContainer.find(".toSelector-sh"),this.$fromToContainer.find(".toFlyout-sh"),_.sortBy(airports,"name"),this.flyoutOnLeft);this.updateAirportInputs(this.$fromToContainer.find(".toInput-sh"))},updateAirportInputs:function(selector){if(!selector.attr("data-label")){var $fromInput=this.$fromToContainer.find(".fromInput-sh"),$fromOption=
this.getAirportName($fromInput.attr("data-option")),fromLabel=$fromOption.text(),fromCode=$fromOption.attr("data-option"),$toInput=$(".toInput-sh"),$toOption=this.getAirportName($toInput.attr("data-option")),toLabel=$toOption.text(),toCode=$toOption.attr("data-option");$fromInput.attr("data-label",fromLabel);$toInput.attr("data-label",toLabel);$fromInput.attr("data-option",fromCode);$toInput.attr("data-option",toCode)}},updateAirportsDropdown:function($target,$flyout,regions,onLeft){var html=Templates["from-to-airport-dropdown"]({regions:Airports.sortedDropdownAirports(regions)});
$flyout.html(html);FromToSelector.CustomForms.bindFlyouts($target,this.updateBoundsFromDropdown,onLeft)},onInputFocus:function(e){var $targetInput=$(e.currentTarget),isFromInput=$targetInput.hasClass("fromInput-sh"),defaultValue=isFromInput?this.fromDefault:this.toDefault;this.focusInput($targetInput,defaultValue);$targetInput.addClass("beenUsed")},focusInput:function(focusedField,defaultValue){if(focusedField.val()===defaultValue){focusedField.val("");focusedField.addClass("beenUsed")}},blurInput:function(blurredField,
defaultValue){if(blurredField.val()===""){blurredField.val(defaultValue);blurredField.removeClass("beenUsed")}else blurredField.addClass("beenUsed")},updateBoundsFromAutoFill:function(event,ui){event.preventDefault();var $targetOption=$(event.target),airportCode=ui.item.value,aiportLabel=ui.item.label,$targetInput=$targetOption.closest(".autoFillHolder").find("input:first");$targetInput.attr("data-option",airportCode);$targetInput.attr("data-label",aiportLabel);$targetInput.val(aiportLabel)},updateBoundsFromDropdown:function(event){var $targetOption=
$(event.target),airportCode=$targetOption.attr("data-option"),aiportLabel=$targetOption.text(),$targetInput=$targetOption.closest(".autoFillHolder").find("input:first");$targetInput.attr("data-option",airportCode);$targetInput.attr("data-label",aiportLabel)},getFromAirportCode:function(){return this.$fromToContainer.find(".fromInput-sh").attr("data-option")},getToAirportCode:function(){return this.$fromToContainer.find(".toInput-sh").attr("data-option")}});FromToSelector.BaseView=FromToSelectorBaseView})(_,
jQuery,Backbone,Handlebars.templates,koreanair,koreanair.FromToSelector,koreanair.Airports,ixBand);
(function($,koreanair){var modeUrl="/api/admin/mode";function Mode(){this.init.apply(this,arguments)}$.extend(Mode.prototype,{init:function(){var $wrapper=$("div.ibesession");var $elem=$("#ibeMode");var $form=$elem.find("form");var $val=$elem.find(".val");var $options=$form.find("input[name\x3dmode]");var $input=$form.find("input[name\x3dother]");var self=this;$("#utilitySearchButton").click(function(e){e.preventDefault();$wrapper.toggle()});$val.click(function(e){e.preventDefault();self.edit()});
$form.submit(function(e){var mode;e.preventDefault();mode=self.val();if(!mode)return;self.update(mode)});$options.click(function(){var $this=$(this);var mode=$this.val();if(mode)self.update(mode);else $input.focus()});$input.focus(function(){$options.filter('[value\x3d""]').attr("checked",true)});$form.find("button[type\x3dreset]").click(function(e){e.preventDefault();self.val(self.$val.html());self.view()});this.$elem=$elem;this.$val=$val;this.$form=$form;this.$options=$options;this.$input=$input},
resolve:function(promise){var self=this;this.$val.html("...");promise.done(function(mode){self.val(mode)})},edit:function(){this.$elem.addClass("edit")},view:function(){this.$elem.removeClass("edit")},update:function(mode){this.resolve(koreanair.ServiceApi.post(modeUrl+"/"+mode,{dataType:"html"}));this.view()},val:function(value){var val,$selected;if(arguments.length===0){val=this.$options.filter(":checked").val();if(!val)val=this.$input.val();return val}$selected=this.$options.filter('[value\x3d"'+
value+'"]');if($selected.length===0){$selected=this.$options.filter('[value\x3d""]');this.$input.val(value)}$selected.attr("checked",true);this.$val.html(value);return value}});var isEditMode=!!(CQ.Ext&&CQ.WCM&&CQ.WCM.getMode()==CQ.WCM.MODE_EDIT);if(!isEditMode){var retrieveMode=$.Deferred().resolve("SUU");$(document).ready(function(){(new Mode).resolve(retrieveMode)})}})(jQuery,koreanair);
function cleanXSS(keyword){keyword=keyword.replace(/\"/g,"");keyword=keyword.replace(/\'/g,"");keyword=keyword.replace(/\</g,"");keyword=keyword.replace(/\>/g,"");keyword=keyword.replace(/\(/g,"");keyword=keyword.replace(/\)/g,"");keyword=keyword.replace(/\;/g,"");return keyword}function cleanImmXSS(keyword){keyword=keyword.replace(/\"/g,"");keyword=keyword.replace(/\'/g,"");keyword=keyword.replace(/\</g,"");keyword=keyword.replace(/\>/g,"");keyword=keyword.replace(/\;/g,"");return keyword};
